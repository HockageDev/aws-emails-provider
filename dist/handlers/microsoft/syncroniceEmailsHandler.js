var XW=Object.create;var Al=Object.defineProperty;var ZW=Object.getOwnPropertyDescriptor;var e4=Object.getOwnPropertyNames;var t4=Object.getPrototypeOf,r4=Object.prototype.hasOwnProperty;var v=(t,e)=>()=>(t&&(e=t(t=0)),e);var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),At=(t,e)=>{for(var r in e)Al(t,r,{get:e[r],enumerable:!0})},nT=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of e4(e))!r4.call(t,o)&&o!==r&&Al(t,o,{get:()=>e[o],enumerable:!(n=ZW(e,o))||n.enumerable});return t};var ae=(t,e,r)=>(r=t!=null?XW(t4(t)):{},nT(e||!t||!t.__esModule?Al(r,"default",{value:t,enumerable:!0}):r,t)),M=t=>nT(Al({},"__esModule",{value:!0}),t);var Jn,Il=v(()=>{"use strict";Jn=class{static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,realm:o.realm,local_account_id:o.localAccountId,username:o.username,authority_type:o.authorityType,name:o.name,client_info:o.clientInfo,last_modification_time:o.lastModificationTime,last_modification_app:o.lastModificationApp,tenantProfiles:o.tenantProfiles?.map(i=>JSON.stringify(i))}}),r}static serializeIdTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,realm:o.realm}}),r}static serializeAccessTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,realm:o.realm,target:o.target,cached_at:o.cachedAt,expires_on:o.expiresOn,extended_expires_on:o.extendedExpiresOn,refresh_on:o.refreshOn,key_id:o.keyId,token_type:o.tokenType,requestedClaims:o.requestedClaims,requestedClaimsHash:o.requestedClaimsHash,userAssertionHash:o.userAssertionHash}}),r}static serializeRefreshTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,family_id:o.familyId,target:o.target,realm:o.realm}}),r}static serializeAppMetadata(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={client_id:o.clientId,environment:o.environment,family_id:o.familyId}}),r}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}}});var A,he,jt,hg,tt,Qt,ds,zr,ls,oT,ln,Yt,us,Ke,de,rc,iT,Xn,ps,Ot,ct,ie,un,bl,Rl,nc,ii,wl,be,oc,Re=v(()=>{"use strict";A={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},he={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},jt=[A.OPENID_SCOPE,A.PROFILE_SCOPE,A.OFFLINE_ACCESS_SCOPE],hg=[...jt,A.EMAIL_SCOPE],tt={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Qt={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},ds={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},zr={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},ls={PLAIN:"plain",S256:"S256"},oT={QUERY:"query",FRAGMENT:"fragment"},ln={...oT,FORM_POST:"form_post"},Yt={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},us={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Ke={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},de={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},rc="appmetadata",iT="client_info",Xn="1",ps={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Ot={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},ct={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},ie={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},un={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},bl={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Rl={username:"username",password:"password"},nc={httpSuccess:200,httpBadRequest:400},ii={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},wl={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},be={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},oc=300});var ms={};At(ms,{postRequestFailed:()=>sc,unexpectedError:()=>ic});var ic,sc,fg=v(()=>{"use strict";ic="unexpected_error",sc="post_request_failed"});function yg(t,e){return new te(t,e?`${Pl[t]} ${e}`:Pl[t])}var Pl,gg,te,pn=v(()=>{"use strict";Re();fg();Pl={[ic]:"Unexpected error in authentication.",[sc]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},gg={unexpectedError:{code:ic,desc:Pl[ic]},postRequestFailed:{code:sc,desc:Pl[sc]}},te=class t extends Error{constructor(e,r,n){let o=r?`${e}: ${r}`:e;super(o),Object.setPrototypeOf(this,t.prototype),this.errorCode=e||A.EMPTY_STRING,this.errorMessage=r||A.EMPTY_STRING,this.subError=n||A.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}});var Ce={};At(Ce,{authTimeNotFound:()=>mn,authorizationCodeMissingFromServerResponse:()=>Ei,bindingKeyNotRemoved:()=>Ci,cannotAppendScopeSet:()=>yi,cannotRemoveEmptyScope:()=>gi,clientInfoDecodingError:()=>Zn,clientInfoEmptyError:()=>si,deviceCodeExpired:()=>lc,deviceCodePollingCancelled:()=>dc,deviceCodeUnknownError:()=>uc,emptyInputScopeSet:()=>ro,endSessionEndpointNotSupported:()=>Si,endpointResolutionError:()=>xt,hashNotDeserialized:()=>li,invalidAssertion:()=>hc,invalidCacheEnvironment:()=>fn,invalidCacheRecord:()=>_i,invalidClientCredential:()=>fc,invalidState:()=>Dr,keyIdMissing:()=>Ti,maxAgeTranspired:()=>mi,methodNotImplemented:()=>J,missingTenantIdError:()=>vc,multipleMatchingAccounts:()=>cc,multipleMatchingAppMetadata:()=>hi,multipleMatchingTokens:()=>ac,nestedAppAuthBridgeDisabled:()=>Ec,networkError:()=>ci,noAccountFound:()=>pc,noAccountInSilentRequest:()=>hn,noCryptoObject:()=>no,noNetworkConnectivity:()=>yc,nonceMismatch:()=>pi,nullOrEmptyToken:()=>ai,openIdConfigError:()=>di,requestCannotBeMade:()=>fi,stateMismatch:()=>ui,stateNotFound:()=>to,tokenClaimsCnfRequiredForSignedJwt:()=>vi,tokenParsingError:()=>eo,tokenRefreshRequired:()=>Vr,unexpectedCredentialType:()=>mc,userCanceled:()=>_c,userTimeoutReached:()=>gc});var Zn,si,eo,ai,xt,ci,di,li,Dr,ui,to,pi,mn,mi,ac,cc,hi,fi,gi,yi,ro,dc,lc,uc,hn,_i,fn,pc,no,mc,hc,fc,Vr,gc,vi,Ei,Ci,Si,Ti,yc,_c,vc,J,Ec,rt=v(()=>{"use strict";Zn="client_info_decoding_error",si="client_info_empty_error",eo="token_parsing_error",ai="null_or_empty_token",xt="endpoints_resolution_error",ci="network_error",di="openid_config_error",li="hash_not_deserialized",Dr="invalid_state",ui="state_mismatch",to="state_not_found",pi="nonce_mismatch",mn="auth_time_not_found",mi="max_age_transpired",ac="multiple_matching_tokens",cc="multiple_matching_accounts",hi="multiple_matching_appMetadata",fi="request_cannot_be_made",gi="cannot_remove_empty_scope",yi="cannot_append_scopeset",ro="empty_input_scopeset",dc="device_code_polling_cancelled",lc="device_code_expired",uc="device_code_unknown_error",hn="no_account_in_silent_request",_i="invalid_cache_record",fn="invalid_cache_environment",pc="no_account_found",no="no_crypto_object",mc="unexpected_credential_type",hc="invalid_assertion",fc="invalid_client_credential",Vr="token_refresh_required",gc="user_timeout_reached",vi="token_claims_cnf_required_for_signedjwt",Ei="authorization_code_missing_from_server_response",Ci="binding_key_not_removed",Si="end_session_endpoint_not_supported",Ti="key_id_missing",yc="no_network_connectivity",_c="user_canceled",vc="missing_tenant_id_error",J="method_not_implemented",Ec="nested_app_auth_bridge_disabled"});function b(t,e){return new oo(t,e)}var Y,_g,oo,dt=v(()=>{"use strict";pn();rt();Y={[Zn]:"The client info could not be parsed/decoded correctly",[si]:"The client info was empty",[eo]:"Token cannot be parsed",[ai]:"The token is null or empty",[xt]:"Endpoints cannot be resolved",[ci]:"Network request failed",[di]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[li]:"The hash parameters could not be deserialized",[Dr]:"State was not the expected format",[ui]:"State mismatch error",[to]:"State not found",[pi]:"Nonce mismatch error",[mn]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[mi]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[ac]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[cc]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[hi]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[fi]:"Token request cannot be made without authorization code or refresh token.",[gi]:"Cannot remove null or empty scope from ScopeSet",[yi]:"Cannot append ScopeSet",[ro]:"Empty input ScopeSet cannot be processed",[dc]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[lc]:"Device code is expired.",[uc]:"Device code stopped polling for unknown reasons.",[hn]:"Please pass an account object, silent flow is not supported without account information",[_i]:"Cache record object was null or undefined.",[fn]:"Invalid environment when attempting to create cache entry",[pc]:"No account found in cache for given key.",[no]:"No crypto object detected.",[mc]:"Unexpected credential type.",[hc]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[fc]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Vr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[gc]:"User defined timeout for device code polling reached",[vi]:"Cannot generate a POP jwt if the token_claims are not populated",[Ei]:"Server response does not contain an authorization code to proceed",[Ci]:"Could not remove the credential's binding key from storage.",[Si]:"The provided authority does not support logout",[Ti]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[yc]:"No network connectivity. Check your internet connection.",[_c]:"User cancelled the flow.",[vc]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[J]:"This method has not been implemented",[Ec]:"The nested app auth bridge is disabled"},_g={clientInfoDecodingError:{code:Zn,desc:Y[Zn]},clientInfoEmptyError:{code:si,desc:Y[si]},tokenParsingError:{code:eo,desc:Y[eo]},nullOrEmptyToken:{code:ai,desc:Y[ai]},endpointResolutionError:{code:xt,desc:Y[xt]},networkError:{code:ci,desc:Y[ci]},unableToGetOpenidConfigError:{code:di,desc:Y[di]},hashNotDeserialized:{code:li,desc:Y[li]},invalidStateError:{code:Dr,desc:Y[Dr]},stateMismatchError:{code:ui,desc:Y[ui]},stateNotFoundError:{code:to,desc:Y[to]},nonceMismatchError:{code:pi,desc:Y[pi]},authTimeNotFoundError:{code:mn,desc:Y[mn]},maxAgeTranspired:{code:mi,desc:Y[mi]},multipleMatchingTokens:{code:ac,desc:Y[ac]},multipleMatchingAccounts:{code:cc,desc:Y[cc]},multipleMatchingAppMetadata:{code:hi,desc:Y[hi]},tokenRequestCannotBeMade:{code:fi,desc:Y[fi]},removeEmptyScopeError:{code:gi,desc:Y[gi]},appendScopeSetError:{code:yi,desc:Y[yi]},emptyInputScopeSetError:{code:ro,desc:Y[ro]},DeviceCodePollingCancelled:{code:dc,desc:Y[dc]},DeviceCodeExpired:{code:lc,desc:Y[lc]},DeviceCodeUnknownError:{code:uc,desc:Y[uc]},NoAccountInSilentRequest:{code:hn,desc:Y[hn]},invalidCacheRecord:{code:_i,desc:Y[_i]},invalidCacheEnvironment:{code:fn,desc:Y[fn]},noAccountFound:{code:pc,desc:Y[pc]},noCryptoObj:{code:no,desc:Y[no]},unexpectedCredentialType:{code:mc,desc:Y[mc]},invalidAssertion:{code:hc,desc:Y[hc]},invalidClientCredential:{code:fc,desc:Y[fc]},tokenRefreshRequired:{code:Vr,desc:Y[Vr]},userTimeoutReached:{code:gc,desc:Y[gc]},tokenClaimsRequired:{code:vi,desc:Y[vi]},noAuthorizationCodeFromServer:{code:Ei,desc:Y[Ei]},bindingKeyNotRemovedError:{code:Ci,desc:Y[Ci]},logoutNotSupported:{code:Si,desc:Y[Si]},keyIdMissing:{code:Ti,desc:Y[Ti]},noNetworkConnectivity:{code:yc,desc:Y[yc]},userCanceledError:{code:_c,desc:Y[_c]},missingTenantIdError:{code:vc,desc:Y[vc]},nestedAppAuthBridgeDisabled:{code:Ec,desc:Y[Ec]}},oo=class t extends te{constructor(e,r){super(e,r?`${Y[e]}: ${r}`:Y[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,t.prototype)}}});var Ol={};At(Ol,{checkMaxAge:()=>Cc,extractTokenClaims:()=>gn,getJWSPayload:()=>sT});function gn(t,e){let r=sT(t);try{let n=e(r);return JSON.parse(n)}catch{throw b(eo)}}function sT(t){if(!t)throw b(ai);let r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw b(eo);return r[2]}function Cc(t,e){if(e===0||Date.now()-3e5>t+e)throw b(mi)}var hs=v(()=>{"use strict";dt();rt();});var ir,vg=v(()=>{"use strict";ir={Default:0,Adfs:1,Dsts:2,Ciam:3}});function aT(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}var cT=v(()=>{"use strict";});var fs={};At(fs,{authorityMismatch:()=>wc,authorityUriInsecure:()=>Ii,cannotAllowNativeBroker:()=>Rc,cannotSetOIDCOptions:()=>bc,claimsRequestParsingError:()=>Sc,emptyInputScopesError:()=>Ri,invalidAuthenticationHeader:()=>Ic,invalidAuthorityMetadata:()=>Ni,invalidClaims:()=>yn,invalidCloudDiscoveryMetadata:()=>io,invalidCodeChallengeMethod:()=>xi,invalidPromptValue:()=>wi,logoutRequestEmpty:()=>Oi,missingNonceAuthenticationHeader:()=>Ac,missingSshJwk:()=>vn,missingSshKid:()=>Tc,pkceParamsMissing:()=>_n,redirectUriEmpty:()=>Ai,tokenRequestEmpty:()=>Pi,untrustedAuthority:()=>Di,urlEmptyError:()=>bi,urlParseError:()=>Kr});var Ai,Sc,Ii,Kr,bi,Ri,wi,yn,Pi,Oi,xi,_n,io,Ni,Di,vn,Tc,Ac,Ic,bc,Rc,wc,Wr=v(()=>{"use strict";Ai="redirect_uri_empty",Sc="claims_request_parsing_error",Ii="authority_uri_insecure",Kr="url_parse_error",bi="empty_url_error",Ri="empty_input_scopes_error",wi="invalid_prompt_value",yn="invalid_claims",Pi="token_request_empty",Oi="logout_request_empty",xi="invalid_code_challenge_method",_n="pkce_params_missing",io="invalid_cloud_discovery_metadata",Ni="invalid_authority_metadata",Di="untrusted_authority",vn="missing_ssh_jwk",Tc="missing_ssh_kid",Ac="missing_nonce_authentication_header",Ic="invalid_authentication_header",bc="cannot_set_OIDCOptions",Rc="cannot_allow_native_broker",wc="authority_mismatch"});function ue(t){return new gs(t)}var Fe,Eg,gs,En=v(()=>{"use strict";pn();Wr();Fe={[Ai]:"A redirect URI is required for all calls, and none has been set.",[Sc]:"Could not parse the given claims request object.",[Ii]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Kr]:"URL could not be parsed into appropriate segments.",[bi]:"URL was empty or null.",[Ri]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[wi]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[yn]:"Given claims parameter must be a stringified JSON object.",[Pi]:"Token request was empty and not found in cache.",[Oi]:"The logout request was null or undefined.",[xi]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[_n]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[io]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Ni]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Di]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[vn]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Tc]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Ac]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Ic]:"Invalid authentication header provided",[bc]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Rc]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[wc]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},Eg={redirectUriNotSet:{code:Ai,desc:Fe[Ai]},claimsRequestParsingError:{code:Sc,desc:Fe[Sc]},authorityUriInsecure:{code:Ii,desc:Fe[Ii]},urlParseError:{code:Kr,desc:Fe[Kr]},urlEmptyError:{code:bi,desc:Fe[bi]},emptyScopesError:{code:Ri,desc:Fe[Ri]},invalidPrompt:{code:wi,desc:Fe[wi]},invalidClaimsRequest:{code:yn,desc:Fe[yn]},tokenRequestEmptyError:{code:Pi,desc:Fe[Pi]},logoutRequestEmptyError:{code:Oi,desc:Fe[Oi]},invalidCodeChallengeMethod:{code:xi,desc:Fe[xi]},invalidCodeChallengeParams:{code:_n,desc:Fe[_n]},invalidCloudDiscoveryMetadata:{code:io,desc:Fe[io]},invalidAuthorityMetadata:{code:Ni,desc:Fe[Ni]},untrustedAuthority:{code:Di,desc:Fe[Di]},missingSshJwk:{code:vn,desc:Fe[vn]},missingSshKid:{code:Tc,desc:Fe[Tc]},missingNonceAuthenticationHeader:{code:Ac,desc:Fe[Ac]},invalidAuthenticationHeader:{code:Ic,desc:Fe[Ic]},cannotSetOIDCOptions:{code:bc,desc:Fe[bc]},cannotAllowNativeBroker:{code:Rc,desc:Fe[Rc]},authorityMismatch:{code:wc,desc:Fe[wc]}},gs=class t extends te{constructor(e){super(e,Fe[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,t.prototype)}}});var xe,ki=v(()=>{"use strict";xe=class{static isEmptyObj(e){if(e)try{let r=JSON.parse(e);return Object.keys(r).length===0}catch{}return!0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){let r={},n=e.split("&"),o=i=>decodeURIComponent(i.replace(/\+/g," "));return n.forEach(i=>{if(i.trim()){let[s,a]=i.split(/=(.+)/g,2);s&&a&&(r[o(s)]=o(a))}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}}});var xl={};At(xl,{getDeserializedResponse:()=>Cg,stripLeadingHashOrQuery:()=>dT});function dT(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function Cg(t){if(!t||t.indexOf("=")<0)return null;try{let e=dT(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.error||r.error_description||r.state)return r}catch{throw b(li)}return null}var Sg=v(()=>{"use strict";dt();rt();});var re,Mi=v(()=>{"use strict";En();ki();Re();Sg();Wr();re=class t{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw ue(bi);e.includes("#")||(this._urlString=t.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return xe.endsWith(r,"?")?r=r.slice(0,-1):xe.endsWith(r,"?/")&&(r=r.slice(0,-2)),xe.endsWith(r,"/")||(r+="/"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw ue(Kr)}if(!e.HostNameAndPort||!e.PathSegments)throw ue(Kr);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw ue(Ii)}static appendQueryString(e,r){return r?e.indexOf("?")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return t.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===Qt.COMMON||n[0]===Qt.ORGANIZATIONS)&&(n[0]=e),t.constructAuthorityUriFromObject(r)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(e);if(!r)throw ue(Kr);let n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]},o=n.AbsolutePath.split("/");return o=o.filter(i=>i&&i.length>0),n.PathSegments=o,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){let r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(r);if(!n)throw ue(Kr);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===A.FORWARD_SLASH){let o=new t(r).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new t(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Cg(e)}}});function pT(t,e){let r,n=t.canonicalAuthority;if(n){let o=new re(n).getUrlComponents().HostNameAndPort;r=lT(o,t.cloudDiscoveryMetadata?.metadata,Ot.CONFIG,e)||lT(o,Ag.metadata,Ot.HARDCODED_VALUES,e)||t.knownAuthorities}return r||[]}function lT(t,e,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){let o=Pc(e,t);if(o)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),o.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}function mT(t){return Pc(Ag.metadata,t)}function Pc(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(n.aliases.includes(e))return n}return null}var uT,Tg,Ag,Ig,bg=v(()=>{"use strict";Mi();Re();uT={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Tg=uT.endpointMetadata,Ag=uT.instanceDiscoveryMetadata,Ig=new Set;Ag.metadata.forEach(t=>{t.aliases.forEach(e=>{Ig.add(e)})})});var Gt,Oc=v(()=>{"use strict";Gt={AAD:"AAD",OIDC:"OIDC"}});var Cn,Nl=v(()=>{"use strict";Cn={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"}});function hT(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}var fT=v(()=>{"use strict";});function gT(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}var yT=v(()=>{"use strict";});var C,xOe,Qr=v(()=>{"use strict";C={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},xOe=new Map([[C.AcquireTokenByCode,"ATByCode"],[C.AcquireTokenByRefreshToken,"ATByRT"],[C.AcquireTokenSilent,"ATS"],[C.AcquireTokenSilentAsync,"ATSAsync"],[C.AcquireTokenPopup,"ATPopup"],[C.AcquireTokenRedirect,"ATRedirect"],[C.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[C.CryptoOptsSignJwt,"CryptoSignJwt"],[C.SilentCacheClientAcquireToken,"SltCacheClientAT"],[C.SilentIframeClientAcquireToken,"SltIframeClientAT"],[C.SilentRefreshClientAcquireToken,"SltRClientAT"],[C.SsoSilent,"SsoSlt"],[C.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[C.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[C.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[C.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[C.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[C.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[C.BrokerHandhshake,"BrokerHandshake"],[C.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[C.AcquireTokenByBroker,"ATByBroker"],[C.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[C.RefreshTokenClientAcquireToken,"RTClientAT"],[C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[C.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[C.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[C.AcquireTokenFromCache,"ATFromCache"],[C.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[C.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[C.AcquireTokenBySilentIframe,"ATBySltIframe"],[C.InitializeBaseRequest,"InitBaseReq"],[C.InitializeSilentRequest,"InitSltReq"],[C.InitializeClientApplication,"InitClientApplication"],[C.SilentIframeClientTokenHelper,"SIClientTHelper"],[C.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[C.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[C.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[C.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[C.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[C.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[C.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[C.StandardInteractionClientInitializeAuthorizationCodeRequest,"StdIntClientInitAuthCodeReq"],[C.GetAuthCodeUrl,"GetAuthCodeUrl"],[C.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[C.HandleCodeResponse,"HandleCodeResp"],[C.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[C.AuthClientAcquireToken,"AuthClientAT"],[C.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[C.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[C.AuthClientCreateQueryString,"AuthClientCreateQueryStr"],[C.PopTokenGenerateCnf,"PopTGenCnf"],[C.PopTokenGenerateKid,"PopTGenKid"],[C.HandleServerTokenResponse,"HandleServerTRes"],[C.DeserializeResponse,"DeserializeRes"],[C.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[C.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[C.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[C.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[C.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[C.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[C.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[C.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[C.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[C.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[C.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[C.AcquireTokenByCodeAsync,"ATByCodeAsync"],[C.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[C.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[C.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[C.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[C.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[C.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[C.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[C.NativeGenerateAuthResult,"NtvGenAuthRes"],[C.RemoveHiddenIframe,"RemoveHiddenIframe"],[C.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[C.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[C.GeneratePkceCodes,"GenPkceCodes"],[C.GenerateCodeVerifier,"GenCodeVerifier"],[C.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[C.Sha256Digest,"Sha256Digest"],[C.GetRandomValues,"GetRandomValues"]])});var _T,se,so=v(()=>{"use strict";_T=(t,e,r,n,o)=>(...i)=>{r.trace(`Executing function ${e}`);let s=n?.startMeasurement(e,o);if(o){let a=e+"CallCount";n?.incrementFields({[a]:1},o)}try{let a=t(...i);return s?.end({success:!0}),r.trace(`Returning result from ${e}`),a}catch(a){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(a))}catch{r.trace("Unable to print error message.")}throw s?.end({success:!1},a),a}},se=(t,e,r,n,o)=>(...i)=>{r.trace(`Executing function ${e}`);let s=n?.startMeasurement(e,o);if(o){let a=e+"CallCount";n?.incrementFields({[a]:1},o)}return n?.setPreQueueTime(e,o),t(...i).then(a=>(r.trace(`Returning result from ${e}`),s?.end({success:!0}),a)).catch(a=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(a))}catch{r.trace("Unable to print error message.")}throw s?.end({success:!1},a),a})}});var xc,vT=v(()=>{"use strict";Re();Qr();so();xc=class t{constructor(e,r,n,o){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=o}async detectRegion(e,r){this.performanceClient?.addQueueMeasurement(C.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=ii.ENVIRONMENT_VARIABLE;else{let o=t.IMDS_OPTIONS;try{let i=await se(this.getRegionFromIMDS.bind(this),C.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(A.IMDS_VERSION,o);if(i.status===nc.httpSuccess&&(n=i.body,r.region_source=ii.IMDS),i.status===nc.httpBadRequest){let s=await se(this.getCurrentVersion.bind(this),C.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!s)return r.region_source=ii.FAILED_AUTO_DETECTION,null;let a=await se(this.getRegionFromIMDS.bind(this),C.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(s,o);a.status===nc.httpSuccess&&(n=a.body,r.region_source=ii.IMDS)}}catch{return r.region_source=ii.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=ii.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,r){return this.performanceClient?.addQueueMeasurement(C.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${A.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,A.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(C.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=await this.networkInterface.sendGetRequestAsync(`${A.IMDS_ENDPOINT}?format=json`,e);return r.status===nc.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}};xc.IMDS_OPTIONS={headers:{Metadata:"true"}}});var we={};At(we,{delay:()=>n4,isTokenExpired:()=>ys,nowSeconds:()=>Jt,wasClockTurnedBack:()=>Rg});function Jt(){return Math.round(new Date().getTime()/1e3)}function ys(t,e){let r=Number(t)||0;return Jt()+e>r}function Rg(t){return Number(t)>Jt()}function n4(t,e){return new Promise(r=>setTimeout(()=>r(e),t))}var Li=v(()=>{"use strict";});var lt={};At(lt,{createAccessTokenEntity:()=>Pg,createIdTokenEntity:()=>wg,createRefreshTokenEntity:()=>Og,generateAppMetadataKey:()=>h4,generateAuthorityMetadataExpiresAt:()=>kl,generateCredentialKey:()=>Nc,isAccessTokenEntity:()=>o4,isAppMetadataEntity:()=>f4,isAuthorityMetadataEntity:()=>g4,isAuthorityMetadataExpired:()=>Ml,isCredentialEntity:()=>Dl,isIdTokenEntity:()=>i4,isRefreshTokenEntity:()=>s4,isServerTelemetryEntity:()=>p4,isThrottlingEntity:()=>m4,updateAuthorityEndpointMetadata:()=>_s,updateCloudDiscoveryMetadata:()=>Dc});function Nc(t){return[a4(t),c4(t),d4(t),l4(t),u4(t)].join(Ke.CACHE_KEY_SEPARATOR).toLowerCase()}function wg(t,e,r,n,o){return{credentialType:de.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:o}}function Pg(t,e,r,n,o,i,s,a,c,d,u,m,f,h,y){let E={homeAccountId:t,credentialType:de.ACCESS_TOKEN,secret:r,cachedAt:Jt().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:n,realm:o,target:i,tokenType:u||ie.BEARER};if(m&&(E.userAssertionHash=m),d&&(E.refreshOn=d.toString()),h&&(E.requestedClaims=h,E.requestedClaimsHash=y),E.tokenType?.toLowerCase()!==ie.BEARER.toLowerCase())switch(E.credentialType=de.ACCESS_TOKEN_WITH_AUTH_SCHEME,E.tokenType){case ie.POP:let I=gn(r,c);if(!I?.cnf?.kid)throw b(vi);E.keyId=I.cnf.kid;break;case ie.SSH:E.keyId=f}return E}function Og(t,e,r,n,o,i,s){let a={credentialType:de.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r};return i&&(a.userAssertionHash=i),o&&(a.familyId=o),s&&(a.expiresOn=s.toString()),a}function Dl(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function o4(t){return t?Dl(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===de.ACCESS_TOKEN||t.credentialType===de.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function i4(t){return t?Dl(t)&&t.hasOwnProperty("realm")&&t.credentialType===de.ID_TOKEN:!1}function s4(t){return t?Dl(t)&&t.credentialType===de.REFRESH_TOKEN:!1}function a4(t){return[t.homeAccountId,t.environment].join(Ke.CACHE_KEY_SEPARATOR).toLowerCase()}function c4(t){let e=t.credentialType===de.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Ke.CACHE_KEY_SEPARATOR).toLowerCase()}function d4(t){return(t.target||"").toLowerCase()}function l4(t){return(t.requestedClaimsHash||"").toLowerCase()}function u4(t){return t.tokenType&&t.tokenType.toLowerCase()!==ie.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}function p4(t,e){let r=t.indexOf(ct.CACHE_KEY)===0,n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&n}function m4(t,e){let r=!1;t&&(r=t.indexOf(un.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),r&&n}function h4({environment:t,clientId:e}){return[rc,t,e].join(Ke.CACHE_KEY_SEPARATOR).toLowerCase()}function f4(t,e){return e?t.indexOf(rc)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function g4(t,e){return e?t.indexOf(ps.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function kl(){return Jt()+ps.REFRESH_TIME_SECONDS}function _s(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri}function Dc(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r}function Ml(t){return t.expiresAt<=Jt()}var vs=v(()=>{"use strict";hs();dt();Re();Li();rt();});function ET(t){let n=new re(t).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case Qt.COMMON:case Qt.ORGANIZATIONS:case Qt.CONSUMERS:return;default:return n}}function Ll(t){return t.endsWith(A.FORWARD_SLASH)?t:`${t}${A.FORWARD_SLASH}`}function xg(t){let e=t.cloudDiscoveryMetadata,r;if(e)try{r=JSON.parse(e)}catch{throw ue(io)}return{canonicalAuthority:t.authority?Ll(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}var kr,Ul=v(()=>{"use strict";vg();cT();Mi();dt();Re();bg();En();Oc();Nl();fT();yT();vT();pn();Qr();so();vs();rt();Wr();kr=class t{constructor(e,r,n,o,i,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=o,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new xc(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(A.CIAM_AUTH_URL))return ir.Ciam;let r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case A.ADFS:return ir.Adfs;case A.DSTS:return ir.Dsts}return ir.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new re(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw b(xt)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw b(xt)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw b(xt)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw b(Si);return this.replacePath(this.metadata.end_session_endpoint)}else throw b(xt)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw b(xt)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw b(xt)}canReplaceTenant(e){return e.PathSegments.length===1&&!t.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===ir.Default&&this.protocolMode===Gt.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e,o=new re(this.metadata.canonical_authority).getUrlComponents(),i=o.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let d=i[c];if(c===0&&this.canReplaceTenant(o)){let u=new re(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];d!==u&&(this.logger.verbose(`Replacing tenant domain name ${d} with id ${u}`),d=u)}a!==d&&(r=r.replace(`/${d}/`,`/${a}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ir.Adfs||this.protocolMode!==Gt.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(C.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),r=await se(this.updateCloudDiscoveryMetadata.bind(this),C.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let n=await se(this.updateEndpointMetadata.bind(this),C.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:kl(),jwks_uri:""}),e}updateCachedMetadata(e,r,n){r!==Ot.CACHE&&n?.source!==Ot.CACHE&&(e.expiresAt=kl(),e.canonical_authority=this.canonicalAuthority);let o=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(o,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(C.AuthorityUpdateEndpointMetadata,this.correlationId);let r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===Ot.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&r.metadata){let o=await se(this.updateMetadataWithRegionalInformation.bind(this),C.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);_s(e,o,!1),e.canonical_authority=this.canonicalAuthority}return r.source}let n=await se(this.getEndpointMetadataFromNetwork.bind(this),C.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await se(this.updateMetadataWithRegionalInformation.bind(this),C.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),_s(e,n,!0),Ot.NETWORK;throw b(di,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("Found endpoint metadata in authority configuration"),_s(e,r,!1),{source:Ot.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let o=this.getEndpointMetadataFromHardcodedValues();if(o)return _s(e,o,!1),{source:Ot.HARDCODED_VALUES,metadata:o};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let n=Ml(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Ot.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new re(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw ue(Ni)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(C.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{let n=await this.networkInterface.sendGetRequestAsync(r,e);return aT(n.body)?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Tg?Tg[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(C.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let r=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(r){if(r!==A.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=wl.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,t.replaceWithRegionalInformation(e,r);let n=await se(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),C.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=wl.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,t.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=wl.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(C.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;let n=await se(this.getCloudDiscoveryMetadataFromNetwork.bind(this),C.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return Dc(e,n,!0),Ot.NETWORK;throw ue(Di)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||A.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||A.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||A.NOT_APPLICABLE}`);let r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Dc(e,r,!1),Ot.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let o=mT(this.hostnameAndPort);if(o)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Dc(e,o,!1),Ot.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let n=Ml(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),Ot.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===ir.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=Pc(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),ue(io)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(C.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${A.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={},n=null;try{let o=await this.networkInterface.sendGetRequestAsync(e,r),i,s;if(hT(o.body))i=o.body,s=i.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${i.tenant_discovery_endpoint}`);else if(gT(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),i=o.body,i.error===A.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${i.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${i.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Pc(s,this.hostnameAndPort)}catch(o){if(o instanceof te)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{let i=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${i.name}
Error Description: ${i.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&re.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==Cn.None){let o=r.tenant?r.tenant:A.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${o}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return A.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw b(xt)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Ig.has(e)}static isPublicCloudAuthority(e){return A.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){let o=new re(e);o.validateAsUri();let i=o.getUrlComponents(),s=`${r}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(s=`${r}.${A.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let a=re.constructAuthorityUriFromObject({...o.getUrlComponents(),HostNameAndPort:s}).urlString;return n?`${a}?${n}`:a}static replaceWithRegionalInformation(e,r){let n={...e};return n.authorization_endpoint=t.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=t.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=t.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e,o=new re(e).getUrlComponents();if(o.PathSegments.length===0&&o.HostNameAndPort.endsWith(A.CIAM_AUTH_URL)){let i=o.HostNameAndPort.split(".")[0];r=`${r}${i}${A.AAD_TENANT_DOMAIN_SUFFIX}`}return r}};kr.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Qt.COMMON,Qt.CONSUMERS,Qt.ORGANIZATIONS])});var Fl={};At(Fl,{createDiscoveredInstance:()=>Ng});async function Ng(t,e,r,n,o,i,s){s?.addQueueMeasurement(C.AuthorityFactoryCreateDiscoveredInstance,i);let a=kr.transformCIAMAuthority(Ll(t)),c=new kr(a,e,r,n,o,i,s);try{return await se(c.resolveEndpointsAsync.bind(c),C.AuthorityResolveEndpointsAsync,o,s,i)(),c}catch{throw b(xt)}}var Dg=v(()=>{"use strict";Ul();dt();Qr();so();rt();});async function Nt(t,e,r){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:r})}var Bl=v(()=>{"use strict";});var Ui={};At(Ui,{ACCESS_TOKEN:()=>v4,CCS_HEADER:()=>R4,CLAIMS:()=>Ug,CLIENT_ASSERTION:()=>ay,CLIENT_ASSERTION_TYPE:()=>cy,CLIENT_ID:()=>ao,CLIENT_INFO:()=>A4,CLIENT_REQUEST_ID:()=>Kg,CLIENT_SECRET:()=>sy,CODE:()=>Gg,CODE_CHALLENGE:()=>$g,CODE_CHALLENGE_METHOD:()=>zg,CODE_VERIFIER:()=>Vg,DEVICE_CODE:()=>iy,DOMAIN_HINT:()=>fy,ERROR:()=>y4,ERROR_DESCRIPTION:()=>_4,EXPIRES_IN:()=>C4,FOCI:()=>b4,GRANT_TYPE:()=>Lg,ID_TOKEN:()=>E4,ID_TOKEN_HINT:()=>oy,LOGIN_HINT:()=>hy,LOGOUT_HINT:()=>py,NATIVE_BROKER:()=>uy,NONCE:()=>Hg,OBO_ASSERTION:()=>dy,ON_BEHALF_OF:()=>I4,POST_LOGOUT_URI:()=>ny,PROMPT:()=>jg,REDIRECT_URI:()=>kg,REFRESH_TOKEN:()=>Bg,REFRESH_TOKEN_EXPIRES_IN:()=>S4,REQUESTED_TOKEN_USE:()=>ly,REQ_CNF:()=>jl,RESPONSE_MODE:()=>Mg,RESPONSE_TYPE:()=>ql,RETURN_SPA_CODE:()=>Gl,SCOPE:()=>Fg,SESSION_STATE:()=>T4,SID:()=>my,STATE:()=>qg,TOKEN_TYPE:()=>Hl,X_APP_NAME:()=>ty,X_APP_VER:()=>ry,X_CLIENT_CPU:()=>Jg,X_CLIENT_CURR_TELEM:()=>Xg,X_CLIENT_EXTRA_SKU:()=>w4,X_CLIENT_LAST_TELEM:()=>Zg,X_CLIENT_OS:()=>Yg,X_CLIENT_SKU:()=>Wg,X_CLIENT_VER:()=>Qg,X_MS_LIB_CAPABILITY:()=>ey});var ao,kg,ql,Mg,Lg,Ug,Fg,y4,_4,v4,E4,Bg,C4,S4,qg,Hg,jg,T4,A4,Gg,$g,zg,Vg,Kg,Wg,Qg,Yg,Jg,Xg,Zg,ey,ty,ry,ny,oy,iy,sy,ay,cy,Hl,jl,dy,ly,I4,b4,R4,Gl,uy,py,my,hy,fy,w4,kc=v(()=>{"use strict";ao="client_id",kg="redirect_uri",ql="response_type",Mg="response_mode",Lg="grant_type",Ug="claims",Fg="scope",y4="error",_4="error_description",v4="access_token",E4="id_token",Bg="refresh_token",C4="expires_in",S4="refresh_token_expires_in",qg="state",Hg="nonce",jg="prompt",T4="session_state",A4="client_info",Gg="code",$g="code_challenge",zg="code_challenge_method",Vg="code_verifier",Kg="client-request-id",Wg="x-client-SKU",Qg="x-client-VER",Yg="x-client-OS",Jg="x-client-CPU",Xg="x-client-current-telemetry",Zg="x-client-last-telemetry",ey="x-ms-lib-capability",ty="x-app-name",ry="x-app-ver",ny="post_logout_redirect_uri",oy="id_token_hint",iy="device_code",sy="client_secret",ay="client_assertion",cy="client_assertion_type",Hl="token_type",jl="req_cnf",dy="assertion",ly="requested_token_use",I4="on_behalf_of",b4="foci",R4="X-AnchorMailbox",Gl="return_spa_code",uy="nativebroker",py="logout_hint",my="sid",hy="login_hint",fy="domain_hint",w4="x-client-xtra-sku"});var Es,gy=v(()=>{"use strict";dt();rt();Es={createNewGuid:()=>{throw b(J)},base64Decode:()=>{throw b(J)},base64Encode:()=>{throw b(J)},base64UrlEncode:()=>{throw b(J)},encodeKid:()=>{throw b(J)},async getPublicKeyThumbprint(){throw b(J)},async removeTokenBindingKey(){throw b(J)},async clearKeystore(){throw b(J)},async signJwt(){throw b(J)},async hashString(){throw b(J)}}});var Be,Xt,$l=v(()=>{"use strict";Re();(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(Be||(Be={}));Xt=class t{constructor(e,r,n){this.level=Be.Info;let o=()=>{},i=e||t.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||o,this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level=typeof i.logLevel=="number"?i.logLevel:Be.Info,this.correlationId=i.correlationId||A.EMPTY_STRING,this.packageName=r||A.EMPTY_STRING,this.packageVersion=n||A.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Be.Info}}clone(e,r,n){return new t({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let i=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Be[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,i,r.containsPii||!1)}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n)}error(e,r){this.logMessage(e,{logLevel:Be.Error,containsPii:!1,correlationId:r||A.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:Be.Error,containsPii:!0,correlationId:r||A.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:Be.Warning,containsPii:!1,correlationId:r||A.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:Be.Warning,containsPii:!0,correlationId:r||A.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:Be.Info,containsPii:!1,correlationId:r||A.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:Be.Info,containsPii:!0,correlationId:r||A.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:Be.Verbose,containsPii:!1,correlationId:r||A.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:Be.Verbose,containsPii:!0,correlationId:r||A.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:Be.Trace,containsPii:!1,correlationId:r||A.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:Be.Trace,containsPii:!0,correlationId:r||A.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}});var zl,Cs,Vl=v(()=>{"use strict";zl="@azure/msal-common",Cs="14.14.2"});var nt,Mc=v(()=>{"use strict";En();ki();dt();Re();Wr();rt();nt=class t{constructor(e){let r=e?xe.trimArrayEntries([...e]):[],n=r?xe.removeEmptyStringsFromArray(r):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach(o=>this.scopes.add(o))}static fromString(e){let n=(e||A.EMPTY_STRING).split(" ");return new t(n)}static createSearchScopes(e){let r=new t(e);return r.containsOnlyOIDCScopes()?r.removeScope(A.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}validateInputScopes(e){if(!e||e.length<1)throw ue(Ri)}containsScope(e){let r=this.printScopesLowerCase().split(" "),n=new t(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return hg.forEach(r=>{this.containsScope(r)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(r=>this.appendScope(r))}catch{throw b(yi)}}removeScope(e){if(!e)throw b(gi);this.scopes.delete(e.trim())}removeOIDCScopes(){hg.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw b(ro);let r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw b(ro);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let r=this.unionScopeSets(e),n=e.getScopeCount(),o=this.getScopeCount();return r.size<o+n}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(" "):A.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}});function Ss(t,e){if(!t)throw b(si);try{let r=e(t);return JSON.parse(r)}catch{throw b(Zn)}}function Sn(t){if(!t)throw b(Zn);let e=t.split(Ke.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?A.EMPTY_STRING:e[1]}}var Lc=v(()=>{"use strict";dt();Re();rt();});function Uc(t,e){return!!t&&!!e&&t===e.split(".")[1]}function Fc(t,e,r,n){if(n){let{oid:o,sub:i,tid:s,name:a,tfp:c,acr:d}=n,u=s||c||d||"";return{tenantId:u,localAccountId:o||i||"",name:a,isHomeTenant:Uc(u,t)}}else return{tenantId:r,localAccountId:e,isHomeTenant:Uc(r,t)}}function Kl(t,e,r,n){let o=t;if(e){let{isHomeTenant:i,...s}=e;o={...t,...s}}if(r){let{isHomeTenant:i,...s}=Fc(t.homeAccountId,t.localAccountId,t.tenantId,r);return o={...o,...s,idTokenClaims:r,idToken:n},o}return o}var Wl=v(()=>{"use strict";});function Ql(t){return t&&(t.tid||t.tfp||t.acr)||null}var yy=v(()=>{"use strict";});var ut,Yl=v(()=>{"use strict";Re();Lc();Wl();dt();vg();yy();Oc();rt();ut=class t{generateAccountId(){return[this.homeAccountId,this.environment].join(Ke.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return t.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let r=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",r||e.tenantId||""].join(Ke.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,r,n){let o=new t;r.authorityType===ir.Adfs?o.authorityType=us.ADFS_ACCOUNT_TYPE:r.protocolMode===Gt.AAD?o.authorityType=us.MSSTS_ACCOUNT_TYPE:o.authorityType=us.GENERIC_ACCOUNT_TYPE;let i;e.clientInfo&&n&&(i=Ss(e.clientInfo,n)),o.clientInfo=e.clientInfo,o.homeAccountId=e.homeAccountId,o.nativeAccountId=e.nativeAccountId;let s=e.environment||r&&r.getPreferredCache();if(!s)throw b(fn);o.environment=s,o.realm=i?.utid||Ql(e.idTokenClaims)||"",o.localAccountId=i?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,c=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(o.username=a||c||"",o.name=e.idTokenClaims?.name||"",o.cloudGraphHostName=e.cloudGraphHostName,o.msGraphHost=e.msGraphHost,e.tenantProfiles)o.tenantProfiles=e.tenantProfiles;else{let d=Fc(e.homeAccountId,o.localAccountId,o.realm,e.idTokenClaims);o.tenantProfiles=[d]}return o}static createFromAccountInfo(e,r,n){let o=new t;return o.authorityType=e.authorityType||us.GENERIC_ACCOUNT_TYPE,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=r,o.msGraphHost=n,o.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),o}static generateHomeAccountId(e,r,n,o,i){if(!(r===ir.Adfs||r===ir.Dsts)){if(e)try{let s=Ss(e,o.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}n.warning("No client info in response")}return i?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return!1;let o=!0;if(n){let i=e.idTokenClaims||{},s=r.idTokenClaims||{};o=i.iat===s.iat&&i.nonce===s.nonce}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&o}}});var Jl,Bc,_y=v(()=>{"use strict";Jl="cache_quota_exceeded",Bc="cache_error_unknown"});var vy,Ts,CT=v(()=>{"use strict";_y();vy={[Jl]:"Exceeded cache storage capacity.",[Bc]:"Unexpected error occurred when using cache storage."},Ts=class t extends Error{constructor(e,r){let n=r||(vy[e]?vy[e]:vy[Bc]);super(`${e}: ${n}`),Object.setPrototypeOf(this,t.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}});var co,qc,Ey=v(()=>{"use strict";Re();vs();Mc();Yl();dt();Wl();hs();Vl();bg();CT();rt();_y();co=class t{constructor(e,r,n,o){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone(zl,Cs),this.staticAuthorityOptions=o}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){let r=this.getAllAccounts(e);return r.length>1?r.sort(o=>o.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e){let r=this.getAccountsFilteredBy(e);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,r){return e.flatMap(n=>this.getTenantProfilesFromAccountEntity(n,r?.tenantId,r))}getTenantedAccountInfoByFilter(e,r,n,o){let i=null,s;if(o&&!this.tenantProfileMatchesFilter(n,o))return null;let a=this.getIdToken(e,r,n.tenantId);return a&&(s=gn(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,o))?null:(i=Kl(e,n,s,a?.secret),i)}getTenantProfilesFromAccountEntity(e,r,n){let o=e.getAccountInfo(),i=o.tenantProfiles||new Map,s=this.getTokenKeys();if(r){let c=i.get(r);if(c)i=new Map([[r,c]]);else return[]}let a=[];return i.forEach(c=>{let d=this.getTenantedAccountInfoByFilter(o,s,c,n);d&&a.push(d)}),a}tenantProfileMatchesFilter(e,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}async saveCacheRecord(e,r,n){if(!e)throw b(_i);try{e.account&&this.setAccount(e.account),e.idToken&&r?.idToken!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&r?.accessToken!==!1&&await this.saveAccessToken(e.accessToken),e.refreshToken&&r?.refreshToken!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(o){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),o instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${o.message}`,n),o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED"||o.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new Ts(Jl)):new Ts(o.name,o.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${o}`,n),new Ts(Bc))}}async saveAccessToken(e){let r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),o=nt.fromString(e.target),i=[];n.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,r,!1))return;let a=this.getAccessTokenCredential(s);a&&this.credentialMatchesFilter(a,r)&&nt.fromString(a.target).intersectingScopeSets(o)&&i.push(this.removeAccessToken(s))}),await Promise.all(i),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){let r=this.getAccountKeys(),n=[];return r.forEach(o=>{if(!this.isAccountKey(o,e.homeAccountId))return;let i=this.getAccount(o,this.commonLogger);if(!i||e.homeAccountId&&!this.matchHomeAccountId(i,e.homeAccountId)||e.username&&!this.matchUsername(i.username,e.username)||e.environment&&!this.matchEnvironment(i,e.environment)||e.realm&&!this.matchRealm(i,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(i,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(i,e.authorityType))return;let s={localAccountId:e?.localAccountId,name:e?.name},a=i.tenantProfiles?.filter(c=>this.tenantProfileMatchesFilter(c,s));a&&a.length===0||n.push(i)}),n}isAccountKey(e,r,n){return!(e.split(Ke.CACHE_KEY_SEPARATOR).length<3||r&&!e.toLowerCase().includes(r.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(Ke.CACHE_KEY_SEPARATOR).length<6)return!1;let r=e.toLowerCase();if(r.indexOf(de.ID_TOKEN.toLowerCase())===-1&&r.indexOf(de.ACCESS_TOKEN.toLowerCase())===-1&&r.indexOf(de.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&r.indexOf(de.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(r.indexOf(de.REFRESH_TOKEN.toLowerCase())>-1){let n=`${de.REFRESH_TOKEN}${Ke.CACHE_KEY_SEPARATOR}${this.clientId}${Ke.CACHE_KEY_SEPARATOR}`,o=`${de.REFRESH_TOKEN}${Ke.CACHE_KEY_SEPARATOR}${Xn}${Ke.CACHE_KEY_SEPARATOR}`;if(r.indexOf(n.toLowerCase())===-1&&r.indexOf(o.toLowerCase())===-1)return!1}else if(r.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,r){return!(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===de.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===ie.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){let r=this.getKeys(),n={};return r.forEach(o=>{if(!this.isAppMetadata(o))return;let i=this.getAppMetadata(o);i&&(e.environment&&!this.matchEnvironment(i,e.environment)||e.clientId&&!this.matchClientId(i,e.clientId)||(n[o]=i))}),n}getAuthorityMetadataByAlias(e){let r=this.getAuthorityMetadataKeys(),n=null;return r.forEach(o=>{if(!this.isAuthorityMetadata(o)||o.indexOf(this.clientId)===-1)return;let i=this.getAuthorityMetadata(o);i&&i.aliases.indexOf(e)!==-1&&(n=i)}),n}async removeAllAccounts(){let e=this.getAccountKeys(),r=[];e.forEach(n=>{r.push(this.removeAccount(n))}),await Promise.all(r)}async removeAccount(e){let r=this.getAccount(e,this.commonLogger);r&&(await this.removeAccountContext(r),this.removeItem(e))}async removeAccountContext(e){let r=this.getTokenKeys(),n=e.generateAccountId(),o=[];r.idToken.forEach(i=>{i.indexOf(n)===0&&this.removeIdToken(i)}),r.accessToken.forEach(i=>{i.indexOf(n)===0&&o.push(this.removeAccessToken(i))}),r.refreshToken.forEach(i=>{i.indexOf(n)===0&&this.removeRefreshToken(i)}),await Promise.all(o)}updateOutdatedCachedAccount(e,r,n){if(r&&r.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");let o=this.getAccountKeys().filter(d=>d.startsWith(r.homeAccountId)),i=[];o.forEach(d=>{let u=this.getCachedAccountEntity(d);u&&i.push(u)});let s=i.find(d=>Uc(d.realm,d.homeAccountId))||i[0];s.tenantProfiles=i.map(d=>({tenantId:d.realm,localAccountId:d.localAccountId,name:d.name,isHomeTenant:Uc(d.realm,d.homeAccountId)}));let a=t.toObject(new ut,{...s}),c=a.generateAccountKey();return o.forEach(d=>{d!==c&&this.removeOutdatedAccount(e)}),this.setAccount(a),n?.verbose("Updated an outdated account entity in the cache"),a}return r}async removeAccessToken(e){let r=this.getAccessTokenCredential(e);if(r){if(r.credentialType.toLowerCase()===de.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&r.tokenType===ie.POP){let o=r.keyId;if(o)try{await this.cryptoImpl.removeTokenBindingKey(o)}catch{throw b(Ci)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r)}),!0}readAccountFromCache(e){let r=ut.generateAccountCacheKey(e);return this.getAccount(r,this.commonLogger)}getIdToken(e,r,n,o,i){this.commonLogger.trace("CacheManager - getIdToken called");let s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:de.ID_TOKEN,clientId:this.clientId,realm:n},a=this.getIdTokensByFilter(s,r),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let d=a;if(!n){let u=new Map;a.forEach((f,h)=>{f.realm===e.tenantId&&u.set(h,f)});let m=u.size;if(m<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(m===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;d=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),d.forEach((u,m)=>{this.removeIdToken(m)}),o&&i&&o.addFields({multiMatchedID:a.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,r){let n=r&&r.idToken||this.getTokenKeys().idToken,o=new Map;return n.forEach(i=>{if(!this.idTokenKeyMatchesFilter(i,{clientId:this.clientId,...e}))return;let s=this.getIdTokenCredential(i);s&&this.credentialMatchesFilter(s,e)&&o.set(i,s)}),o}idTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,r,n,o,i,s){this.commonLogger.trace("CacheManager - getAccessToken called");let a=nt.createSearchScopes(r.scopes),c=r.authenticationScheme||ie.BEARER,d=c&&c.toLowerCase()!==ie.BEARER.toLowerCase()?de.ACCESS_TOKEN_WITH_AUTH_SCHEME:de.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:d,clientId:this.clientId,realm:o||e.tenantId,target:a,tokenType:c,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},m=n&&n.accessToken||this.getTokenKeys().accessToken,f=[];m.forEach(y=>{if(this.accessTokenKeyMatchesFilter(y,u,!0)){let E=this.getAccessTokenCredential(y);E&&this.credentialMatchesFilter(E,u)&&f.push(E)}});let h=f.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),f.forEach(y=>{this.removeAccessToken(Nc(y))}),i&&s&&i.addFields({multiMatchedAT:f.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),f[0])}accessTokenKeyMatchesFilter(e,r,n){let o=e.toLowerCase();if(r.clientId&&o.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&o.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&o.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&o.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return!1;if(r.target){let i=r.target.asArray();for(let s=0;s<i.length;s++){if(n&&!o.includes(i[s].toLowerCase()))return!1;if(!n&&o.includes(i[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){let r=this.getTokenKeys(),n=[];return r.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;let i=this.getAccessTokenCredential(o);i&&this.credentialMatchesFilter(i,e)&&n.push(i)}),n}getRefreshToken(e,r,n,o,i){this.commonLogger.trace("CacheManager - getRefreshToken called");let s=r?Xn:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:de.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=n&&n.refreshToken||this.getTokenKeys().refreshToken,d=[];c.forEach(m=>{if(this.refreshTokenKeyMatchesFilter(m,a)){let f=this.getRefreshTokenCredential(m);f&&this.credentialMatchesFilter(f,a)&&d.push(f)}});let u=d.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&o&&i&&o.addFields({multiMatchedRT:u},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),d[0])}refreshTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),o=Object.keys(n).map(s=>n[s]),i=o.length;if(i<1)return null;if(i>1)throw b(hi);return o[0]}isAppMetadataFOCI(e){let r=this.readAppMetadataFromCache(e);return!!(r&&r.familyId===Xn)}matchHomeAccountId(e,r){return typeof e.homeAccountId=="string"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){let n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){return r.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,r){return!!(e&&typeof e=="string"&&r?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,r){return!!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){let o=pT(this.staticAuthorityOptions,this.commonLogger);if(o.includes(r)&&o.includes(e.environment))return!0}let n=this.getAuthorityMetadataByAlias(r);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return!!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return!!(e.familyId&&r===e.familyId)}matchRealm(e,r){return e.realm?.toLowerCase()===r.toLowerCase()}matchNativeAccountId(e,r){return!!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return!!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==de.ACCESS_TOKEN&&e.credentialType!==de.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:nt.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return!!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return!!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf(rc)!==-1}isAuthorityMetadata(e){return e.indexOf(ps.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${ps.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(let n in r)e[n]=r[n];return e}},qc=class extends co{setAccount(){throw b(J)}getAccount(){throw b(J)}getCachedAccountEntity(){throw b(J)}setIdTokenCredential(){throw b(J)}getIdTokenCredential(){throw b(J)}setAccessTokenCredential(){throw b(J)}getAccessTokenCredential(){throw b(J)}setRefreshTokenCredential(){throw b(J)}getRefreshTokenCredential(){throw b(J)}setAppMetadata(){throw b(J)}getAppMetadata(){throw b(J)}setServerTelemetry(){throw b(J)}getServerTelemetry(){throw b(J)}setAuthorityMetadata(){throw b(J)}getAuthorityMetadata(){throw b(J)}getAuthorityMetadataKeys(){throw b(J)}setThrottlingCache(){throw b(J)}getThrottlingCache(){throw b(J)}removeItem(){throw b(J)}getKeys(){throw b(J)}getAccountKeys(){throw b(J)}getTokenKeys(){throw b(J)}async clear(){throw b(J)}updateCredentialCacheKey(){throw b(J)}removeOutdatedAccount(){throw b(J)}}});function ST({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:o,networkInterface:i,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:d,serverTelemetryManager:u,persistencePlugin:m,serializableCache:f}){let h={...O4,...r};return{authOptions:U4(t),systemOptions:{...P4,...e},loggerOptions:h,cacheOptions:{...x4,...n},storageInterface:o||new qc(t.clientId,Es,new Xt(h)),networkInterface:i||N4,cryptoInterface:s||Es,clientCredentials:a||k4,libraryInfo:{...D4,...c},telemetry:{...L4,...d},serverTelemetryManager:u||null,persistencePlugin:m||null,serializableCache:f||null}}function U4(t){return{clientCapabilities:[],azureCloudOptions:M4,skipAuthorityMetadataCache:!1,...t}}function Hc(t){return t.authOptions.authority.options.protocolMode===Gt.OIDC}var P4,O4,x4,N4,D4,k4,M4,L4,Xl=v(()=>{"use strict";gy();$l();Re();Vl();Nl();Ey();Oc();dt();rt();P4={tokenRenewalOffsetSeconds:oc,preventCorsPreflight:!1},O4={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Be.Info,correlationId:A.EMPTY_STRING},x4={claimsBasedCachingEnabled:!1},N4={async sendGetRequestAsync(){throw b(J)},async sendPostRequestAsync(){throw b(J)}},D4={sku:A.SKU,version:Cs,cpu:A.EMPTY_STRING,os:A.EMPTY_STRING},k4={clientSecret:A.EMPTY_STRING,clientAssertion:void 0},M4={azureCloudInstance:Cn.None,tenant:`${A.DEFAULT_COMMON_TENANT}`},L4={application:{appName:"",appVersion:""}}});var $t,jc=v(()=>{"use strict";pn();$t=class t extends te{constructor(e,r,n,o,i){super(e,r,n),this.name="ServerError",this.errorNo=o,this.status=i,Object.setPrototypeOf(this,t.prototype)}}});var Gc,TT=v(()=>{"use strict";Re();jc();Gc=class t{static generateThrottlingStorageKey(e){return`${un.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r){let n=t.generateThrottlingStorageKey(r),o=e.getThrottlingCache(n);if(o){if(o.throttleTime<Date.now()){e.removeItem(n);return}throw new $t(o.errorCodes?.join(" ")||A.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,r,n){if(t.checkResponseStatus(n)||t.checkResponseForRetryAfter(n)){let o={throttleTime:t.calculateThrottleTime(parseInt(n.headers[tt.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(t.generateThrottlingStorageKey(r),o)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(tt.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||un.DEFAULT_THROTTLE_TIME_SECONDS),n+un.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,o){let i={clientId:r,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:o,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},s=this.generateThrottlingStorageKey(i);e.removeItem(s)}}});var Zl,AT=v(()=>{"use strict";TT();pn();dt();rt();Zl=class{constructor(e,r){this.networkClient=e,this.cacheManager=r}async sendPostRequest(e,r,n){Gc.preProcess(this.cacheManager,e);let o;try{o=await this.networkClient.sendPostRequestAsync(r,n)}catch(i){throw i instanceof te?i:b(ci)}return Gc.postProcess(this.cacheManager,e,o),o}}});var Dt,$c=v(()=>{"use strict";Dt={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"}});var Yr,Cy=v(()=>{"use strict";En();Re();Wr();Yr=class{static validateRedirectUri(e){if(!e)throw ue(Ai)}static validatePrompt(e){let r=[];for(let n in zr)r.push(zr[n]);if(r.indexOf(e)<0)throw ue(wi)}static validateClaims(e){try{JSON.parse(e)}catch{throw ue(yn)}}static validateCodeChallengeParams(e,r){if(!e||!r)throw ue(_n);this.validateCodeChallengeMethod(r)}static validateCodeChallengeMethod(e){if([ls.PLAIN,ls.S256].indexOf(e)<0)throw ue(xi)}}});var Ne,zc=v(()=>{"use strict";Re();kc();Mc();En();Cy();Wr();Ne=class{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(ql,encodeURIComponent(A.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(ql,encodeURIComponent(`${A.TOKEN_RESPONSE_TYPE} ${A.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(Mg,encodeURIComponent(e||ln.QUERY))}addNativeBroker(){this.parameters.set(uy,encodeURIComponent("1"))}addScopes(e,r=!0,n=jt){r&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");let o=r?[...e||[],...n]:e||[],i=new nt(o);this.parameters.set(Fg,encodeURIComponent(i.printScopes()))}addClientId(e){this.parameters.set(ao,encodeURIComponent(e))}addRedirectUri(e){Yr.validateRedirectUri(e),this.parameters.set(kg,encodeURIComponent(e))}addPostLogoutRedirectUri(e){Yr.validateRedirectUri(e),this.parameters.set(ny,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(oy,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(fy,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(hy,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(tt.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(tt.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(my,encodeURIComponent(e))}addClaims(e,r){let n=this.addClientCapabilitiesToClaims(e,r);Yr.validateClaims(n),this.parameters.set(Ug,encodeURIComponent(n))}addCorrelationId(e){this.parameters.set(Kg,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(Wg,e.sku),this.parameters.set(Qg,e.version),e.os&&this.parameters.set(Yg,e.os),e.cpu&&this.parameters.set(Jg,e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set(ty,e.appName),e?.appVersion&&this.parameters.set(ry,e.appVersion)}addPrompt(e){Yr.validatePrompt(e),this.parameters.set(`${jg}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(qg,encodeURIComponent(e))}addNonce(e){this.parameters.set(Hg,encodeURIComponent(e))}addCodeChallengeParams(e,r){if(Yr.validateCodeChallengeParams(e,r),e&&r)this.parameters.set($g,encodeURIComponent(e)),this.parameters.set(zg,encodeURIComponent(r));else throw ue(_n)}addAuthorizationCode(e){this.parameters.set(Gg,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(iy,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(Bg,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(Vg,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(sy,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(ay,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(cy,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(dy,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(ly,encodeURIComponent(e))}addGrantType(e){this.parameters.set(Lg,encodeURIComponent(e))}addClientInfo(){this.parameters.set(iT,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([r,n])=>{!this.parameters.has(r)&&n&&this.parameters.set(r,n)})}addClientCapabilitiesToClaims(e,r){let n;if(!e)n={};else try{n=JSON.parse(e)}catch{throw ue(yn)}return r&&r.length>0&&(n.hasOwnProperty(ds.ACCESS_TOKEN)||(n[ds.ACCESS_TOKEN]={}),n[ds.ACCESS_TOKEN][ds.XMS_CC]={values:r}),JSON.stringify(n)}addUsername(e){this.parameters.set(Rl.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(Rl.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(Hl,ie.POP),this.parameters.set(jl,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(Hl,ie.SSH),this.parameters.set(jl,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(Xg,e.generateCurrentRequestHeaderValue()),this.parameters.set(Zg,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(ey,un.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(py,encodeURIComponent(e))}createQueryString(){let e=new Array;return this.parameters.forEach((r,n)=>{e.push(`${n}=${r}`)}),e.join("&")}}});var gt,Vc=v(()=>{"use strict";Xl();AT();$l();Re();Vl();$c();Lc();zc();Dg();Qr();gt=class{constructor(e,r){this.config=ST(e),this.logger=new Xt(this.config.loggerOptions,zl,Cs),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Zl(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}createTokenRequestHeaders(e){let r={};if(r[tt.CONTENT_TYPE]=A.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Dt.HOME_ACCOUNT_ID:try{let n=Sn(e.credential);r[tt.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case Dt.UPN:r[tt.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}async executePostToTokenEndpoint(e,r,n,o,i,s){s&&this.performanceClient?.addQueueMeasurement(s,i);let a=await this.networkManager.sendPostRequest(o,e,{body:r,headers:n});return this.performanceClient?.addFields({refreshTokenSize:a.body.refresh_token?.length||0,httpVerToken:a.headers?.[tt.X_MS_HTTP_VERSION]||""},i),this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async updateAuthority(e,r){this.performanceClient?.addQueueMeasurement(C.UpdateTokenEndpointAuthority,r);let n=`https://${e}/${this.authority.tenant}/`,o=await Ng(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=o}createTokenQueryParameters(e){let r=new Ne;return e.tokenQueryParameters&&r.addExtraQueryParameters(e.tokenQueryParameters),r.createQueryString()}}});var eu={};At(eu,{badToken:()=>uo,consentRequired:()=>Ty,interactionRequired:()=>Sy,loginRequired:()=>Ay,nativeAccountUnavailable:()=>Kc,noTokensFound:()=>lo,refreshTokenExpired:()=>Wc});var lo,Kc,Wc,Sy,Ty,Ay,uo,tu=v(()=>{"use strict";lo="no_tokens_found",Kc="native_account_unavailable",Wc="refresh_token_expired",Sy="interaction_required",Ty="consent_required",Ay="login_required",uo="bad_token"});function by(t,e,r){let n=!!t&&IT.indexOf(t)>-1,o=!!r&&F4.indexOf(r)>-1,i=!!e&&IT.some(s=>e.indexOf(s)>-1);return n||i||o}function nu(t){return new sr(t,ru[t])}var IT,F4,ru,Iy,sr,ou=v(()=>{"use strict";Re();pn();tu();IT=[Sy,Ty,Ay,uo],F4=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],ru={[lo]:"No refresh token found in the cache. Please sign-in.",[Kc]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Wc]:"Refresh token has expired.",[uo]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."},Iy={noTokensFoundError:{code:lo,desc:ru[lo]},native_account_unavailable:{code:Kc,desc:ru[Kc]},bad_token:{code:uo,desc:ru[uo]}},sr=class t extends te{constructor(e,r,n,o,i,s,a,c){super(e,r,n),Object.setPrototypeOf(this,t.prototype),this.timestamp=o||A.EMPTY_STRING,this.traceId=i||A.EMPTY_STRING,this.correlationId=s||A.EMPTY_STRING,this.claims=a||A.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}});var iu,bT=v(()=>{"use strict";Re();dt();rt();iu=class t{static setRequestState(e,r,n){let o=t.generateLibraryState(e,n);return r?`${o}${A.RESOURCE_DELIM}${r}`:o}static generateLibraryState(e,r){if(!e)throw b(no);let n={id:e.createNewGuid()};r&&(n.meta=r);let o=JSON.stringify(n);return e.base64Encode(o)}static parseRequestState(e,r){if(!e)throw b(no);if(!r)throw b(Dr);try{let n=r.split(A.RESOURCE_DELIM),o=n[0],i=n.length>1?n.slice(1).join(A.RESOURCE_DELIM):A.EMPTY_STRING,s=e.base64Decode(o),a=JSON.parse(s);return{userRequestState:i||A.EMPTY_STRING,libraryState:a}}catch{throw b(Dr)}}}});var B4,Tn,su=v(()=>{"use strict";Li();Mi();Qr();so();B4={SW:"sw",UHW:"uhw"},Tn=class{constructor(e,r){this.cryptoUtils=e,this.performanceClient=r}async generateCnf(e,r){this.performanceClient?.addQueueMeasurement(C.PopTokenGenerateCnf,e.correlationId);let n=await se(this.generateKid.bind(this),C.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:o}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(C.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:B4.SW}}async signPopToken(e,r,n){return this.signPayload(e,r,n)}async signPayload(e,r,n,o){let{resourceRequestMethod:i,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:d}=n,m=(s?new re(s):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Jt(),m:i?.toUpperCase(),u:m?.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:m?.AbsolutePath,q:m?.QueryString?[[],m.QueryString]:void 0,client_claims:a||void 0,...o},r,d,n.correlationId)}}});var ar,Ry=v(()=>{"use strict";ar=class{constructor(e,r){this.cache=e,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}});function q4(t){let e="code=",r=t.error_uri?.lastIndexOf(e);return r&&r>=0?t.error_uri?.substring(r+e.length):void 0}function RT(t,e,r,n,o,i,s,a,c,d,u){u?.verbose("setCachedAccount called");let f=t.getAccountKeys().find(w=>w.startsWith(r)),h=null;f&&(h=t.getAccount(f,u));let y=h||ut.createAccount({homeAccountId:r,idTokenClaims:o,clientInfo:i,environment:s,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:d},e,n),E=y.tenantProfiles||[],I=a||y.realm;if(I&&!E.find(w=>w.tenantId===I)){let w=Fc(r,y.localAccountId,I,o);E.push(w)}return y.tenantProfiles=E,y}var We,Qc=v(()=>{"use strict";dt();jc();Mc();Yl();ou();bT();Re();su();Ry();Qr();hs();yy();Wl();vs();rt();We=class t{constructor(e,r,n,o,i,s,a){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=o,this.serializableCache=i,this.persistencePlugin=s,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,r){if(!e.state||!r)throw e.state?b(to,"Cached State"):b(to,"Server State");let n,o;try{n=decodeURIComponent(e.state)}catch{throw b(Dr,e.state)}try{o=decodeURIComponent(r)}catch{throw b(Dr,e.state)}if(n!==o)throw b(ui);if(e.error||e.error_description||e.suberror){let i=q4(e);throw by(e.error,e.error_description,e.suberror)?new sr(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",i):new $t(e.error||"",e.error_description,e.suberror,i)}}validateTokenResponse(e,r){if(e.error||e.error_description||e.suberror){let n=`Error(s): ${e.error_codes||A.NOT_AVAILABLE} - Timestamp: ${e.timestamp||A.NOT_AVAILABLE} - Description: ${e.error_description||A.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||A.NOT_AVAILABLE} - Trace ID: ${e.trace_id||A.NOT_AVAILABLE}`,o=e.error_codes?.length?e.error_codes[0]:void 0,i=new $t(e.error,n,e.suberror,o,e.status);if(r&&e.status&&e.status>=he.SERVER_ERROR_RANGE_START&&e.status<=he.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${i}`);return}else if(r&&e.status&&e.status>=he.CLIENT_ERROR_RANGE_START&&e.status<=he.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${i}`);return}throw by(e.error,e.error_description,e.suberror)?new sr(e.error,e.error_description,e.suberror,e.timestamp||A.EMPTY_STRING,e.trace_id||A.EMPTY_STRING,e.correlation_id||A.EMPTY_STRING,e.claims||A.EMPTY_STRING,o):i}}async handleServerTokenResponse(e,r,n,o,i,s,a,c,d){this.performanceClient?.addQueueMeasurement(C.HandleServerTokenResponse,e.correlation_id);let u;if(e.id_token){if(u=gn(e.id_token||A.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&u.nonce!==i.nonce)throw b(pi);if(o.maxAge||o.maxAge===0){let y=u.auth_time;if(!y)throw b(mn);Cc(y,o.maxAge)}}this.homeAccountIdentifier=ut.generateHomeAccountId(e.client_info||A.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,u);let m;i&&i.state&&(m=iu.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||o.sshKid||void 0;let f=this.generateCacheRecord(e,r,n,o,u,s,i),h;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new ar(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(h)),a&&!c&&f.account){let y=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(y,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await t.generateAuthenticationResult(this.cryptoObj,r,f,!1,o,u,m,void 0,d)}await this.cacheStorage.saveCacheRecord(f,o.storeInCache,o.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(h))}return t.generateAuthenticationResult(this.cryptoObj,r,f,!1,o,u,m,e,d)}generateCacheRecord(e,r,n,o,i,s,a){let c=r.getPreferredCache();if(!c)throw b(fn);let d=Ql(i),u,m;e.id_token&&i&&(u=wg(this.homeAccountIdentifier,c,e.id_token,this.clientId,d||""),m=RT(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,c,d,a,void 0,this.logger));let f=null;if(e.access_token){let E=e.scope?nt.fromString(e.scope):new nt(o.scopes||[]),I=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,w=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,x=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,K=n+I,W=K+w,le=x&&x>0?n+x:void 0;f=Pg(this.homeAccountIdentifier,c,e.access_token,this.clientId,d||r.tenant||"",E.printScopes(),K,W,this.cryptoObj.base64Decode,le,e.token_type,s,e.key_id,o.claims,o.requestedClaimsHash)}let h=null;if(e.refresh_token){let E;if(e.refresh_token_expires_in){let I=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;E=n+I}h=Og(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,E)}let y=null;return e.foci&&(y={clientId:this.clientId,environment:c,familyId:e.foci}),{account:m,idToken:u,accessToken:f,refreshToken:h,appMetadata:y}}static async generateAuthenticationResult(e,r,n,o,i,s,a,c,d){let u=A.EMPTY_STRING,m=[],f=null,h,y,E=A.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===ie.POP&&!i.popKid){let K=new Tn(e),{secret:W,keyId:le}=n.accessToken;if(!le)throw b(Ti);u=await K.signPopToken(W,le,i)}else u=n.accessToken.secret;m=nt.fromString(n.accessToken.target).asArray(),f=new Date(Number(n.accessToken.expiresOn)*1e3),h=new Date(Number(n.accessToken.extendedExpiresOn)*1e3),n.accessToken.refreshOn&&(y=new Date(Number(n.accessToken.refreshOn)*1e3))}n.appMetadata&&(E=n.appMetadata.familyId===Xn?Xn:"");let I=s?.oid||s?.sub||"",w=s?.tid||"";c?.spa_accountid&&n.account&&(n.account.nativeAccountId=c?.spa_accountid);let x=n.account?Kl(n.account.getAccountInfo(),void 0,s,n.idToken?.secret):null;return{authority:r.canonicalAuthority,uniqueId:I,tenantId:w,scopes:m,account:x,idToken:n?.idToken?.secret||"",idTokenClaims:s||{},accessToken:u,fromCache:o,expiresOn:f,extExpiresOn:h,refreshOn:y,correlationId:i.correlationId,requestId:d||A.EMPTY_STRING,familyId:E,tokenType:n.accessToken?.tokenType||A.EMPTY_STRING,state:a?a.userRequestState:A.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||A.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||A.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}}}});var As,wT=v(()=>{"use strict";Vc();zc();Re();kc();Xl();Qc();ki();dt();Mi();su();Li();Lc();$c();En();Cy();Qr();so();Bl();rt();Wr();As=class extends gt{constructor(e,r){super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(C.GetAuthCodeUrl,e.correlationId);let r=await se(this.createAuthCodeUrlQueryString.bind(this),C.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return re.appendQueryString(this.authority.authorizationEndpoint,r)}async acquireToken(e,r){if(this.performanceClient?.addQueueMeasurement(C.AuthClientAcquireToken,e.correlationId),!e.code)throw b(fi);let n=Jt(),o=await se(this.executeTokenRequest.bind(this),C.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=o.headers?.[tt.X_MS_REQUEST_ID],s=new We(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(o.body),se(s.handleServerTokenResponse.bind(s),C.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,n,e,r,void 0,void 0,void 0,i)}handleFragmentResponse(e,r){if(new We(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,r),!e.code)throw b(Ei);return e}getLogoutUri(e){if(!e)throw ue(Oi);let r=this.createLogoutUrlQueryString(e);return re.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(C.AuthClientExecuteTokenRequest,r.correlationId);let n=this.createTokenQueryParameters(r),o=re.appendQueryString(e.tokenEndpoint,n),i=await se(this.createTokenRequestBody.bind(this),C.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r),s;if(r.clientInfo)try{let d=Ss(r.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${d.uid}${Ke.CLIENT_INFO_SEPARATOR}${d.utid}`,type:Dt.HOME_ACCOUNT_ID}}catch(d){this.logger.verbose("Could not parse client info for CCS Header: "+d)}let a=this.createTokenRequestHeaders(s||r.ccsCredential),c={clientId:r.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return se(this.executePostToTokenEndpoint.bind(this),C.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(o,i,a,c,r.correlationId,C.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(C.AuthClientCreateTokenRequestBody,e.correlationId);let r=new Ne;if(r.addClientId(e.tokenBodyParameters?.[ao]||this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):Yr.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.oidcDefaultScopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!Hc(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await Nt(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(i.assertionType)}if(r.addGrantType(Yt.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),e.authenticationScheme===ie.POP){let i=new Tn(this.cryptoUtils,this.performanceClient),s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(await se(i.generateCnf.bind(i),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(s)}else if(e.authenticationScheme===ie.SSH)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw ue(vn);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),(!xe.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities);let o;if(e.clientInfo)try{let i=Ss(e.clientInfo,this.cryptoUtils.base64Decode);o={credential:`${i.uid}${Ke.CLIENT_INFO_SEPARATOR}${i.utid}`,type:Dt.HOME_ACCOUNT_ID}}catch(i){this.logger.verbose("Could not parse client info for CCS Header: "+i)}else o=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case Dt.HOME_ACCOUNT_ID:try{let i=Sn(o.credential);r.addCcsOid(i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case Dt.UPN:r.addCcsUpn(o.credential);break}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Gl])&&r.addExtraQueryParameters({[Gl]:"1"}),r.createQueryString()}async createAuthCodeUrlQueryString(e){this.performanceClient?.addQueueMeasurement(C.AuthClientCreateQueryString,e.correlationId);let r=new Ne;r.addClientId(e.extraQueryParameters?.[ao]||this.config.authOptions.clientId);let n=[...e.scopes||[],...e.extraScopesToConsent||[]];r.addScopes(n,!0,this.oidcDefaultScopes),r.addRedirectUri(e.redirectUri);let o=e.correlationId||this.config.cryptoInterface.createNewGuid();if(r.addCorrelationId(o),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),Hc(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==zr.SELECT_ACCOUNT)if(e.sid&&e.prompt===zr.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){let i=this.extractAccountSid(e.account),s=this.extractLoginHint(e.account);if(s&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),s=null),s){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(s);try{let a=Sn(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(i&&e.prompt===zr.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(i);try{let a=Sn(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{let a=Sn(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker&&(r.addNativeBroker(),e.authenticationScheme===ie.POP)){let i=new Tn(this.cryptoUtils),s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(await se(i.generateCnf.bind(i),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(s)}return r.createQueryString()}createLogoutUrlQueryString(e){let r=new Ne;return e.postLogoutRedirectUri&&r.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&r.addCorrelationId(e.correlationId),e.idTokenHint&&r.addIdTokenHint(e.idTokenHint),e.state&&r.addState(e.state),e.logoutHint&&r.addLogoutHint(e.logoutHint),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),r.createQueryString()}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}});var H4,po,wy=v(()=>{"use strict";Xl();Vc();zc();Re();kc();Qc();su();ki();En();dt();jc();Li();Mi();$c();Lc();ou();Qr();so();vs();Bl();Wr();rt();tu();H4=300,po=class extends gt{constructor(e,r){super(e,r)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientAcquireToken,e.correlationId);let r=Jt(),n=await se(this.executeTokenRequest.bind(this),C.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),o=n.headers?.[tt.X_MS_REQUEST_ID],i=new We(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n.body),se(i.handleServerTokenResponse.bind(i),C.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,o)}async acquireTokenByRefreshToken(e){if(!e)throw ue(Pi);if(this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw b(hn);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await se(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){let o=n instanceof sr&&n.errorCode===lo,i=n instanceof $t&&n.errorCode===bl.INVALID_GRANT_ERROR&&n.subError===bl.CLIENT_MISMATCH_ERROR;if(o||i)return se(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return se(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,r){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let n=_T(this.cacheManager.getRefreshToken.bind(this.cacheManager),C.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,void 0,this.performanceClient,e.correlationId);if(!n)throw nu(lo);if(n.expiresOn&&ys(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||H4))throw nu(Wc);let o={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||ie.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Dt.HOME_ACCOUNT_ID}};try{return await se(this.acquireToken.bind(this),C.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(o)}catch(i){if(i instanceof sr&&i.subError===uo){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let s=Nc(n);this.cacheManager.removeRefreshToken(s)}throw i}}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientExecuteTokenRequest,e.correlationId);let n=this.createTokenQueryParameters(e),o=re.appendQueryString(r.tokenEndpoint,n),i=await se(this.createTokenRequestBody.bind(this),C.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return se(this.executePostToTokenEndpoint.bind(this),C.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(o,i,s,a,e.correlationId,C.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let r=e.correlationId,n=new Ne;if(n.addClientId(e.tokenBodyParameters?.[ao]||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(Yt.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!Hc(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addCorrelationId(r),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let o=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await Nt(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(o.assertionType)}if(e.authenticationScheme===ie.POP){let o=new Tn(this.cryptoUtils,this.performanceClient),i;e.popKid?i=this.cryptoUtils.encodeKid(e.popKid):i=(await se(o.generateCnf.bind(o),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(i)}else if(e.authenticationScheme===ie.SSH)if(e.sshJwk)n.addSshJwk(e.sshJwk);else throw ue(vn);if((!xe.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Dt.HOME_ACCOUNT_ID:try{let o=Sn(e.ccsCredential.credential);n.addCcsOid(o)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case Dt.UPN:n.addCcsUpn(e.ccsCredential.credential);break}return e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}});var Yc,PT=v(()=>{"use strict";Vc();Li();wy();dt();Qc();Re();ki();hs();Qr();so();Ul();rt();Yc=class extends gt{constructor(e,r){super(e,r)}async acquireToken(e){try{let[r,n]=await this.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...jt]});return n===be.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new po(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),r}catch(r){if(r instanceof oo&&r.errorCode===Vr)return new po(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw r}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(C.SilentFlowClientAcquireCachedToken,e.correlationId);let r=be.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!xe.isEmptyObj(e.claims))throw this.setCacheOutcome(be.FORCE_REFRESH_OR_CLAIMS,e.correlationId),b(Vr);if(!e.account)throw b(hn);let n=e.account.tenantId||ET(e.authority),o=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,o,n,this.performanceClient,e.correlationId);if(i){if(Rg(i.cachedAt)||ys(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(be.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),b(Vr);i.refreshOn&&ys(i.refreshOn,0)&&(r=be.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(be.NO_CACHED_ACCESS_TOKEN,e.correlationId),b(Vr);let s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,o,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await se(this.generateResultFromCacheRecord.bind(this),C.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),r]}setCacheOutcome(e,r){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},r),e!==be.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,r){this.performanceClient?.addQueueMeasurement(C.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=gn(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){let o=n?.auth_time;if(!o)throw b(mn);Cc(o,r.maxAge)}return We.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)}}});function j4(t){let{skus:e,libraryName:r,libraryVersion:n,extensionName:o,extensionVersion:i}=t,s=new Map([[0,[r,n]],[2,[o,i]]]),a=[];if(e?.length){if(a=e.split(OT),a.length<4)return e}else a=Array.from({length:4},()=>xT);return s.forEach((c,d)=>{c.length===2&&c[0]?.length&&c[1]?.length&&G4({skuArr:a,index:d,skuName:c[0],skuVersion:c[1]})}),a.join(OT)}function G4(t){let{skuArr:e,index:r,skuName:n,skuVersion:o}=t;r>=e.length||(e[r]=[n,o].join(xT))}var OT,xT,Fi,NT=v(()=>{"use strict";Re();pn();OT=",",xT="|";Fi=class t{constructor(e,r){this.cacheOutcome=be.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||A.EMPTY_STRING,this.wrapperVer=e.wrapperVer||A.EMPTY_STRING,this.telemetryCacheKey=ct.CACHE_KEY+Ke.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${ct.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&r.push(`broker_error=${n}`);let o=r.join(ct.VALUE_SEPARATOR),i=this.getRegionDiscoveryFields(),s=[e,i].join(ct.VALUE_SEPARATOR);return[ct.SCHEMA_VERSION,s,o].join(ct.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(ct.VALUE_SEPARATOR),o=e.errors.slice(0,r).join(ct.VALUE_SEPARATOR),i=e.errors.length,s=r<i?ct.OVERFLOW_TRUE:ct.OVERFLOW_FALSE,a=[i,s].join(ct.VALUE_SEPARATOR);return[ct.SCHEMA_VERSION,e.cacheHits,n,o,a].join(ct.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let r=this.getLastRequests();r.errors.length>=ct.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof te?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(ct.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey);else{let o={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o)}}static maxErrorsToSend(e){let r,n=0,o=0,i=e.errors.length;for(r=0;r<i;r++){let s=e.failedRequests[2*r]||A.EMPTY_STRING,a=e.failedRequests[2*r+1]||A.EMPTY_STRING,c=e.errors[r]||A.EMPTY_STRING;if(o+=s.toString().length+a.toString().length+c.length+3,o<ct.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||A.EMPTY_STRING),e.push(this.regionSource||A.EMPTY_STRING),e.push(this.regionOutcome||A.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return j4(e)}}});var Se=v(()=>{"use strict";hs();Dg();vs();Li();Sg();Bl();kc();wT();wy();PT();Vc();$c();Ul();Nl();Oc();Ey();Yl();Ry();Mi();gy();zc();Qc();Mc();$l();ou();pn();jc();dt();En();Re();ki();NT();tu();fg();rt();Wr();});var An,au=v(()=>{"use strict";Se();An=class{static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],i={homeAccountId:o.home_account_id,environment:o.environment,realm:o.realm,localAccountId:o.local_account_id,username:o.username,authorityType:o.authority_type,name:o.name,clientInfo:o.client_info,lastModificationTime:o.last_modification_time,lastModificationApp:o.last_modification_app,tenantProfiles:o.tenantProfiles?.map(a=>JSON.parse(a))},s=new ut;co.toObject(s,i),r[n]=s}),r}static deserializeIdTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],i={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,realm:o.realm};r[n]=i}),r}static deserializeAccessTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],i={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,realm:o.realm,target:o.target,cachedAt:o.cached_at,expiresOn:o.expires_on,extendedExpiresOn:o.extended_expires_on,refreshOn:o.refresh_on,keyId:o.key_id,tokenType:o.token_type,requestedClaims:o.requestedClaims,requestedClaimsHash:o.requestedClaimsHash,userAssertionHash:o.userAssertionHash};r[n]=i}),r}static deserializeRefreshTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],i={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,familyId:o.family_id,target:o.target,realm:o.realm};r[n]=i}),r}static deserializeAppMetadata(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n];r[n]={clientId:o.client_id,environment:o.environment,familyId:o.family_id}}),r}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}}});var Py={};At(Py,{Deserializer:()=>An,Serializer:()=>Jn});var DT=v(()=>{"use strict";Il();au();});var kT,Is,MT,LT,mo,Jr,UT,$4,Oy,Z,ne,ot,qe,cu,FT,BT,qT,du,yt,In,cr,lu,HT,jT,GT,$T,He=v(()=>{"use strict";Se();kT="Authorization",Is="Metadata",MT="X-IDENTITY-HEADER",LT="secret",mo="api-version",Jr="resource",UT="system_assigned_managed_identity",$4="managed_identity",Oy=`https://login.microsoftonline.com/${$4}/`,Z={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IDENTITY_HEADER:"IDENTITY_HEADER",IDENTITY_SERVER_THUMBPRINT:"IDENTITY_SERVER_THUMBPRINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT"},ne={APP_SERVICE:"AppService",AZURE_ARC:"AzureArc",CLOUD_SHELL:"CloudShell",DEFAULT_TO_IMDS:"DefaultToImds",IMDS:"Imds",SERVICE_FABRIC:"ServiceFabric"},ot={SYSTEM_ASSIGNED:"system-assigned",USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},qe={GET:"get",POST:"post"},cu={SUCCESS:he.SUCCESS,SUCCESS_RANGE_START:he.SUCCESS_RANGE_START,SUCCESS_RANGE_END:he.SUCCESS_RANGE_END,SERVER_ERROR:he.SERVER_ERROR},FT="REGION_NAME",BT=32,qT={SHA256:"sha256"},du={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},yt={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},In={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},cr={ALGORITHM:"alg",RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"},lu={INTERVAL_MS:100,TIMEOUT_MS:5e3},HT=4096,jT=3,GT=1e3,$T=[he.NOT_FOUND,he.REQUEST_TIMEOUT,he.TOO_MANY_REQUESTS,he.SERVER_ERROR,he.SERVICE_UNAVAILABLE,he.GATEWAY_TIMEOUT]});var bs,zT=v(()=>{"use strict";bs=class{static getNetworkResponse(e,r,n){return{headers:e,body:r,status:n}}static urlToHttpOptions(e){let r={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return e.port!==""&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),r}}});var uu,xy,Rs,VT,KT,WT,QT=v(()=>{"use strict";Se();He();zT();uu=ae(require("http"),1),xy=ae(require("https"),1);Rs=class{constructor(e,r){this.proxyUrl=e||"",this.customAgentOptions=r||{}}async sendGetRequestAsync(e,r,n){return this.proxyUrl?VT(e,this.proxyUrl,qe.GET,r,this.customAgentOptions,n):KT(e,qe.GET,r,this.customAgentOptions,n)}async sendPostRequestAsync(e,r){return this.proxyUrl?VT(e,this.proxyUrl,qe.POST,r,this.customAgentOptions):KT(e,qe.POST,r,this.customAgentOptions)}},VT=(t,e,r,n,o,i)=>{let s=new URL(t),a=new URL(e),c=n?.headers||{},d={host:a.hostname,port:a.port,method:"CONNECT",path:s.hostname,headers:c};o&&Object.keys(o).length&&(d.agent=new uu.default.Agent(o));let u="";if(r===qe.POST){let f=n?.body||"";u=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${f.length}\r
\r
${f}`}else i&&(d.timeout=i);let m=`${r.toUpperCase()} ${s.href} HTTP/1.1\r
Host: ${s.host}\r
Connection: close\r
`+u+`\r
`;return new Promise((f,h)=>{let y=uu.default.request(d);i&&y.on("timeout",()=>{y.destroy(),h(new Error("Request time out"))}),y.end(),y.on("connect",(E,I)=>{let w=E?.statusCode||cu.SERVER_ERROR;(w<cu.SUCCESS_RANGE_START||w>cu.SUCCESS_RANGE_END)&&(y.destroy(),I.destroy(),h(new Error(`Error connecting to proxy. Http status code: ${E.statusCode}. Http status message: ${E?.statusMessage||"Unknown"}`))),I.write(m);let x=[];I.on("data",K=>{x.push(K)}),I.on("end",()=>{let W=Buffer.concat([...x]).toString().split(`\r
`),le=parseInt(W[0].split(" ")[1]),et=W[0].split(" ").slice(2).join(" "),Nr=W[W.length-1],Tt=W.slice(1,W.length-2),Ee=new Map;Tt.forEach(pg=>{let rT=pg.split(new RegExp(/:\s(.*)/s)),JW=rT[0],mg=rT[1];try{let Tl=JSON.parse(mg);Tl&&typeof Tl=="object"&&(mg=Tl)}catch{}Ee.set(JW,mg)});let cs=Object.fromEntries(Ee),Sl=bs.getNetworkResponse(cs,WT(le,et,cs,Nr),le);(le<he.SUCCESS_RANGE_START||le>he.SUCCESS_RANGE_END)&&Sl.body.error!==yt.AUTHORIZATION_PENDING&&y.destroy(),f(Sl)}),I.on("error",K=>{y.destroy(),I.destroy(),h(new Error(K.toString()))})}),y.on("error",E=>{y.destroy(),h(new Error(E.toString()))})})},KT=(t,e,r,n,o)=>{let i=e===qe.POST,s=r?.body||"",a=new URL(t),c=r?.headers||{},d={method:e,headers:c,...bs.urlToHttpOptions(a)};return n&&Object.keys(n).length&&(d.agent=new xy.default.Agent(n)),i?d.headers={...d.headers,"Content-Length":s.length}:o&&(d.timeout=o),new Promise((u,m)=>{let f;d.protocol==="http:"?f=uu.default.request(d):f=xy.default.request(d),i&&f.write(s),o&&f.on("timeout",()=>{f.destroy(),m(new Error("Request time out"))}),f.end(),f.on("response",h=>{let y=h.headers,E=h.statusCode,I=h.statusMessage,w=[];h.on("data",x=>{w.push(x)}),h.on("end",()=>{let x=Buffer.concat([...w]).toString(),K=y,W=bs.getNetworkResponse(K,WT(E,I,K,x),E);(E<he.SUCCESS_RANGE_START||E>he.SUCCESS_RANGE_END)&&W.body.error!==yt.AUTHORIZATION_PENDING&&f.destroy(),u(W)})}),f.on("error",h=>{f.destroy(),m(new Error(h.toString()))})})},WT=(t,e,r,n)=>{let o;try{o=JSON.parse(n)}catch{let s,a;t>=he.CLIENT_ERROR_RANGE_START&&t<=he.CLIENT_ERROR_RANGE_END?(s="client_error",a="A client"):t>=he.SERVER_ERROR_RANGE_START&&t<=he.SERVER_ERROR_RANGE_END?(s="server_error",a="A server"):(s="unknown_error",a="An unknown"),o={error:s,error_description:`${a} error occured.
Http status code: ${t}
Http status message: ${e||"Unknown"}
Headers: ${JSON.stringify(r)}`}}return o}});var pu,mu,ho,hu,YT,JT,fu,gu,yu,_u,Jc,XT,vu,Eu,Bi,qi=v(()=>{"use strict";He();pu="invalid_file_extension",mu="invalid_file_path",ho="invalid_managed_identity_id_type",hu="invalid_secret",YT="missing_client_id",JT="network_unavailable",fu="platform_not_supported",gu="unable_to_create_azure_arc",yu="unable_to_create_cloud_shell",_u="unable_to_create_source",Jc="unable_to_read_secret_file",XT="user_assigned_not_available_at_runtime",vu="www_authenticate_header_missing",Eu="www_authenticate_header_unsupported_format",Bi={[Z.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[Z.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[Z.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[Z.MSI_ENDPOINT]:"msi_endpoint_url_malformed"}});function Qe(t){return new Ny(t)}var z4,Ny,ws=v(()=>{"use strict";Se();qi();He();z4={[pu]:"The file path in the WWW-Authenticate header does not contain a .key file.",[mu]:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[ho]:"More than one ManagedIdentityIdType was provided.",[hu]:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",[fu]:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",[YT]:"A ManagedIdentityId id was not provided.",[Bi.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${Z.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[Bi.IDENTITY_ENDPOINT]:`The Managed Identity's '${Z.IDENTITY_ENDPOINT}' environment variable is malformed.`,[Bi.IMDS_ENDPOINT]:`The Managed Identity's '${Z.IMDS_ENDPOINT}' environment variable is malformed.`,[Bi.MSI_ENDPOINT]:`The Managed Identity's '${Z.MSI_ENDPOINT}' environment variable is malformed.`,[JT]:"Authentication unavailable. The request to the managed identity endpoint timed out.",[gu]:"Azure Arc Managed Identities can only be system assigned.",[yu]:"Cloud Shell Managed Identities can only be system assigned.",[_u]:"Unable to create a Managed Identity source based on environment variables.",[Jc]:"Unable to read the secret file.",[XT]:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",[vu]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",[Eu]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."},Ny=class t extends te{constructor(e){super(e,z4[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,t.prototype)}}});var Cu,ZT=v(()=>{"use strict";ws();He();qi();Cu=class{get id(){return this._id}set id(e){this._id=e}get idType(){return this._idType}set idType(e){this._idType=e}constructor(e){let r=e?.userAssignedClientId,n=e?.userAssignedResourceId,o=e?.userAssignedObjectId;if(r){if(n||o)throw Qe(ho);this.id=r,this.idType=ot.USER_ASSIGNED_CLIENT_ID}else if(n){if(r||o)throw Qe(ho);this.id=n,this.idType=ot.USER_ASSIGNED_RESOURCE_ID}else if(o){if(r||n)throw Qe(ho);this.id=o,this.idType=ot.USER_ASSIGNED_OBJECT_ID}else this.id=UT,this.idType=ot.SYSTEM_ASSIGNED}}});var Su,eA=v(()=>{"use strict";Su=class{constructor(e,r,n){this.maxRetries=e,this.retryDelay=r,this.httpStatusCodesToRetryOn=n}retryAfterMillisecondsToSleep(e){if(!e)return 0;let r=Math.round(parseFloat(e)*1e3);return isNaN(r)&&(r=Math.max(0,new Date(e).valueOf()-new Date().valueOf())),r}async pauseForRetry(e,r,n){if(this.httpStatusCodesToRetryOn.includes(e)&&r<this.maxRetries){let o=this.retryAfterMillisecondsToSleep(n);return await new Promise(i=>setTimeout(i,o||this.retryDelay)),!0}return!1}}});var Tu,tA=v(()=>{"use strict";Se();He();Tu=class{constructor(e,r){this.httpClientNoRetries=e,this.retryPolicy=r}async sendNetworkRequestAsyncHelper(e,r,n){return e===qe.GET?this.httpClientNoRetries.sendGetRequestAsync(r,n):this.httpClientNoRetries.sendPostRequestAsync(r,n)}async sendNetworkRequestAsync(e,r,n){let o=await this.sendNetworkRequestAsyncHelper(e,r,n),i=0;for(;await this.retryPolicy.pauseForRetry(o.status,i,o.headers[tt.RETRY_AFTER]);)o=await this.sendNetworkRequestAsyncHelper(e,r,n),i++;return o}async sendGetRequestAsync(e,r){return this.sendNetworkRequestAsync(qe.GET,e,r)}async sendPostRequestAsync(e,r){return this.sendNetworkRequestAsync(qe.POST,e,r)}}});var pt,zt,Xc=v(()=>{"use strict";Se();pt={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}},zt=class t extends te{constructor(e,r){super(e,r),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new t(pt.invalidLoopbackAddressType.code,`${pt.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new t(pt.unableToLoadRedirectUri.code,`${pt.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new t(pt.noAuthCodeInResponse.code,`${pt.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new t(pt.noLoopbackServerExists.code,`${pt.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new t(pt.loopbackServerAlreadyExists.code,`${pt.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new t(pt.loopbackServerTimeout.code,`${pt.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new t(pt.stateNotFoundError.code,pt.stateNotFoundError.desc)}static createThumbprintMissingError(){return new t(pt.thumbprintMissing.code,pt.thumbprintMissing.desc)}}});function Au({auth:t,broker:e,cache:r,system:n,telemetry:o}){let i={...W4,networkClient:new Rs(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||Dy,disableInternalRetries:n?.disableInternalRetries||!1};if(t.clientCertificate&&!t.clientCertificate.thumbprint&&!t.clientCertificate.thumbprintSha256)throw zt.createStateNotFoundError();return{auth:{...V4,...t},broker:{...e},cache:{...K4,...r},system:{...i,...n},telemetry:{...Q4,...o}}}function rA({managedIdentityIdParams:t,system:e}){let r=new Cu(t),n=e?.loggerOptions||Dy,o;if(e?.networkClient?o=e.networkClient:o=new Rs(e?.proxyUrl,e?.customAgentOptions),!e?.disableInternalRetries){let i=new Su(jT,GT,$T);o=new Tu(o,i)}return{managedIdentityId:r,system:{loggerOptions:n,networkClient:o}}}var V4,K4,Dy,W4,Q4,Iu=v(()=>{"use strict";Se();QT();ZT();He();eA();tA();Xc();V4={clientId:A.EMPTY_STRING,authority:A.DEFAULT_AUTHORITY,clientSecret:A.EMPTY_STRING,clientAssertion:A.EMPTY_STRING,clientCertificate:{thumbprint:A.EMPTY_STRING,thumbprintSha256:A.EMPTY_STRING,privateKey:A.EMPTY_STRING,x5c:A.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:A.EMPTY_STRING,authorityMetadata:A.EMPTY_STRING,clientCapabilities:[],protocolMode:Gt.AAD,azureCloudOptions:{azureCloudInstance:Cn.None,tenant:A.EMPTY_STRING},skipAuthorityMetadataCache:!1},K4={claimsBasedCachingEnabled:!1},Dy={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Be.Info},W4={loggerOptions:Dy,networkClient:new Rs,proxyUrl:A.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},Q4={application:{appName:A.EMPTY_STRING,appVersion:A.EMPTY_STRING}}});function ky(){return bu>Ru.length-16&&(nA.default.randomFillSync(Ru),bu=0),Ru.slice(bu,bu+=16)}var nA,Ru,bu,oA=v(()=>{nA=ae(require("crypto")),Ru=new Uint8Array(256),bu=Ru.length});var iA,sA=v(()=>{iA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Y4(t){return typeof t=="string"&&iA.test(t)}var aA,cA=v(()=>{sA();aA=Y4});function J4(t,e=0){let r=(_t[t[e+0]]+_t[t[e+1]]+_t[t[e+2]]+_t[t[e+3]]+"-"+_t[t[e+4]]+_t[t[e+5]]+"-"+_t[t[e+6]]+_t[t[e+7]]+"-"+_t[t[e+8]]+_t[t[e+9]]+"-"+_t[t[e+10]]+_t[t[e+11]]+_t[t[e+12]]+_t[t[e+13]]+_t[t[e+14]]+_t[t[e+15]]).toLowerCase();if(!aA(r))throw TypeError("Stringified UUID is invalid");return r}var _t,dA,lA=v(()=>{cA();_t=[];for(let t=0;t<256;++t)_t.push((t+256).toString(16).substr(1));dA=J4});function X4(t,e,r){t=t||{};let n=t.random||(t.rng||ky)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return dA(n)}var My,uA=v(()=>{oA();lA();My=X4});var pA=v(()=>{uA()});var wu,mA=v(()=>{"use strict";pA();wu=class{generateGuid(){return My()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}}});var Zt,Zc=v(()=>{"use strict";Se();Zt=class t{static base64Encode(e,r){return Buffer.from(e,r).toString("base64")}static base64EncodeUrl(e,r){return t.base64Encode(e,r).replace(/=/g,A.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,"base64").toString("utf8")}static base64DecodeUrl(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4;)r+="=";return t.base64Decode(r)}}});var hA,Ps,Ly=v(()=>{"use strict";He();hA=ae(require("crypto"),1);Ps=class{sha256(e){return hA.default.createHash(qT.SHA256).update(e).digest()}}});var fA,Pu,gA=v(()=>{"use strict";Se();He();Zc();Ly();fA=ae(require("crypto"),1);Pu=class{constructor(){this.hashUtils=new Ps}async generatePkceCodes(){let e=this.generateCodeVerifier(),r=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:r}}generateCodeVerifier(){let e=[],r=256-256%du.CV_CHARSET.length;for(;e.length<=BT;){let o=fA.default.randomBytes(1)[0];if(o>=r)continue;let i=o%du.CV_CHARSET.length;e.push(du.CV_CHARSET[i])}let n=e.join(A.EMPTY_STRING);return Zt.base64EncodeUrl(n)}generateCodeChallengeFromVerifier(e){return Zt.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}});var fo,Ou=v(()=>{"use strict";mA();Zc();gA();Ly();fo=class{constructor(){this.pkceGenerator=new Pu,this.guidGenerator=new wu,this.hashUtils=new Ps}base64UrlEncode(){throw new Error("Method not implemented.")}encodeKid(){throw new Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return Zt.base64Encode(e)}base64Decode(e){return Zt.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw new Error("Method not implemented.")}removeTokenBindingKey(){throw new Error("Method not implemented.")}clearKeystore(){throw new Error("Method not implemented.")}signJwt(){throw new Error("Method not implemented.")}async hashString(e){return Zt.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}});var go,xu=v(()=>{"use strict";Se();au();Il();go=class extends co{constructor(e,r,n,o){super(r,n,e,o),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let r={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let n in e){let o=e[n];if(typeof o=="object")if(o instanceof ut)r.accounts[n]=o;else if(lt.isIdTokenEntity(o))r.idTokens[n]=o;else if(lt.isAccessTokenEntity(o))r.accessTokens[n]=o;else if(lt.isRefreshTokenEntity(o))r.refreshTokens[n]=o;else if(lt.isAppMetadataEntity(n,o))r.appMetadata[n]=o;else continue}return r}inMemoryCacheToCache(e){let r=this.getCache();return r={...r,...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata},r}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let r=this.inMemoryCacheToCache(e);this.setCache(r),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,r){this.logger.tracePii(`Item key: ${e}`);let n=this.getCache();n[e]=r,this.setCache(n)}getAccountKeys(){let e=this.getInMemoryCache();return Object.keys(e.accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){let r=this.getCachedAccountEntity(e);return r&&ut.isAccountEntity(r)?this.updateOutdatedCachedAccount(e,r):null}getCachedAccountEntity(e){return this.getItem(e)?Object.assign(new ut,this.getItem(e)):null}setAccount(e){let r=e.generateAccountKey();this.setItem(r,e)}getIdTokenCredential(e){let r=this.getItem(e);return lt.isIdTokenEntity(r)?r:null}setIdTokenCredential(e){let r=lt.generateCredentialKey(e);this.setItem(r,e)}getAccessTokenCredential(e){let r=this.getItem(e);return lt.isAccessTokenEntity(r)?r:null}setAccessTokenCredential(e){let r=lt.generateCredentialKey(e);this.setItem(r,e)}getRefreshTokenCredential(e){let r=this.getItem(e);return lt.isRefreshTokenEntity(r)?r:null}setRefreshTokenCredential(e){let r=lt.generateCredentialKey(e);this.setItem(r,e)}getAppMetadata(e){let r=this.getItem(e);return lt.isAppMetadataEntity(e,r)?r:null}setAppMetadata(e){let r=lt.generateAppMetadataKey(e);this.setItem(r,e)}getServerTelemetry(e){let r=this.getItem(e);return r&&lt.isServerTelemetryEntity(e,r)?r:null}setServerTelemetry(e,r){this.setItem(e,r)}getAuthorityMetadata(e){let r=this.getItem(e);return r&&lt.isAuthorityMetadataEntity(e,r)?r:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,r){this.setItem(e,r)}getThrottlingCache(e){let r=this.getItem(e);return r&&lt.isThrottlingEntity(e,r)?r:null}setThrottlingCache(e,r){this.setItem(e,r)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let r=!1,n=this.getCache();return n[e]&&(delete n[e],r=!0),r&&(this.setCache(n),this.emitChange()),r}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){this.logger.trace("Retrieving all cache keys");let e=this.getCache();return[...Object.keys(e)]}async clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(r=>{this.removeItem(r)}),this.emitChange()}static generateInMemoryCache(e){return An.deserializeAllCache(An.deserializeJSONBlob(e))}static generateJsonCache(e){return Jn.serializeAllCache(e)}updateCredentialCacheKey(e,r){let n=lt.generateCredentialKey(r);if(e!==n){let o=this.getItem(e);if(o)return this.removeItem(e),this.setItem(n,o),this.logger.verbose(`Updated an outdated ${r.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${r.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}}});var ed,Os,Uy=v(()=>{"use strict";Se();au();Il();ed={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}},Os=class{constructor(e,r,n){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=r}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=Jn.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let r=An.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(r)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}async getAllAccounts(){this.logger.trace("getAllAccounts called");let e;try{return this.persistence&&(e=new ar(this,!0),await this.persistence.beforeCacheAccess(e)),this.storage.getAllAccounts()}finally{this.persistence&&e&&await this.persistence.afterCacheAccess(e)}}async getAccountByHomeId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.localAccountId===e)[0]||null}async removeAccount(e){this.logger.trace("removeAccount called");let r;try{this.persistence&&(r=new ar(this,!0),await this.persistence.beforeCacheAccess(r)),await this.storage.removeAccount(ut.generateAccountCacheKey(e))}finally{this.persistence&&r&&await this.persistence.afterCacheAccess(r)}}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,r){this.logger.trace("Merging in-memory cache with cache snapshot");let n=this.mergeRemovals(e,r);return this.mergeUpdates(n,r)}mergeUpdates(e,r){return Object.keys(r).forEach(n=>{let o=r[n];if(!e.hasOwnProperty(n))o!==null&&(e[n]=o);else{let i=o!==null,s=typeof o=="object",a=!Array.isArray(o),c=typeof e[n]<"u"&&e[n]!==null;i&&s&&a&&c?this.mergeUpdates(e[n],o):e[n]=o}}),e}mergeRemovals(e,r){this.logger.trace("Remove updated entries in cache");let n=e.Account?this.mergeRemovalsDict(e.Account,r.Account):e.Account,o=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,r.AccessToken):e.AccessToken,i=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,r.RefreshToken):e.RefreshToken,s=e.IdToken?this.mergeRemovalsDict(e.IdToken,r.IdToken):e.IdToken,a=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,r.AppMetadata):e.AppMetadata;return{...e,Account:n,AccessToken:o,RefreshToken:i,IdToken:s,AppMetadata:a}}mergeRemovalsDict(e,r){let n={...e};return Object.keys(e).forEach(o=>{(!r||!r.hasOwnProperty(o))&&delete n[o]}),n}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...ed.Account,...e.Account},IdToken:{...ed.IdToken,...e.IdToken},AccessToken:{...ed.AccessToken,...e.AccessToken},RefreshToken:{...ed.RefreshToken,...e.RefreshToken},AppMetadata:{...ed.AppMetadata,...e.AppMetadata}}}}});var xs=g((Fy,_A)=>{var Nu=require("buffer"),Xr=Nu.Buffer;function yA(t,e){for(var r in t)e[r]=t[r]}Xr.from&&Xr.alloc&&Xr.allocUnsafe&&Xr.allocUnsafeSlow?_A.exports=Nu:(yA(Nu,Fy),Fy.Buffer=Hi);function Hi(t,e,r){return Xr(t,e,r)}Hi.prototype=Object.create(Xr.prototype);yA(Xr,Hi);Hi.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Xr(t,e,r)};Hi.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Xr(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Hi.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Xr(t)};Hi.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Nu.SlowBuffer(t)}});var By=g((TLe,vA)=>{var Du=xs().Buffer,Z4=require("stream"),eQ=require("util");function ku(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=Du.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=Du.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}eQ.inherits(ku,Z4);ku.prototype.write=function(e){this.buffer=Du.concat([this.buffer,Du.from(e)]),this.emit("data",e)};ku.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1};vA.exports=ku});var CA=g((ALe,EA)=>{"use strict";var td=require("buffer").Buffer,qy=require("buffer").SlowBuffer;EA.exports=Mu;function Mu(t,e){if(!td.isBuffer(t)||!td.isBuffer(e)||t.length!==e.length)return!1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}Mu.install=function(){td.prototype.equal=qy.prototype.equal=function(e){return Mu(this,e)}};var tQ=td.prototype.equal,rQ=qy.prototype.equal;Mu.restore=function(){td.prototype.equal=tQ,qy.prototype.equal=rQ}});var TA=g((ILe,SA)=>{"use strict";function Hy(t){var e=(t/8|0)+(t%8===0?0:1);return e}var nQ={ES256:Hy(256),ES384:Hy(384),ES512:Hy(521)};function oQ(t){var e=nQ[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}SA.exports=oQ});var OA=g((bLe,PA)=>{"use strict";var Lu=xs().Buffer,IA=TA(),Uu=128,bA=0,iQ=32,sQ=16,aQ=2,RA=sQ|iQ|bA<<6,Fu=aQ|bA<<6;function cQ(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wA(t){if(Lu.isBuffer(t))return t;if(typeof t=="string")return Lu.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function dQ(t,e){t=wA(t);var r=IA(e),n=r+1,o=t.length,i=0;if(t[i++]!==RA)throw new Error('Could not find expected "seq"');var s=t[i++];if(s===(Uu|1)&&(s=t[i++]),o-i<s)throw new Error('"seq" specified length of "'+s+'", only "'+(o-i)+'" remaining');if(t[i++]!==Fu)throw new Error('Could not find expected "int" for "r"');var a=t[i++];if(o-i-2<a)throw new Error('"r" specified length of "'+a+'", only "'+(o-i-2)+'" available');if(n<a)throw new Error('"r" specified length of "'+a+'", max of "'+n+'" is acceptable');var c=i;if(i+=a,t[i++]!==Fu)throw new Error('Could not find expected "int" for "s"');var d=t[i++];if(o-i!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(o-i)+'"');if(n<d)throw new Error('"s" specified length of "'+d+'", max of "'+n+'" is acceptable');var u=i;if(i+=d,i!==o)throw new Error('Expected to consume entire buffer, but "'+(o-i)+'" bytes remain');var m=r-a,f=r-d,h=Lu.allocUnsafe(m+a+f+d);for(i=0;i<m;++i)h[i]=0;t.copy(h,i,c+Math.max(-m,0),c+a),i=r;for(var y=i;i<y+f;++i)h[i]=0;return t.copy(h,i,u+Math.max(-f,0),u+d),h=h.toString("base64"),h=cQ(h),h}function AA(t,e,r){for(var n=0;e+n<r&&t[e+n]===0;)++n;var o=t[e+n]>=Uu;return o&&--n,n}function lQ(t,e){t=wA(t);var r=IA(e),n=t.length;if(n!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var o=AA(t,0,r),i=AA(t,r,t.length),s=r-o,a=r-i,c=2+s+1+1+a,d=c<Uu,u=Lu.allocUnsafe((d?2:3)+c),m=0;return u[m++]=RA,d?u[m++]=c:(u[m++]=Uu|1,u[m++]=c&255),u[m++]=Fu,u[m++]=s,o<0?(u[m++]=0,m+=t.copy(u,m,0,r)):m+=t.copy(u,m,o,r),u[m++]=Fu,u[m++]=a,i<0?(u[m++]=0,t.copy(u,m,r)):t.copy(u,m,r+i),u}PA.exports={derToJose:dQ,joseToDer:lQ}});var $y=g((RLe,BA)=>{var uQ=CA(),Ds=xs().Buffer,Zr=require("crypto"),NA=OA(),xA=require("util"),pQ=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,rd="secret must be a string or buffer",Ns="key must be a string or a buffer",mQ="key must be a string, a buffer or an object",jy=typeof Zr.createPublicKey=="function";jy&&(Ns+=" or a KeyObject",rd+="or a KeyObject");function DA(t){if(!Ds.isBuffer(t)&&typeof t!="string"&&(!jy||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw Mr(Ns)}function kA(t){if(!Ds.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw Mr(mQ)}function hQ(t){if(!Ds.isBuffer(t)){if(typeof t=="string")return t;if(!jy||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw Mr(rd)}}function Gy(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function MA(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}function Mr(t){var e=[].slice.call(arguments,1),r=xA.format.bind(xA,t).apply(null,e);return new TypeError(r)}function fQ(t){return Ds.isBuffer(t)||typeof t=="string"}function nd(t){return fQ(t)||(t=JSON.stringify(t)),t}function LA(t){return function(r,n){hQ(n),r=nd(r);var o=Zr.createHmac("sha"+t,n),i=(o.update(r),o.digest("base64"));return Gy(i)}}function gQ(t){return function(r,n,o){var i=LA(t)(r,o);return uQ(Ds.from(n),Ds.from(i))}}function UA(t){return function(r,n){kA(n),r=nd(r);var o=Zr.createSign("RSA-SHA"+t),i=(o.update(r),o.sign(n,"base64"));return Gy(i)}}function FA(t){return function(r,n,o){DA(o),r=nd(r),n=MA(n);var i=Zr.createVerify("RSA-SHA"+t);return i.update(r),i.verify(o,n,"base64")}}function yQ(t){return function(r,n){kA(n),r=nd(r);var o=Zr.createSign("RSA-SHA"+t),i=(o.update(r),o.sign({key:n,padding:Zr.constants.RSA_PKCS1_PSS_PADDING,saltLength:Zr.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return Gy(i)}}function _Q(t){return function(r,n,o){DA(o),r=nd(r),n=MA(n);var i=Zr.createVerify("RSA-SHA"+t);return i.update(r),i.verify({key:o,padding:Zr.constants.RSA_PKCS1_PSS_PADDING,saltLength:Zr.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function vQ(t){var e=UA(t);return function(){var n=e.apply(null,arguments);return n=NA.derToJose(n,"ES"+t),n}}function EQ(t){var e=FA(t);return function(n,o,i){o=NA.joseToDer(o,"ES"+t).toString("base64");var s=e(n,o,i);return s}}function CQ(){return function(){return""}}function SQ(){return function(e,r){return r===""}}BA.exports=function(e){var r={hs:LA,rs:UA,ps:yQ,es:vQ,none:CQ},n={hs:gQ,rs:FA,ps:_Q,es:EQ,none:SQ},o=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!o)throw Mr(pQ,e);var i=(o[1]||o[3]).toLowerCase(),s=o[2];return{sign:r[i](s),verify:n[i](s)}}});var zy=g((wLe,qA)=>{var TQ=require("buffer").Buffer;qA.exports=function(e){return typeof e=="string"?e:typeof e=="number"||TQ.isBuffer(e)?e.toString():JSON.stringify(e)}});var VA=g((PLe,zA)=>{var AQ=xs().Buffer,HA=By(),IQ=$y(),bQ=require("stream"),jA=zy(),Vy=require("util");function GA(t,e){return AQ.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function RQ(t,e,r){r=r||"utf8";var n=GA(jA(t),"binary"),o=GA(jA(e),r);return Vy.format("%s.%s",n,o)}function $A(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,o=t.encoding,i=IQ(e.alg),s=RQ(e,r,o),a=i.sign(s,n);return Vy.format("%s.%s",s,a)}function Bu(t){var e=t.secret||t.privateKey||t.key,r=new HA(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new HA(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}Vy.inherits(Bu,bQ);Bu.prototype.sign=function(){try{var e=$A({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};Bu.sign=$A;zA.exports=Bu});var rI=g((OLe,tI)=>{var WA=xs().Buffer,KA=By(),wQ=$y(),PQ=require("stream"),QA=zy(),OQ=require("util"),xQ=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function NQ(t){return Object.prototype.toString.call(t)==="[object Object]"}function DQ(t){if(NQ(t))return t;try{return JSON.parse(t)}catch{return}}function YA(t){var e=t.split(".",1)[0];return DQ(WA.from(e,"base64").toString("binary"))}function kQ(t){return t.split(".",2).join(".")}function JA(t){return t.split(".")[2]}function MQ(t,e){e=e||"utf8";var r=t.split(".")[1];return WA.from(r,"base64").toString(e)}function XA(t){return xQ.test(t)&&!!YA(t)}function ZA(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}t=QA(t);var o=JA(t),i=kQ(t),s=wQ(e);return s.verify(i,o,r)}function eI(t,e){if(e=e||{},t=QA(t),!XA(t))return null;var r=YA(t);if(!r)return null;var n=MQ(t);return(r.typ==="JWT"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:r,payload:n,signature:JA(t)}}function ks(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new KA(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new KA(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}OQ.inherits(ks,PQ);ks.prototype.verify=function(){try{var e=ZA(this.signature.buffer,this.algorithm,this.key.buffer),r=eI(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};ks.decode=eI;ks.isValid=XA;ks.verify=ZA;tI.exports=ks});var Hu=g(yo=>{var nI=VA(),qu=rI(),LQ=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];yo.ALGORITHMS=LQ;yo.sign=nI.sign;yo.verify=qu.verify;yo.decode=qu.decode;yo.isValid=qu.isValid;yo.createSign=function(e){return new nI(e)};yo.createVerify=function(e){return new qu(e)}});var Ky=g((NLe,oI)=>{var UQ=Hu();oI.exports=function(t,e){e=e||{};var r=UQ.decode(t,e);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var o=JSON.parse(n);o!==null&&typeof o=="object"&&(n=o)}catch{}return e.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var od=g((DLe,iI)=>{var ju=function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)};ju.prototype=Object.create(Error.prototype);ju.prototype.constructor=ju;iI.exports=ju});var Wy=g((kLe,aI)=>{var sI=od(),Gu=function(t,e){sI.call(this,t),this.name="NotBeforeError",this.date=e};Gu.prototype=Object.create(sI.prototype);Gu.prototype.constructor=Gu;aI.exports=Gu});var Qy=g((MLe,dI)=>{var cI=od(),$u=function(t,e){cI.call(this,t),this.name="TokenExpiredError",this.expiredAt=e};$u.prototype=Object.create(cI.prototype);$u.prototype.constructor=$u;dI.exports=$u});var uI=g((LLe,lI)=>{var Ms=1e3,Ls=Ms*60,Us=Ls*60,ji=Us*24,FQ=ji*7,BQ=ji*365.25;lI.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return qQ(t);if(r==="number"&&isFinite(t))return e.long?jQ(t):HQ(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function qQ(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*BQ;case"weeks":case"week":case"w":return r*FQ;case"days":case"day":case"d":return r*ji;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Us;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ls;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ms;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function HQ(t){var e=Math.abs(t);return e>=ji?Math.round(t/ji)+"d":e>=Us?Math.round(t/Us)+"h":e>=Ls?Math.round(t/Ls)+"m":e>=Ms?Math.round(t/Ms)+"s":t+"ms"}function jQ(t){var e=Math.abs(t);return e>=ji?zu(t,e,ji,"day"):e>=Us?zu(t,e,Us,"hour"):e>=Ls?zu(t,e,Ls,"minute"):e>=Ms?zu(t,e,Ms,"second"):t+" ms"}function zu(t,e,r,n){var o=e>=r*1.5;return Math.round(t/r)+" "+n+(o?"s":"")}});var Yy=g((ULe,pI)=>{var GQ=uI();pI.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t=="string"){var n=GQ(t);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof t=="number"?r+t:void 0}});var id=g((FLe,mI)=>{var $Q="2.0.0",zQ=Number.MAX_SAFE_INTEGER||9007199254740991,VQ=16,KQ=250,WQ=["major","premajor","minor","preminor","patch","prepatch","prerelease"];mI.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:VQ,MAX_SAFE_BUILD_LENGTH:KQ,MAX_SAFE_INTEGER:zQ,RELEASE_TYPES:WQ,SEMVER_SPEC_VERSION:$Q,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var sd=g((BLe,hI)=>{var QQ=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};hI.exports=QQ});var Fs=g((bn,fI)=>{var{MAX_SAFE_COMPONENT_LENGTH:Jy,MAX_SAFE_BUILD_LENGTH:YQ,MAX_LENGTH:JQ}=id(),XQ=sd();bn=fI.exports={};var ZQ=bn.re=[],e6=bn.safeRe=[],D=bn.src=[],k=bn.t={},t6=0,Xy="[a-zA-Z0-9-]",r6=[["\\s",1],["\\d",JQ],[Xy,YQ]],n6=t=>{for(let[e,r]of r6)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},X=(t,e,r)=>{let n=n6(e),o=t6++;XQ(t,o,e),k[t]=o,D[o]=e,ZQ[o]=new RegExp(e,r?"g":void 0),e6[o]=new RegExp(n,r?"g":void 0)};X("NUMERICIDENTIFIER","0|[1-9]\\d*");X("NUMERICIDENTIFIERLOOSE","\\d+");X("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Xy}*`);X("MAINVERSION",`(${D[k.NUMERICIDENTIFIER]})\\.(${D[k.NUMERICIDENTIFIER]})\\.(${D[k.NUMERICIDENTIFIER]})`);X("MAINVERSIONLOOSE",`(${D[k.NUMERICIDENTIFIERLOOSE]})\\.(${D[k.NUMERICIDENTIFIERLOOSE]})\\.(${D[k.NUMERICIDENTIFIERLOOSE]})`);X("PRERELEASEIDENTIFIER",`(?:${D[k.NUMERICIDENTIFIER]}|${D[k.NONNUMERICIDENTIFIER]})`);X("PRERELEASEIDENTIFIERLOOSE",`(?:${D[k.NUMERICIDENTIFIERLOOSE]}|${D[k.NONNUMERICIDENTIFIER]})`);X("PRERELEASE",`(?:-(${D[k.PRERELEASEIDENTIFIER]}(?:\\.${D[k.PRERELEASEIDENTIFIER]})*))`);X("PRERELEASELOOSE",`(?:-?(${D[k.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${D[k.PRERELEASEIDENTIFIERLOOSE]})*))`);X("BUILDIDENTIFIER",`${Xy}+`);X("BUILD",`(?:\\+(${D[k.BUILDIDENTIFIER]}(?:\\.${D[k.BUILDIDENTIFIER]})*))`);X("FULLPLAIN",`v?${D[k.MAINVERSION]}${D[k.PRERELEASE]}?${D[k.BUILD]}?`);X("FULL",`^${D[k.FULLPLAIN]}$`);X("LOOSEPLAIN",`[v=\\s]*${D[k.MAINVERSIONLOOSE]}${D[k.PRERELEASELOOSE]}?${D[k.BUILD]}?`);X("LOOSE",`^${D[k.LOOSEPLAIN]}$`);X("GTLT","((?:<|>)?=?)");X("XRANGEIDENTIFIERLOOSE",`${D[k.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);X("XRANGEIDENTIFIER",`${D[k.NUMERICIDENTIFIER]}|x|X|\\*`);X("XRANGEPLAIN",`[v=\\s]*(${D[k.XRANGEIDENTIFIER]})(?:\\.(${D[k.XRANGEIDENTIFIER]})(?:\\.(${D[k.XRANGEIDENTIFIER]})(?:${D[k.PRERELEASE]})?${D[k.BUILD]}?)?)?`);X("XRANGEPLAINLOOSE",`[v=\\s]*(${D[k.XRANGEIDENTIFIERLOOSE]})(?:\\.(${D[k.XRANGEIDENTIFIERLOOSE]})(?:\\.(${D[k.XRANGEIDENTIFIERLOOSE]})(?:${D[k.PRERELEASELOOSE]})?${D[k.BUILD]}?)?)?`);X("XRANGE",`^${D[k.GTLT]}\\s*${D[k.XRANGEPLAIN]}$`);X("XRANGELOOSE",`^${D[k.GTLT]}\\s*${D[k.XRANGEPLAINLOOSE]}$`);X("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Jy}})(?:\\.(\\d{1,${Jy}}))?(?:\\.(\\d{1,${Jy}}))?`);X("COERCE",`${D[k.COERCEPLAIN]}(?:$|[^\\d])`);X("COERCEFULL",D[k.COERCEPLAIN]+`(?:${D[k.PRERELEASE]})?(?:${D[k.BUILD]})?(?:$|[^\\d])`);X("COERCERTL",D[k.COERCE],!0);X("COERCERTLFULL",D[k.COERCEFULL],!0);X("LONETILDE","(?:~>?)");X("TILDETRIM",`(\\s*)${D[k.LONETILDE]}\\s+`,!0);bn.tildeTrimReplace="$1~";X("TILDE",`^${D[k.LONETILDE]}${D[k.XRANGEPLAIN]}$`);X("TILDELOOSE",`^${D[k.LONETILDE]}${D[k.XRANGEPLAINLOOSE]}$`);X("LONECARET","(?:\\^)");X("CARETTRIM",`(\\s*)${D[k.LONECARET]}\\s+`,!0);bn.caretTrimReplace="$1^";X("CARET",`^${D[k.LONECARET]}${D[k.XRANGEPLAIN]}$`);X("CARETLOOSE",`^${D[k.LONECARET]}${D[k.XRANGEPLAINLOOSE]}$`);X("COMPARATORLOOSE",`^${D[k.GTLT]}\\s*(${D[k.LOOSEPLAIN]})$|^$`);X("COMPARATOR",`^${D[k.GTLT]}\\s*(${D[k.FULLPLAIN]})$|^$`);X("COMPARATORTRIM",`(\\s*)${D[k.GTLT]}\\s*(${D[k.LOOSEPLAIN]}|${D[k.XRANGEPLAIN]})`,!0);bn.comparatorTrimReplace="$1$2$3";X("HYPHENRANGE",`^\\s*(${D[k.XRANGEPLAIN]})\\s+-\\s+(${D[k.XRANGEPLAIN]})\\s*$`);X("HYPHENRANGELOOSE",`^\\s*(${D[k.XRANGEPLAINLOOSE]})\\s+-\\s+(${D[k.XRANGEPLAINLOOSE]})\\s*$`);X("STAR","(<|>)?=?\\s*\\*");X("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");X("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Vu=g((qLe,gI)=>{var o6=Object.freeze({loose:!0}),i6=Object.freeze({}),s6=t=>t?typeof t!="object"?o6:t:i6;gI.exports=s6});var Zy=g((HLe,vI)=>{var yI=/^[0-9]+$/,_I=(t,e)=>{let r=yI.test(t),n=yI.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},a6=(t,e)=>_I(e,t);vI.exports={compareIdentifiers:_I,rcompareIdentifiers:a6}});var It=g((jLe,TI)=>{var Ku=sd(),{MAX_LENGTH:EI,MAX_SAFE_INTEGER:Wu}=id(),{safeRe:CI,t:SI}=Fs(),c6=Vu(),{compareIdentifiers:Bs}=Zy(),e_=class t{constructor(e,r){if(r=c6(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>EI)throw new TypeError(`version is longer than ${EI} characters`);Ku("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?CI[SI.LOOSE]:CI[SI.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Wu||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Wu||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Wu||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let i=+o;if(i>=0&&i<Wu)return i}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ku("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Bs(this.major,e.major)||Bs(this.minor,e.minor)||Bs(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=e.prerelease[r];if(Ku("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Bs(n,o)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],o=e.build[r];if(Ku("build compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Bs(n,o)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let i=[r,o];n===!1&&(i=[r]),Bs(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};TI.exports=e_});var Gi=g((GLe,II)=>{var AI=It(),d6=(t,e,r=!1)=>{if(t instanceof AI)return t;try{return new AI(t,e)}catch(n){if(!r)return null;throw n}};II.exports=d6});var RI=g(($Le,bI)=>{var l6=Gi(),u6=(t,e)=>{let r=l6(t,e);return r?r.version:null};bI.exports=u6});var PI=g((zLe,wI)=>{var p6=Gi(),m6=(t,e)=>{let r=p6(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};wI.exports=m6});var NI=g((VLe,xI)=>{var OI=It(),h6=(t,e,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new OI(t instanceof OI?t.version:t,r).inc(e,n,o).version}catch{return null}};xI.exports=h6});var MI=g((KLe,kI)=>{var DI=Gi(),f6=(t,e)=>{let r=DI(t,null,!0),n=DI(e,null,!0),o=r.compare(n);if(o===0)return null;let i=o>0,s=i?r:n,a=i?n:r,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};kI.exports=f6});var UI=g((WLe,LI)=>{var g6=It(),y6=(t,e)=>new g6(t,e).major;LI.exports=y6});var BI=g((QLe,FI)=>{var _6=It(),v6=(t,e)=>new _6(t,e).minor;FI.exports=v6});var HI=g((YLe,qI)=>{var E6=It(),C6=(t,e)=>new E6(t,e).patch;qI.exports=C6});var GI=g((JLe,jI)=>{var S6=Gi(),T6=(t,e)=>{let r=S6(t,e);return r&&r.prerelease.length?r.prerelease:null};jI.exports=T6});var dr=g((XLe,zI)=>{var $I=It(),A6=(t,e,r)=>new $I(t,r).compare(new $I(e,r));zI.exports=A6});var KI=g((ZLe,VI)=>{var I6=dr(),b6=(t,e,r)=>I6(e,t,r);VI.exports=b6});var QI=g((eUe,WI)=>{var R6=dr(),w6=(t,e)=>R6(t,e,!0);WI.exports=w6});var Qu=g((tUe,JI)=>{var YI=It(),P6=(t,e,r)=>{let n=new YI(t,r),o=new YI(e,r);return n.compare(o)||n.compareBuild(o)};JI.exports=P6});var ZI=g((rUe,XI)=>{var O6=Qu(),x6=(t,e)=>t.sort((r,n)=>O6(r,n,e));XI.exports=x6});var tb=g((nUe,eb)=>{var N6=Qu(),D6=(t,e)=>t.sort((r,n)=>N6(n,r,e));eb.exports=D6});var ad=g((oUe,rb)=>{var k6=dr(),M6=(t,e,r)=>k6(t,e,r)>0;rb.exports=M6});var Yu=g((iUe,nb)=>{var L6=dr(),U6=(t,e,r)=>L6(t,e,r)<0;nb.exports=U6});var t_=g((sUe,ob)=>{var F6=dr(),B6=(t,e,r)=>F6(t,e,r)===0;ob.exports=B6});var r_=g((aUe,ib)=>{var q6=dr(),H6=(t,e,r)=>q6(t,e,r)!==0;ib.exports=H6});var Ju=g((cUe,sb)=>{var j6=dr(),G6=(t,e,r)=>j6(t,e,r)>=0;sb.exports=G6});var Xu=g((dUe,ab)=>{var $6=dr(),z6=(t,e,r)=>$6(t,e,r)<=0;ab.exports=z6});var n_=g((lUe,cb)=>{var V6=t_(),K6=r_(),W6=ad(),Q6=Ju(),Y6=Yu(),J6=Xu(),X6=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return V6(t,r,n);case"!=":return K6(t,r,n);case">":return W6(t,r,n);case">=":return Q6(t,r,n);case"<":return Y6(t,r,n);case"<=":return J6(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};cb.exports=X6});var lb=g((uUe,db)=>{var Z6=It(),eY=Gi(),{safeRe:Zu,t:ep}=Fs(),tY=(t,e)=>{if(t instanceof Z6)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Zu[ep.COERCEFULL]:Zu[ep.COERCE]);else{let c=e.includePrerelease?Zu[ep.COERCERTLFULL]:Zu[ep.COERCERTL],d;for(;(d=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),c.lastIndex=d.index+d[1].length+d[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],o=r[3]||"0",i=r[4]||"0",s=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return eY(`${n}.${o}.${i}${s}${a}`,e)};db.exports=tY});var pb=g((pUe,ub)=>{var o_=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(e,r)}return this}};ub.exports=o_});var lr=g((mUe,gb)=>{var rY=/\s+/g,i_=class t{constructor(e,r){if(r=oY(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof s_)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(rY," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!hb(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&uY(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&dY)|(this.options.loose&&lY))+":"+e,o=mb.get(n);if(o)return o;let i=this.options.loose,s=i?Vt[kt.HYPHENRANGELOOSE]:Vt[kt.HYPHENRANGE];e=e.replace(s,CY(this.options.includePrerelease)),Pe("hyphen replace",e),e=e.replace(Vt[kt.COMPARATORTRIM],sY),Pe("comparator trim",e),e=e.replace(Vt[kt.TILDETRIM],aY),Pe("tilde trim",e),e=e.replace(Vt[kt.CARETTRIM],cY),Pe("caret trim",e);let a=e.split(" ").map(m=>pY(m,this.options)).join(" ").split(/\s+/).map(m=>EY(m,this.options));i&&(a=a.filter(m=>(Pe("loose invalid filter",m,this.options),!!m.match(Vt[kt.COMPARATORLOOSE])))),Pe("range list",a);let c=new Map,d=a.map(m=>new s_(m,this.options));for(let m of d){if(hb(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return mb.set(n,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>fb(n,r)&&e.set.some(o=>fb(o,r)&&n.every(i=>o.every(s=>i.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new iY(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(SY(this.set[r],e,this.options))return!0;return!1}};gb.exports=i_;var nY=pb(),mb=new nY,oY=Vu(),s_=cd(),Pe=sd(),iY=It(),{safeRe:Vt,t:kt,comparatorTrimReplace:sY,tildeTrimReplace:aY,caretTrimReplace:cY}=Fs(),{FLAG_INCLUDE_PRERELEASE:dY,FLAG_LOOSE:lY}=id(),hb=t=>t.value==="<0.0.0-0",uY=t=>t.value==="",fb=(t,e)=>{let r=!0,n=t.slice(),o=n.pop();for(;r&&n.length;)r=n.every(i=>o.intersects(i,e)),o=n.pop();return r},pY=(t,e)=>(Pe("comp",t,e),t=fY(t,e),Pe("caret",t),t=mY(t,e),Pe("tildes",t),t=yY(t,e),Pe("xrange",t),t=vY(t,e),Pe("stars",t),t),Mt=t=>!t||t.toLowerCase()==="x"||t==="*",mY=(t,e)=>t.trim().split(/\s+/).map(r=>hY(r,e)).join(" "),hY=(t,e)=>{let r=e.loose?Vt[kt.TILDELOOSE]:Vt[kt.TILDE];return t.replace(r,(n,o,i,s,a)=>{Pe("tilde",t,n,o,i,s,a);let c;return Mt(o)?c="":Mt(i)?c=`>=${o}.0.0 <${+o+1}.0.0-0`:Mt(s)?c=`>=${o}.${i}.0 <${o}.${+i+1}.0-0`:a?(Pe("replaceTilde pr",a),c=`>=${o}.${i}.${s}-${a} <${o}.${+i+1}.0-0`):c=`>=${o}.${i}.${s} <${o}.${+i+1}.0-0`,Pe("tilde return",c),c})},fY=(t,e)=>t.trim().split(/\s+/).map(r=>gY(r,e)).join(" "),gY=(t,e)=>{Pe("caret",t,e);let r=e.loose?Vt[kt.CARETLOOSE]:Vt[kt.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(o,i,s,a,c)=>{Pe("caret",t,o,i,s,a,c);let d;return Mt(i)?d="":Mt(s)?d=`>=${i}.0.0${n} <${+i+1}.0.0-0`:Mt(a)?i==="0"?d=`>=${i}.${s}.0${n} <${i}.${+s+1}.0-0`:d=`>=${i}.${s}.0${n} <${+i+1}.0.0-0`:c?(Pe("replaceCaret pr",c),i==="0"?s==="0"?d=`>=${i}.${s}.${a}-${c} <${i}.${s}.${+a+1}-0`:d=`>=${i}.${s}.${a}-${c} <${i}.${+s+1}.0-0`:d=`>=${i}.${s}.${a}-${c} <${+i+1}.0.0-0`):(Pe("no pr"),i==="0"?s==="0"?d=`>=${i}.${s}.${a}${n} <${i}.${s}.${+a+1}-0`:d=`>=${i}.${s}.${a}${n} <${i}.${+s+1}.0-0`:d=`>=${i}.${s}.${a} <${+i+1}.0.0-0`),Pe("caret return",d),d})},yY=(t,e)=>(Pe("replaceXRanges",t,e),t.split(/\s+/).map(r=>_Y(r,e)).join(" ")),_Y=(t,e)=>{t=t.trim();let r=e.loose?Vt[kt.XRANGELOOSE]:Vt[kt.XRANGE];return t.replace(r,(n,o,i,s,a,c)=>{Pe("xRange",t,n,o,i,s,a,c);let d=Mt(i),u=d||Mt(s),m=u||Mt(a),f=m;return o==="="&&f&&(o=""),c=e.includePrerelease?"-0":"",d?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&f?(u&&(s=0),a=0,o===">"?(o=">=",u?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):o==="<="&&(o="<",u?i=+i+1:s=+s+1),o==="<"&&(c="-0"),n=`${o+i}.${s}.${a}${c}`):u?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:m&&(n=`>=${i}.${s}.0${c} <${i}.${+s+1}.0-0`),Pe("xRange return",n),n})},vY=(t,e)=>(Pe("replaceStars",t,e),t.trim().replace(Vt[kt.STAR],"")),EY=(t,e)=>(Pe("replaceGTE0",t,e),t.trim().replace(Vt[e.includePrerelease?kt.GTE0PRE:kt.GTE0],"")),CY=t=>(e,r,n,o,i,s,a,c,d,u,m,f)=>(Mt(n)?r="":Mt(o)?r=`>=${n}.0.0${t?"-0":""}`:Mt(i)?r=`>=${n}.${o}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Mt(d)?c="":Mt(u)?c=`<${+d+1}.0.0-0`:Mt(m)?c=`<${d}.${+u+1}.0-0`:f?c=`<=${d}.${u}.${m}-${f}`:t?c=`<${d}.${u}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),SY=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Pe(t[n].semver),t[n].semver!==s_.ANY&&t[n].semver.prerelease.length>0){let o=t[n].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}});var cd=g((hUe,Sb)=>{var dd=Symbol("SemVer ANY"),d_=class t{static get ANY(){return dd}constructor(e,r){if(r=yb(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c_("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===dd?this.value="":this.value=this.operator+this.semver.version,c_("comp",this)}parse(e){let r=this.options.loose?_b[vb.COMPARATORLOOSE]:_b[vb.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Eb(n[2],this.options.loose):this.semver=dd}toString(){return this.value}test(e){if(c_("Comparator.test",e,this.options.loose),this.semver===dd||e===dd)return!0;if(typeof e=="string")try{e=new Eb(e,this.options)}catch{return!1}return a_(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Cb(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Cb(this.value,r).test(e.semver):(r=yb(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||a_(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||a_(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Sb.exports=d_;var yb=Vu(),{safeRe:_b,t:vb}=Fs(),a_=n_(),c_=sd(),Eb=It(),Cb=lr()});var ld=g((fUe,Tb)=>{var TY=lr(),AY=(t,e,r)=>{try{e=new TY(e,r)}catch{return!1}return e.test(t)};Tb.exports=AY});var Ib=g((gUe,Ab)=>{var IY=lr(),bY=(t,e)=>new IY(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Ab.exports=bY});var Rb=g((yUe,bb)=>{var RY=It(),wY=lr(),PY=(t,e,r)=>{let n=null,o=null,i=null;try{i=new wY(e,r)}catch{return null}return t.forEach(s=>{i.test(s)&&(!n||o.compare(s)===-1)&&(n=s,o=new RY(n,r))}),n};bb.exports=PY});var Pb=g((_Ue,wb)=>{var OY=It(),xY=lr(),NY=(t,e,r)=>{let n=null,o=null,i=null;try{i=new xY(e,r)}catch{return null}return t.forEach(s=>{i.test(s)&&(!n||o.compare(s)===1)&&(n=s,o=new OY(n,r))}),n};wb.exports=NY});var Nb=g((vUe,xb)=>{var l_=It(),DY=lr(),Ob=ad(),kY=(t,e)=>{t=new DY(t,e);let r=new l_("0.0.0");if(t.test(r)||(r=new l_("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let o=t.set[n],i=null;o.forEach(s=>{let a=new l_(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||Ob(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),i&&(!r||Ob(r,i))&&(r=i)}return r&&t.test(r)?r:null};xb.exports=kY});var kb=g((EUe,Db)=>{var MY=lr(),LY=(t,e)=>{try{return new MY(t,e).range||"*"}catch{return null}};Db.exports=LY});var tp=g((CUe,Fb)=>{var UY=It(),Ub=cd(),{ANY:FY}=Ub,BY=lr(),qY=ld(),Mb=ad(),Lb=Yu(),HY=Xu(),jY=Ju(),GY=(t,e,r,n)=>{t=new UY(t,n),e=new BY(e,n);let o,i,s,a,c;switch(r){case">":o=Mb,i=HY,s=Lb,a=">",c=">=";break;case"<":o=Lb,i=jY,s=Mb,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(qY(t,e,n))return!1;for(let d=0;d<e.set.length;++d){let u=e.set[d],m=null,f=null;if(u.forEach(h=>{h.semver===FY&&(h=new Ub(">=0.0.0")),m=m||h,f=f||h,o(h.semver,m.semver,n)?m=h:s(h.semver,f.semver,n)&&(f=h)}),m.operator===a||m.operator===c||(!f.operator||f.operator===a)&&i(t,f.semver))return!1;if(f.operator===c&&s(t,f.semver))return!1}return!0};Fb.exports=GY});var qb=g((SUe,Bb)=>{var $Y=tp(),zY=(t,e,r)=>$Y(t,e,">",r);Bb.exports=zY});var jb=g((TUe,Hb)=>{var VY=tp(),KY=(t,e,r)=>VY(t,e,"<",r);Hb.exports=KY});var zb=g((AUe,$b)=>{var Gb=lr(),WY=(t,e,r)=>(t=new Gb(t,r),e=new Gb(e,r),t.intersects(e,r));$b.exports=WY});var Kb=g((IUe,Vb)=>{var QY=ld(),YY=dr();Vb.exports=(t,e,r)=>{let n=[],o=null,i=null,s=t.sort((u,m)=>YY(u,m,r));for(let u of s)QY(u,e,r)?(i=u,o||(o=u)):(i&&n.push([o,i]),i=null,o=null);o&&n.push([o,null]);let a=[];for(let[u,m]of n)u===m?a.push(u):!m&&u===s[0]?a.push("*"):m?u===s[0]?a.push(`<=${m}`):a.push(`${u} - ${m}`):a.push(`>=${u}`);let c=a.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return c.length<d.length?c:e}});var Zb=g((bUe,Xb)=>{var Wb=lr(),p_=cd(),{ANY:u_}=p_,ud=ld(),m_=dr(),JY=(t,e,r={})=>{if(t===e)return!0;t=new Wb(t,r),e=new Wb(e,r);let n=!1;e:for(let o of t.set){for(let i of e.set){let s=ZY(o,i,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},XY=[new p_(">=0.0.0-0")],Qb=[new p_(">=0.0.0")],ZY=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===u_){if(e.length===1&&e[0].semver===u_)return!0;r.includePrerelease?t=XY:t=Qb}if(e.length===1&&e[0].semver===u_){if(r.includePrerelease)return!0;e=Qb}let n=new Set,o,i;for(let h of t)h.operator===">"||h.operator===">="?o=Yb(o,h,r):h.operator==="<"||h.operator==="<="?i=Jb(i,h,r):n.add(h.semver);if(n.size>1)return null;let s;if(o&&i){if(s=m_(o.semver,i.semver,r),s>0)return null;if(s===0&&(o.operator!==">="||i.operator!=="<="))return null}for(let h of n){if(o&&!ud(h,String(o),r)||i&&!ud(h,String(i),r))return null;for(let y of e)if(!ud(h,String(y),r))return!1;return!0}let a,c,d,u,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;m&&m.prerelease.length===1&&i.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let h of e){if(u=u||h.operator===">"||h.operator===">=",d=d||h.operator==="<"||h.operator==="<=",o){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(a=Yb(o,h,r),a===h&&a!==o)return!1}else if(o.operator===">="&&!ud(o.semver,String(h),r))return!1}if(i){if(m&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===m.major&&h.semver.minor===m.minor&&h.semver.patch===m.patch&&(m=!1),h.operator==="<"||h.operator==="<="){if(c=Jb(i,h,r),c===h&&c!==i)return!1}else if(i.operator==="<="&&!ud(i.semver,String(h),r))return!1}if(!h.operator&&(i||o)&&s!==0)return!1}return!(o&&d&&!i&&s!==0||i&&u&&!o&&s!==0||f||m)},Yb=(t,e,r)=>{if(!t)return e;let n=m_(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Jb=(t,e,r)=>{if(!t)return e;let n=m_(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Xb.exports=JY});var rp=g((RUe,rR)=>{var h_=Fs(),eR=id(),e5=It(),tR=Zy(),t5=Gi(),r5=RI(),n5=PI(),o5=NI(),i5=MI(),s5=UI(),a5=BI(),c5=HI(),d5=GI(),l5=dr(),u5=KI(),p5=QI(),m5=Qu(),h5=ZI(),f5=tb(),g5=ad(),y5=Yu(),_5=t_(),v5=r_(),E5=Ju(),C5=Xu(),S5=n_(),T5=lb(),A5=cd(),I5=lr(),b5=ld(),R5=Ib(),w5=Rb(),P5=Pb(),O5=Nb(),x5=kb(),N5=tp(),D5=qb(),k5=jb(),M5=zb(),L5=Kb(),U5=Zb();rR.exports={parse:t5,valid:r5,clean:n5,inc:o5,diff:i5,major:s5,minor:a5,patch:c5,prerelease:d5,compare:l5,rcompare:u5,compareLoose:p5,compareBuild:m5,sort:h5,rsort:f5,gt:g5,lt:y5,eq:_5,neq:v5,gte:E5,lte:C5,cmp:S5,coerce:T5,Comparator:A5,Range:I5,satisfies:b5,toComparators:R5,maxSatisfying:w5,minSatisfying:P5,minVersion:O5,validRange:x5,outside:N5,gtr:D5,ltr:k5,intersects:M5,simplifyRange:L5,subset:U5,SemVer:e5,re:h_.re,src:h_.src,tokens:h_.t,SEMVER_SPEC_VERSION:eR.SEMVER_SPEC_VERSION,RELEASE_TYPES:eR.RELEASE_TYPES,compareIdentifiers:tR.compareIdentifiers,rcompareIdentifiers:tR.rcompareIdentifiers}});var oR=g((wUe,nR)=>{var F5=rp();nR.exports=F5.satisfies(process.version,">=15.7.0")});var sR=g((PUe,iR)=>{var B5=rp();iR.exports=B5.satisfies(process.version,">=16.9.0")});var f_=g((OUe,aR)=>{var q5=oR(),H5=sR(),j5={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},G5={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};aR.exports=function(t,e){if(!t||!e)return;let r=e.asymmetricKeyType;if(!r)return;let n=j5[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(t))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(q5)switch(r){case"ec":let o=e.asymmetricKeyDetails.namedCurve,i=G5[t];if(o!==i)throw new Error(`"alg" parameter "${t}" requires curve "${i}".`);break;case"rsa-pss":if(H5){let s=parseInt(t.slice(-3),10),{hashAlgorithm:a,mgf1HashAlgorithm:c,saltLength:d}=e.asymmetricKeyDetails;if(a!==`sha${s}`||c!==a)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(d!==void 0&&d>s>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}break}}});var g_=g((xUe,cR)=>{var $5=rp();cR.exports=$5.satisfies(process.version,"^6.12.0 || >=8.0.0")});var uR=g((NUe,lR)=>{var Te=od(),z5=Wy(),dR=Qy(),V5=Ky(),K5=Yy(),W5=f_(),Q5=g_(),Y5=Hu(),{KeyObject:J5,createSecretKey:X5,createPublicKey:Z5}=require("crypto"),y_=["RS256","RS384","RS512"],eJ=["ES256","ES384","ES512"],__=["RS256","RS384","RS512"],tJ=["HS256","HS384","HS512"];Q5&&(y_.splice(y_.length,0,"PS256","PS384","PS512"),__.splice(__.length,0,"PS256","PS384","PS512"));lR.exports=function(t,e,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let o;if(n?o=n:o=function(u,m){if(u)throw u;return m},r.clockTimestamp&&typeof r.clockTimestamp!="number")return o(new Te("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return o(new Te("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return o(new Te("allowInvalidAsymmetricKeyTypes must be a boolean"));let i=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return o(new Te("jwt must be provided"));if(typeof t!="string")return o(new Te("jwt must be a string"));let s=t.split(".");if(s.length!==3)return o(new Te("jwt malformed"));let a;try{a=V5(t,{complete:!0})}catch(u){return o(u)}if(!a)return o(new Te("invalid token"));let c=a.header,d;if(typeof e=="function"){if(!n)return o(new Te("verify must be called asynchronous if secret or public key is provided as a callback"));d=e}else d=function(u,m){return m(null,e)};return d(c,function(u,m){if(u)return o(new Te("error in secret or public key callback: "+u.message));let f=s[2].trim()!=="";if(!f&&m)return o(new Te("jwt signature is required"));if(f&&!m)return o(new Te("secret or public key must be provided"));if(!f&&!r.algorithms)return o(new Te('please specify "none" in "algorithms" to verify unsigned tokens'));if(m!=null&&!(m instanceof J5))try{m=Z5(m)}catch{try{m=X5(typeof m=="string"?Buffer.from(m):m)}catch{return o(new Te("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(m.type==="secret"?r.algorithms=tJ:["rsa","rsa-pss"].includes(m.asymmetricKeyType)?r.algorithms=__:m.asymmetricKeyType==="ec"?r.algorithms=eJ:r.algorithms=y_),r.algorithms.indexOf(a.header.alg)===-1)return o(new Te("invalid algorithm"));if(c.alg.startsWith("HS")&&m.type!=="secret")return o(new Te(`secretOrPublicKey must be a symmetric key when using ${c.alg}`));if(/^(?:RS|PS|ES)/.test(c.alg)&&m.type!=="public")return o(new Te(`secretOrPublicKey must be an asymmetric key when using ${c.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{W5(c.alg,m)}catch(E){return o(E)}let h;try{h=Y5.verify(t,a.header.alg,m)}catch(E){return o(E)}if(!h)return o(new Te("invalid signature"));let y=a.payload;if(typeof y.nbf<"u"&&!r.ignoreNotBefore){if(typeof y.nbf!="number")return o(new Te("invalid nbf value"));if(y.nbf>i+(r.clockTolerance||0))return o(new z5("jwt not active",new Date(y.nbf*1e3)))}if(typeof y.exp<"u"&&!r.ignoreExpiration){if(typeof y.exp!="number")return o(new Te("invalid exp value"));if(i>=y.exp+(r.clockTolerance||0))return o(new dR("jwt expired",new Date(y.exp*1e3)))}if(r.audience){let E=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(y.aud)?y.aud:[y.aud]).some(function(x){return E.some(function(K){return K instanceof RegExp?K.test(x):K===x})}))return o(new Te("jwt audience invalid. expected: "+E.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&y.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(y.iss)===-1))return o(new Te("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&y.sub!==r.subject)return o(new Te("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&y.jti!==r.jwtid)return o(new Te("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&y.nonce!==r.nonce)return o(new Te("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof y.iat!="number")return o(new Te("iat required when maxAge is specified"));let E=K5(r.maxAge,y.iat);if(typeof E>"u")return o(new Te('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(i>=E+(r.clockTolerance||0))return o(new dR("maxAge exceeded",new Date(E*1e3)))}if(r.complete===!0){let E=a.signature;return o(null,{header:c,payload:y,signature:E})}return o(null,y)})}});var yR=g((DUe,gR)=>{var pR=1/0,hR=9007199254740991,rJ=17976931348623157e292,mR=NaN,nJ="[object Arguments]",oJ="[object Function]",iJ="[object GeneratorFunction]",sJ="[object String]",aJ="[object Symbol]",cJ=/^\s+|\s+$/g,dJ=/^[-+]0x[0-9a-f]+$/i,lJ=/^0b[01]+$/i,uJ=/^0o[0-7]+$/i,pJ=/^(?:0|[1-9]\d*)$/,mJ=parseInt;function hJ(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function fJ(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function gJ(t,e,r){if(e!==e)return fJ(t,yJ,r);for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}function yJ(t){return t!==t}function _J(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function vJ(t,e){return hJ(e,function(r){return t[r]})}function EJ(t,e){return function(r){return t(e(r))}}var np=Object.prototype,E_=np.hasOwnProperty,op=np.toString,CJ=np.propertyIsEnumerable,SJ=EJ(Object.keys,Object),TJ=Math.max;function AJ(t,e){var r=fR(t)||PJ(t)?_J(t.length,String):[],n=r.length,o=!!n;for(var i in t)(e||E_.call(t,i))&&!(o&&(i=="length"||bJ(i,n)))&&r.push(i);return r}function IJ(t){if(!RJ(t))return SJ(t);var e=[];for(var r in Object(t))E_.call(t,r)&&r!="constructor"&&e.push(r);return e}function bJ(t,e){return e=e??hR,!!e&&(typeof t=="number"||pJ.test(t))&&t>-1&&t%1==0&&t<e}function RJ(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||np;return t===r}function wJ(t,e,r,n){t=C_(t)?t:BJ(t),r=r&&!n?LJ(r):0;var o=t.length;return r<0&&(r=TJ(o+r,0)),DJ(t)?r<=o&&t.indexOf(e,r)>-1:!!o&&gJ(t,e,r)>-1}function PJ(t){return OJ(t)&&E_.call(t,"callee")&&(!CJ.call(t,"callee")||op.call(t)==nJ)}var fR=Array.isArray;function C_(t){return t!=null&&NJ(t.length)&&!xJ(t)}function OJ(t){return S_(t)&&C_(t)}function xJ(t){var e=v_(t)?op.call(t):"";return e==oJ||e==iJ}function NJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hR}function v_(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function S_(t){return!!t&&typeof t=="object"}function DJ(t){return typeof t=="string"||!fR(t)&&S_(t)&&op.call(t)==sJ}function kJ(t){return typeof t=="symbol"||S_(t)&&op.call(t)==aJ}function MJ(t){if(!t)return t===0?t:0;if(t=UJ(t),t===pR||t===-pR){var e=t<0?-1:1;return e*rJ}return t===t?t:0}function LJ(t){var e=MJ(t),r=e%1;return e===e?r?e-r:e:0}function UJ(t){if(typeof t=="number")return t;if(kJ(t))return mR;if(v_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=v_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(cJ,"");var r=lJ.test(t);return r||uJ.test(t)?mJ(t.slice(2),r?2:8):dJ.test(t)?mR:+t}function FJ(t){return C_(t)?AJ(t):IJ(t)}function BJ(t){return t?vJ(t,FJ(t)):[]}gR.exports=wJ});var vR=g((kUe,_R)=>{var qJ="[object Boolean]",HJ=Object.prototype,jJ=HJ.toString;function GJ(t){return t===!0||t===!1||$J(t)&&jJ.call(t)==qJ}function $J(t){return!!t&&typeof t=="object"}_R.exports=GJ});var AR=g((MUe,TR)=>{var ER=1/0,zJ=17976931348623157e292,CR=NaN,VJ="[object Symbol]",KJ=/^\s+|\s+$/g,WJ=/^[-+]0x[0-9a-f]+$/i,QJ=/^0b[01]+$/i,YJ=/^0o[0-7]+$/i,JJ=parseInt,XJ=Object.prototype,ZJ=XJ.toString;function e8(t){return typeof t=="number"&&t==o8(t)}function SR(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function t8(t){return!!t&&typeof t=="object"}function r8(t){return typeof t=="symbol"||t8(t)&&ZJ.call(t)==VJ}function n8(t){if(!t)return t===0?t:0;if(t=i8(t),t===ER||t===-ER){var e=t<0?-1:1;return e*zJ}return t===t?t:0}function o8(t){var e=n8(t),r=e%1;return e===e?r?e-r:e:0}function i8(t){if(typeof t=="number")return t;if(r8(t))return CR;if(SR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=SR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(KJ,"");var r=QJ.test(t);return r||YJ.test(t)?JJ(t.slice(2),r?2:8):WJ.test(t)?CR:+t}TR.exports=e8});var bR=g((LUe,IR)=>{var s8="[object Number]",a8=Object.prototype,c8=a8.toString;function d8(t){return!!t&&typeof t=="object"}function l8(t){return typeof t=="number"||d8(t)&&c8.call(t)==s8}IR.exports=l8});var OR=g((UUe,PR)=>{var u8="[object Object]";function p8(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function m8(t,e){return function(r){return t(e(r))}}var h8=Function.prototype,RR=Object.prototype,wR=h8.toString,f8=RR.hasOwnProperty,g8=wR.call(Object),y8=RR.toString,_8=m8(Object.getPrototypeOf,Object);function v8(t){return!!t&&typeof t=="object"}function E8(t){if(!v8(t)||y8.call(t)!=u8||p8(t))return!1;var e=_8(t);if(e===null)return!0;var r=f8.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&wR.call(r)==g8}PR.exports=E8});var NR=g((FUe,xR)=>{var C8="[object String]",S8=Object.prototype,T8=S8.toString,A8=Array.isArray;function I8(t){return!!t&&typeof t=="object"}function b8(t){return typeof t=="string"||!A8(t)&&I8(t)&&T8.call(t)==C8}xR.exports=b8});var UR=g((BUe,LR)=>{var R8="Expected a function",DR=1/0,w8=17976931348623157e292,kR=NaN,P8="[object Symbol]",O8=/^\s+|\s+$/g,x8=/^[-+]0x[0-9a-f]+$/i,N8=/^0b[01]+$/i,D8=/^0o[0-7]+$/i,k8=parseInt,M8=Object.prototype,L8=M8.toString;function U8(t,e){var r;if(typeof e!="function")throw new TypeError(R8);return t=j8(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}function F8(t){return U8(2,t)}function MR(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function B8(t){return!!t&&typeof t=="object"}function q8(t){return typeof t=="symbol"||B8(t)&&L8.call(t)==P8}function H8(t){if(!t)return t===0?t:0;if(t=G8(t),t===DR||t===-DR){var e=t<0?-1:1;return e*w8}return t===t?t:0}function j8(t){var e=H8(t),r=e%1;return e===e?r?e-r:e:0}function G8(t){if(typeof t=="number")return t;if(q8(t))return kR;if(MR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=MR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(O8,"");var r=N8.test(t);return r||D8.test(t)?k8(t.slice(2),r?2:8):x8.test(t)?kR:+t}LR.exports=F8});var VR=g((qUe,zR)=>{var FR=Yy(),$8=g_(),z8=f_(),BR=Hu(),V8=yR(),ip=vR(),qR=AR(),T_=bR(),jR=OR(),_o=NR(),K8=UR(),{KeyObject:W8,createSecretKey:Q8,createPrivateKey:Y8}=require("crypto"),GR=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];$8&&GR.splice(3,0,"PS256","PS384","PS512");var J8={expiresIn:{isValid:function(t){return qR(t)||_o(t)&&t},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(t){return qR(t)||_o(t)&&t},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(t){return _o(t)||Array.isArray(t)},message:'"audience" must be a string or array'},algorithm:{isValid:V8.bind(null,GR),message:'"algorithm" must be a valid string enum value'},header:{isValid:jR,message:'"header" must be an object'},encoding:{isValid:_o,message:'"encoding" must be a string'},issuer:{isValid:_o,message:'"issuer" must be a string'},subject:{isValid:_o,message:'"subject" must be a string'},jwtid:{isValid:_o,message:'"jwtid" must be a string'},noTimestamp:{isValid:ip,message:'"noTimestamp" must be a boolean'},keyid:{isValid:_o,message:'"keyid" must be a string'},mutatePayload:{isValid:ip,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:ip,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:ip,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},X8={iat:{isValid:T_,message:'"iat" should be a number of seconds'},exp:{isValid:T_,message:'"exp" should be a number of seconds'},nbf:{isValid:T_,message:'"nbf" should be a number of seconds'}};function $R(t,e,r,n){if(!jR(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(o){let i=t[o];if(!i){if(!e)throw new Error('"'+o+'" is not allowed in "'+n+'"');return}if(!i.isValid(r[o]))throw new Error(i.message)})}function Z8(t){return $R(J8,!1,t,"options")}function eX(t){return $R(X8,!0,t,"payload")}var HR={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},tX=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];zR.exports=function(t,e,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let o=typeof t=="object"&&!Buffer.isBuffer(t),i=Object.assign({alg:r.algorithm||"HS256",typ:o?"JWT":void 0,kid:r.keyid},r.header);function s(d){if(n)return n(d);throw d}if(!e&&r.algorithm!=="none")return s(new Error("secretOrPrivateKey must have a value"));if(e!=null&&!(e instanceof W8))try{e=Y8(e)}catch{try{e=Q8(typeof e=="string"?Buffer.from(e):e)}catch{return s(new Error("secretOrPrivateKey is not valid key material"))}}if(i.alg.startsWith("HS")&&e.type!=="secret")return s(new Error(`secretOrPrivateKey must be a symmetric key when using ${i.alg}`));if(/^(?:RS|PS|ES)/.test(i.alg)){if(e.type!=="private")return s(new Error(`secretOrPrivateKey must be an asymmetric key when using ${i.alg}`));if(!r.allowInsecureKeySizes&&!i.alg.startsWith("ES")&&e.asymmetricKeyDetails!==void 0&&e.asymmetricKeyDetails.modulusLength<2048)return s(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`))}if(typeof t>"u")return s(new Error("payload is required"));if(o){try{eX(t)}catch(d){return s(d)}r.mutatePayload||(t=Object.assign({},t))}else{let d=tX.filter(function(u){return typeof r[u]<"u"});if(d.length>0)return s(new Error("invalid "+d.join(",")+" option for "+typeof t+" payload"))}if(typeof t.exp<"u"&&typeof r.expiresIn<"u")return s(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof t.nbf<"u"&&typeof r.notBefore<"u")return s(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{Z8(r)}catch(d){return s(d)}if(!r.allowInvalidAsymmetricKeyTypes)try{z8(i.alg,e)}catch(d){return s(d)}let a=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:o&&(t.iat=a),typeof r.notBefore<"u"){try{t.nbf=FR(r.notBefore,a)}catch(d){return s(d)}if(typeof t.nbf>"u")return s(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof t=="object"){try{t.exp=FR(r.expiresIn,a)}catch(d){return s(d)}if(typeof t.exp>"u")return s(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(HR).forEach(function(d){let u=HR[d];if(typeof r[d]<"u"){if(typeof t[u]<"u")return s(new Error('Bad "options.'+d+'" option. The payload already has an "'+u+'" property.'));t[u]=r[d]}});let c=r.encoding||"utf8";if(typeof n=="function")n=n&&K8(n),BR.createSign({header:i,privateKey:e,payload:t,encoding:c}).once("error",n).once("done",function(d){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(i.alg)&&d.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`));n(null,d)});else{let d=BR.sign({header:i,payload:t,secret:e,encoding:c});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(i.alg)&&d.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`);return d}}});var WR=g((HUe,KR)=>{KR.exports={decode:Ky(),verify:uR(),sign:VR(),JsonWebTokenError:od(),NotBeforeError:Wy(),TokenExpiredError:Qy()}});var QR,Rn,sp=v(()=>{"use strict";QR=ae(WR(),1);Se();Zc();He();Rn=class t{static fromAssertion(e){let r=new t;return r.jwt=e,r}static fromCertificate(e,r,n){let o=new t;return o.privateKey=r,o.thumbprint=e,o.useSha256=!1,n&&(o.publicCertificate=this.parseCertificate(n)),o}static fromCertificateWithSha256Thumbprint(e,r,n){let o=new t;return o.privateKey=r,o.thumbprint=e,o.useSha256=!0,n&&(o.publicCertificate=this.parseCertificate(n)),o}getJwt(e,r,n){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&r===this.issuer&&n===this.jwtAudience?this.jwt:this.createJwt(e,r,n);if(this.jwt)return this.jwt;throw b(Ce.invalidAssertion)}createJwt(e,r,n){this.issuer=r,this.jwtAudience=n;let o=we.nowSeconds();this.expirationTime=o+600;let s={alg:this.useSha256?cr.PSS_256:cr.RSA_256},a=this.useSha256?cr.X5T_256:cr.X5T;Object.assign(s,{[a]:Zt.base64EncodeUrl(this.thumbprint,"hex")}),this.publicCertificate&&Object.assign(s,{[cr.X5C]:this.publicCertificate});let c={[cr.AUDIENCE]:this.jwtAudience,[cr.EXPIRATION_TIME]:this.expirationTime,[cr.ISSUER]:this.issuer,[cr.SUBJECT]:this.issuer,[cr.NOT_BEFORE]:o,[cr.JWT_ID]:e.createNewGuid()};return this.jwt=QR.default.sign(c,this.privateKey,{header:s}),this.jwt}isExpired(){return this.expirationTime<we.nowSeconds()}static parseCertificate(e){let r=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,n=[],o;for(;(o=r.exec(e))!==null;)n.push(o[1].replace(/\r*\n/g,A.EMPTY_STRING));return n}}});var ap,wn,pd=v(()=>{"use strict";ap="@azure/msal-node",wn="2.13.1"});var qs,A_=v(()=>{"use strict";Se();qs=class extends gt{constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let r=we.nowSeconds(),n=await this.executeTokenRequest(this.authority,e),o=new We(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),o.handleServerTokenResponse(n.body,this.authority,r,e)}async executeTokenRequest(e,r){let n=this.createTokenQueryParameters(r),o=re.appendQueryString(e.tokenEndpoint,n),i=await this.createTokenRequestBody(r),s=this.createTokenRequestHeaders({credential:r.username,type:Dt.UPN}),a={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return this.executePostToTokenEndpoint(o,i,s,a,r.correlationId)}async createTokenRequestBody(e){let r=new Ne;r.addClientId(this.config.authOptions.clientId),r.addUsername(e.username),r.addPassword(e.password),r.addScopes(e.scopes),r.addResponseTypeForTokenAndIdToken(),r.addGrantType(Yt.RESOURCE_OWNER_PASSWORD_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret);let o=this.config.clientCredentials.clientAssertion;return o&&(r.addClientAssertion(await Nt(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(o.assertionType)),(!xe.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&r.addCcsUpn(e.username),r.createQueryString()}}});var vo,cp=v(()=>{"use strict";Se();Iu();Ou();xu();He();Uy();sp();pd();Xc();A_();vo=class{constructor(e){this.config=Au(e),this.cryptoProvider=new fo,this.logger=new Xt(this.config.system.loggerOptions,ap,wn),this.storage=new go(this.logger,this.config.auth.clientId,this.cryptoProvider,xg(this.config.auth)),this.tokenCache=new Os(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||ln.QUERY,authenticationScheme:ie.BEARER},n=await this.buildOauthClientConfiguration(r.authority,r.correlationId,void 0,void 0,e.azureCloudOptions),o=new As(n);return this.logger.verbose("Auth code client created",r.correlationId),o.getAuthCodeUrl(r)}async acquireTokenByCode(e,r){this.logger.info("acquireTokenByCode called"),e.state&&r&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,r.state||""),r={...r,state:""});let n={...e,...await this.initializeBaseRequest(e),authenticationScheme:ie.BEARER},o=this.initializeServerTelemetryManager(In.acquireTokenByCode,n.correlationId);try{let i=await this.buildOauthClientConfiguration(n.authority,n.correlationId,o,void 0,e.azureCloudOptions),s=new As(i);return this.logger.verbose("Auth code client created",n.correlationId),await s.acquireToken(n,r)}catch(i){throw i instanceof te&&i.setCorrelationId(n.correlationId),o.cacheFailedRequest(i),i}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:ie.BEARER},n=this.initializeServerTelemetryManager(In.acquireTokenByRefreshToken,r.correlationId);try{let o=await this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),i=new po(o);return this.logger.verbose("Refresh token client created",r.correlationId),await i.acquireToken(r)}catch(o){throw o instanceof te&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenSilent(e){let r={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},n=this.initializeServerTelemetryManager(In.acquireTokenSilent,r.correlationId,r.forceRefresh);try{let o=await this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),i=new Yc(o);return this.logger.verbose("Silent flow client created",r.correlationId),await i.acquireToken(r)}catch(o){throw o instanceof te&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)},n=this.initializeServerTelemetryManager(In.acquireTokenByUsernamePassword,r.correlationId);try{let o=await this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),i=new qs(o);return this.logger.verbose("Username password client created",r.correlationId),await i.acquireToken(r)}catch(o){throw o instanceof te&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,r){if(!e)throw zt.createStateNotFoundError();if(e!==r)throw b(Ce.stateMismatch)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,r,n,o,i){this.logger.verbose("buildOauthClientConfiguration called",r);let s=i||this.config.auth.azureCloudOptions,a=await this.createAuthority(e,r,o,s);return this.logger.info(`Building oauth client configuration with the following authority: ${a.tokenEndpoint}.`,r),n?.updateRegionDiscoveryMetadata(a.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:r},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:n,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(a)},libraryInfo:{sku:yt.MSAL_SKU,version:wn,cpu:process.arch||A.EMPTY_STRING,os:process.platform||A.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=Rn.fromAssertion(await Nt(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:yt.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===ie.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=ie.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!xe.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...jt],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,r,n){let o={clientId:this.config.auth.clientId,correlationId:r,apiId:e,forceRefresh:n||!1};return new Fi(o,this.storage)}async createAuthority(e,r,n,o){this.logger.verbose("createAuthority called",r);let i=kr.generateAuthority(e,o),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return Fl.createDiscoveredInstance(i,this.config.system.networkClient,this.storage,s,this.logger,r)}clearCache(){this.storage.clear()}}});var YR,dp,JR=v(()=>{"use strict";Se();YR=ae(require("http"),1);Xc();He();dp=class{async listenForAuthCode(e,r){if(this.server)throw zt.createLoopbackServerAlreadyExistsError();return new Promise((n,o)=>{this.server=YR.default.createServer((i,s)=>{let a=i.url;if(a){if(a===A.FORWARD_SLASH){s.end(e||"Auth code was successfully acquired. You can close this window now.");return}}else{s.end(r||"Error occurred loading redirectUrl"),o(zt.createUnableToLoadRedirectUrlError());return}let c=this.getRedirectUri(),d=new URL(a,c),u=xl.getDeserializedResponse(d.search)||{};u.code&&(s.writeHead(he.REDIRECT,{location:c}),s.end()),u.error&&s.end(r||`Error occurred: ${u.error}`),n(u)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw zt.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||typeof e=="string"||!e.port)throw this.closeServer(),zt.createInvalidLoopbackAddressTypeError();let r=e&&e.port;return`${yt.HTTP_PROTOCOL}${yt.LOCALHOST}:${r}`}closeServer(){this.server&&(this.server.close(),typeof this.server.closeAllConnections=="function"&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}}});var Hs,I_=v(()=>{"use strict";Se();Hs=class extends gt{constructor(e){super(e)}async acquireToken(e){let r=await this.getDeviceCode(e);e.deviceCodeCallback(r);let n=we.nowSeconds(),o=await this.acquireTokenWithDeviceCode(e,r),i=new We(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(o),i.handleServerTokenResponse(o,this.authority,n,e)}async getDeviceCode(e){let r=this.createExtraQueryParameters(e),n=re.appendQueryString(this.authority.deviceCodeEndpoint,r),o=this.createQueryString(e),i=this.createTokenRequestHeaders(),s={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(n,o,i,s)}createExtraQueryParameters(e){let r=new Ne;return e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),r.createQueryString()}async executePostRequestToDeviceCodeEndpoint(e,r,n,o){let{body:{user_code:i,device_code:s,verification_uri:a,expires_in:c,interval:d,message:u}}=await this.networkManager.sendPostRequest(o,e,{body:r,headers:n});return{userCode:i,deviceCode:s,verificationUri:a,expiresIn:c,interval:d,message:u}}createQueryString(e){let r=new Ne;return r.addScopes(e.scopes),r.addClientId(this.config.authOptions.clientId),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()}continuePolling(e,r,n){if(n)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),b(Ce.deviceCodePollingCancelled);if(r&&r<e&&we.nowSeconds()>r)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${r}`),b(Ce.userTimeoutReached);if(we.nowSeconds()>e)throw r&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${r}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),b(Ce.deviceCodeExpired);return!0}async acquireTokenWithDeviceCode(e,r){let n=this.createTokenQueryParameters(e),o=re.appendQueryString(this.authority.tokenEndpoint,n),i=this.createTokenRequestBody(e,r),s=this.createTokenRequestHeaders(),a=e.timeout?we.nowSeconds()+e.timeout:void 0,c=we.nowSeconds()+r.expiresIn,d=r.interval*1e3;for(;this.continuePolling(c,a,e.cancel);){let u={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},m=await this.executePostToTokenEndpoint(o,i,s,u,e.correlationId);if(m.body&&m.body.error)if(m.body.error===A.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await we.delay(d);else throw this.logger.info("Unexpected error in polling from the server"),yg(ms.postRequestFailed,m.body.error);else return this.logger.verbose("Authorization completed successfully. Polling stopped."),m.body}throw this.logger.error("Polling stopped for unknown reasons."),b(Ce.deviceCodeUnknownError)}createTokenRequestBody(e,r){let n=new Ne;n.addScopes(e.scopes),n.addClientId(this.config.authOptions.clientId),n.addGrantType(Yt.DEVICE_CODE_GRANT),n.addDeviceCode(r.deviceCode);let o=e.correlationId||this.config.cryptoInterface.createNewGuid();return n.addCorrelationId(o),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&n.addServerTelemetry(this.serverTelemetryManager),(!xe.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),n.createQueryString()}}});var lp,XR=v(()=>{"use strict";He();Se();cp();Xc();JR();I_();pd();lp=class extends vo{constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=Fi.makeExtraSkuString({libraryName:yt.MSAL_SKU,libraryVersion:wn})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let r=Object.assign(e,await this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(In.acquireTokenByDeviceCode,r.correlationId);try{let o=await this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),i=new Hs(o);return this.logger.verbose("Device code client created",r.correlationId),await i.acquireToken(r)}catch(o){throw o instanceof te&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenInteractive(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",r);let{openBrowser:n,successTemplate:o,errorTemplate:i,windowHandle:s,loopbackClient:a,...c}=e;if(this.nativeBrokerPlugin){let y={...c,clientId:this.config.auth.clientId,scopes:e.scopes||jt,redirectUri:`${yt.HTTP_PROTOCOL}${yt.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...c.extraQueryParameters,...c.tokenQueryParameters,[Ui.X_CLIENT_EXTRA_SKU]:this.skus},accountId:c.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(y,s)}let{verifier:d,challenge:u}=await this.cryptoProvider.generatePkceCodes(),m=a||new dp,f={},h=null;try{let y=m.listenForAuthCode(o,i).then(W=>{f=W}).catch(W=>{h=W}),E=await this.waitForRedirectUri(m),I={...c,correlationId:r,scopes:e.scopes||jt,redirectUri:E,responseMode:ln.QUERY,codeChallenge:u,codeChallengeMethod:ls.S256},w=await this.getAuthCodeUrl(I);if(await n(w),await y,h)throw h;if(f.error)throw new $t(f.error,f.error_description,f.suberror);if(!f.code)throw zt.createNoAuthCodeInResponseError();let x=f.client_info,K={code:f.code,codeVerifier:d,clientInfo:x||A.EMPTY_STRING,...I};return await this.acquireTokenByCode(K)}finally{m.closeServer()}}async acquireTokenSilent(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",r),this.nativeBrokerPlugin){let n={...e,clientId:this.config.auth.clientId,scopes:e.scopes||jt,redirectUri:`${yt.HTTP_PROTOCOL}${yt.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...e.tokenQueryParameters,[Ui.X_CLIENT_EXTRA_SKU]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(n)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let r={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(r)}await this.getTokenCache().removeAccount(e.account)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((r,n)=>{let o=0,i=setInterval(()=>{if(lu.TIMEOUT_MS/lu.INTERVAL_MS<o){clearInterval(i),n(zt.createLoopbackServerTimeoutError());return}try{let s=e.getRedirectUri();clearInterval(i),r(s);return}catch(s){if(s instanceof te&&s.errorCode===pt.noLoopbackServerExists.code){o++;return}clearInterval(i),n(s);return}},lu.INTERVAL_MS)})}}});var Eo,up=v(()=>{"use strict";Se();Eo=class extends gt{constructor(e,r){super(e),this.appTokenProvider=r}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[r,n]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return r?(n===be.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.executeTokenRequest(e,this.authority,!0)),r):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,r,n,o,i,s){let a=r,c=r,d=be.NOT_APPLICABLE,u;a.serializableCache&&a.persistencePlugin&&(u=new ar(a.serializableCache,!1),await a.persistencePlugin.beforeCacheAccess(u));let m=this.readAccessTokenFromCache(o,c.managedIdentityId?.id||a.authOptions.clientId,new nt(e.scopes||[]),i);return a.serializableCache&&a.persistencePlugin&&u&&await a.persistencePlugin.afterCacheAccess(u),m?we.isTokenExpired(m.expiresOn,a.systemOptions?.tokenRenewalOffsetSeconds||oc)?(s?.setCacheOutcome(be.CACHED_ACCESS_TOKEN_EXPIRED),[null,be.CACHED_ACCESS_TOKEN_EXPIRED]):(m.refreshOn&&we.isTokenExpired(m.refreshOn.toString(),0)&&(d=be.PROACTIVELY_REFRESHED,s?.setCacheOutcome(be.PROACTIVELY_REFRESHED)),[await We.generateAuthenticationResult(n,o,{account:null,idToken:null,accessToken:m,refreshToken:null,appMetadata:null},!0,e),d]):(s?.setCacheOutcome(be.NO_CACHED_ACCESS_TOKEN),[null,be.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,r,n,o){let i={homeAccountId:A.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:de.ACCESS_TOKEN,clientId:r,realm:e.tenant,target:nt.createSearchScopes(n.asArray())},s=o.getAccessTokensByFilter(i);if(s.length<1)return null;if(s.length>1)throw b(Ce.multipleMatchingTokens);return s[0]}async executeTokenRequest(e,r,n){let o,i;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let c={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};i=we.nowSeconds();let d=await this.appTokenProvider(c);o={access_token:d.accessToken,expires_in:d.expiresInSeconds,refresh_in:d.refreshInSeconds,token_type:ie.BEARER}}else{let c=this.createTokenQueryParameters(e),d=re.appendQueryString(r.tokenEndpoint,c),u=await this.createTokenRequestBody(e),m=this.createTokenRequestHeaders(),f={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+r.tokenEndpoint),i=we.nowSeconds();let h=await this.executePostToTokenEndpoint(d,u,m,f,e.correlationId);o=h.body,o.status=h.status}let s=new We(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(o,n),await s.handleServerTokenResponse(o,this.authority,i,e)}async createTokenRequestBody(e){let r=new Ne;r.addClientId(this.config.authOptions.clientId),r.addScopes(e.scopes,!1),r.addGrantType(Yt.CLIENT_CREDENTIALS_GRANT),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret);let o=e.clientAssertion||this.config.clientCredentials.clientAssertion;return o&&(r.addClientAssertion(await Nt(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(o.assertionType)),(!xe.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()}}});var js,b_=v(()=>{"use strict";Se();Zc();js=class extends gt{constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new nt(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch{return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(we.isTokenExpired(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(be.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),b(Ce.tokenRefreshRequired)}else throw this.serverTelemetryManager?.setCacheOutcome(be.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),b(Ce.tokenRefreshRequired);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId),o,i=null;if(n){o=Ol.extractTokenClaims(n.secret,Zt.base64Decode);let s=o.oid||o.sub,a={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:A.EMPTY_STRING,localAccountId:s||A.EMPTY_STRING};i=this.cacheManager.readAccountFromCache(a)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),We.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:i,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,o)}readIdTokenFromCacheForOBO(e){let r={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:de.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},n=this.cacheManager.getIdTokensByFilter(r);return Object.values(n).length<1?null:Object.values(n)[0]}readAccessTokenFromCacheForOBO(e,r){let n=r.authenticationScheme||ie.BEARER,i={credentialType:n&&n.toLowerCase()!==ie.BEARER.toLowerCase()?de.ACCESS_TOKEN_WITH_AUTH_SCHEME:de.ACCESS_TOKEN,clientId:e,target:nt.createSearchScopes(this.scopeSet.asArray()),tokenType:n,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:this.userAssertionHash},s=this.cacheManager.getAccessTokensByFilter(i),a=s.length;if(a<1)return null;if(a>1)throw b(Ce.multipleMatchingTokens);return s[0]}async executeTokenRequest(e,r,n){let o=this.createTokenQueryParameters(e),i=re.appendQueryString(r.tokenEndpoint,o),s=await this.createTokenRequestBody(e),a=this.createTokenRequestHeaders(),c={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},d=we.nowSeconds(),u=await this.executePostToTokenEndpoint(i,s,a,c,e.correlationId),m=new We(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return m.validateTokenResponse(u.body),await m.handleServerTokenResponse(u.body,this.authority,d,e,void 0,n)}async createTokenRequestBody(e){let r=new Ne;r.addClientId(this.config.authOptions.clientId),r.addScopes(e.scopes),r.addGrantType(Yt.JWT_BEARER),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),r.addRequestTokenUse(Ui.ON_BEHALF_OF),r.addOboAssertion(e.oboAssertion),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret);let o=this.config.clientCredentials.clientAssertion;return o&&(r.addClientAssertion(await Nt(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(o.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()}}});var pp,ZR=v(()=>{"use strict";cp();sp();He();Se();up();b_();pp=class extends vo{constructor(e){super(e),this.setClientCredential(),this.appTokenProvider=void 0}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){this.logger.info("acquireTokenByClientCredential called",e.correlationId);let r;e.clientAssertion&&(r={assertion:await Nt(e.clientAssertion,this.config.auth.clientId),assertionType:yt.JWT_BEARER_ASSERTION_TYPE});let n=await this.initializeBaseRequest(e),o={...n,scopes:n.scopes.filter(u=>!jt.includes(u))},i={...e,...o,clientAssertion:r},a=new re(i.authority).getUrlComponents().PathSegments[0];if(Object.values(Qt).includes(a))throw b(Ce.missingTenantIdError);let c={azureRegion:i.azureRegion,environmentRegion:process.env[FT]},d=this.initializeServerTelemetryManager(In.acquireTokenByClientCredential,i.correlationId,i.skipCache);try{let u=await this.buildOauthClientConfiguration(i.authority,i.correlationId,d,c,e.azureCloudOptions),m=new Eo(u,this.appTokenProvider);return this.logger.verbose("Client credential client created",i.correlationId),await m.acquireToken(i)}catch(u){throw u instanceof te&&u.setCorrelationId(i.correlationId),d.cacheFailedRequest(u),u}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)};try{let n=await this.buildOauthClientConfiguration(r.authority,r.correlationId,void 0,void 0,e.azureCloudOptions),o=new js(n);return this.logger.verbose("On behalf of client created",r.correlationId),await o.acquireToken(r)}catch(n){throw n instanceof te&&n.setCorrelationId(r.correlationId),n}}setClientCredential(){let e=!!this.config.auth.clientSecret,r=!!this.config.auth.clientAssertion,n=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(e&&r||r&&n||e&&n)throw b(Ce.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(n)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?Rn.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):Rn.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw b(Ce.invalidClientCredential)}}}});var R_,er,Gs=v(()=>{"use strict";Se();He();ws();qi();R_={MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID:"mi_res_id"},er=class{constructor(e,r,n,o){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=o}async getServerTokenResponseAsync(e,r,n,o){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let r,n;return e.body.expires_on&&(n=e.body.expires_on-we.nowSeconds(),n>2*3600&&(r=n/2)),{status:e.status,access_token:e.body.access_token,expires_in:n,scope:e.body.resource,token_type:e.body.token_type,refresh_in:r,correlation_id:e.body.correlation_id||e.body.correlationId,error:typeof e.body.error=="string"?e.body.error:e.body.error?.code,error_description:e.body.message||(typeof e.body.error=="string"?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,r,n,o){let i=this.createRequest(e.resource,r),s=i.headers;s[tt.CONTENT_TYPE]=A.URL_FORM_CONTENT_TYPE;let a={headers:s};Object.keys(i.bodyParameters).length&&(a.body=i.computeParametersBodyString());let c=we.nowSeconds(),d;try{i.httpMethod===qe.POST?d=await this.networkClient.sendPostRequestAsync(i.computeUri(),a):d=await this.networkClient.sendGetRequestAsync(i.computeUri(),a)}catch(f){throw f instanceof te?f:b(Ce.networkError)}let u=new We(r.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),m=await this.getServerTokenResponseAsync(d,this.networkClient,i,a);return u.validateTokenResponse(m,o),u.handleServerTokenResponse(m,n,c,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e){switch(e){case ot.USER_ASSIGNED_CLIENT_ID:return this.logger.info("[Managed Identity] Adding user assigned client id to the request."),R_.MANAGED_IDENTITY_CLIENT_ID;case ot.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),R_.MANAGED_IDENTITY_RESOURCE_ID;case ot.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),R_.MANAGED_IDENTITY_OBJECT_ID;default:throw Qe(ho)}}};er.getValidatedEnvVariableUrlString=(t,e,r,n)=>{try{return new re(e).urlString}catch{throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${t}' environment variable is malformed.`),Qe(Bi[t])}}});var ur,$s=v(()=>{"use strict";Se();ur=class{constructor(e,r){this.httpMethod=e,this._baseEndpoint=r,this.headers={},this.bodyParameters={},this.queryParameters={}}computeUri(){let e=new Ne;this.queryParameters&&e.addExtraQueryParameters(this.queryParameters);let r=e.createQueryString();return re.appendQueryString(this._baseEndpoint,r)}computeParametersBodyString(){let e=new Ne;return this.bodyParameters&&e.addExtraQueryParameters(this.bodyParameters),e.createQueryString()}}});var rX,md,ew=v(()=>{"use strict";Gs();He();$s();rX="2019-08-01",md=class t extends er{constructor(e,r,n,o,i,s){super(e,r,n,o),this.identityEndpoint=i,this.identityHeader=s}static getEnvironmentVariables(){let e=process.env[Z.IDENTITY_ENDPOINT],r=process.env[Z.IDENTITY_HEADER];return[e,r]}static tryCreate(e,r,n,o){let[i,s]=t.getEnvironmentVariables();if(!i||!s)return e.info(`[Managed Identity] ${ne.APP_SERVICE} managed identity is unavailable because one or both of the '${Z.IDENTITY_HEADER}' and '${Z.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let a=t.getValidatedEnvVariableUrlString(Z.IDENTITY_ENDPOINT,i,ne.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${ne.APP_SERVICE} managed identity. Endpoint URI: ${a}. Creating ${ne.APP_SERVICE} managed identity.`),new t(e,r,n,o,i,s)}createRequest(e,r){let n=new ur(qe.GET,this.identityEndpoint);return n.headers[MT]=this.identityHeader,n.queryParameters[mo]=rX,n.queryParameters[Jr]=e,r.idType!==ot.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}}});var Pn,ow,nX,tw,rw,nw,oX,hd,iw=v(()=>{"use strict";Se();$s();Gs();ws();He();Pn=require("fs"),ow=ae(require("path"),1);qi();nX="2019-11-01",tw="http://127.0.0.1:40342/metadata/identity/oauth2/token",rw="N/A: himds executable exists",nw={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},oX={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"},hd=class t extends er{constructor(e,r,n,o,i){super(e,r,n,o),this.identityEndpoint=i}static getEnvironmentVariables(){let e=process.env[Z.IDENTITY_ENDPOINT],r=process.env[Z.IMDS_ENDPOINT];if(!e||!r){let n=oX[process.platform];try{(0,Pn.accessSync)(n,Pn.constants.F_OK|Pn.constants.R_OK),e=tw,r=rw}catch{}}return[e,r]}static tryCreate(e,r,n,o,i){let[s,a]=t.getEnvironmentVariables();if(!s||!a)return e.info(`[Managed Identity] ${ne.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${Z.IDENTITY_ENDPOINT}' and '${Z.IMDS_ENDPOINT}' are not defined. ${ne.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(a===rw)e.info(`[Managed Identity] ${ne.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${ne.AZURE_ARC} endpoint: ${tw}. Creating ${ne.AZURE_ARC} managed identity.`);else{let c=t.getValidatedEnvVariableUrlString(Z.IDENTITY_ENDPOINT,s,ne.AZURE_ARC,e);c.endsWith("/")&&c.slice(0,-1),t.getValidatedEnvVariableUrlString(Z.IMDS_ENDPOINT,a,ne.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${ne.AZURE_ARC} managed identity. Endpoint URI: ${c}. Creating ${ne.AZURE_ARC} managed identity.`)}if(i.idType!==ot.SYSTEM_ASSIGNED)throw Qe(gu);return new t(e,r,n,o,s)}createRequest(e){let r=new ur(qe.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return r.headers[Is]="true",r.queryParameters[mo]=nX,r.queryParameters[Jr]=e,r}async getServerTokenResponseAsync(e,r,n,o){let i;if(e.status===he.UNAUTHORIZED){let s=e.headers["www-authenticate"];if(!s)throw Qe(vu);if(!s.includes("Basic realm="))throw Qe(Eu);let a=s.split("Basic realm=")[1];if(!nw.hasOwnProperty(process.platform))throw Qe(fu);let c=nw[process.platform],d=ow.default.basename(a);if(!d.endsWith(".key"))throw Qe(pu);if(c+d!==a)throw Qe(mu);let u;try{u=await(0,Pn.statSync)(a).size}catch{throw Qe(Jc)}if(u>HT)throw Qe(hu);let m;try{m=(0,Pn.readFileSync)(a,"utf-8")}catch{throw Qe(Jc)}let f=`Basic ${m}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),n.headers[kT]=f;try{i=await r.sendGetRequestAsync(n.computeUri(),o)}catch(h){throw h instanceof te?h:b(Ce.networkError)}}return this.getServerTokenResponse(i||e)}}});var fd,sw=v(()=>{"use strict";$s();Gs();He();ws();qi();fd=class t extends er{constructor(e,r,n,o,i){super(e,r,n,o),this.msiEndpoint=i}static getEnvironmentVariables(){return[process.env[Z.MSI_ENDPOINT]]}static tryCreate(e,r,n,o,i){let[s]=t.getEnvironmentVariables();if(!s)return e.info(`[Managed Identity] ${ne.CLOUD_SHELL} managed identity is unavailable because the '${Z.MSI_ENDPOINT} environment variable is not defined.`),null;let a=t.getValidatedEnvVariableUrlString(Z.MSI_ENDPOINT,s,ne.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${ne.CLOUD_SHELL} managed identity. Endpoint URI: ${a}. Creating ${ne.CLOUD_SHELL} managed identity.`),i.idType!==ot.SYSTEM_ASSIGNED)throw Qe(yu);return new t(e,r,n,o,s)}createRequest(e){let r=new ur(qe.POST,this.msiEndpoint);return r.headers[Is]="true",r.bodyParameters[Jr]=e,r}}});var aw,iX,sX,mp,cw=v(()=>{"use strict";$s();Gs();He();aw="/metadata/identity/oauth2/token",iX=`http://169.254.169.254${aw}`,sX="2018-02-01",mp=class t extends er{constructor(e,r,n,o,i){super(e,r,n,o),this.identityEndpoint=i}static tryCreate(e,r,n,o){let i;return process.env[Z.AZURE_POD_IDENTITY_AUTHORITY_HOST]?(e.info(`[Managed Identity] Environment variable ${Z.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${ne.IMDS} returned endpoint: ${process.env[Z.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),i=t.getValidatedEnvVariableUrlString(Z.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[Z.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${aw}`,ne.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${Z.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${ne.IMDS}, using the default endpoint.`),i=iX),new t(e,r,n,o,i)}createRequest(e,r){let n=new ur(qe.GET,this.identityEndpoint);return n.headers[Is]="true",n.queryParameters[mo]=sX,n.queryParameters[Jr]=e,r.idType!==ot.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}}});var aX,gd,dw=v(()=>{"use strict";$s();Gs();He();aX="2019-07-01-preview",gd=class t extends er{constructor(e,r,n,o,i,s){super(e,r,n,o),this.identityEndpoint=i,this.identityHeader=s}static getEnvironmentVariables(){let e=process.env[Z.IDENTITY_ENDPOINT],r=process.env[Z.IDENTITY_HEADER],n=process.env[Z.IDENTITY_SERVER_THUMBPRINT];return[e,r,n]}static tryCreate(e,r,n,o,i){let[s,a,c]=t.getEnvironmentVariables();if(!s||!a||!c)return e.info(`[Managed Identity] ${ne.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${Z.IDENTITY_HEADER}', '${Z.IDENTITY_ENDPOINT}' or '${Z.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let d=t.getValidatedEnvVariableUrlString(Z.IDENTITY_ENDPOINT,s,ne.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${ne.SERVICE_FABRIC} managed identity. Endpoint URI: ${d}. Creating ${ne.SERVICE_FABRIC} managed identity.`),i.idType!==ot.SYSTEM_ASSIGNED&&e.warning(`[Managed Identity] ${ne.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new t(e,r,n,o,s,a)}createRequest(e,r){let n=new ur(qe.GET,this.identityEndpoint);return n.headers[LT]=this.identityHeader,n.queryParameters[mo]=aX,n.queryParameters[Jr]=e,r.idType!==ot.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}}});var yd,lw=v(()=>{"use strict";ew();iw();sw();cw();dw();ws();He();qi();yd=class t{constructor(e,r,n,o){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=o}async sendManagedIdentityTokenRequest(e,r,n,o){return t.identitySource||(t.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,r)),t.identitySource.acquireTokenWithManagedIdentity(e,r,n,o)}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(r=>r!==void 0)}getManagedIdentitySource(){return t.sourceName=this.allEnvironmentVariablesAreDefined(gd.getEnvironmentVariables())?ne.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(md.getEnvironmentVariables())?ne.APP_SERVICE:this.allEnvironmentVariablesAreDefined(fd.getEnvironmentVariables())?ne.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(hd.getEnvironmentVariables())?ne.AZURE_ARC:ne.DEFAULT_TO_IMDS,t.sourceName}selectManagedIdentitySource(e,r,n,o,i){let s=gd.tryCreate(e,r,n,o,i)||md.tryCreate(e,r,n,o)||fd.tryCreate(e,r,n,o,i)||hd.tryCreate(e,r,n,o,i)||mp.tryCreate(e,r,n,o);if(!s)throw Qe(_u);return s}}});var hp,uw=v(()=>{"use strict";Se();Iu();pd();Ou();up();lw();xu();He();hp=class t{constructor(e){this.config=rA(e||{}),this.logger=new Xt(this.config.system.loggerOptions,ap,wn);let r={canonicalAuthority:A.DEFAULT_AUTHORITY};t.nodeStorage||(t.nodeStorage=new go(this.logger,this.config.managedIdentityId.id,Es,r)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new fo;let n={protocolMode:Gt.AAD,knownAuthorities:[Oy],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new kr(Oy,this.networkClient,t.nodeStorage,n,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new Eo({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new yd(this.logger,t.nodeStorage,this.networkClient,this.cryptoProvider)}async acquireToken(e){if(!e.resource)throw ue(fs.urlEmptyError);let r={forceRefresh:e.forceRefresh,resource:e.resource.replace("/.default",""),scopes:[e.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid()};if(r.forceRefresh)return this.managedIdentityClient.sendManagedIdentityTokenRequest(r,this.config.managedIdentityId,this.fakeAuthority);let[n,o]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(r,this.config,this.cryptoProvider,this.fakeAuthority,t.nodeStorage);return n?(o===be.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.managedIdentityClient.sendManagedIdentityTokenRequest(r,this.config.managedIdentityId,this.fakeAuthority,!0)),n):this.managedIdentityClient.sendManagedIdentityTokenRequest(r,this.config.managedIdentityId,this.fakeAuthority)}getManagedIdentitySource(){return yd.sourceName||this.managedIdentityClient.getManagedIdentitySource()}}});var fp,pw=v(()=>{"use strict";Se();fp=class{constructor(e,r){this.client=e,this.partitionManager=r}async beforeCacheAccess(e){let r=await this.partitionManager.getKey(),n=await this.client.get(r);e.tokenCache.deserialize(n)}async afterCacheAccess(e){if(e.cacheHasChanged){let r=e.tokenCache.getKVStore(),n=Object.values(r).filter(o=>ut.isAccountEntity(o));if(n.length>0){let o=n[0],i=await this.partitionManager.extractKey(o);await this.client.set(i,e.tokenCache.serialize())}}}}});var mw={};At(mw,{AuthError:()=>te,AuthErrorCodes:()=>ms,AuthErrorMessage:()=>gg,AzureCloudInstance:()=>Cn,ClientApplication:()=>vo,ClientAssertion:()=>Rn,ClientAuthError:()=>oo,ClientAuthErrorCodes:()=>Ce,ClientAuthErrorMessage:()=>_g,ClientConfigurationError:()=>gs,ClientConfigurationErrorCodes:()=>fs,ClientConfigurationErrorMessage:()=>Eg,ClientCredentialClient:()=>Eo,ConfidentialClientApplication:()=>pp,CryptoProvider:()=>fo,DeviceCodeClient:()=>Hs,DistributedCachePlugin:()=>fp,InteractionRequiredAuthError:()=>sr,InteractionRequiredAuthErrorCodes:()=>eu,InteractionRequiredAuthErrorMessage:()=>Iy,LogLevel:()=>Be,Logger:()=>Xt,ManagedIdentityApplication:()=>hp,ManagedIdentitySourceNames:()=>ne,NodeStorage:()=>go,OnBehalfOfClient:()=>js,PromptValue:()=>zr,ProtocolMode:()=>Gt,PublicClientApplication:()=>lp,ResponseMode:()=>ln,ServerError:()=>$t,TokenCache:()=>Os,TokenCacheContext:()=>ar,UsernamePasswordClient:()=>qs,buildAppConfiguration:()=>Au,internals:()=>Py,version:()=>wn});var hw=v(()=>{"use strict";DT();XR();ZR();cp();up();I_();b_();uw();A_();Iu();sp();Uy();xu();pw();He();Ou();Se();pd();});var ye={};At(ye,{__addDisposableResource:()=>Mw,__assign:()=>gp,__asyncDelegator:()=>Rw,__asyncGenerator:()=>bw,__asyncValues:()=>ww,__await:()=>zs,__awaiter:()=>Ew,__classPrivateFieldGet:()=>Nw,__classPrivateFieldIn:()=>kw,__classPrivateFieldSet:()=>Dw,__createBinding:()=>_p,__decorate:()=>yw,__disposeResources:()=>Lw,__esDecorate:()=>cX,__exportStar:()=>Sw,__extends:()=>fw,__generator:()=>Cw,__importDefault:()=>xw,__importStar:()=>Ow,__makeTemplateObject:()=>Pw,__metadata:()=>vw,__param:()=>_w,__propKey:()=>lX,__read:()=>P_,__rest:()=>gw,__runInitializers:()=>dX,__setFunctionName:()=>uX,__spread:()=>Tw,__spreadArray:()=>Iw,__spreadArrays:()=>Aw,__values:()=>yp,default:()=>hX});function fw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");w_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function gw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function yw(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function _w(t,e){return function(r,n){e(r,n,t)}}function cX(t,e,r,n,o,i){function s(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!e&&t?n.static?t:t.prototype:null,u=e||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),m,f=!1,h=r.length-1;h>=0;h--){var y={};for(var E in n)y[E]=E==="access"?{}:n[E];for(var E in n.access)y.access[E]=n.access[E];y.addInitializer=function(w){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(w||null))};var I=(0,r[h])(a==="accessor"?{get:u.get,set:u.set}:u[c],y);if(a==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(m=s(I.get))&&(u.get=m),(m=s(I.set))&&(u.set=m),(m=s(I.init))&&o.unshift(m)}else(m=s(I))&&(a==="field"?o.unshift(m):u[c]=m)}d&&Object.defineProperty(d,n.name,u),f=!0}function dX(t,e,r){for(var n=arguments.length>2,o=0;o<e.length;o++)r=n?e[o].call(t,r):e[o].call(t);return n?r:void 0}function lX(t){return typeof t=="symbol"?t:"".concat(t)}function uX(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function vw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ew(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(u){try{d(n.next(u))}catch(m){s(m)}}function c(u){try{d(n.throw(u))}catch(m){s(m)}}function d(u){u.done?i(u.value):o(u.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function Cw(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(r=0)),r;)try{if(n=1,o&&(i=d[0]&2?o.return:d[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,d[1])).done)return i;switch(o=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],o=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Sw(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_p(e,t,r)}function yp(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function P_(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function Tw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(P_(arguments[e]));return t}function Aw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function Iw(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function zs(t){return this instanceof zs?(this.v=t,this):new zs(t)}function bw(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(y){return Promise.resolve(y).then(h,m)}}function a(h,y){n[h]&&(o[h]=function(E){return new Promise(function(I,w){i.push([h,E,I,w])>1||c(h,E)})},y&&(o[h]=y(o[h])))}function c(h,y){try{d(n[h](y))}catch(E){f(i[0][3],E)}}function d(h){h.value instanceof zs?Promise.resolve(h.value.v).then(u,m):f(i[0][2],h)}function u(h){c("next",h)}function m(h){c("throw",h)}function f(h,y){h(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Rw(t){var e,r;return e={},n("next"),n("throw",function(o){throw o}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(o,i){e[o]=t[o]?function(s){return(r=!r)?{value:zs(t[o](s)),done:!1}:i?i(s):s}:i}}function ww(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof yp=="function"?yp(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}}function Pw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Ow(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_p(e,t,r);return pX(e,t),e}function xw(t){return t&&t.__esModule?t:{default:t}}function Nw(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Dw(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function kw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Mw(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function Lw(t){function e(i){t.error=t.hasError?new mX(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(s){return e(s),o()})}else n|=1}catch(s){e(s)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}var w_,gp,_p,pX,mX,hX,_e=v(()=>{w_=function(t,e){return w_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},w_(t,e)};gp=function(){return gp=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},gp.apply(this,arguments)};_p=Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};pX=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};mX=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};hX={__extends:fw,__assign:gp,__rest:gw,__decorate:yw,__param:_w,__metadata:vw,__awaiter:Ew,__generator:Cw,__createBinding:_p,__exportStar:Sw,__values:yp,__read:P_,__spread:Tw,__spreadArrays:Aw,__spreadArray:Iw,__await:zs,__asyncGenerator:bw,__asyncDelegator:Rw,__asyncValues:ww,__makeTemplateObject:Pw,__importStar:Ow,__importDefault:xw,__classPrivateFieldGet:Nw,__classPrivateFieldSet:Dw,__classPrivateFieldIn:kw,__addDisposableResource:Mw,__disposeResources:Lw}});var _d=g(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.RequestMethod=void 0;var Uw;(function(t){t.GET="GET",t.PATCH="PATCH",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE"})(Uw||(vp.RequestMethod=Uw={}))});var Fw=g(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.BatchRequestContent=void 0;var Vs=(_e(),M(ye)),O_=_d(),fX=function(){function t(e){if(this.requests=new Map,typeof e<"u"){var r=t.requestLimit;if(e.length>r){var n=new Error("Maximum requests limit exceeded, Max allowed number of requests are ".concat(r));throw n.name="Limit Exceeded Error",n}for(var o=0,i=e;o<i.length;o++){var s=i[o];this.addRequest(s)}}}return t.validateDependencies=function(e){var r=function(s){for(var a=s.entries(),c=a.next();!c.done;){var d=c.value[1];if(d.dependsOn!==void 0&&d.dependsOn.length>0)return!1;c=a.next()}return!0},n=function(s){var a=s.entries(),c=a.next(),d=c.value[1];if(d.dependsOn!==void 0&&d.dependsOn.length>0)return!1;var u=c;for(c=a.next();!c.done;){var m=c.value[1];if(m.dependsOn===void 0||m.dependsOn.length!==1||m.dependsOn[0]!==u.value[1].id)return!1;u=c,c=a.next()}return!0},o=function(s){var a=s.entries(),c=a.next(),d=c.value[1],u;if(d.dependsOn===void 0||d.dependsOn.length===0)u=d.id;else if(d.dependsOn.length===1){var m=d.dependsOn[0];if(m!==d.id&&s.has(m))u=m;else return!1}else return!1;for(c=a.next();!c.done;){var f=c.value[1];if((f.dependsOn===void 0||f.dependsOn.length===0)&&u!==f.id||f.dependsOn!==void 0&&f.dependsOn.length!==0&&(f.dependsOn.length===1&&(f.id===u||f.dependsOn[0]!==u)||f.dependsOn.length>1))return!1;c=a.next()}return!0};if(e.size===0){var i=new Error("Empty requests map, Please provide at least one request.");throw i.name="Empty Requests Error",i}return r(e)||n(e)||o(e)},t.getRequestData=function(e){return Vs.__awaiter(this,void 0,void 0,function(){var r,n,o,i;return Vs.__generator(this,function(s){switch(s.label){case 0:return r={url:""},n=new RegExp("^https?://"),r.url=n.test(e.url)?"/"+e.url.split(/.*?\/\/.*?\//)[1]:e.url,r.method=e.method,o={},e.headers.forEach(function(a,c){o[c]=a}),Object.keys(o).length&&(r.headers=o),e.method===O_.RequestMethod.PATCH||e.method===O_.RequestMethod.POST||e.method===O_.RequestMethod.PUT?(i=r,[4,t.getRequestBody(e)]):[3,2];case 1:i.body=s.sent(),s.label=2;case 2:return[2,r]}})})},t.getRequestBody=function(e){return Vs.__awaiter(this,void 0,void 0,function(){var r,n,o,i,s,a,c,d;return Vs.__generator(this,function(u){switch(u.label){case 0:r=!1,u.label=1;case 1:return u.trys.push([1,3,,4]),o=e.clone(),[4,o.json()];case 2:return n=u.sent(),r=!0,[3,4];case 3:return i=u.sent(),[3,4];case 4:if(r)return[3,12];u.label=5;case 5:return u.trys.push([5,11,,12]),typeof Blob<"u"?[4,e.blob()]:[3,8];case 6:return s=u.sent(),a=new FileReader,[4,new Promise(function(m){a.addEventListener("load",function(){var f=a.result,h=new RegExp("^s*data:(.+?/.+?(;.+?=.+?)*)?(;base64)?,(.*)s*$"),y=h.exec(f);m(y[4])},!1),a.readAsDataURL(s)})];case 7:return n=u.sent(),[3,10];case 8:return typeof Buffer<"u"?[4,e.buffer()]:[3,10];case 9:c=u.sent(),n=c.toString("base64"),u.label=10;case 10:return r=!0,[3,12];case 11:return d=u.sent(),[3,12];case 12:return[2,n]}})})},t.prototype.addRequest=function(e){var r=t.requestLimit;if(e.id===""){var n=new Error("Id for a request is empty, Please provide an unique id");throw n.name="Empty Id For Request",n}if(this.requests.size===r){var n=new Error("Maximum requests limit exceeded, Max allowed number of requests are ".concat(r));throw n.name="Limit Exceeded Error",n}if(this.requests.has(e.id)){var n=new Error("Adding request with duplicate id ".concat(e.id,", Make the id of the requests unique"));throw n.name="Duplicate RequestId Error",n}return this.requests.set(e.id,e),e.id},t.prototype.removeRequest=function(e){for(var r=this.requests.delete(e),n=this.requests.entries(),o=n.next();!o.done;){var i=o.value[1].dependsOn;if(typeof i<"u"){var s=i.indexOf(e);s!==-1&&i.splice(s,1),i.length===0&&delete o.value[1].dependsOn}o=n.next()}return r},t.prototype.getContent=function(){return Vs.__awaiter(this,void 0,void 0,function(){var e,r,n,o,a,a,i,s,a;return Vs.__generator(this,function(c){switch(c.label){case 0:if(e=[],r={requests:e},n=this.requests.entries(),o=n.next(),o.done)throw a=new Error("No requests added yet, Please add at least one request."),a.name="Empty Payload",a;if(!t.validateDependencies(this.requests))throw a=new Error(`Invalid dependency found, Dependency should be:
1. Parallel - no individual request states a dependency in the dependsOn property.
2. Serial - all individual requests depend on the previous individual request.
3. Same - all individual requests that state a dependency in the dependsOn property, state the same dependency.`),a.name="Invalid Dependency",a;c.label=1;case 1:return o.done?[3,3]:(i=o.value[1],[4,t.getRequestData(i.request)]);case 2:if(s=c.sent(),s.body!==void 0&&(s.headers===void 0||s.headers["content-type"]===void 0))throw a=new Error("Content-type header is not mentioned for request #".concat(i.id,", For request having body, Content-type header should be mentioned")),a.name="Invalid Content-type header",a;return s.id=i.id,i.dependsOn!==void 0&&i.dependsOn.length>0&&(s.dependsOn=i.dependsOn),e.push(s),o=n.next(),[3,1];case 3:return r.requests=e,[2,r]}})})},t.prototype.addDependency=function(e,r){if(!this.requests.has(e)){var n=new Error("Dependent ".concat(e," does not exists, Please check the id"));throw n.name="Invalid Dependent",n}if(typeof r<"u"&&!this.requests.has(r)){var n=new Error("Dependency ".concat(r," does not exists, Please check the id"));throw n.name="Invalid Dependency",n}if(typeof r<"u"){var o=this.requests.get(e);if(o.dependsOn===void 0&&(o.dependsOn=[]),o.dependsOn.indexOf(r)!==-1){var n=new Error("Dependency ".concat(r," is already added for the request ").concat(e));throw n.name="Duplicate Dependency",n}o.dependsOn.push(r)}else{for(var i=this.requests.entries(),s=void 0,a=i.next();!a.done&&a.value[1].id!==e;)s=a,a=i.next();if(typeof s<"u"){var c=s.value[0];if(a.value[1].dependsOn===void 0&&(a.value[1].dependsOn=[]),a.value[1].dependsOn.indexOf(c)!==-1){var n=new Error("Dependency ".concat(c," is already added for the request ").concat(e));throw n.name="Duplicate Dependency",n}a.value[1].dependsOn.push(c)}else{var n=new Error("Can't add dependency ".concat(r,", There is only a dependent request in the batch"));throw n.name="Invalid Dependency Addition",n}}},t.prototype.removeDependency=function(e,r){var n=this.requests.get(e);if(typeof n>"u"||n.dependsOn===void 0||n.dependsOn.length===0)return!1;if(typeof r<"u"){var o=n.dependsOn.indexOf(r);return o===-1?!1:(n.dependsOn.splice(o,1),!0)}else return delete n.dependsOn,!0},t.requestLimit=20,t}();Ep.BatchRequestContent=fX});var Bw=g(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.BatchResponseContent=void 0;var gX=(_e(),M(ye)),yX=function(){function t(e){this.responses=new Map,this.update(e)}return t.prototype.createResponseObject=function(e){var r=e.body,n={};if(n.status=e.status,e.statusText!==void 0&&(n.statusText=e.statusText),n.headers=e.headers,n.headers!==void 0&&n.headers["Content-Type"]!==void 0&&n.headers["Content-Type"].split(";")[0]==="application/json"){var o=JSON.stringify(r);return new Response(o,n)}return new Response(r,n)},t.prototype.update=function(e){this.nextLink=e["@odata.nextLink"];for(var r=e.responses,n=0,o=r.length;n<o;n++)this.responses.set(r[n].id,this.createResponseObject(r[n]))},t.prototype.getResponseById=function(e){return this.responses.get(e)},t.prototype.getResponses=function(){return this.responses},t.prototype.getResponsesIterator=function(){var e,r;return gX.__generator(this,function(n){switch(n.label){case 0:e=this.responses.entries(),r=e.next(),n.label=1;case 1:return r.done?[3,3]:[4,r.value];case 2:return n.sent(),r=e.next(),[3,1];case 3:return[2]}})},t}();Cp.BatchResponseContent=yX});var x_=g(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.GRAPH_URLS=Co.GRAPH_BASE_URL=Co.GRAPH_API_VERSION=void 0;Co.GRAPH_API_VERSION="v1.0";Co.GRAPH_BASE_URL="https://graph.microsoft.com/";Co.GRAPH_URLS=new Set(["graph.microsoft.com","graph.microsoft.us","dod-graph.microsoft.us","graph.microsoft.de","microsoftgraph.chinacloudapi.cn","canary.graph.microsoft.com"])});var On=g(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.GraphClientError=void 0;var _X=(_e(),M(ye)),vX=function(t){_X.__extends(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return e.setGraphClientError=function(r){var n;return r instanceof Error?n=r:(n=new e,n.customError=r),n},e}(Error);Sp.GraphClientError=vX});var Tp=g(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.isCustomHost=pr.isGraphURL=pr.serializeContent=pr.urlJoin=pr.oDataQueryNames=void 0;var EX=x_(),CX=On();pr.oDataQueryNames=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"];var SX=function(t){var e=function(i){return i.replace(/\/+$/,"")},r=function(i){return i.replace(/^\/+/,"")},n=function(i,s){return[e(i),r(s)].join("/")},o=Array.prototype.slice.call(t);return o.reduce(n)};pr.urlJoin=SX;var TX=function(t){var e=t&&t.constructor&&t.constructor.name;if(e==="Buffer"||e==="Blob"||e==="File"||e==="FormData"||typeof t=="string")return t;if(e==="ArrayBuffer")t=Buffer.from(t);else if(e==="Int8Array"||e==="Int16Array"||e==="Int32Array"||e==="Uint8Array"||e==="Uint16Array"||e==="Uint32Array"||e==="Uint8ClampedArray"||e==="Float32Array"||e==="Float64Array"||e==="DataView")t=Buffer.from(t.buffer);else try{t=JSON.stringify(t)}catch{throw new Error("Unable to stringify the content")}return t};pr.serializeContent=TX;var AX=function(t){return qw(t)};pr.isGraphURL=AX;var IX=function(t,e){return e.forEach(function(r){return bX(r)}),qw(t,e)};pr.isCustomHost=IX;var qw=function(t,e){if(e===void 0&&(e=EX.GRAPH_URLS),t=t.toLowerCase(),t.indexOf("https://")!==-1){t=t.replace("https://","");var r=t.indexOf(":"),n=t.indexOf("/"),o="";if(n!==-1)return r!==-1&&r<n?(o=t.substring(0,r),e.has(o)):(o=t.substring(0,n),e.has(o))}return!1},bX=function(t){if(t.indexOf("/")!==-1)throw new CX.GraphClientError("Please add only hosts or hostnames to the CustomHosts config. If the url is `http://example.com:3000/`, host is `example:3000`")}});var So=g(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.MiddlewareControl=void 0;var RX=function(){function t(e){e===void 0&&(e=[]),this.middlewareOptions=new Map;for(var r=0,n=e;r<n.length;r++){var o=n[r],i=o.constructor;this.middlewareOptions.set(i,o)}}return t.prototype.getMiddlewareOptions=function(e){return this.middlewareOptions.get(e)},t.prototype.setMiddlewareOptions=function(e,r){this.middlewareOptions.set(e,r)},t}();Ap.MiddlewareControl=RX});var Ks=g(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.cloneRequestWithNewUrl=mr.appendRequestHeader=mr.setRequestHeader=mr.getRequestHeader=mr.generateUUID=void 0;var Hw=(_e(),M(ye)),wX=function(){for(var t="",e=0;e<32;e++)(e===8||e===12||e===16||e===20)&&(t+="-"),t+=Math.floor(Math.random()*16).toString(16);return t};mr.generateUUID=wX;var PX=function(t,e,r){var n=null;if(typeof Request<"u"&&t instanceof Request)n=t.headers.get(r);else if(typeof e<"u"&&e.headers!==void 0)if(typeof Headers<"u"&&e.headers instanceof Headers)n=e.headers.get(r);else if(e.headers instanceof Array){for(var o=e.headers,i=0,s=o.length;i<s;i++)if(o[i][0]===r){n=o[i][1];break}}else e.headers[r]!==void 0&&(n=e.headers[r]);return n};mr.getRequestHeader=PX;var OX=function(t,e,r,n){var o,i;if(typeof Request<"u"&&t instanceof Request)t.headers.set(r,n);else if(typeof e<"u")if(e.headers===void 0)e.headers=new Headers((o={},o[r]=n,o));else if(typeof Headers<"u"&&e.headers instanceof Headers)e.headers.set(r,n);else if(e.headers instanceof Array){for(var s=0,a=e.headers.length;s<a;s++){var c=e.headers[s];if(c[0]===r){c[1]=n;break}}s===a&&e.headers.push([r,n])}else Object.assign(e.headers,(i={},i[r]=n,i))};mr.setRequestHeader=OX;var xX=function(t,e,r,n){var o,i;typeof Request<"u"&&t instanceof Request?t.headers.append(r,n):typeof e<"u"&&(e.headers===void 0?e.headers=new Headers((o={},o[r]=n,o)):typeof Headers<"u"&&e.headers instanceof Headers?e.headers.append(r,n):e.headers instanceof Array?e.headers.push([r,n]):e.headers===void 0?e.headers=(i={},i[r]=n,i):e.headers[r]===void 0?e.headers[r]=n:e.headers[r]+=", ".concat(n))};mr.appendRequestHeader=xX;var NX=function(t,e){return Hw.__awaiter(void 0,void 0,void 0,function(){var r,n,o,i,s,a,c,d,u,m,f,h,y;return Hw.__generator(this,function(E){switch(E.label){case 0:return e.headers.get("Content-Type")?[4,e.blob()]:[3,2];case 1:return n=E.sent(),[3,4];case 2:return[4,Promise.resolve(void 0)];case 3:n=E.sent(),E.label=4;case 4:return r=n,o=e.method,i=e.headers,s=e.referrer,a=e.referrerPolicy,c=e.mode,d=e.credentials,u=e.cache,m=e.redirect,f=e.integrity,h=e.keepalive,y=e.signal,[2,new Request(t,{method:o,headers:i,body:r,referrer:s,referrerPolicy:a,mode:c,credentials:d,cache:u,redirect:m,integrity:f,keepalive:h,signal:y})]}})})};mr.cloneRequestWithNewUrl=NX});var N_=g(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.AuthenticationHandlerOptions=void 0;var DX=function(){function t(e,r){this.authenticationProvider=e,this.authenticationProviderOptions=r}return t}();Ip.AuthenticationHandlerOptions=DX});var Qs=g(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.TelemetryHandlerOptions=Ws.FeatureUsageFlag=void 0;var jw=So(),D_;(function(t){t[t.NONE=0]="NONE",t[t.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",t[t.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",t[t.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED"})(D_||(Ws.FeatureUsageFlag=D_={}));var kX=function(){function t(){this.featureUsage=D_.NONE}return t.updateFeatureUsageFlag=function(e,r){var n;e.middlewareControl instanceof jw.MiddlewareControl?n=e.middlewareControl.getMiddlewareOptions(t):e.middlewareControl=new jw.MiddlewareControl,typeof n>"u"&&(n=new t,e.middlewareControl.setMiddlewareOptions(t,n)),n.setFeatureUsage(r)},t.prototype.setFeatureUsage=function(e){this.featureUsage=this.featureUsage|e},t.prototype.getFeatureUsage=function(){return this.featureUsage.toString(16)},t}();Ws.TelemetryHandlerOptions=kX});var Rp=g(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.AuthenticationHandler=void 0;var Gw=(_e(),M(ye)),$w=Tp(),MX=So(),LX=Ks(),UX=N_(),zw=Qs(),FX=function(){function t(e){this.authenticationProvider=e}return t.prototype.execute=function(e){return Gw.__awaiter(this,void 0,void 0,function(){var r,n,o,i,s,a;return Gw.__generator(this,function(c){switch(c.label){case 0:return r=typeof e.request=="string"?e.request:e.request.url,(0,$w.isGraphURL)(r)||e.customHosts&&(0,$w.isCustomHost)(r,e.customHosts)?(n=void 0,e.middlewareControl instanceof MX.MiddlewareControl&&(n=e.middlewareControl.getMiddlewareOptions(UX.AuthenticationHandlerOptions)),o=void 0,i=void 0,n&&(o=n.authenticationProvider,i=n.authenticationProviderOptions),o||(o=this.authenticationProvider),[4,o.getAccessToken(i)]):[3,2];case 1:return s=c.sent(),a="Bearer ".concat(s),(0,LX.appendRequestHeader)(e.request,e.options,t.AUTHORIZATION_HEADER,a),zw.TelemetryHandlerOptions.updateFeatureUsageFlag(e,zw.FeatureUsageFlag.AUTHENTICATION_HANDLER_ENABLED),[3,3];case 2:e.options.headers&&delete e.options.headers[t.AUTHORIZATION_HEADER],c.label=3;case 3:return[4,this.nextMiddleware.execute(e)];case 4:return[2,c.sent()]}})})},t.prototype.setNext=function(e){this.nextMiddleware=e},t.AUTHORIZATION_HEADER="Authorization",t}();bp.AuthenticationHandler=FX});var Pp=g(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.HTTPMessageHandler=void 0;var Vw=(_e(),M(ye)),BX=function(){function t(){}return t.prototype.execute=function(e){return Vw.__awaiter(this,void 0,void 0,function(){var r;return Vw.__generator(this,function(n){switch(n.label){case 0:return r=e,[4,fetch(e.request,e.options)];case 1:return r.response=n.sent(),[2]}})})},t}();wp.HTTPMessageHandler=BX});var vd=g(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.RetryHandlerOptions=void 0;var qX=function(){function t(e,r,n){if(e===void 0&&(e=t.DEFAULT_DELAY),r===void 0&&(r=t.DEFAULT_MAX_RETRIES),n===void 0&&(n=t.defaultShouldRetry),e>t.MAX_DELAY&&r>t.MAX_MAX_RETRIES){var o=new Error("Delay and MaxRetries should not be more than ".concat(t.MAX_DELAY," and ").concat(t.MAX_MAX_RETRIES));throw o.name="MaxLimitExceeded",o}else if(e>t.MAX_DELAY){var o=new Error("Delay should not be more than ".concat(t.MAX_DELAY));throw o.name="MaxLimitExceeded",o}else if(r>t.MAX_MAX_RETRIES){var o=new Error("MaxRetries should not be more than ".concat(t.MAX_MAX_RETRIES));throw o.name="MaxLimitExceeded",o}else if(e<0&&r<0){var o=new Error("Delay and MaxRetries should not be negative");throw o.name="MinExpectationNotMet",o}else if(e<0){var o=new Error("Delay should not be negative");throw o.name="MinExpectationNotMet",o}else if(r<0){var o=new Error("MaxRetries should not be negative");throw o.name="MinExpectationNotMet",o}this.delay=Math.min(e,t.MAX_DELAY),this.maxRetries=Math.min(r,t.MAX_MAX_RETRIES),this.shouldRetry=n}return t.prototype.getMaxDelay=function(){return t.MAX_DELAY},t.DEFAULT_DELAY=3,t.DEFAULT_MAX_RETRIES=3,t.MAX_DELAY=180,t.MAX_MAX_RETRIES=10,t.defaultShouldRetry=function(){return!0},t}();Op.RetryHandlerOptions=qX});var Np=g(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.RetryHandler=void 0;var Ys=(_e(),M(ye)),k_=_d(),HX=So(),Kw=Ks(),Ww=vd(),Qw=Qs(),jX=function(){function t(e){e===void 0&&(e=new Ww.RetryHandlerOptions),this.options=e}return t.prototype.isRetry=function(e){return t.RETRY_STATUS_CODES.indexOf(e.status)!==-1},t.prototype.isBuffered=function(e,r){var n=typeof e=="string"?r.method:e.method,o=n===k_.RequestMethod.PUT||n===k_.RequestMethod.PATCH||n===k_.RequestMethod.POST;if(o){var i=(0,Kw.getRequestHeader)(e,r,"Content-Type")==="application/octet-stream";if(i)return!1}return!0},t.prototype.getDelay=function(e,r,n){var o=function(){return Number(Math.random().toFixed(3))},i=e.headers!==void 0?e.headers.get(t.RETRY_AFTER_HEADER):null,s;return i!==null?Number.isNaN(Number(i))?s=Math.round((new Date(i).getTime()-Date.now())/1e3):s=Number(i):s=r>=2?this.getExponentialBackOffTime(r)+n+o():n+o(),Math.min(s,this.options.getMaxDelay()+o())},t.prototype.getExponentialBackOffTime=function(e){return Math.round(1/2*(Math.pow(2,e)-1))},t.prototype.sleep=function(e){return Ys.__awaiter(this,void 0,void 0,function(){var r;return Ys.__generator(this,function(n){return r=e*1e3,[2,new Promise(function(o){return setTimeout(o,r)})]})})},t.prototype.getOptions=function(e){var r;return e.middlewareControl instanceof HX.MiddlewareControl&&(r=e.middlewareControl.getMiddlewareOptions(this.options.constructor)),typeof r>"u"&&(r=Object.assign(new Ww.RetryHandlerOptions,this.options)),r},t.prototype.executeWithRetry=function(e,r,n){return Ys.__awaiter(this,void 0,void 0,function(){var o;return Ys.__generator(this,function(i){switch(i.label){case 0:return[4,this.nextMiddleware.execute(e)];case 1:return i.sent(),r<n.maxRetries&&this.isRetry(e.response)&&this.isBuffered(e.request,e.options)&&n.shouldRetry(n.delay,r,e.request,e.options,e.response)?(++r,(0,Kw.setRequestHeader)(e.request,e.options,t.RETRY_ATTEMPT_HEADER,r.toString()),o=this.getDelay(e.response,r,n.delay),[4,this.sleep(o)]):[3,4];case 2:return i.sent(),[4,this.executeWithRetry(e,r,n)];case 3:return[2,i.sent()];case 4:return[2]}})})},t.prototype.execute=function(e){return Ys.__awaiter(this,void 0,void 0,function(){var r,n;return Ys.__generator(this,function(o){switch(o.label){case 0:return r=0,n=this.getOptions(e),Qw.TelemetryHandlerOptions.updateFeatureUsageFlag(e,Qw.FeatureUsageFlag.RETRY_HANDLER_ENABLED),[4,this.executeWithRetry(e,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.setNext=function(e){this.nextMiddleware=e},t.RETRY_STATUS_CODES=[429,503,504],t.RETRY_ATTEMPT_HEADER="Retry-Attempt",t.RETRY_AFTER_HEADER="Retry-After",t}();xp.RetryHandler=jX});var Ed=g(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.RedirectHandlerOptions=void 0;var GX=function(){function t(e,r){if(e===void 0&&(e=t.DEFAULT_MAX_REDIRECTS),r===void 0&&(r=t.defaultShouldRedirect),e>t.MAX_MAX_REDIRECTS){var n=new Error("MaxRedirects should not be more than ".concat(t.MAX_MAX_REDIRECTS));throw n.name="MaxLimitExceeded",n}if(e<0){var n=new Error("MaxRedirects should not be negative");throw n.name="MinExpectationNotMet",n}this.maxRedirects=e,this.shouldRedirect=r}return t.DEFAULT_MAX_REDIRECTS=5,t.MAX_MAX_REDIRECTS=20,t.defaultShouldRedirect=function(){return!0},t}();Dp.RedirectHandlerOptions=GX});var Mp=g(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.RedirectHandler=void 0;var Js=(_e(),M(ye)),$X=_d(),zX=So(),VX=Ks(),M_=Ed(),Yw=Qs(),KX=function(){function t(e){e===void 0&&(e=new M_.RedirectHandlerOptions),this.options=e}return t.prototype.isRedirect=function(e){return t.REDIRECT_STATUS_CODES.indexOf(e.status)!==-1},t.prototype.hasLocationHeader=function(e){return e.headers.has(t.LOCATION_HEADER)},t.prototype.getLocationHeader=function(e){return e.headers.get(t.LOCATION_HEADER)},t.prototype.isRelativeURL=function(e){return e.indexOf("://")===-1},t.prototype.shouldDropAuthorizationHeader=function(e,r){var n=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,o=n.exec(e),i,s;o!==null&&(i=o[0]);var a=n.exec(r);return a!==null&&(s=a[0]),typeof i<"u"&&typeof s<"u"&&i!==s},t.prototype.updateRequestUrl=function(e,r){return Js.__awaiter(this,void 0,void 0,function(){var n,o;return Js.__generator(this,function(i){switch(i.label){case 0:return n=r,typeof r.request!="string"?[3,1]:(o=e,[3,3]);case 1:return[4,(0,VX.cloneRequestWithNewUrl)(e,r.request)];case 2:o=i.sent(),i.label=3;case 3:return n.request=o,[2]}})})},t.prototype.getOptions=function(e){var r;return e.middlewareControl instanceof zX.MiddlewareControl&&(r=e.middlewareControl.getMiddlewareOptions(M_.RedirectHandlerOptions)),typeof r>"u"&&(r=Object.assign(new M_.RedirectHandlerOptions,this.options)),r},t.prototype.executeWithRedirect=function(e,r,n){return Js.__awaiter(this,void 0,void 0,function(){var o,i;return Js.__generator(this,function(s){switch(s.label){case 0:return[4,this.nextMiddleware.execute(e)];case 1:return s.sent(),o=e.response,r<n.maxRedirects&&this.isRedirect(o)&&this.hasLocationHeader(o)&&n.shouldRedirect(o)?(++r,o.status!==t.STATUS_CODE_SEE_OTHER?[3,2]:(e.options.method=$X.RequestMethod.GET,delete e.options.body,[3,4])):[3,6];case 2:return i=this.getLocationHeader(o),!this.isRelativeURL(i)&&this.shouldDropAuthorizationHeader(o.url,i)&&delete e.options.headers[t.AUTHORIZATION_HEADER],[4,this.updateRequestUrl(i,e)];case 3:s.sent(),s.label=4;case 4:return[4,this.executeWithRedirect(e,r,n)];case 5:return s.sent(),[3,7];case 6:return[2];case 7:return[2]}})})},t.prototype.execute=function(e){return Js.__awaiter(this,void 0,void 0,function(){var r,n;return Js.__generator(this,function(o){switch(o.label){case 0:return r=0,n=this.getOptions(e),e.options.redirect=t.MANUAL_REDIRECT,Yw.TelemetryHandlerOptions.updateFeatureUsageFlag(e,Yw.FeatureUsageFlag.REDIRECT_HANDLER_ENABLED),[4,this.executeWithRedirect(e,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.setNext=function(e){this.nextMiddleware=e},t.REDIRECT_STATUS_CODES=[301,302,303,307,308],t.STATUS_CODE_SEE_OTHER=303,t.LOCATION_HEADER="Location",t.AUTHORIZATION_HEADER="Authorization",t.MANUAL_REDIRECT="manual",t}();kp.RedirectHandler=KX});var Jw=g(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.PACKAGE_VERSION=void 0;Lp.PACKAGE_VERSION="3.0.7"});var Bp=g(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.TelemetryHandler=void 0;var Xw=(_e(),M(ye)),Zw=Tp(),WX=Jw(),QX=So(),Up=Ks(),YX=Qs(),JX=function(){function t(){}return t.prototype.execute=function(e){return Xw.__awaiter(this,void 0,void 0,function(){var r,n,o,i,s;return Xw.__generator(this,function(a){switch(a.label){case 0:return r=typeof e.request=="string"?e.request:e.request.url,(0,Zw.isGraphURL)(r)||e.customHosts&&(0,Zw.isCustomHost)(r,e.customHosts)?(n=(0,Up.getRequestHeader)(e.request,e.options,t.CLIENT_REQUEST_ID_HEADER),n||(n=(0,Up.generateUUID)(),(0,Up.setRequestHeader)(e.request,e.options,t.CLIENT_REQUEST_ID_HEADER,n)),o="".concat(t.PRODUCT_NAME,"/").concat(WX.PACKAGE_VERSION),i=void 0,e.middlewareControl instanceof QX.MiddlewareControl&&(i=e.middlewareControl.getMiddlewareOptions(YX.TelemetryHandlerOptions)),i&&(s=i.getFeatureUsage(),o+=" (".concat(t.FEATURE_USAGE_STRING,"=").concat(s,")")),(0,Up.appendRequestHeader)(e.request,e.options,t.SDK_VERSION_HEADER,o)):(delete e.options.headers[t.CLIENT_REQUEST_ID_HEADER],delete e.options.headers[t.SDK_VERSION_HEADER]),[4,this.nextMiddleware.execute(e)];case 1:return[2,a.sent()]}})})},t.prototype.setNext=function(e){this.nextMiddleware=e},t.CLIENT_REQUEST_ID_HEADER="client-request-id",t.SDK_VERSION_HEADER="SdkVersion",t.PRODUCT_NAME="graph-js",t.FEATURE_USAGE_STRING="featureUsage",t}();Fp.TelemetryHandler=JX});var e0=g(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.MiddlewareFactory=void 0;var XX=Rp(),ZX=Pp(),e9=Ed(),t9=vd(),r9=Mp(),n9=Np(),o9=Bp(),i9=function(){return typeof process=="object"&&typeof require=="function"},s9=function(){function t(){}return t.getDefaultMiddlewareChain=function(e){var r=[],n=new XX.AuthenticationHandler(e),o=new n9.RetryHandler(new t9.RetryHandlerOptions),i=new o9.TelemetryHandler,s=new ZX.HTTPMessageHandler;if(r.push(n),r.push(o),i9()){var a=new r9.RedirectHandler(new e9.RedirectHandlerOptions);r.push(a)}return r.push(i),r.push(s),r},t}();qp.MiddlewareFactory=s9});var jp=g(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.ChaosStrategy=void 0;var t0;(function(t){t[t.MANUAL=0]="MANUAL",t[t.RANDOM=1]="RANDOM"})(t0||(Hp.ChaosStrategy=t0={}))});var L_=g(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.ChaosHandlerOptions=void 0;var a9=jp(),c9=function(){function t(e,r,n,o,i,s){if(e===void 0&&(e=a9.ChaosStrategy.RANDOM),r===void 0&&(r="Some error Happened"),this.chaosStrategy=e,this.statusCode=n,this.statusMessage=r,this.chaosPercentage=o!==void 0?o:10,this.responseBody=i,this.headers=s,this.chaosPercentage>100)throw new Error("Error Pecentage can not be more than 100")}return t}();Gp.ChaosHandlerOptions=c9});var r0=g(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.httpStatusCode=Xs.methodStatusCode=void 0;Xs.methodStatusCode={GET:[429,500,502,503,504],POST:[429,500,502,503,504,507],PUT:[429,500,502,503,504,507],PATCH:[429,500,502,503,504],DELETE:[429,500,502,503,504,507]};Xs.httpStatusCode={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"}});var i0=g(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.ChaosHandler=void 0;var $p=(_e(),M(ye)),d9=So(),l9=Ks(),n0=r0(),U_=L_(),o0=jp(),u9=function(){function t(e,r){e===void 0&&(e=new U_.ChaosHandlerOptions),this.options=e,this.manualMap=r}return t.prototype.createResponseHeaders=function(e,r,n){var o=e.headers?new Headers(e.headers):new Headers;return o.append("Cache-Control","no-store"),o.append("request-id",r),o.append("client-request-id",r),o.append("x-ms-ags-diagnostic",""),o.append("Date",n),o.append("Strict-Transport-Security",""),e.statusCode===429&&o.append("retry-after","3"),o},t.prototype.createResponseBody=function(e,r,n){if(e.responseBody)return e.responseBody;var o;if(e.statusCode>=400){var i=n0.httpStatusCode[e.statusCode],s=e.statusMessage;o={error:{code:i,message:s,innerError:{"request-id":r,date:n}}}}else o={};return o},t.prototype.createResponse=function(e,r){var n=r.request,o=(0,l9.generateUUID)(),i=new Date,s=this.createResponseHeaders(e,o,i.toString()),a=this.createResponseBody(e,o,i.toString()),c={url:n,status:e.statusCode,statusText:e.statusMessage,headers:s};r.response=new Response(typeof a=="string"?a:JSON.stringify(a),c)},t.prototype.sendRequest=function(e,r){return $p.__awaiter(this,void 0,void 0,function(){return $p.__generator(this,function(n){switch(n.label){case 0:return this.setStatusCode(e,r.request,r.options.method),e.chaosStrategy===o0.ChaosStrategy.MANUAL&&!this.nextMiddleware||Math.floor(Math.random()*100)<e.chaosPercentage?(this.createResponse(e,r),[3,3]):[3,1];case 1:return this.nextMiddleware?[4,this.nextMiddleware.execute(r)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.getRandomStatusCode=function(e){var r=n0.methodStatusCode[e];return r[Math.floor(Math.random()*r.length)]},t.prototype.getRelativeURL=function(e){var r=/https?:\/\/graph\.microsoft\.com\/[^/]+(.+?)(\?|$)/,n;return r.exec(e)!==null&&(n=r.exec(e)[1]),n},t.prototype.setStatusCode=function(e,r,n){var o=this;if(e.chaosStrategy===o0.ChaosStrategy.MANUAL){if(e.statusCode===void 0){var i=this.getRelativeURL(r);this.manualMap.get(i)!==void 0?this.manualMap.get(i).get(n)!==void 0&&(e.statusCode=this.manualMap.get(i).get(n)):this.manualMap.forEach(function(s,a){var c=new RegExp(a+"$");c.test(i)&&o.manualMap.get(a).get(n)!==void 0&&(e.statusCode=o.manualMap.get(a).get(n))})}}else e.statusCode=this.getRandomStatusCode(n)},t.prototype.getOptions=function(e){var r;return e.middlewareControl instanceof d9.MiddlewareControl&&(r=e.middlewareControl.getMiddlewareOptions(U_.ChaosHandlerOptions)),typeof r>"u"&&(r=Object.assign(new U_.ChaosHandlerOptions,this.options)),r},t.prototype.execute=function(e){return $p.__awaiter(this,void 0,void 0,function(){var r;return $p.__generator(this,function(n){switch(n.label){case 0:return r=this.getOptions(e),[4,this.sendRequest(r,e)];case 1:return[2,n.sent()]}})})},t.prototype.setNext=function(e){this.nextMiddleware=e},t}();zp.ChaosHandler=u9});var Cd=g(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.ResponseType=void 0;var s0;(function(t){t.ARRAYBUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.RAW="raw",t.STREAM="stream",t.TEXT="text"})(s0||(Vp.ResponseType=s0={}))});var B_=g(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.GraphResponseHandler=Zs.DocumentType=void 0;var Kp=(_e(),M(ye)),$i=Cd(),F_;(function(t){t.TEXT_HTML="text/html",t.TEXT_XML="text/xml",t.APPLICATION_XML="application/xml",t.APPLICATION_XHTML="application/xhtml+xml"})(F_||(Zs.DocumentType=F_={}));var Wp;(function(t){t.TEXT_PLAIN="text/plain",t.APPLICATION_JSON="application/json"})(Wp||(Wp={}));var Qp;(function(t){t.DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",t.IMAGE="^image\\/.+"})(Qp||(Qp={}));var p9=function(){function t(){}return t.parseDocumentResponse=function(e,r){return typeof DOMParser<"u"?new Promise(function(n,o){e.text().then(function(i){try{var s=new DOMParser,a=s.parseFromString(i,r);n(a)}catch(c){o(c)}})}):Promise.resolve(e.body)},t.convertResponse=function(e,r){return Kp.__awaiter(this,void 0,void 0,function(){var n,o,i,s;return Kp.__generator(this,function(a){switch(a.label){case 0:if(e.status===204)return[2,Promise.resolve()];switch(o=e.headers.get("Content-type"),i=r,i){case $i.ResponseType.ARRAYBUFFER:return[3,1];case $i.ResponseType.BLOB:return[3,3];case $i.ResponseType.DOCUMENT:return[3,5];case $i.ResponseType.JSON:return[3,7];case $i.ResponseType.STREAM:return[3,9];case $i.ResponseType.TEXT:return[3,11]}return[3,13];case 1:return[4,e.arrayBuffer()];case 2:return n=a.sent(),[3,24];case 3:return[4,e.blob()];case 4:return n=a.sent(),[3,24];case 5:return[4,t.parseDocumentResponse(e,F_.TEXT_XML)];case 6:return n=a.sent(),[3,24];case 7:return[4,e.json()];case 8:return n=a.sent(),[3,24];case 9:return[4,Promise.resolve(e.body)];case 10:return n=a.sent(),[3,24];case 11:return[4,e.text()];case 12:return n=a.sent(),[3,24];case 13:return o===null?[3,22]:(s=o.split(";")[0],new RegExp(Qp.DOCUMENT).test(s)?[4,t.parseDocumentResponse(e,s)]:[3,15]);case 14:return n=a.sent(),[3,21];case 15:return new RegExp(Qp.IMAGE).test(s)?(n=e.blob(),[3,21]):[3,16];case 16:return s!==Wp.TEXT_PLAIN?[3,18]:[4,e.text()];case 17:return n=a.sent(),[3,21];case 18:return s!==Wp.APPLICATION_JSON?[3,20]:[4,e.json()];case 19:return n=a.sent(),[3,21];case 20:n=Promise.resolve(e.body),a.label=21;case 21:return[3,23];case 22:n=Promise.resolve(e.body),a.label=23;case 23:return[3,24];case 24:return[2,n]}})})},t.getResponse=function(e,r,n){return Kp.__awaiter(this,void 0,void 0,function(){var o;return Kp.__generator(this,function(i){switch(i.label){case 0:return r!==$i.ResponseType.RAW?[3,1]:[2,Promise.resolve(e)];case 1:return[4,t.convertResponse(e,r)];case 2:if(o=i.sent(),e.ok)if(typeof n=="function")n(null,o);else return[2,o];else throw o;i.label=3;case 3:return[2]}})})},t}();Zs.GraphResponseHandler=p9});var q_=g(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.Range=void 0;var m9=function(){function t(e,r){e===void 0&&(e=-1),r===void 0&&(r=-1),this.minValue=e,this.maxValue=r}return t}();Yp.Range=m9});var H_=g(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.UploadResult=void 0;var h9=function(){function t(e,r){this._location=r,this._responseBody=e}return Object.defineProperty(t.prototype,"location",{get:function(){return this._location},set:function(e){this._location=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"responseBody",{get:function(){return this._responseBody},set:function(e){this._responseBody=e},enumerable:!1,configurable:!0}),t.CreateUploadResult=function(e,r){return new t(e,r.get("location"))},t}();Jp.UploadResult=h9});var G_=g(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.LargeFileUploadTask=void 0;var Kt=(_e(),M(ye)),j_=On(),f9=B_(),a0=Cd(),Xp=q_(),g9=H_(),y9=function(){function t(e,r,n,o){if(o===void 0&&(o={}),this.DEFAULT_FILE_SIZE=5*1024*1024,this.client=e,r.sliceFile)this.file=r;else throw new j_.GraphClientError("Please pass the FileUpload object, StreamUpload object or any custom implementation of the FileObject interface");this.file=r,o.rangeSize||(o.rangeSize=this.DEFAULT_FILE_SIZE),this.options=o,this.uploadSession=n,this.nextRange=new Xp.Range(0,this.options.rangeSize-1)}return t.createUploadSession=function(e,r,n,o){return o===void 0&&(o={}),Kt.__awaiter(this,void 0,void 0,function(){var i,s;return Kt.__generator(this,function(a){switch(a.label){case 0:return[4,e.api(r).headers(o).post(n)];case 1:return i=a.sent(),s={url:i.uploadUrl,expiry:new Date(i.expirationDateTime),isCancelled:!1},[2,s]}})})},t.prototype.parseRange=function(e){var r=e[0];if(typeof r>"u"||r==="")return new Xp.Range;var n=r.split("-"),o=parseInt(n[0],10),i=parseInt(n[1],10);return Number.isNaN(i)&&(i=this.file.size-1),new Xp.Range(o,i)},t.prototype.updateTaskStatus=function(e){this.uploadSession.expiry=new Date(e.expirationDateTime),this.nextRange=this.parseRange(e.nextExpectedRanges)},t.prototype.getNextRange=function(){if(this.nextRange.minValue===-1)return this.nextRange;var e=this.nextRange.minValue,r=e+this.options.rangeSize-1;return r>=this.file.size&&(r=this.file.size-1),new Xp.Range(e,r)},t.prototype.sliceFile=function(e){if(console.warn("The LargeFileUploadTask.sliceFile() function has been deprecated and moved into the FileObject interface."),this.file.content instanceof ArrayBuffer||this.file.content instanceof Blob||this.file.content instanceof Uint8Array)return this.file.content.slice(e.minValue,e.maxValue+1);throw new j_.GraphClientError("The LargeFileUploadTask.sliceFile() function expects only Blob, ArrayBuffer or Uint8Array file content. Please note that the sliceFile() function is deprecated.")},t.prototype.upload=function(){return Kt.__awaiter(this,void 0,void 0,function(){var e,r,n,o,i,s,a;return Kt.__generator(this,function(c){switch(c.label){case 0:e=this.options&&this.options.uploadEventHandlers,c.label=1;case 1:if(this.uploadSession.isCancelled)return[3,5];if(r=this.getNextRange(),r.maxValue===-1)throw n=new Error("Task with which you are trying to upload is already completed, Please check for your uploaded file"),n.name="Invalid Session",n;return[4,this.file.sliceFile(r)];case 2:return o=c.sent(),[4,this.uploadSliceGetRawResponse(o,r,this.file.size)];case 3:if(i=c.sent(),!i)throw new j_.GraphClientError("Something went wrong! Large file upload slice response is null.");return[4,f9.GraphResponseHandler.getResponse(i)];case 4:return s=c.sent(),i.status===201||i.status===200&&s.id?(this.reportProgress(e,r),[2,g9.UploadResult.CreateUploadResult(s,i.headers)]):(a={expirationDateTime:s.expirationDateTime||s.ExpirationDateTime,nextExpectedRanges:s.NextExpectedRanges||s.nextExpectedRanges},this.updateTaskStatus(a),this.reportProgress(e,r),[3,1]);case 5:return[2]}})})},t.prototype.reportProgress=function(e,r){e&&e.progress&&e.progress(r,e.extraCallbackParam)},t.prototype.uploadSlice=function(e,r,n){return Kt.__awaiter(this,void 0,void 0,function(){return Kt.__generator(this,function(o){switch(o.label){case 0:return[4,this.client.api(this.uploadSession.url).headers({"Content-Length":"".concat(r.maxValue-r.minValue+1),"Content-Range":"bytes ".concat(r.minValue,"-").concat(r.maxValue,"/").concat(n),"Content-Type":"application/octet-stream"}).put(e)];case 1:return[2,o.sent()]}})})},t.prototype.uploadSliceGetRawResponse=function(e,r,n){return Kt.__awaiter(this,void 0,void 0,function(){return Kt.__generator(this,function(o){switch(o.label){case 0:return[4,this.client.api(this.uploadSession.url).headers({"Content-Length":"".concat(r.maxValue-r.minValue+1),"Content-Range":"bytes ".concat(r.minValue,"-").concat(r.maxValue,"/").concat(n),"Content-Type":"application/octet-stream"}).responseType(a0.ResponseType.RAW).put(e)];case 1:return[2,o.sent()]}})})},t.prototype.cancel=function(){return Kt.__awaiter(this,void 0,void 0,function(){var e;return Kt.__generator(this,function(r){switch(r.label){case 0:return[4,this.client.api(this.uploadSession.url).responseType(a0.ResponseType.RAW).delete()];case 1:return e=r.sent(),e.status===204&&(this.uploadSession.isCancelled=!0),[2,e]}})})},t.prototype.getStatus=function(){return Kt.__awaiter(this,void 0,void 0,function(){var e;return Kt.__generator(this,function(r){switch(r.label){case 0:return[4,this.client.api(this.uploadSession.url).get()];case 1:return e=r.sent(),this.updateTaskStatus(e),[2,e]}})})},t.prototype.resume=function(){return Kt.__awaiter(this,void 0,void 0,function(){return Kt.__generator(this,function(e){switch(e.label){case 0:return[4,this.getStatus()];case 1:return e.sent(),[4,this.upload()];case 2:return[2,e.sent()]}})})},t.prototype.getUploadSession=function(){return this.uploadSession},t}();Zp.LargeFileUploadTask=y9});var $_=g(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.FileUpload=void 0;var _9=On(),v9=function(){function t(e,r,n){if(this.content=e,this.name=r,this.size=n,!e||!r||!n)throw new _9.GraphClientError("Please provide the upload content, name of the file and size of the file")}return t.prototype.sliceFile=function(e){return this.content.slice(e.minValue,e.maxValue+1)},t}();em.FileUpload=v9});var z_=g(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.getValidRangeSize=void 0;var E9=5*1024*1024,C9=function(t){return t>320*1024&&(t=Math.floor(t/(320*1024))*320*1024),t},S9=function(t){t===void 0&&(t=E9);var e=60*1024*1024;return t>e&&(t=e),C9(t)};tm.getValidRangeSize=S9});var d0=g(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.OneDriveLargeFileUploadTask=void 0;var xn=(_e(),M(ye)),c0=On(),T9=$_(),A9=G_(),I9=z_(),b9=function(t){xn.__extends(e,t);function e(r,n,o,i){return t.call(this,r,n,o,i)||this}return e.constructCreateSessionUrl=function(r,n){return n===void 0&&(n=e.DEFAULT_UPLOAD_PATH),r=r.trim(),n=n.trim(),n===""&&(n="/"),n[0]!=="/"&&(n="/".concat(n)),n[n.length-1]!=="/"&&(n="".concat(n,"/")),"/me/drive/root:".concat(n.split("/").map(function(o){return encodeURIComponent(o)}).join("/")).concat(encodeURIComponent(r),":/createUploadSession")},e.getFileInfo=function(r,n){var o,i;if(typeof Blob<"u"&&r instanceof Blob)o=new File([r],n),i=o.size;else if(typeof File<"u"&&r instanceof File)o=r,i=o.size;else if(typeof Uint8Array<"u"&&r instanceof Uint8Array){var s=r;i=s.byteLength,o=s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength)}return{content:o,size:i}},e.create=function(r,n,o){return xn.__awaiter(this,void 0,void 0,function(){var i,s,a;return xn.__generator(this,function(c){if(!r||!n||!o)throw new c0.GraphClientError("Please provide the Graph client instance, file object and OneDriveLargeFileUploadOptions value");return i=o.fileName,s=e.getFileInfo(n,i),a=new T9.FileUpload(s.content,i,s.size),[2,this.createTaskWithFileObject(r,a,o)]})})},e.createTaskWithFileObject=function(r,n,o){return xn.__awaiter(this,void 0,void 0,function(){var i,s,a,c;return xn.__generator(this,function(d){switch(d.label){case 0:if(!r||!n||!o)throw new c0.GraphClientError("Please provide the Graph client instance, FileObject interface implementation and OneDriveLargeFileUploadOptions value");return i=o.uploadSessionURL?o.uploadSessionURL:e.constructCreateSessionUrl(o.fileName,o.path),s={fileName:o.fileName,fileDescription:o.fileDescription,conflictBehavior:o.conflictBehavior},[4,e.createUploadSession(r,i,s)];case 1:return a=d.sent(),c=(0,I9.getValidRangeSize)(o.rangeSize),[2,new e(r,n,a,{rangeSize:c,uploadEventHandlers:o.uploadEventHandlers})]}})})},e.createUploadSession=function(r,n,o){return xn.__awaiter(this,void 0,void 0,function(){var i;return xn.__generator(this,function(s){return i={item:{"@microsoft.graph.conflictBehavior":o?.conflictBehavior||"rename",name:o?.fileName,description:o?.fileDescription}},[2,t.createUploadSession.call(this,r,n,i)]})})},e.prototype.commit=function(r,n){return n===void 0&&(n="rename"),xn.__awaiter(this,void 0,void 0,function(){var o;return xn.__generator(this,function(i){switch(i.label){case 0:return o={name:this.file.name,"@microsoft.graph.conflictBehavior":n,"@microsoft.graph.sourceUrl":this.uploadSession.url},[4,this.client.api(r).put(o)];case 1:return[2,i.sent()]}})})},e.DEFAULT_UPLOAD_PATH="/",e}(A9.LargeFileUploadTask);rm.OneDriveLargeFileUploadTask=b9});var u0=g(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.StreamUpload=void 0;var l0=(_e(),M(ye)),Sd=On(),R9=function(){function t(e,r,n){if(this.content=e,this.name=r,this.size=n,!e||!r||!n)throw new Sd.GraphClientError("Please provide the Readable Stream content, name of the file and size of the file")}return t.prototype.sliceFile=function(e){return l0.__awaiter(this,void 0,void 0,function(){var r,n,o,i,s,a,c;return l0.__generator(this,function(d){switch(d.label){case 0:if(r=e.maxValue-e.minValue+1,n=[],this.previousSlice){if(e.minValue<this.previousSlice.range.minValue)throw new Sd.GraphClientError("An error occurred while uploading the stream. Please restart the stream upload from the first byte of the file.");if(e.minValue<this.previousSlice.range.maxValue){if(o=this.previousSlice.range.minValue,i=this.previousSlice.range.maxValue,e.minValue===o&&e.maxValue===i)return[2,this.previousSlice.fileSlice];if(e.maxValue===i)return[2,this.previousSlice.fileSlice.slice(e.minValue,e.maxValue+1)];n.push(this.previousSlice.fileSlice.slice(e.minValue,i+1)),r=e.maxValue-i}}return this.content&&this.content.readable?this.content.readableLength>=r?(n.push(this.content.read(r)),[3,3]):[3,1]:[3,4];case 1:return a=(s=n).push,[4,this.readNBytesFromStream(r)];case 2:a.apply(s,[d.sent()]),d.label=3;case 3:return[3,5];case 4:throw new Sd.GraphClientError("Stream is not readable.");case 5:return c=Buffer.concat(n),this.previousSlice={fileSlice:c,range:e},[2,c]}})})},t.prototype.readNBytesFromStream=function(e){var r=this;return new Promise(function(n,o){var i=[],s=e,a=0;r.content.on("end",function(){if(s>0)return o(new Sd.GraphClientError("Stream ended before reading required range size"))}),r.content.on("readable",function(){for(var c;a<e&&(c=r.content.read(s))!==null;)a+=c.length,i.push(c),s>0&&(s=e-a);if(a===e)return n(Buffer.concat(i));if(!r.content||!r.content.readable)return o(new Sd.GraphClientError("Error encountered while reading the stream during the upload"))})})},t}();nm.StreamUpload=R9});var p0=g(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.PageIterator=void 0;var ea=(_e(),M(ye)),w9=function(){function t(e,r,n,o){this.client=e,this.collection=r.value,this.nextLink=r["@odata.nextLink"],this.deltaLink=r["@odata.deltaLink"],this.callback=n,this.cursor=0,this.complete=!1,this.requestOptions=o}return t.prototype.iterationHelper=function(){if(this.collection===void 0)return!1;for(var e=!0;e&&this.cursor<this.collection.length;){var r=this.collection[this.cursor];e=this.callback(r),this.cursor++}return e},t.prototype.fetchAndUpdateNextPageData=function(){return ea.__awaiter(this,void 0,void 0,function(){var e,r;return ea.__generator(this,function(n){switch(n.label){case 0:return e=this.client.api(this.nextLink),this.requestOptions&&(this.requestOptions.headers&&(e=e.headers(this.requestOptions.headers)),this.requestOptions.middlewareOptions&&(e=e.middlewareOptions(this.requestOptions.middlewareOptions)),this.requestOptions.options&&(e=e.options(this.requestOptions.options))),[4,e.get()];case 1:return r=n.sent(),this.collection=r.value,this.cursor=0,this.nextLink=r["@odata.nextLink"],this.deltaLink=r["@odata.deltaLink"],[2]}})})},t.prototype.getDeltaLink=function(){return this.deltaLink},t.prototype.iterate=function(){return ea.__awaiter(this,void 0,void 0,function(){var e;return ea.__generator(this,function(r){switch(r.label){case 0:e=this.iterationHelper(),r.label=1;case 1:return e?this.nextLink===void 0?[3,3]:[4,this.fetchAndUpdateNextPageData()]:[3,5];case 2:return r.sent(),e=this.iterationHelper(),[3,4];case 3:e=!1,r.label=4;case 4:return[3,1];case 5:return this.nextLink===void 0&&this.cursor>=this.collection.length&&(this.complete=!0),[2]}})})},t.prototype.resume=function(){return ea.__awaiter(this,void 0,void 0,function(){return ea.__generator(this,function(e){return[2,this.iterate()]})})},t.prototype.isComplete=function(){return this.complete},t}();om.PageIterator=w9});var V_=g(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.CustomAuthenticationProvider=void 0;var im=(_e(),M(ye)),m0=On(),P9=function(){function t(e){this.provider=e}return t.prototype.getAccessToken=function(){return im.__awaiter(this,void 0,void 0,function(){var e=this;return im.__generator(this,function(r){return[2,new Promise(function(n,o){e.provider(function(i,s){return im.__awaiter(e,void 0,void 0,function(){var a,c;return im.__generator(this,function(d){switch(d.label){case 0:return s?(n(s),[3,3]):[3,1];case 1:return i||(a="Access token is undefined or empty.						Please provide a valid token.						For more help - https://github.com/microsoftgraph/msgraph-sdk-javascript/blob/dev/docs/CustomAuthenticationProvider.md",i=new m0.GraphClientError(a)),[4,m0.GraphClientError.setGraphClientError(i)];case 2:c=d.sent(),o(c),d.label=3;case 3:return[2]}})})})})]})})},t}();sm.CustomAuthenticationProvider=P9});var K_=g(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.GraphError=void 0;var O9=(_e(),M(ye)),x9=function(t){O9.__extends(e,t);function e(r,n,o){r===void 0&&(r=-1);var i=t.call(this,n||o&&o.message)||this;return Object.setPrototypeOf(i,e.prototype),i.statusCode=r,i.code=null,i.requestId=null,i.date=new Date,i.body=null,i.stack=o?o.stack:i.stack,i}return e}(Error);am.GraphError=x9});var f0=g(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.GraphErrorHandler=void 0;var h0=(_e(),M(ye)),W_=K_(),N9=function(){function t(){}return t.constructError=function(e,r,n){var o=new W_.GraphError(r,"",e);return e.name!==void 0&&(o.code=e.name),o.body=e.toString(),o.date=new Date,o.headers=n?.headers,o},t.constructErrorFromResponse=function(e,r,n){var o=e.error,i=new W_.GraphError(r,o.message);return i.code=o.code,o.innerError!==void 0&&(i.requestId=o.innerError["request-id"],i.date=new Date(o.innerError.date)),i.body=JSON.stringify(o),i.headers=n?.headers,i},t.getError=function(e,r,n,o){return e===void 0&&(e=null),r===void 0&&(r=-1),h0.__awaiter(this,void 0,void 0,function(){var i;return h0.__generator(this,function(s){if(e&&e.error?i=t.constructErrorFromResponse(e,r,o):e instanceof Error?i=t.constructError(e,r,o):(i=new W_.GraphError(r),i.body=e),typeof n=="function")n(i,null);else return[2,i];return[2]})})},t}();cm.GraphErrorHandler=N9});var Q_=g(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.GraphRequest=void 0;var Oe=(_e(),M(ye)),D9=On(),k9=f0(),Td=Tp(),M9=B_(),L9=So(),zi=_d(),U9=Cd(),F9=function(){function t(e,r,n){var o=this;this.parsePath=function(i){if(i.indexOf("https://")!==-1){i=i.replace("https://","");var s=i.indexOf("/");s!==-1&&(o.urlComponents.host="https://"+i.substring(0,s),i=i.substring(s+1,i.length));var a=i.indexOf("/");a!==-1&&(o.urlComponents.version=i.substring(0,a),i=i.substring(a+1,i.length))}i.charAt(0)==="/"&&(i=i.substr(1));var c=i.indexOf("?");if(c===-1)o.urlComponents.path=i;else{o.urlComponents.path=i.substr(0,c);for(var d=i.substring(c+1,i.length).split("&"),u=0,m=d;u<m.length;u++){var f=m[u];o.parseQueryParameter(f)}}},this.httpClient=e,this.config=r,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{},otherURLQueryOptions:[]},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(n)}return t.prototype.addCsvQueryParameter=function(e,r,n){this.urlComponents.oDataQueryParams[e]=this.urlComponents.oDataQueryParams[e]?this.urlComponents.oDataQueryParams[e]+",":"";var o=[];n.length>1&&typeof r=="string"?o=Array.prototype.slice.call(n):typeof r=="string"?o.push(r):o=o.concat(r),this.urlComponents.oDataQueryParams[e]+=o.join(",")},t.prototype.buildFullUrl=function(){var e=(0,Td.urlJoin)([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path])+this.createQueryString();return this.config.debugLogging&&console.log(e),e},t.prototype.createQueryString=function(){var e=this.urlComponents,r=[];if(Object.keys(e.oDataQueryParams).length!==0)for(var n in e.oDataQueryParams)Object.prototype.hasOwnProperty.call(e.oDataQueryParams,n)&&r.push(n+"="+e.oDataQueryParams[n]);if(Object.keys(e.otherURLQueryParams).length!==0)for(var n in e.otherURLQueryParams)Object.prototype.hasOwnProperty.call(e.otherURLQueryParams,n)&&r.push(n+"="+e.otherURLQueryParams[n]);if(e.otherURLQueryOptions.length!==0)for(var o=0,i=e.otherURLQueryOptions;o<i.length;o++){var s=i[o];r.push(s)}return r.length>0?"?"+r.join("&"):""},t.prototype.parseQueryParameter=function(e){if(typeof e=="string")if(e.charAt(0)==="?"&&(e=e.substring(1)),e.indexOf("&")!==-1)for(var r=e.split("&"),n=0,o=r;n<o.length;n++){var i=o[n];this.parseQueryParamenterString(i)}else this.parseQueryParamenterString(e);else if(e.constructor===Object)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&this.setURLComponentsQueryParamater(s,e[s]);return this},t.prototype.parseQueryParamenterString=function(e){if(this.isValidQueryKeyValuePair(e)){var r=e.indexOf("="),n=e.substring(0,r),o=e.substring(r+1);this.setURLComponentsQueryParamater(n,o)}else this.urlComponents.otherURLQueryOptions.push(e)},t.prototype.setURLComponentsQueryParamater=function(e,r){if(Td.oDataQueryNames.indexOf(e)!==-1){var n=this.urlComponents.oDataQueryParams[e],o=n&&(e==="$expand"||e==="$select"||e==="$orderby");this.urlComponents.oDataQueryParams[e]=o?n+","+r:r}else this.urlComponents.otherURLQueryParams[e]=r},t.prototype.isValidQueryKeyValuePair=function(e){var r=e.indexOf("=");if(r===-1)return!1;var n=e.indexOf("(");return!(n!==-1&&e.indexOf("(")<r)},t.prototype.updateRequestOptions=function(e){var r=Oe.__assign({},e.headers);if(this.config.fetchOptions!==void 0){var n=Oe.__assign({},this.config.fetchOptions);Object.assign(e,n),typeof this.config.fetchOptions.headers!==void 0&&(e.headers=Oe.__assign({},this.config.fetchOptions.headers))}Object.assign(e,this._options),e.headers!==void 0&&Object.assign(r,e.headers),Object.assign(r,this._headers),e.headers=r},t.prototype.send=function(e,r,n){var o;return Oe.__awaiter(this,void 0,void 0,function(){var i,s,a,c,d,u,m,f;return Oe.__generator(this,function(h){switch(h.label){case 0:s=new L9.MiddlewareControl(this._middlewareOptions),this.updateRequestOptions(r),a=(o=this.config)===null||o===void 0?void 0:o.customHosts,h.label=1;case 1:return h.trys.push([1,4,,6]),[4,this.httpClient.sendRequest({request:e,options:r,middlewareControl:s,customHosts:a})];case 2:return c=h.sent(),i=c.response,[4,M9.GraphResponseHandler.getResponse(i,this._responseType,n)];case 3:return d=h.sent(),[2,d];case 4:if(u=h.sent(),u instanceof D9.GraphClientError)throw u;return m=void 0,i&&(m=i.status),[4,k9.GraphErrorHandler.getError(u,m,n,i)];case 5:throw f=h.sent(),f;case 6:return[2]}})})},t.prototype.setHeaderContentType=function(){if(!this._headers){this.header("Content-Type","application/json");return}for(var e=Object.keys(this._headers),r=0,n=e;r<n.length;r++){var o=n[r];if(o.toLowerCase()==="content-type")return}this.header("Content-Type","application/json")},t.prototype.header=function(e,r){return this._headers[e]=r,this},t.prototype.headers=function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this._headers[r]=e[r]);return this},t.prototype.option=function(e,r){return this._options[e]=r,this},t.prototype.options=function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this._options[r]=e[r]);return this},t.prototype.middlewareOptions=function(e){return this._middlewareOptions=e,this},t.prototype.version=function(e){return this.urlComponents.version=e,this},t.prototype.responseType=function(e){return this._responseType=e,this},t.prototype.select=function(e){return this.addCsvQueryParameter("$select",e,arguments),this},t.prototype.expand=function(e){return this.addCsvQueryParameter("$expand",e,arguments),this},t.prototype.orderby=function(e){return this.addCsvQueryParameter("$orderby",e,arguments),this},t.prototype.filter=function(e){return this.urlComponents.oDataQueryParams.$filter=e,this},t.prototype.search=function(e){return this.urlComponents.oDataQueryParams.$search=e,this},t.prototype.top=function(e){return this.urlComponents.oDataQueryParams.$top=e,this},t.prototype.skip=function(e){return this.urlComponents.oDataQueryParams.$skip=e,this},t.prototype.skipToken=function(e){return this.urlComponents.oDataQueryParams.$skipToken=e,this},t.prototype.count=function(e){return e===void 0&&(e=!0),this.urlComponents.oDataQueryParams.$count=e.toString(),this},t.prototype.query=function(e){return this.parseQueryParameter(e)},t.prototype.get=function(e){return Oe.__awaiter(this,void 0,void 0,function(){var r,n,o;return Oe.__generator(this,function(i){switch(i.label){case 0:return r=this.buildFullUrl(),n={method:zi.RequestMethod.GET},[4,this.send(r,n,e)];case 1:return o=i.sent(),[2,o]}})})},t.prototype.post=function(e,r){return Oe.__awaiter(this,void 0,void 0,function(){var n,o,i;return Oe.__generator(this,function(s){switch(s.label){case 0:return n=this.buildFullUrl(),o={method:zi.RequestMethod.POST,body:(0,Td.serializeContent)(e)},i=e&&e.constructor&&e.constructor.name,i==="FormData"?o.headers={}:(this.setHeaderContentType(),o.headers=this._headers),[4,this.send(n,o,r)];case 1:return[2,s.sent()]}})})},t.prototype.create=function(e,r){return Oe.__awaiter(this,void 0,void 0,function(){return Oe.__generator(this,function(n){switch(n.label){case 0:return[4,this.post(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.put=function(e,r){return Oe.__awaiter(this,void 0,void 0,function(){var n,o;return Oe.__generator(this,function(i){switch(i.label){case 0:return n=this.buildFullUrl(),this.setHeaderContentType(),o={method:zi.RequestMethod.PUT,body:(0,Td.serializeContent)(e)},[4,this.send(n,o,r)];case 1:return[2,i.sent()]}})})},t.prototype.patch=function(e,r){return Oe.__awaiter(this,void 0,void 0,function(){var n,o;return Oe.__generator(this,function(i){switch(i.label){case 0:return n=this.buildFullUrl(),this.setHeaderContentType(),o={method:zi.RequestMethod.PATCH,body:(0,Td.serializeContent)(e)},[4,this.send(n,o,r)];case 1:return[2,i.sent()]}})})},t.prototype.update=function(e,r){return Oe.__awaiter(this,void 0,void 0,function(){return Oe.__generator(this,function(n){switch(n.label){case 0:return[4,this.patch(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.delete=function(e){return Oe.__awaiter(this,void 0,void 0,function(){var r,n;return Oe.__generator(this,function(o){switch(o.label){case 0:return r=this.buildFullUrl(),n={method:zi.RequestMethod.DELETE},[4,this.send(r,n,e)];case 1:return[2,o.sent()]}})})},t.prototype.del=function(e){return Oe.__awaiter(this,void 0,void 0,function(){return Oe.__generator(this,function(r){switch(r.label){case 0:return[4,this.delete(e)];case 1:return[2,r.sent()]}})})},t.prototype.getStream=function(e){return Oe.__awaiter(this,void 0,void 0,function(){var r,n;return Oe.__generator(this,function(o){switch(o.label){case 0:return r=this.buildFullUrl(),n={method:zi.RequestMethod.GET},this.responseType(U9.ResponseType.STREAM),[4,this.send(r,n,e)];case 1:return[2,o.sent()]}})})},t.prototype.putStream=function(e,r){return Oe.__awaiter(this,void 0,void 0,function(){var n,o;return Oe.__generator(this,function(i){switch(i.label){case 0:return n=this.buildFullUrl(),o={method:zi.RequestMethod.PUT,headers:{"Content-Type":"application/octet-stream"},body:e},[4,this.send(n,o,r)];case 1:return[2,i.sent()]}})})},t}();dm.GraphRequest=F9});var Y_=g(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.HTTPClient=void 0;var g0=(_e(),M(ye)),B9=function(){function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(!e||!e.length){var n=new Error;throw n.name="InvalidMiddlewareChain",n.message="Please provide a default middleware chain or custom middleware chain",n}this.setMiddleware.apply(this,e)}return t.prototype.setMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];e.length>1?this.parseMiddleWareArray(e):this.middleware=e[0]},t.prototype.parseMiddleWareArray=function(e){e.forEach(function(r,n){n<e.length-1&&r.setNext(e[n+1])}),this.middleware=e[0]},t.prototype.sendRequest=function(e){return g0.__awaiter(this,void 0,void 0,function(){var r;return g0.__generator(this,function(n){switch(n.label){case 0:if(typeof e.request=="string"&&e.options===void 0)throw r=new Error,r.name="InvalidRequestOptions",r.message="Unable to execute the middleware, Please provide valid options for a request",r;return[4,this.middleware.execute(e)];case 1:return n.sent(),[2,e]}})})},t}();lm.HTTPClient=B9});var _0=g(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.HTTPClientFactory=void 0;var q9=(_e(),M(ye)),y0=Y_(),H9=Rp(),j9=Pp(),G9=Ed(),$9=vd(),z9=Mp(),V9=Np(),K9=Bp(),W9=function(){return typeof process=="object"&&typeof require=="function"},Q9=function(){function t(){}return t.createWithAuthenticationProvider=function(e){var r=new H9.AuthenticationHandler(e),n=new V9.RetryHandler(new $9.RetryHandlerOptions),o=new K9.TelemetryHandler,i=new j9.HTTPMessageHandler;if(r.setNext(n),W9()){var s=new z9.RedirectHandler(new G9.RedirectHandlerOptions);n.setNext(s),s.setNext(o)}else n.setNext(o);return o.setNext(i),t.createWithMiddleware(r)},t.createWithMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new(y0.HTTPClient.bind.apply(y0.HTTPClient,q9.__spreadArray([void 0],e,!1)))},t}();um.HTTPClientFactory=Q9});var v0=g(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.validatePolyFilling=void 0;var Y9=function(){if(typeof Promise>"u"&&typeof fetch>"u"){var t=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw t.name="PolyFillNotAvailable",t}else if(typeof Promise>"u"){var t=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}else if(typeof fetch>"u"){var t=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}return!0};pm.validatePolyFilling=Y9});var S0=g(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.Client=void 0;var J9=(_e(),M(ye)),E0=x_(),X9=V_(),Z9=Q_(),C0=Y_(),e7=_0(),t7=v0(),r7=function(){function t(e){this.config={baseUrl:E0.GRAPH_BASE_URL,debugLogging:!1,defaultVersion:E0.GRAPH_API_VERSION},(0,t7.validatePolyFilling)();for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.config[r]=e[r]);var n;if(e.authProvider!==void 0&&e.middleware!==void 0){var o=new Error;throw o.name="AmbiguityInInitialization",o.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",o}else if(e.authProvider!==void 0)n=e7.HTTPClientFactory.createWithAuthenticationProvider(e.authProvider);else if(e.middleware!==void 0)n=new(C0.HTTPClient.bind.apply(C0.HTTPClient,J9.__spreadArray([void 0],[].concat(e.middleware),!1)));else{var o=new Error;throw o.name="InvalidMiddlewareChain",o.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",o}this.httpClient=n}return t.init=function(e){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=n==="authProvider"?new X9.CustomAuthenticationProvider(e[n]):e[n]);return t.initWithMiddleware(r)},t.initWithMiddleware=function(e){return new t(e)},t.prototype.api=function(e){return new Z9.GraphRequest(this.httpClient,this.config,e)},t}();mm.Client=r7});var A0=g(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.ResponseType=U.GraphRequest=U.GraphClientError=U.GraphError=U.CustomAuthenticationProvider=U.Client=U.PageIterator=U.Range=U.UploadResult=U.FileUpload=U.StreamUpload=U.getValidRangeSize=U.OneDriveLargeFileUploadTask=U.LargeFileUploadTask=U.ChaosHandler=U.ChaosStrategy=U.ChaosHandlerOptions=U.TelemetryHandlerOptions=U.FeatureUsageFlag=U.RedirectHandlerOptions=U.RetryHandlerOptions=U.AuthenticationHandlerOptions=U.MiddlewareFactory=U.TelemetryHandler=U.RedirectHandler=U.RetryHandler=U.HTTPMessageHandler=U.AuthenticationHandler=U.BatchResponseContent=U.BatchRequestContent=void 0;var n7=Fw();Object.defineProperty(U,"BatchRequestContent",{enumerable:!0,get:function(){return n7.BatchRequestContent}});var o7=Bw();Object.defineProperty(U,"BatchResponseContent",{enumerable:!0,get:function(){return o7.BatchResponseContent}});var i7=Rp();Object.defineProperty(U,"AuthenticationHandler",{enumerable:!0,get:function(){return i7.AuthenticationHandler}});var s7=Pp();Object.defineProperty(U,"HTTPMessageHandler",{enumerable:!0,get:function(){return s7.HTTPMessageHandler}});var a7=Np();Object.defineProperty(U,"RetryHandler",{enumerable:!0,get:function(){return a7.RetryHandler}});var c7=Mp();Object.defineProperty(U,"RedirectHandler",{enumerable:!0,get:function(){return c7.RedirectHandler}});var d7=Bp();Object.defineProperty(U,"TelemetryHandler",{enumerable:!0,get:function(){return d7.TelemetryHandler}});var l7=e0();Object.defineProperty(U,"MiddlewareFactory",{enumerable:!0,get:function(){return l7.MiddlewareFactory}});var u7=N_();Object.defineProperty(U,"AuthenticationHandlerOptions",{enumerable:!0,get:function(){return u7.AuthenticationHandlerOptions}});var p7=vd();Object.defineProperty(U,"RetryHandlerOptions",{enumerable:!0,get:function(){return p7.RetryHandlerOptions}});var m7=Ed();Object.defineProperty(U,"RedirectHandlerOptions",{enumerable:!0,get:function(){return m7.RedirectHandlerOptions}});var T0=Qs();Object.defineProperty(U,"FeatureUsageFlag",{enumerable:!0,get:function(){return T0.FeatureUsageFlag}});Object.defineProperty(U,"TelemetryHandlerOptions",{enumerable:!0,get:function(){return T0.TelemetryHandlerOptions}});var h7=L_();Object.defineProperty(U,"ChaosHandlerOptions",{enumerable:!0,get:function(){return h7.ChaosHandlerOptions}});var f7=jp();Object.defineProperty(U,"ChaosStrategy",{enumerable:!0,get:function(){return f7.ChaosStrategy}});var g7=i0();Object.defineProperty(U,"ChaosHandler",{enumerable:!0,get:function(){return g7.ChaosHandler}});var y7=G_();Object.defineProperty(U,"LargeFileUploadTask",{enumerable:!0,get:function(){return y7.LargeFileUploadTask}});var _7=d0();Object.defineProperty(U,"OneDriveLargeFileUploadTask",{enumerable:!0,get:function(){return _7.OneDriveLargeFileUploadTask}});var v7=z_();Object.defineProperty(U,"getValidRangeSize",{enumerable:!0,get:function(){return v7.getValidRangeSize}});var E7=u0();Object.defineProperty(U,"StreamUpload",{enumerable:!0,get:function(){return E7.StreamUpload}});var C7=$_();Object.defineProperty(U,"FileUpload",{enumerable:!0,get:function(){return C7.FileUpload}});var S7=H_();Object.defineProperty(U,"UploadResult",{enumerable:!0,get:function(){return S7.UploadResult}});var T7=q_();Object.defineProperty(U,"Range",{enumerable:!0,get:function(){return T7.Range}});var A7=p0();Object.defineProperty(U,"PageIterator",{enumerable:!0,get:function(){return A7.PageIterator}});var I7=S0();Object.defineProperty(U,"Client",{enumerable:!0,get:function(){return I7.Client}});var b7=V_();Object.defineProperty(U,"CustomAuthenticationProvider",{enumerable:!0,get:function(){return b7.CustomAuthenticationProvider}});var R7=K_();Object.defineProperty(U,"GraphError",{enumerable:!0,get:function(){return R7.GraphError}});var w7=On();Object.defineProperty(U,"GraphClientError",{enumerable:!0,get:function(){return w7.GraphClientError}});var P7=Q_();Object.defineProperty(U,"GraphRequest",{enumerable:!0,get:function(){return P7.GraphRequest}});var O7=Cd();Object.defineProperty(U,"ResponseType",{enumerable:!0,get:function(){return O7.ResponseType}})});var b0=g((Lqe,I0)=>{I0.exports=class{constructor({emailUser:e,access_token:r,refresh_token:n,expiry_date:o,token_refresh:i,token_cache:s}){this.PK="TOKEN",this.SK=`MAIL#${e}`,this.emailUser=e,this.access_token=r,this.refresh_token=n||void 0,this.expiry_date=new Date(o).getTime(),this.token_refresh=i||!1,this.created_at=this.updated_at=Date.now().toString(),this.token_cache=s||void 0}}});var j0=g((Uqe,H0)=>{"use strict";var fm=Object.defineProperty,x7=Object.getOwnPropertyDescriptor,N7=Object.getOwnPropertyNames,D7=Object.prototype.hasOwnProperty,Ye=(t,e)=>fm(t,"name",{value:e,configurable:!0}),k7=(t,e)=>{for(var r in e)fm(t,r,{get:e[r],enumerable:!0})},M7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of N7(e))!D7.call(t,o)&&o!==r&&fm(t,o,{get:()=>e[o],enumerable:!(n=x7(e,o))||n.enumerable});return t},L7=t=>M7(fm({},"__esModule",{value:!0}),t),N0={};k7(N0,{NumberValueImpl:()=>gm,convertToAttr:()=>Id,convertToNative:()=>Ad,marshall:()=>q0,unmarshall:()=>j7});H0.exports=L7(N0);var D0=class k0{constructor(e){typeof e=="object"&&"N"in e?this.value=String(e.N):this.value=String(e);let r=typeof e.valueOf()=="number"?e.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(e){return new k0(e)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let e=this.toString();return BigInt(e)}toString(){return String(this.value)}valueOf(){return this.toString()}};Ye(D0,"NumberValue");var gm=D0,Id=Ye((t,e)=>{var r,n,o,i,s,a;if(t===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(t===null&&typeof t=="object")return hm();if(Array.isArray(t))return U7(t,e);if(((r=t?.constructor)==null?void 0:r.name)==="Set")return F7(t,e);if(((n=t?.constructor)==null?void 0:n.name)==="Map")return B7(t,e);if(((o=t?.constructor)==null?void 0:o.name)==="Object"||!t.constructor&&typeof t=="object")return R0(t,e);if(B0(t))return t.length===0&&e?.convertEmptyValues?hm():M0(t);if(typeof t=="boolean"||((i=t?.constructor)==null?void 0:i.name)==="Boolean")return{BOOL:t.valueOf()};if(typeof t=="number"||((s=t?.constructor)==null?void 0:s.name)==="Number")return F0(t);if(t instanceof gm)return t.toAttributeValue();if(typeof t=="bigint")return U0(t);if(typeof t=="string"||((a=t?.constructor)==null?void 0:a.name)==="String")return t.length===0&&e?.convertEmptyValues?hm():L0(t);if(e?.convertClassInstanceToMap&&typeof t=="object")return R0(t,e);throw new Error(`Unsupported type passed: ${t}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},"convertToAttr"),U7=Ye((t,e)=>({L:t.filter(r=>typeof r!="function"&&(!e?.removeUndefinedValues||e?.removeUndefinedValues&&r!==void 0)).map(r=>Id(r,e))}),"convertToListAttr"),F7=Ye((t,e)=>{let r=e?.removeUndefinedValues?new Set([...t].filter(o=>o!==void 0)):t;if(!e?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(e?.convertEmptyValues)return hm();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof gm)return{NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return{NS:Array.from(r).map(F0).map(o=>o.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(U0).map(o=>o.N)};if(typeof n=="string")return{SS:Array.from(r).map(L0).map(o=>o.S)};if(B0(n))return{BS:Array.from(r).map(M0).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},"convertToSetAttr"),B7=Ye((t,e)=>({M:(r=>{let n={};for(let[o,i]of r)typeof i!="function"&&(i!==void 0||!e?.removeUndefinedValues)&&(n[o]=Id(i,e));return n})(t)}),"convertToMapAttrFromIterable"),R0=Ye((t,e)=>({M:(r=>{let n={};for(let o in r){let i=r[o];typeof i!="function"&&(i!==void 0||!e?.removeUndefinedValues)&&(n[o]=Id(i,e))}return n})(t)}),"convertToMapAttrFromEnumerableProps"),hm=Ye(()=>({NULL:!0}),"convertToNullAttr"),M0=Ye(t=>({B:t}),"convertToBinaryAttr"),L0=Ye(t=>({S:t.toString()}),"convertToStringAttr"),U0=Ye(t=>({N:t.toString()}),"convertToBigIntAttr"),w0=Ye(t=>{throw new Error(`${t} ${typeof BigInt=="function"?"Use BigInt.":"Pass string value instead."} `)},"validateBigIntAndThrow"),F0=Ye(t=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(e=>e.toString()).includes(t.toString()))throw new Error(`Special numeric value ${t.toString()} is not allowed`);return t>Number.MAX_SAFE_INTEGER?w0(`Number ${t.toString()} is greater than Number.MAX_SAFE_INTEGER.`):t<Number.MIN_SAFE_INTEGER&&w0(`Number ${t.toString()} is lesser than Number.MIN_SAFE_INTEGER.`),{N:t.toString()}},"convertToNumberAttr"),B0=Ye(t=>{let e=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return t?.constructor?e.includes(t.constructor.name):!1},"isBinary"),Ad=Ye((t,e)=>{for(let[r,n]of Object.entries(t))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return P0(n,e);case"B":return x0(n);case"S":return O0(n);case"L":return q7(n,e);case"M":return H7(n,e);case"NS":return new Set(n.map(o=>P0(o,e)));case"BS":return new Set(n.map(x0));case"SS":return new Set(n.map(O0));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(t)}`)},"convertToNative"),P0=Ye((t,e)=>{if(e?.wrapNumbers)return gm.from(t);let r=Number(t),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(t)}catch{throw new Error(`${t} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${t} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},"convertNumber"),O0=Ye(t=>t,"convertString"),x0=Ye(t=>t,"convertBinary"),q7=Ye((t,e)=>t.map(r=>Ad(r,e)),"convertList"),H7=Ye((t,e)=>Object.entries(t).reduce((r,[n,o])=>(r[n]=Ad(o,e),r),{}),"convertMap");function q0(t,e){let r=Id(t,e),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return e?.convertTopLevelContainer?r:o;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}Ye(q0,"marshall");var j7=Ye((t,e)=>e?.convertWithoutMapWrapper?Ad(t,e):Ad({M:t},e),"unmarshall")});var $0=g((Fqe,G0)=>{var G7=(t,e)=>{let r=[];for(let n=0;n<t.length;n+=e)r.push(t.slice(n,e+n));return r};G0.exports={chunkArray:G7}});var J_=g((qqe,z0)=>{z0.exports=class{constructor({id:e,threadId:r,labelIds:n,subject:o,from:i,to:s,date:a,body:c,createdDateTime:d,lastModifiedDateTime:u,changeKey:m,categories:f,receivedDateTime:h,sentDateTime:y,hasAttachments:E,internetMessageId:I,parentFolderId:w,conversationId:x,conversationIndex:K,isDeliveryReceiptRequested:W,isReadReceiptRequested:le,isRead:et,isDraft:Nr,webLink:Tt,inferenceClassification:Ee,ccRecipients:Ht,bccRecipients:cs,replyTo:Sl,flag:pg}){this.PK="MESSAGE",this.SK=`MESSAGE#MAIL#${e}`,this.id=e,this.threadId=r||void 0,this.labelIds=n||void 0,this.subject=o||void 0,this.from=i,this.to=s||void 0,this.date=a||void 0,this.body=c||void 0,this.createdDateTime=d||void 0,this.lastModifiedDateTime=u||void 0,this.changeKey=m||void 0,this.categories=f||void 0,this.receivedDateTime=h||void 0,this.sentDateTime=y||void 0,this.hasAttachments=E||!1,this.internetMessageId=I||void 0,this.parentFolderId=w||void 0,this.conversationId=x||void 0,this.conversationIndex=K||void 0,this.isDeliveryReceiptRequested=W||null,this.isReadReceiptRequested=le||!1,this.isRead=et||!1,this.isDraft=Nr||!1,this.webLink=Tt||void 0,this.inferenceClassification=Ee||"other",this.ccRecipients=Ht||void 0,this.bccRecipients=cs||void 0,this.replyTo=Sl||void 0,this.flag=pg||{flagStatus:"notFlagged"}}}});var en=g((Hqe,eP)=>{var ym=Object.defineProperty,$7=Object.getOwnPropertyDescriptor,z7=Object.getOwnPropertyNames,V7=Object.prototype.hasOwnProperty,_m=(t,e)=>ym(t,"name",{value:e,configurable:!0}),K7=(t,e)=>{for(var r in e)ym(t,r,{get:e[r],enumerable:!0})},W7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of z7(e))!V7.call(t,o)&&o!==r&&ym(t,o,{get:()=>e[o],enumerable:!(n=$7(e,o))||n.enumerable});return t},Q7=t=>W7(ym({},"__esModule",{value:!0}),t),V0={};K7(V0,{AlgorithmId:()=>Y0,EndpointURLScheme:()=>Q0,FieldPosition:()=>J0,HttpApiKeyAuthLocation:()=>W0,HttpAuthLocation:()=>K0,IniSectionType:()=>X0,RequestHandlerProtocol:()=>Z0,SMITHY_CONTEXT_KEY:()=>eZ,getDefaultClientConfiguration:()=>X7,resolveDefaultRuntimeConfig:()=>Z7});eP.exports=Q7(V0);var K0=(t=>(t.HEADER="header",t.QUERY="query",t))(K0||{}),W0=(t=>(t.HEADER="header",t.QUERY="query",t))(W0||{}),Q0=(t=>(t.HTTP="http",t.HTTPS="https",t))(Q0||{}),Y0=(t=>(t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256",t))(Y0||{}),Y7=_m(t=>{let e=[];return t.sha256!==void 0&&e.push({algorithmId:()=>"sha256",checksumConstructor:()=>t.sha256}),t.md5!=null&&e.push({algorithmId:()=>"md5",checksumConstructor:()=>t.md5}),{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),J7=_m(t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},"resolveChecksumRuntimeConfig"),X7=_m(t=>({...Y7(t)}),"getDefaultClientConfiguration"),Z7=_m(t=>({...J7(t)}),"resolveDefaultRuntimeConfig"),J0=(t=>(t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER",t))(J0||{}),eZ="__smithy_context",X0=(t=>(t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services",t))(X0||{}),Z0=(t=>(t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0",t))(Z0||{})});var De=g((zqe,dP)=>{var vm=Object.defineProperty,tZ=Object.getOwnPropertyDescriptor,rZ=Object.getOwnPropertyNames,nZ=Object.prototype.hasOwnProperty,To=(t,e)=>vm(t,"name",{value:e,configurable:!0}),oZ=(t,e)=>{for(var r in e)vm(t,r,{get:e[r],enumerable:!0})},iZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of rZ(e))!nZ.call(t,o)&&o!==r&&vm(t,o,{get:()=>e[o],enumerable:!(n=tZ(e,o))||n.enumerable});return t},sZ=t=>iZ(vm({},"__esModule",{value:!0}),t),tP={};oZ(tP,{Field:()=>dZ,Fields:()=>lZ,HttpRequest:()=>uZ,HttpResponse:()=>pZ,IHttpRequest:()=>rP.HttpRequest,getHttpHandlerExtensionConfiguration:()=>aZ,isValidHostname:()=>cP,resolveHttpHandlerRuntimeConfig:()=>cZ});dP.exports=sZ(tP);var aZ=To(t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,n){e.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),cZ=To(t=>({httpHandler:t.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),rP=en(),nP=class{constructor({name:e,kind:r=rP.FieldPosition.HEADER,values:n=[]}){this.name=e,this.kind=r,this.values=n}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(r=>r!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}};To(nP,"Field");var dZ=nP,oP=class{constructor({fields:e=[],encoding:r="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=r}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(r=>r.kind===e)}};To(oP,"Fields");var lZ=oP,iP=class X_{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new X_({...e,headers:{...e.headers}});return r.query&&(r.query=sP(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return X_.clone(this)}};To(iP,"HttpRequest");var uZ=iP;function sP(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}To(sP,"cloneQuery");var aP=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};To(aP,"HttpResponse");var pZ=aP;function cP(t){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(t)}To(cP,"isValidHostname")});var uP=g((Vqe,lP)=>{function Nn(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}Nn.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(Nn.prototype[Symbol.iterator]=function(){return this});Nn.of=function(){var t=arguments,e=t.length,r=0;return new Nn(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};Nn.empty=function(){var t=new Nn(null);return t.done=!0,t};Nn.is=function(t){return t instanceof Nn?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};lP.exports=Nn});var Z_=g((Kqe,fP)=>{var pP=typeof ArrayBuffer<"u",mP=typeof Symbol<"u";function hP(t,e){var r,n,o,i,s;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||pP&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(o=0,i=t.length;o<i;o++)e(t[o],o);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(mP&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,o=0;s=r.next(),s.done!==!0;)e(s.value,o),o++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)}hP.forEachWithNullKeys=function(t,e){var r,n,o,i,s;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||pP&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(o=0,i=t.length;o<i;o++)e(t[o],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(mP&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,o=0;s=r.next(),s.done!==!0;)e(s.value,null),o++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)};fP.exports=hP});var ev=g(tn=>{var mZ=Math.pow(2,8)-1,hZ=Math.pow(2,16)-1,fZ=Math.pow(2,32)-1,gZ=Math.pow(2,7)-1,yZ=Math.pow(2,15)-1,_Z=Math.pow(2,31)-1;tn.getPointerArray=function(t){var e=t-1;return e<=mZ?Uint8Array:e<=hZ?Uint16Array:e<=fZ?Uint32Array:Float64Array};tn.getSignedPointerArray=function(t){var e=t-1;return e<=gZ?Int8Array:e<=yZ?Int16Array:e<=_Z?Int32Array:Float64Array};tn.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var vZ={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};tn.getMinimalRepresentation=function(t,e){var r=null,n=0,o,i,s,a,c;for(a=0,c=t.length;a<c;a++)s=e?e(t[a]):t[a],i=tn.getNumberType(s),o=vZ[i.name],o>n&&(n=o,r=i);return r};tn.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};tn.concat=function(){var t=0,e,r,n;for(e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=new arguments[0].constructor(t);for(e=0,r=0;e<n;e++)o.set(arguments[e],r),r+=arguments[e].length;return o};tn.indices=function(t){for(var e=tn.getPointerArray(t),r=new e(t),n=0;n<t;n++)r[n]=n;return r}});var _P=g(bd=>{var gP=Z_(),yP=ev();function EZ(t){return Array.isArray(t)||yP.isTypedArray(t)}function tv(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function CZ(t){var e=tv(t),r=typeof e=="number"?new Array(e):[],n=0;return gP(t,function(o){r[n++]=o}),r}function SZ(t){var e=tv(t),r=typeof e=="number"?yP.getPointerArray(e):Array,n=typeof e=="number"?new Array(e):[],o=typeof e=="number"?new r(e):[],i=0;return gP(t,function(s){n[i]=s,o[i]=i++}),[n,o]}bd.isArrayLike=EZ;bd.guessLength=tv;bd.toArray=CZ;bd.toArrayWithIndices=SZ});var EP=g((Yqe,vP)=>{var rv=uP(),TZ=Z_(),AZ=ev(),IZ=_P();function it(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=AZ.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}it.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};it.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],n=this.forward[t];return this.tail===t?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[e]=t,this.head=t,this.forward[t]=e,this};it.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};it.prototype.setpop=function(t,e){var r=null,n=null,o=this.items[t];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[t]=o,this.K[o]=t,this.V[o]=e,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};it.prototype.has=function(t){return t in this.items};it.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};it.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};it.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,n=this.size,o=this.head,i=this.K,s=this.V,a=this.forward;r<n;)t.call(e,s[o],i[o],this),o=a[o],r++};it.prototype.keys=function(){var t=0,e=this.size,r=this.head,n=this.K,o=this.forward;return new rv(function(){if(t>=e)return{done:!0};var i=n[r];return t++,t<e&&(r=o[r]),{done:!1,value:i}})};it.prototype.values=function(){var t=0,e=this.size,r=this.head,n=this.V,o=this.forward;return new rv(function(){if(t>=e)return{done:!0};var i=n[r];return t++,t<e&&(r=o[r]),{done:!1,value:i}})};it.prototype.entries=function(){var t=0,e=this.size,r=this.head,n=this.K,o=this.V,i=this.forward;return new rv(function(){if(t>=e)return{done:!0};var s=n[r],a=o[r];return t++,t<e&&(r=i[r]),{done:!1,value:[s,a]}})};typeof Symbol<"u"&&(it.prototype[Symbol.iterator]=it.prototype.entries);it.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:it,enumerable:!1}),t};typeof Symbol<"u"&&(it.prototype[Symbol.for("nodejs.util.inspect.custom")]=it.prototype.inspect);it.from=function(t,e,r,n){if(arguments.length<2){if(n=IZ.guessLength(t),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=e,e=null,r=null);var o=new it(e,r,n);return TZ(t,function(i,s){o.set(s,i)}),o};vP.exports=it});var IP=g((Xqe,AP)=>{"use strict";var bZ=Object.create,Rd=Object.defineProperty,RZ=Object.getOwnPropertyDescriptor,wZ=Object.getOwnPropertyNames,PZ=Object.getPrototypeOf,OZ=Object.prototype.hasOwnProperty,xZ=(t,e)=>Rd(t,"name",{value:e,configurable:!0}),NZ=(t,e)=>{for(var r in e)Rd(t,r,{get:e[r],enumerable:!0})},CP=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of wZ(e))!OZ.call(t,o)&&o!==r&&Rd(t,o,{get:()=>e[o],enumerable:!(n=RZ(e,o))||n.enumerable});return t},DZ=(t,e,r)=>(r=t!=null?bZ(PZ(t)):{},CP(e||!t||!t.__esModule?Rd(r,"default",{value:t,enumerable:!0}):r,t)),kZ=t=>CP(Rd({},"__esModule",{value:!0}),t),SP={};NZ(SP,{EndpointCache:()=>LZ});AP.exports=kZ(SP);var MZ=DZ(EP()),TP=class{constructor(e){this.cache=new MZ.default(e)}getEndpoint(e){let r=this.get(e);if(!r||r.length===0)return;let n=r.map(o=>o.Address);return n[Math.floor(Math.random()*n.length)]}get(e){if(!this.has(e))return;let r=this.cache.get(e);if(!r)return;let n=Date.now(),o=r.filter(i=>n<i.Expires);if(o.length===0){this.delete(e);return}return o}set(e,r){let n=Date.now();this.cache.set(e,r.map(({Address:o,CachePeriodInMinutes:i})=>({Address:o,Expires:n+i*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let r=this.cache.peek(e);return r?r.length>0:!1}clear(){this.cache.clear()}};xZ(TP,"EndpointCache");var LZ=TP});var iv=g((Zqe,OP)=>{"use strict";var Em=Object.defineProperty,UZ=Object.getOwnPropertyDescriptor,FZ=Object.getOwnPropertyNames,BZ=Object.prototype.hasOwnProperty,Ao=(t,e)=>Em(t,"name",{value:e,configurable:!0}),qZ=(t,e)=>{for(var r in e)Em(t,r,{get:e[r],enumerable:!0})},HZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of FZ(e))!BZ.call(t,o)&&o!==r&&Em(t,o,{get:()=>e[o],enumerable:!(n=UZ(e,o))||n.enumerable});return t},jZ=t=>HZ(Em({},"__esModule",{value:!0}),t),PP={};qZ(PP,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>GZ,endpointDiscoveryMiddlewareOptions:()=>Cm,getEndpointDiscoveryOptionalPlugin:()=>WZ,getEndpointDiscoveryPlugin:()=>VZ,getEndpointDiscoveryRequiredPlugin:()=>KZ,resolveEndpointDiscoveryConfig:()=>YZ});OP.exports=jZ(PP);var bP=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],nv="endpoint_discovery_enabled",RP=Ao(t=>["false","0"].indexOf(t)>=0,"isFalsy"),GZ={environmentVariableSelector:t=>{for(let e=0;e<bP.length;e++){let r=bP[e];if(r in t){let n=t[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!RP(n)}}},configFileSelector:t=>{if(nv in t){let e=t[nv];if(e===void 0)throw Error(`Shared config entry ${nv} can't be undefined, got "${e}"`);return!RP(e)}},default:void 0},$Z=De(),zZ=Ao(async(t,e,r)=>{let{accessKeyId:n}=await e.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:t,identifiers:Object.entries(o).sort().reduce((i,[s,a])=>({...i,[s]:a}),{})}})},"getCacheKey"),Dn={},wP=Ao(async(t,e)=>new Promise((r,n)=>{let{endpointCache:o}=t,{cacheKey:i,commandName:s,identifiers:a}=e,c=o.get(i);if(c&&c.length===1&&c[0].Address==="")e.isDiscoveredEndpointRequired?(Dn[i]||(Dn[i]=[]),Dn[i].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let d=[{Address:"",CachePeriodInMinutes:1}];o.set(i,d);let u=new e.endpointDiscoveryCommandCtor({Operation:s.slice(0,-7),Identifiers:a});u.resolveMiddleware(e.clientStack,t,e.options)(u).then(f=>{o.set(i,f.output.Endpoints),Dn[i]&&(Dn[i].forEach(({resolve:h})=>{h()}),delete Dn[i]),r()}).catch(f=>{o.delete(i);let h=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:f});Dn[i]&&(Dn[i].forEach(({reject:y})=>{y(h)}),delete Dn[i]),e.isDiscoveredEndpointRequired?n(h):(o.set(i,d),r())})}}),"updateDiscoveredEndpointInCache"),ov=Ao((t,e)=>(r,n)=>async o=>{if(t.isCustomEndpoint){if(t.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:i}=t,{isDiscoveredEndpointRequired:s,identifiers:a}=e,c=n.clientName,d=n.commandName,u=await t.endpointDiscoveryEnabled(),m=await zZ(d,t,{identifiers:a});if(s){if(u===!1)throw new Error(`Endpoint Discovery is disabled but ${d} on ${c} requires it. Please check your configurations.`);await wP(t,{...e,commandName:d,cacheKey:m,endpointDiscoveryCommandCtor:i})}else u&&wP(t,{...e,commandName:d,cacheKey:m,endpointDiscoveryCommandCtor:i});let{request:f}=o;if(m&&$Z.HttpRequest.isInstance(f)){let h=t.endpointCache.getEndpoint(m);h&&(f.hostname=h)}return r(o)},"endpointDiscoveryMiddleware"),Cm={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},VZ=Ao((t,e)=>({applyToStack:r=>{r.add(ov(t,e),Cm)}}),"getEndpointDiscoveryPlugin"),KZ=Ao((t,e)=>({applyToStack:r=>{r.add(ov(t,{...e,isDiscoveredEndpointRequired:!0}),Cm)}}),"getEndpointDiscoveryRequiredPlugin"),WZ=Ao((t,e)=>({applyToStack:r=>{r.add(ov(t,{...e,isDiscoveredEndpointRequired:!1}),Cm)}}),"getEndpointDiscoveryOptionalPlugin"),QZ=IP(),YZ=Ao((t,{endpointDiscoveryCommandCtor:e})=>({...t,endpointDiscoveryCommandCtor:e,endpointCache:new QZ.EndpointCache(t.endpointCacheSize??1e3),endpointDiscoveryEnabled:t.endpointDiscoveryEnabled!==void 0?()=>Promise.resolve(t.endpointDiscoveryEnabled):t.endpointDiscoveryEnabledProvider,isClientEndpointDiscoveryEnabled:t.endpointDiscoveryEnabled!==void 0}),"resolveEndpointDiscoveryConfig")});var ta=g((e1e,MP)=>{"use strict";var Sm=Object.defineProperty,JZ=Object.getOwnPropertyDescriptor,XZ=Object.getOwnPropertyNames,ZZ=Object.prototype.hasOwnProperty,sv=(t,e)=>Sm(t,"name",{value:e,configurable:!0}),eee=(t,e)=>{for(var r in e)Sm(t,r,{get:e[r],enumerable:!0})},tee=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of XZ(e))!ZZ.call(t,o)&&o!==r&&Sm(t,o,{get:()=>e[o],enumerable:!(n=JZ(e,o))||n.enumerable});return t},ree=t=>tee(Sm({},"__esModule",{value:!0}),t),xP={};eee(xP,{getHostHeaderPlugin:()=>oee,hostHeaderMiddleware:()=>DP,hostHeaderMiddlewareOptions:()=>kP,resolveHostHeaderConfig:()=>NP});MP.exports=ree(xP);var nee=De();function NP(t){return t}sv(NP,"resolveHostHeaderConfig");var DP=sv(t=>e=>async r=>{if(!nee.HttpRequest.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:o=""}=t.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return e(r)},"hostHeaderMiddleware"),kP={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},oee=sv(t=>({applyToStack:e=>{e.add(DP(t),kP)}}),"getHostHeaderPlugin")});var ra=g((t1e,qP)=>{"use strict";var Tm=Object.defineProperty,iee=Object.getOwnPropertyDescriptor,see=Object.getOwnPropertyNames,aee=Object.prototype.hasOwnProperty,LP=(t,e)=>Tm(t,"name",{value:e,configurable:!0}),cee=(t,e)=>{for(var r in e)Tm(t,r,{get:e[r],enumerable:!0})},dee=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of see(e))!aee.call(t,o)&&o!==r&&Tm(t,o,{get:()=>e[o],enumerable:!(n=iee(e,o))||n.enumerable});return t},lee=t=>dee(Tm({},"__esModule",{value:!0}),t),UP={};cee(UP,{getLoggerPlugin:()=>uee,loggerMiddleware:()=>FP,loggerMiddlewareOptions:()=>BP});qP.exports=lee(UP);var FP=LP(()=>(t,e)=>async r=>{var n,o;try{let i=await t(r),{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:m}=d,f=u??e.inputFilterSensitiveLog,h=m??e.outputFilterSensitiveLog,{$metadata:y,...E}=i.output;return(n=c?.info)==null||n.call(c,{clientName:s,commandName:a,input:f(r.input),output:h(E),metadata:y}),i}catch(i){let{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:u}=d,m=u??e.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:s,commandName:a,input:m(r.input),error:i,metadata:i.$metadata}),i}},"loggerMiddleware"),BP={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},uee=LP(t=>({applyToStack:e=>{e.add(FP(),BP)}}),"getLoggerPlugin")});var na=g((r1e,zP)=>{"use strict";var Am=Object.defineProperty,pee=Object.getOwnPropertyDescriptor,mee=Object.getOwnPropertyNames,hee=Object.prototype.hasOwnProperty,av=(t,e)=>Am(t,"name",{value:e,configurable:!0}),fee=(t,e)=>{for(var r in e)Am(t,r,{get:e[r],enumerable:!0})},gee=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of mee(e))!hee.call(t,o)&&o!==r&&Am(t,o,{get:()=>e[o],enumerable:!(n=pee(e,o))||n.enumerable});return t},yee=t=>gee(Am({},"__esModule",{value:!0}),t),jP={};fee(jP,{addRecursionDetectionMiddlewareOptions:()=>$P,getRecursionDetectionPlugin:()=>Cee,recursionDetectionMiddleware:()=>GP});zP.exports=yee(jP);var _ee=De(),HP="X-Amzn-Trace-Id",vee="AWS_LAMBDA_FUNCTION_NAME",Eee="_X_AMZN_TRACE_ID",GP=av(t=>e=>async r=>{let{request:n}=r;if(!_ee.HttpRequest.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(HP))return e(r);let o=process.env[vee],i=process.env[Eee],s=av(a=>typeof a=="string"&&a.length>0,"nonEmptyString");return s(o)&&s(i)&&(n.headers[HP]=i),e({...r,request:n})},"recursionDetectionMiddleware"),$P={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Cee=av(t=>({applyToStack:e=>{e.add(GP(t),$P)}}),"getRecursionDetectionPlugin")});var Vi=g((i1e,rO)=>{var Im=Object.defineProperty,See=Object.getOwnPropertyDescriptor,Tee=Object.getOwnPropertyNames,Aee=Object.prototype.hasOwnProperty,ve=(t,e)=>Im(t,"name",{value:e,configurable:!0}),Iee=(t,e)=>{for(var r in e)Im(t,r,{get:e[r],enumerable:!0})},bee=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Tee(e))!Aee.call(t,o)&&o!==r&&Im(t,o,{get:()=>e[o],enumerable:!(n=See(e,o))||n.enumerable});return t},Ree=t=>bee(Im({},"__esModule",{value:!0}),t),VP={};Iee(VP,{EndpointCache:()=>wee,EndpointError:()=>Wt,customEndpointFunctions:()=>dv,isIpAddress:()=>WP,isValidHostLabel:()=>uv,resolveEndpoint:()=>Kee});rO.exports=Ree(VP);var KP=class{constructor({size:e,params:r}){this.data=new Map,this.parameters=[],this.capacity=e??50,r&&(this.parameters=r)}get(e,r){let n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),i=0;for(;;){let{value:s,done:a}=o.next();if(this.data.delete(s),a||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let i=String(e[o]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}};ve(KP,"EndpointCache");var wee=KP,Pee=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),WP=ve(t=>Pee.test(t)||t.startsWith("[")&&t.endsWith("]"),"isIpAddress"),Oee=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),uv=ve((t,e=!1)=>{if(!e)return Oee.test(t);let r=t.split(".");for(let n of r)if(!uv(n))return!1;return!0},"isValidHostLabel"),dv={},wd="endpoints";function kn(t){return typeof t!="object"||t==null?t:"ref"in t?`$${kn(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(kn).join(", ")})`:JSON.stringify(t,null,2)}ve(kn,"toDebugString");var QP=class extends Error{constructor(e){super(e),this.name="EndpointError"}};ve(QP,"EndpointError");var Wt=QP,xee=ve((t,e)=>t===e,"booleanEquals"),Nee=ve(t=>{let e=t.split("."),r=[];for(let n of e){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Wt(`Path: '${t}' does not end with ']'`);let i=n.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new Wt(`Invalid array index: '${i}' in path: '${t}'`);o!==0&&r.push(n.slice(0,o)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),YP=ve((t,e)=>Nee(e).reduce((r,n)=>{if(typeof r!="object")throw new Wt(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),"getAttr"),Dee=ve(t=>t!=null,"isSet"),kee=ve(t=>!t,"not"),lv=en(),cv={[lv.EndpointURLScheme.HTTP]:80,[lv.EndpointURLScheme.HTTPS]:443},Mee=ve(t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:f,port:h,protocol:y="",path:E="",query:I={}}=t,w=new URL(`${y}//${f}${h?`:${h}`:""}${E}`);return w.search=Object.entries(I).map(([x,K])=>`${x}=${K}`).join("&"),w}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:o,pathname:i,protocol:s,search:a}=e;if(a)return null;let c=s.slice(0,-1);if(!Object.values(lv.EndpointURLScheme).includes(c))return null;let d=WP(o),u=r.includes(`${n}:${cv[c]}`)||typeof t=="string"&&t.includes(`${n}:${cv[c]}`),m=`${n}${u?`:${cv[c]}`:""}`;return{scheme:c,authority:m,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:d}},"parseURL"),Lee=ve((t,e)=>t===e,"stringEquals"),Uee=ve((t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),"substring"),Fee=ve(t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),Bee={booleanEquals:xee,getAttr:YP,isSet:Dee,isValidHostLabel:uv,not:kee,parseURL:Mee,stringEquals:Lee,substring:Uee,uriEncode:Fee},JP=ve((t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},o=0;for(;o<t.length;){let i=t.indexOf("{",o);if(i===-1){r.push(t.slice(o));break}r.push(t.slice(o,i));let s=t.indexOf("}",i);if(s===-1){r.push(t.slice(i));break}t[i+1]==="{"&&t[s+1]==="}"&&(r.push(t.slice(i+1,s)),o=s+2);let a=t.substring(i+1,s);if(a.includes("#")){let[c,d]=a.split("#");r.push(YP(n[c],d))}else r.push(n[a]);o=s+1}return r.join("")},"evaluateTemplate"),qee=ve(({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],"getReferenceValue"),bm=ve((t,e,r)=>{if(typeof t=="string")return JP(t,r);if(t.fn)return XP(t,r);if(t.ref)return qee(t,r);throw new Wt(`'${e}': ${String(t)} is not a string, function or reference.`)},"evaluateExpression"),XP=ve(({fn:t,argv:e},r)=>{let n=e.map(i=>["boolean","number"].includes(typeof i)?i:bm(i,"arg",r)),o=t.split(".");return o[0]in dv&&o[1]!=null?dv[o[0]][o[1]](...n):Bee[t](...n)},"callFunction"),Hee=ve(({assign:t,...e},r)=>{var n,o;if(t&&t in r.referenceRecord)throw new Wt(`'${t}' is already defined in Reference Record.`);let i=XP(e,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,`${wd} evaluateCondition: ${kn(e)} = ${kn(i)}`),{result:i===""?!0:!!i,...t!=null&&{toAssign:{name:t,value:i}}}},"evaluateCondition"),pv=ve((t=[],e)=>{var r,n;let o={};for(let i of t){let{result:s,toAssign:a}=Hee(i,{...e,referenceRecord:{...e.referenceRecord,...o}});if(!s)return{result:s};a&&(o[a.name]=a.value,(n=(r=e.logger)==null?void 0:r.debug)==null||n.call(r,`${wd} assign: ${a.name} := ${kn(a.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),jee=ve((t,e)=>Object.entries(t).reduce((r,[n,o])=>({...r,[n]:o.map(i=>{let s=bm(i,"Header value entry",e);if(typeof s!="string")throw new Wt(`Header '${n}' value '${s}' is not a string`);return s})}),{}),"getEndpointHeaders"),ZP=ve((t,e)=>{if(Array.isArray(t))return t.map(r=>ZP(r,e));switch(typeof t){case"string":return JP(t,e);case"object":if(t===null)throw new Wt(`Unexpected endpoint property: ${t}`);return eO(t,e);case"boolean":return t;default:throw new Wt(`Unexpected endpoint property type: ${typeof t}`)}},"getEndpointProperty"),eO=ve((t,e)=>Object.entries(t).reduce((r,[n,o])=>({...r,[n]:ZP(o,e)}),{}),"getEndpointProperties"),Gee=ve((t,e)=>{let r=bm(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Wt(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),$ee=ve((t,e)=>{var r,n;let{conditions:o,endpoint:i}=t,{result:s,referenceRecord:a}=pv(o,e);if(!s)return;let c={...e,referenceRecord:{...e.referenceRecord,...a}},{url:d,properties:u,headers:m}=i;return(n=(r=e.logger)==null?void 0:r.debug)==null||n.call(r,`${wd} Resolving endpoint from template: ${kn(i)}`),{...m!=null&&{headers:jee(m,c)},...u!=null&&{properties:eO(u,c)},url:Gee(d,c)}},"evaluateEndpointRule"),zee=ve((t,e)=>{let{conditions:r,error:n}=t,{result:o,referenceRecord:i}=pv(r,e);if(o)throw new Wt(bm(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},"evaluateErrorRule"),Vee=ve((t,e)=>{let{conditions:r,rules:n}=t,{result:o,referenceRecord:i}=pv(r,e);if(o)return tO(n,{...e,referenceRecord:{...e.referenceRecord,...i}})},"evaluateTreeRule"),tO=ve((t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=$ee(r,e);if(n)return n}else if(r.type==="error")zee(r,e);else if(r.type==="tree"){let n=Vee(r,e);if(n)return n}else throw new Wt(`Unknown endpoint rule: ${r}`);throw new Wt("Rules evaluation failed")},"evaluateRules"),Kee=ve((t,e)=>{var r,n,o,i;let{endpointParams:s,logger:a}=e,{parameters:c,rules:d}=t;(n=(r=e.logger)==null?void 0:r.debug)==null||n.call(r,`${wd} Initial EndpointParams: ${kn(s)}`);let u=Object.entries(c).filter(([,h])=>h.default!=null).map(([h,y])=>[h,y.default]);if(u.length>0)for(let[h,y]of u)s[h]=s[h]??y;let m=Object.entries(c).filter(([,h])=>h.required).map(([h])=>h);for(let h of m)if(s[h]==null)throw new Wt(`Missing required parameter: '${h}'`);let f=tO(d,{endpointParams:s,logger:a,referenceRecord:{}});return(i=(o=e.logger)==null?void 0:o.debug)==null||i.call(o,`${wd} Resolved endpoint: ${kn(f)}`),f},"resolveEndpoint")});var Ki=g((s1e,pO)=>{"use strict";var Rm=Object.defineProperty,Wee=Object.getOwnPropertyDescriptor,Qee=Object.getOwnPropertyNames,Yee=Object.prototype.hasOwnProperty,oa=(t,e)=>Rm(t,"name",{value:e,configurable:!0}),Jee=(t,e)=>{for(var r in e)Rm(t,r,{get:e[r],enumerable:!0})},Xee=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Qee(e))!Yee.call(t,o)&&o!==r&&Rm(t,o,{get:()=>e[o],enumerable:!(n=Wee(e,o))||n.enumerable});return t},Zee=t=>Xee(Rm({},"__esModule",{value:!0}),t),oO={};Jee(oO,{ConditionObject:()=>Ae.ConditionObject,DeprecatedObject:()=>Ae.DeprecatedObject,EndpointError:()=>Ae.EndpointError,EndpointObject:()=>Ae.EndpointObject,EndpointObjectHeaders:()=>Ae.EndpointObjectHeaders,EndpointObjectProperties:()=>Ae.EndpointObjectProperties,EndpointParams:()=>Ae.EndpointParams,EndpointResolverOptions:()=>Ae.EndpointResolverOptions,EndpointRuleObject:()=>Ae.EndpointRuleObject,ErrorRuleObject:()=>Ae.ErrorRuleObject,EvaluateOptions:()=>Ae.EvaluateOptions,Expression:()=>Ae.Expression,FunctionArgv:()=>Ae.FunctionArgv,FunctionObject:()=>Ae.FunctionObject,FunctionReturn:()=>Ae.FunctionReturn,ParameterObject:()=>Ae.ParameterObject,ReferenceObject:()=>Ae.ReferenceObject,ReferenceRecord:()=>Ae.ReferenceRecord,RuleSetObject:()=>Ae.RuleSetObject,RuleSetRules:()=>Ae.RuleSetRules,TreeRuleObject:()=>Ae.TreeRuleObject,awsEndpointFunctions:()=>uO,getUserAgentPrefix:()=>nte,isIpAddress:()=>Ae.isIpAddress,partition:()=>dO,resolveEndpoint:()=>Ae.resolveEndpoint,setPartitionInfo:()=>lO,useDefaultPartitionInfo:()=>rte});pO.exports=Zee(oO);var Ae=Vi(),iO=oa((t,e=!1)=>{if(e){for(let r of t.split("."))if(!iO(r))return!1;return!0}return!(!(0,Ae.isValidHostLabel)(t)||t.length<3||t.length>63||t!==t.toLowerCase()||(0,Ae.isIpAddress)(t))},"isVirtualHostableS3Bucket"),nO=":",ete="/",tte=oa(t=>{let e=t.split(nO);if(e.length<6)return null;let[r,n,o,i,s,...a]=e;if(r!=="arn"||n===""||o===""||a.join(nO)==="")return null;let c=a.map(d=>d.split(ete)).flat();return{partition:n,service:o,region:i,accountId:s,resourceId:c}},"parseArn"),sO={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},aO=sO,cO="",dO=oa(t=>{let{partitions:e}=aO;for(let n of e){let{regions:o,outputs:i}=n;for(let[s,a]of Object.entries(o))if(s===t)return{...i,...a}}for(let n of e){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(t))return{...i}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),lO=oa((t,e="")=>{aO=t,cO=e},"setPartitionInfo"),rte=oa(()=>{lO(sO,"")},"useDefaultPartitionInfo"),nte=oa(()=>cO,"getUserAgentPrefix"),uO={isVirtualHostableS3Bucket:iO,parseArn:tte,partition:dO};Ae.customEndpointFunctions.aws=uO});var ia=g((a1e,EO)=>{"use strict";var wm=Object.defineProperty,ote=Object.getOwnPropertyDescriptor,ite=Object.getOwnPropertyNames,ste=Object.prototype.hasOwnProperty,Pm=(t,e)=>wm(t,"name",{value:e,configurable:!0}),ate=(t,e)=>{for(var r in e)wm(t,r,{get:e[r],enumerable:!0})},cte=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ite(e))!ste.call(t,o)&&o!==r&&wm(t,o,{get:()=>e[o],enumerable:!(n=ote(e,o))||n.enumerable});return t},dte=t=>cte(wm({},"__esModule",{value:!0}),t),gO={};ate(gO,{getUserAgentMiddlewareOptions:()=>vO,getUserAgentPlugin:()=>hte,resolveUserAgentConfig:()=>yO,userAgentMiddleware:()=>_O});EO.exports=dte(gO);function yO(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}Pm(yO,"resolveUserAgentConfig");var lte=Ki(),ute=De(),mO="user-agent",mv="x-amz-user-agent",hO=" ",hv="/",pte=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,mte=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,fO="-",_O=Pm(t=>(e,r)=>async n=>{var o,i;let{request:s}=n;if(!ute.HttpRequest.isInstance(s))return e(n);let{headers:a}=s,c=((o=r?.userAgent)==null?void 0:o.map(fv))||[],d=(await t.defaultUserAgentProvider()).map(fv),u=((i=t?.customUserAgent)==null?void 0:i.map(fv))||[],m=(0,lte.getUserAgentPrefix)(),f=(m?[m]:[]).concat([...d,...c,...u]).join(hO),h=[...d.filter(y=>y.startsWith("aws-sdk-")),...u].join(hO);return t.runtime!=="browser"?(h&&(a[mv]=a[mv]?`${a[mO]} ${h}`:h),a[mO]=f):a[mv]=f,e({...n,request:s})},"userAgentMiddleware"),fv=Pm(t=>{var e;let r=t[0].split(hv).map(a=>a.replace(pte,fO)).join(hv),n=(e=t[1])==null?void 0:e.replace(mte,fO),o=r.indexOf(hv),i=r.substring(0,o),s=r.substring(o+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(a=>a&&a.length>0).reduce((a,c,d)=>{switch(d){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),vO={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},hte=Pm(t=>({applyToStack:e=>{e.add(_O(t),vO)}}),"getUserAgentPlugin")});var IO=g((c1e,AO)=>{var Om=Object.defineProperty,fte=Object.getOwnPropertyDescriptor,gte=Object.getOwnPropertyNames,yte=Object.prototype.hasOwnProperty,CO=(t,e)=>Om(t,"name",{value:e,configurable:!0}),_te=(t,e)=>{for(var r in e)Om(t,r,{get:e[r],enumerable:!0})},vte=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of gte(e))!yte.call(t,o)&&o!==r&&Om(t,o,{get:()=>e[o],enumerable:!(n=fte(e,o))||n.enumerable});return t},Ete=t=>vte(Om({},"__esModule",{value:!0}),t),SO={};_te(SO,{SelectorType:()=>TO,booleanSelector:()=>Cte,numberSelector:()=>Ste});AO.exports=Ete(SO);var Cte=CO((t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}},"booleanSelector"),Ste=CO((t,e,r)=>{if(!(e in t))return;let n=parseInt(t[e],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${e}'. Expected number, got '${t[e]}'.`);return n},"numberSelector"),TO=(t=>(t.ENV="env",t.CONFIG="shared config entry",t))(TO||{})});var hr=g((d1e,PO)=>{var xm=Object.defineProperty,Tte=Object.getOwnPropertyDescriptor,Ate=Object.getOwnPropertyNames,Ite=Object.prototype.hasOwnProperty,RO=(t,e)=>xm(t,"name",{value:e,configurable:!0}),bte=(t,e)=>{for(var r in e)xm(t,r,{get:e[r],enumerable:!0})},Rte=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ate(e))!Ite.call(t,o)&&o!==r&&xm(t,o,{get:()=>e[o],enumerable:!(n=Tte(e,o))||n.enumerable});return t},wte=t=>Rte(xm({},"__esModule",{value:!0}),t),wO={};bte(wO,{getSmithyContext:()=>Pte,normalizeProvider:()=>Ote});PO.exports=wte(wO);var bO=en(),Pte=RO(t=>t[bO.SMITHY_CONTEXT_KEY]||(t[bO.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),Ote=RO(t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e},"normalizeProvider")});var fr=g((l1e,qO)=>{var Dm=Object.defineProperty,xte=Object.getOwnPropertyDescriptor,Nte=Object.getOwnPropertyNames,Dte=Object.prototype.hasOwnProperty,Lr=(t,e)=>Dm(t,"name",{value:e,configurable:!0}),kte=(t,e)=>{for(var r in e)Dm(t,r,{get:e[r],enumerable:!0})},Mte=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Nte(e))!Dte.call(t,o)&&o!==r&&Dm(t,o,{get:()=>e[o],enumerable:!(n=xte(e,o))||n.enumerable});return t},Lte=t=>Mte(Dm({},"__esModule",{value:!0}),t),NO={};kte(NO,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>kO,CONFIG_USE_FIPS_ENDPOINT:()=>LO,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>Ute,DEFAULT_USE_FIPS_ENDPOINT:()=>Bte,ENV_USE_DUALSTACK_ENDPOINT:()=>DO,ENV_USE_FIPS_ENDPOINT:()=>MO,NODE_REGION_CONFIG_FILE_OPTIONS:()=>zte,NODE_REGION_CONFIG_OPTIONS:()=>$te,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>Fte,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>qte,REGION_ENV_NAME:()=>UO,REGION_INI_NAME:()=>FO,getRegionInfo:()=>Yte,resolveCustomEndpointsConfig:()=>Hte,resolveEndpointsConfig:()=>Gte,resolveRegionConfig:()=>Vte});qO.exports=Lte(NO);var Io=IO(),DO="AWS_USE_DUALSTACK_ENDPOINT",kO="use_dualstack_endpoint",Ute=!1,Fte={environmentVariableSelector:t=>(0,Io.booleanSelector)(t,DO,Io.SelectorType.ENV),configFileSelector:t=>(0,Io.booleanSelector)(t,kO,Io.SelectorType.CONFIG),default:!1},MO="AWS_USE_FIPS_ENDPOINT",LO="use_fips_endpoint",Bte=!1,qte={environmentVariableSelector:t=>(0,Io.booleanSelector)(t,MO,Io.SelectorType.ENV),configFileSelector:t=>(0,Io.booleanSelector)(t,LO,Io.SelectorType.CONFIG),default:!1},Nm=hr(),Hte=Lr(t=>{let{endpoint:e,urlParser:r}=t;return{...t,tls:t.tls??!0,endpoint:(0,Nm.normalizeProvider)(typeof e=="string"?r(e):e),isCustomEndpoint:!0,useDualstackEndpoint:(0,Nm.normalizeProvider)(t.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),jte=Lr(async t=>{let{tls:e=!0}=t,r=await t.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await t.useDualstackEndpoint(),i=await t.useFipsEndpoint(),{hostname:s}=await t.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})??{};if(!s)throw new Error("Cannot resolve hostname from client config");return t.urlParser(`${e?"https:":"http:"}//${s}`)},"getEndpointFromRegion"),Gte=Lr(t=>{let e=(0,Nm.normalizeProvider)(t.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=t;return{...t,tls:t.tls??!0,endpoint:r?(0,Nm.normalizeProvider)(typeof r=="string"?o(r):r):()=>jte({...t,useDualstackEndpoint:e,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:e}},"resolveEndpointsConfig"),UO="AWS_REGION",FO="region",$te={environmentVariableSelector:t=>t[UO],configFileSelector:t=>t[FO],default:()=>{throw new Error("Region is missing")}},zte={preferredFile:"credentials"},BO=Lr(t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),"isFipsRegion"),OO=Lr(t=>BO(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,"getRealRegion"),Vte=Lr(t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return OO(e);let n=await e();return OO(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return BO(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),xO=Lr((t=[],{useFipsEndpoint:e,useDualstackEndpoint:r})=>{var n;return(n=t.find(({tags:o})=>e===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),Kte=Lr((t,{regionHostname:e,partitionHostname:r})=>e||(r?r.replace("{region}",t):void 0),"getResolvedHostname"),Wte=Lr((t,{partitionHash:e})=>Object.keys(e||{}).find(r=>e[r].regions.includes(t))??"aws","getResolvedPartition"),Qte=Lr((t,{signingRegion:e,regionRegex:r,useFipsEndpoint:n})=>{if(e)return e;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=t.match(o);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),Yte=Lr((t,{useFipsEndpoint:e=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:i})=>{var s,a,c,d,u;let m=Wte(t,{partitionHash:i}),f=t in o?t:((s=i[m])==null?void 0:s.endpoint)??t,h={useFipsEndpoint:e,useDualstackEndpoint:r},y=xO((a=o[f])==null?void 0:a.variants,h),E=xO((c=i[m])==null?void 0:c.variants,h),I=Kte(f,{regionHostname:y,partitionHostname:E});if(I===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:f,useFipsEndpoint:e,useDualstackEndpoint:r}}`);let w=Qte(I,{signingRegion:(d=o[f])==null?void 0:d.signingRegion,regionRegex:i[m].regionRegex,useFipsEndpoint:e});return{partition:m,signingService:n,hostname:I,...w&&{signingRegion:w},...((u=o[f])==null?void 0:u.signingService)&&{signingService:o[f].signingService}}},"getRegionInfo")});function Jte(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var u1e,HO,Pd,km=v(()=>{u1e=ae(en()),HO=ae(hr());Pd=(t,e)=>(r,n)=>async o=>{let i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,o.input)),s=Jte(t.httpAuthSchemes),a=(0,HO.getSmithyContext)(n),c=[];for(let d of i){let u=s.get(d.schemeId);if(!u){c.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let m=u.identityProvider(await e.identityProviderConfigProvider(t));if(!m){c.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:f={},signingProperties:h={}}=d.propertiesExtractor?.(t,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},f),d.signingProperties=Object.assign(d.signingProperties||{},h),a.selectedHttpAuthScheme={httpAuthOption:d,identity:await m(d.identityProperties),signer:u.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return r(o)}});var Lt=g((h1e,QO)=>{var Mm=Object.defineProperty,Xte=Object.getOwnPropertyDescriptor,Zte=Object.getOwnPropertyNames,ere=Object.prototype.hasOwnProperty,Wi=(t,e)=>Mm(t,"name",{value:e,configurable:!0}),tre=(t,e)=>{for(var r in e)Mm(t,r,{get:e[r],enumerable:!0})},rre=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Zte(e))!ere.call(t,o)&&o!==r&&Mm(t,o,{get:()=>e[o],enumerable:!(n=Xte(e,o))||n.enumerable});return t},nre=t=>rre(Mm({},"__esModule",{value:!0}),t),jO={};tre(jO,{CredentialsProviderError:()=>ore,ProviderError:()=>Lm,TokenProviderError:()=>ire,chain:()=>sre,fromStatic:()=>are,memoize:()=>cre});QO.exports=nre(jO);var GO=class $O extends Error{constructor(e,r=!0){var n;let o,i=!0;typeof r=="boolean"?(o=void 0,i=r):r!=null&&typeof r=="object"&&(o=r.logger,i=r.tryNextLink??!0),super(e),this.name="ProviderError",this.tryNextLink=i,Object.setPrototypeOf(this,$O.prototype),(n=o?.debug)==null||n.call(o,`@smithy/property-provider ${i?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}};Wi(GO,"ProviderError");var Lm=GO,zO=class VO extends Lm{constructor(e,r=!0){super(e,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,VO.prototype)}};Wi(zO,"CredentialsProviderError");var ore=zO,KO=class WO extends Lm{constructor(e,r=!0){super(e,r),this.name="TokenProviderError",Object.setPrototypeOf(this,WO.prototype)}};Wi(KO,"TokenProviderError");var ire=KO,sre=Wi((...t)=>async()=>{if(t.length===0)throw new Lm("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e},"chain"),are=Wi(t=>()=>Promise.resolve(t),"fromStatic"),cre=Wi((t,e,r)=>{let n,o,i,s=!1,a=Wi(async()=>{o||(o=t());try{n=await o,i=!0,s=!1}finally{o=void 0}return n},"coalesceProvider");return e===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(e(n)&&await a(),n))},"memoize")});var sa=g(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.getHomeDir=void 0;var dre=require("os"),lre=require("path"),gv={},ure=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",pre=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${lre.sep}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let o=ure();return gv[o]||(gv[o]=(0,dre.homedir)()),gv[o]};Um.getHomeDir=pre});var yv=g(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.getSSOTokenFilepath=void 0;var mre=require("crypto"),hre=require("path"),fre=sa(),gre=t=>{let r=(0,mre.createHash)("sha1").update(t).digest("hex");return(0,hre.join)((0,fre.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Fm.getSSOTokenFilepath=gre});var YO=g(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.getSSOTokenFromFile=void 0;var yre=require("fs"),_re=yv(),{readFile:vre}=yre.promises,Ere=async t=>{let e=(0,_re.getSSOTokenFilepath)(t),r=await vre(e,"utf8");return JSON.parse(r)};Bm.getSSOTokenFromFile=Ere});var vv=g(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.slurpFile=void 0;var Cre=require("fs"),{readFile:Sre}=Cre.promises,_v={},Tre=(t,e)=>((!_v[t]||e?.ignoreCache)&&(_v[t]=Sre(t,"utf8")),_v[t]);qm.slurpFile=Tre});var bo=g((v1e,xd)=>{var Gm=Object.defineProperty,Are=Object.getOwnPropertyDescriptor,Ire=Object.getOwnPropertyNames,bre=Object.prototype.hasOwnProperty,gr=(t,e)=>Gm(t,"name",{value:e,configurable:!0}),Rre=(t,e)=>{for(var r in e)Gm(t,r,{get:e[r],enumerable:!0})},Ev=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ire(e))!bre.call(t,o)&&o!==r&&Gm(t,o,{get:()=>e[o],enumerable:!(n=Are(e,o))||n.enumerable});return t},Sv=(t,e,r)=>(Ev(t,e,"default"),r&&Ev(r,e,"default")),wre=t=>Ev(Gm({},"__esModule",{value:!0}),t),Od={};Rre(Od,{CONFIG_PREFIX_SEPARATOR:()=>Qi,DEFAULT_PROFILE:()=>ex,ENV_PROFILE:()=>ZO,getProfileName:()=>Pre,loadSharedConfigFiles:()=>rx,loadSsoSessionData:()=>jre,parseKnownFiles:()=>$re});xd.exports=wre(Od);Sv(Od,sa(),xd.exports);var ZO="AWS_PROFILE",ex="default",Pre=gr(t=>t.profile||process.env[ZO]||ex,"getProfileName");Sv(Od,yv(),xd.exports);Sv(Od,YO(),xd.exports);var Hm=en(),Ore=gr(t=>Object.entries(t).filter(([e])=>{let r=e.indexOf(Qi);return r===-1?!1:Object.values(Hm.IniSectionType).includes(e.substring(0,r))}).reduce((e,[r,n])=>{let o=r.indexOf(Qi),i=r.substring(0,o)===Hm.IniSectionType.PROFILE?r.substring(o+1):r;return e[i]=n,e},{...t.default&&{default:t.default}}),"getConfigData"),jm=require("path"),xre=sa(),Nre="AWS_CONFIG_FILE",tx=gr(()=>process.env[Nre]||(0,jm.join)((0,xre.getHomeDir)(),".aws","config"),"getConfigFilepath"),Dre=sa(),kre="AWS_SHARED_CREDENTIALS_FILE",Mre=gr(()=>process.env[kre]||(0,jm.join)((0,Dre.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Lre=sa(),Ure=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Fre=["__proto__","profile __proto__"],Cv=gr(t=>{let e={},r,n;for(let o of t.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=Ure.exec(a);if(c){let[,d,,u]=c;Object.values(Hm.IniSectionType).includes(d)&&(r=[d,u].join(Qi))}else r=a;if(Fre.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,d]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),e[r]=e[r]||{};let u=n?[n,c].join(Qi):c;e[r][u]=d}}}}return e},"parseIni"),JO=vv(),XO=gr(()=>({}),"swallowError"),Qi=".",rx=gr(async(t={})=>{let{filepath:e=Mre(),configFilepath:r=tx()}=t,n=(0,Lre.getHomeDir)(),o="~/",i=e;e.startsWith(o)&&(i=(0,jm.join)(n,e.slice(2)));let s=r;r.startsWith(o)&&(s=(0,jm.join)(n,r.slice(2)));let a=await Promise.all([(0,JO.slurpFile)(s,{ignoreCache:t.ignoreCache}).then(Cv).then(Ore).catch(XO),(0,JO.slurpFile)(i,{ignoreCache:t.ignoreCache}).then(Cv).catch(XO)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),Bre=gr(t=>Object.entries(t).filter(([e])=>e.startsWith(Hm.IniSectionType.SSO_SESSION+Qi)).reduce((e,[r,n])=>({...e,[r.substring(r.indexOf(Qi)+1)]:n}),{}),"getSsoSessionData"),qre=vv(),Hre=gr(()=>({}),"swallowError"),jre=gr(async(t={})=>(0,qre.slurpFile)(t.configFilepath??tx()).then(Cv).then(Bre).catch(Hre),"loadSsoSessionData"),Gre=gr((...t)=>{let e={};for(let r of t)for(let[n,o]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],o):e[n]=o;return e},"mergeConfigFiles"),$re=gr(async t=>{let e=await rx(t);return Gre(e.configFile,e.credentialsFile)},"parseKnownFiles")});var rn=g((E1e,ix)=>{var $m=Object.defineProperty,zre=Object.getOwnPropertyDescriptor,Vre=Object.getOwnPropertyNames,Kre=Object.prototype.hasOwnProperty,aa=(t,e)=>$m(t,"name",{value:e,configurable:!0}),Wre=(t,e)=>{for(var r in e)$m(t,r,{get:e[r],enumerable:!0})},Qre=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Vre(e))!Kre.call(t,o)&&o!==r&&$m(t,o,{get:()=>e[o],enumerable:!(n=zre(e,o))||n.enumerable});return t},Yre=t=>Qre($m({},"__esModule",{value:!0}),t),ox={};Wre(ox,{loadConfig:()=>tne});ix.exports=Yre(ox);var Nd=Lt();function Tv(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}aa(Tv,"getSelectorName");var Jre=aa((t,e)=>async()=>{try{let r=t(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Nd.CredentialsProviderError(r.message||`Not found in ENV: ${Tv(t.toString())}`,{logger:e})}},"fromEnv"),nx=bo(),Xre=aa((t,{preferredFile:e="config",...r}={})=>async()=>{let n=(0,nx.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,nx.loadSharedConfigFiles)(r),s=i[n]||{},a=o[n]||{},c=e==="config"?{...s,...a}:{...a,...s};try{let u=t(c,e==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new Nd.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${Tv(t.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Zre=aa(t=>typeof t=="function","isFunction"),ene=aa(t=>Zre(t)?async()=>await t():(0,Nd.fromStatic)(t),"fromStatic"),tne=aa(({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>(0,Nd.memoize)((0,Nd.chain)(Jre(t),Xre(e,n),ene(r))),"loadConfig")});var dx=g(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.getEndpointUrlConfig=void 0;var sx=bo(),ax="AWS_ENDPOINT_URL",cx="endpoint_url",rne=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(i=>i.toUpperCase()),n=e[[ax,...r].join("_")];if(n)return n;let o=e[ax];if(o)return o},configFileSelector:(e,r)=>{if(r&&e.services){let o=r[["services",e.services].join(sx.CONFIG_PREFIX_SEPARATOR)];if(o){let i=t.split(" ").map(a=>a.toLowerCase()),s=o[[i.join("_"),cx].join(sx.CONFIG_PREFIX_SEPARATOR)];if(s)return s}}let n=e[cx];if(n)return n},default:void 0});zm.getEndpointUrlConfig=rne});var Av=g(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.getEndpointFromConfig=void 0;var nne=rn(),one=dx(),ine=async t=>(0,nne.loadConfig)((0,one.getEndpointUrlConfig)(t??""))();Vm.getEndpointFromConfig=ine});var mx=g((T1e,px)=>{var Km=Object.defineProperty,sne=Object.getOwnPropertyDescriptor,ane=Object.getOwnPropertyNames,cne=Object.prototype.hasOwnProperty,dne=(t,e)=>Km(t,"name",{value:e,configurable:!0}),lne=(t,e)=>{for(var r in e)Km(t,r,{get:e[r],enumerable:!0})},une=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ane(e))!cne.call(t,o)&&o!==r&&Km(t,o,{get:()=>e[o],enumerable:!(n=sne(e,o))||n.enumerable});return t},pne=t=>une(Km({},"__esModule",{value:!0}),t),lx={};lne(lx,{parseQueryString:()=>ux});px.exports=pne(lx);function ux(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in e?Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]:e[n]=o}return e}dne(ux,"parseQueryString")});var Ro=g((A1e,gx)=>{var Wm=Object.defineProperty,mne=Object.getOwnPropertyDescriptor,hne=Object.getOwnPropertyNames,fne=Object.prototype.hasOwnProperty,gne=(t,e)=>Wm(t,"name",{value:e,configurable:!0}),yne=(t,e)=>{for(var r in e)Wm(t,r,{get:e[r],enumerable:!0})},_ne=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of hne(e))!fne.call(t,o)&&o!==r&&Wm(t,o,{get:()=>e[o],enumerable:!(n=mne(e,o))||n.enumerable});return t},vne=t=>_ne(Wm({},"__esModule",{value:!0}),t),hx={};yne(hx,{parseUrl:()=>fx});gx.exports=vne(hx);var Ene=mx(),fx=gne(t=>{if(typeof t=="string")return fx(new URL(t));let{hostname:e,pathname:r,port:n,protocol:o,search:i}=t,s;return i&&(s=(0,Ene.parseQueryString)(i)),{hostname:e,port:n?parseInt(n):void 0,protocol:o,path:r,query:s}},"parseUrl")});var wo=g((I1e,Tx)=>{var Qm=Object.defineProperty,Cne=Object.getOwnPropertyDescriptor,Sne=Object.getOwnPropertyNames,Tne=Object.prototype.hasOwnProperty,Iv=(t,e)=>Qm(t,"name",{value:e,configurable:!0}),Ane=(t,e)=>{for(var r in e)Qm(t,r,{get:e[r],enumerable:!0})},Ine=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Sne(e))!Tne.call(t,o)&&o!==r&&Qm(t,o,{get:()=>e[o],enumerable:!(n=Cne(e,o))||n.enumerable});return t},bne=t=>Ine(Qm({},"__esModule",{value:!0}),t),yx={};Ane(yx,{deserializerMiddleware:()=>_x,deserializerMiddlewareOption:()=>Ex,getSerdePlugin:()=>Sx,serializerMiddleware:()=>vx,serializerMiddlewareOption:()=>Cx});Tx.exports=bne(yx);var _x=Iv((t,e)=>r=>async n=>{let{response:o}=await r(n);try{let i=await e(o,t);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let s="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+s,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},"deserializerMiddleware"),vx=Iv((t,e)=>(r,n)=>async o=>{var i;let s=(i=n.endpointV2)!=null&&i.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let a=await e(o.input,{...t,endpoint:s});return r({...o,request:a})},"serializerMiddleware"),Ex={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Cx={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Sx(t,e,r){return{applyToStack:n=>{n.add(_x(t,r),Ex),n.add(vx(t,e),Cx)}}}Iv(Sx,"getSerdePlugin")});var Po=g((b1e,Ox)=>{var Jm=Object.defineProperty,Rne=Object.getOwnPropertyDescriptor,wne=Object.getOwnPropertyNames,Pne=Object.prototype.hasOwnProperty,Ur=(t,e)=>Jm(t,"name",{value:e,configurable:!0}),One=(t,e)=>{for(var r in e)Jm(t,r,{get:e[r],enumerable:!0})},xne=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of wne(e))!Pne.call(t,o)&&o!==r&&Jm(t,o,{get:()=>e[o],enumerable:!(n=Rne(e,o))||n.enumerable});return t},Nne=t=>xne(Jm({},"__esModule",{value:!0}),t),Ix={};One(Ix,{endpointMiddleware:()=>wx,endpointMiddlewareOptions:()=>Px,getEndpointFromInstructions:()=>bx,getEndpointPlugin:()=>jne,resolveEndpointConfig:()=>$ne,resolveParams:()=>Rx,toEndpointV1:()=>bv});Ox.exports=Nne(Ix);var Dne=Ur(async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Fne(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Une(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},"resolveParamsForS3"),kne=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Mne=/(\d+\.){3}\d+/,Lne=/\.\./,Une=Ur(t=>kne.test(t)&&!Mne.test(t)&&!Lne.test(t),"isDnsCompatibleBucketName"),Fne=Ur(t=>{let[e,r,n,,,o]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,s=!!(i&&r&&n&&o);if(i&&!s)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return s},"isArnBucketName"),Bne=Ur((t,e,r)=>{let n=Ur(async()=>{let o=r[t]??r[e];return typeof o=="function"?o():o},"configProvider");return t==="credentialScope"||e==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:s,port:a,path:c}=o;return`${i}//${s}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),qne=Av(),Ax=Ro(),bv=Ur(t=>typeof t=="object"?"url"in t?(0,Ax.parseUrl)(t.url):t:(0,Ax.parseUrl)(t),"toEndpointV1"),bx=Ur(async(t,e,r,n)=>{if(!r.endpoint){let s;r.serviceConfiguredEndpoint?s=await r.serviceConfiguredEndpoint():s=await(0,qne.getEndpointFromConfig)(r.serviceId),s&&(r.endpoint=()=>Promise.resolve(bv(s)))}let o=await Rx(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),Rx=Ur(async(t,e,r)=>{var n;let o={},i=((n=e?.getEndpointParameterInstructions)==null?void 0:n.call(e))||{};for(let[s,a]of Object.entries(i))switch(a.type){case"staticContextParams":o[s]=a.value;break;case"contextParams":o[s]=t[a.name];break;case"clientContextParams":case"builtInParams":o[s]=await Bne(a.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await Dne(o),o},"resolveParams"),Ym=hr(),wx=Ur(({config:t,instructions:e})=>(r,n)=>async o=>{var i,s,a;let c=await bx(o.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=c,n.authSchemes=(i=c.properties)==null?void 0:i.authSchemes;let d=(s=n.authSchemes)==null?void 0:s[0];if(d){n.signing_region=d.signingRegion,n.signing_service=d.signingName;let u=(0,Ym.getSmithyContext)(n),m=(a=u?.selectedHttpAuthScheme)==null?void 0:a.httpAuthOption;m&&(m.signingProperties=Object.assign(m.signingProperties||{},{signing_region:d.signingRegion,signingRegion:d.signingRegion,signing_service:d.signingName,signingName:d.signingName,signingRegionSet:d.signingRegionSet},d.properties))}return r({...o})},"endpointMiddleware"),Hne=wo(),Px={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Hne.serializerMiddlewareOption.name},jne=Ur((t,e)=>({applyToStack:r=>{r.addRelativeTo(wx({config:t,instructions:e}),Px)}}),"getEndpointPlugin"),Gne=Av(),$ne=Ur(t=>{let e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>bv(await(0,Ym.normalizeProvider)(r)()):void 0,i={...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Ym.normalizeProvider)(t.useDualstackEndpoint??!1),useFipsEndpoint:(0,Ym.normalizeProvider)(t.useFipsEndpoint??!1)},s;return i.serviceConfiguredEndpoint=async()=>(t.serviceId&&!s&&(s=(0,Gne.getEndpointFromConfig)(t.serviceId)),s),i},"resolveEndpointConfig")});var xx,Nx,zne,Dx=v(()=>{xx=ae(Po());km();Nx={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:xx.endpointMiddlewareOptions.name},zne=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Pd(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),Nx)}})});var kx,Mx,Vne,Lx=v(()=>{kx=ae(wo());km();Mx={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:kx.serializerMiddlewareOption.name},Vne=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Pd(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),Mx)}})});var Ux=v(()=>{km();Dx();Lx()});var Fx,M1e,Bx,Kne,Wne,Rv,wv=v(()=>{Fx=ae(De()),M1e=ae(en()),Bx=ae(hr()),Kne=t=>e=>{throw e},Wne=(t,e)=>{},Rv=t=>(e,r)=>async n=>{if(!Fx.HttpRequest.isInstance(n.request))return e(n);let i=(0,Bx.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=i,d=await e({...n,request:await c.sign(n.request,a,s)}).catch((c.errorHandler||Kne)(s));return(c.successHandler||Wne)(d.response,s),d}});function Dd(){return Xm>Zm.length-16&&(qx.default.randomFillSync(Zm),Xm=0),Zm.slice(Xm,Xm+=16)}var qx,Zm,Xm,Pv=v(()=>{qx=ae(require("crypto")),Zm=new Uint8Array(256),Xm=Zm.length});var Hx,jx=v(()=>{Hx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Qne(t){return typeof t=="string"&&Hx.test(t)}var Oo,kd=v(()=>{jx();Oo=Qne});function Yi(t,e=0){return vt[t[e+0]]+vt[t[e+1]]+vt[t[e+2]]+vt[t[e+3]]+"-"+vt[t[e+4]]+vt[t[e+5]]+"-"+vt[t[e+6]]+vt[t[e+7]]+"-"+vt[t[e+8]]+vt[t[e+9]]+"-"+vt[t[e+10]]+vt[t[e+11]]+vt[t[e+12]]+vt[t[e+13]]+vt[t[e+14]]+vt[t[e+15]]}function Yne(t,e=0){let r=Yi(t,e);if(!Oo(r))throw TypeError("Stringified UUID is invalid");return r}var vt,Gx,Md=v(()=>{kd();vt=[];for(let t=0;t<256;++t)vt.push((t+256).toString(16).slice(1));Gx=Yne});function Jne(t,e,r){let n=e&&r||0,o=e||new Array(16);t=t||{};let i=t.node||$x,s=t.clockseq!==void 0?t.clockseq:Ov;if(i==null||s==null){let f=t.random||(t.rng||Dd)();i==null&&(i=$x=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Ov=(f[6]<<8|f[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Nv+1,d=a-xv+(c-Nv)/1e4;if(d<0&&t.clockseq===void 0&&(s=s+1&16383),(d<0||a>xv)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");xv=a,Nv=c,Ov=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;o[n++]=u>>>24&255,o[n++]=u>>>16&255,o[n++]=u>>>8&255,o[n++]=u&255;let m=a/4294967296*1e4&268435455;o[n++]=m>>>8&255,o[n++]=m&255,o[n++]=m>>>24&15|16,o[n++]=m>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let f=0;f<6;++f)o[n+f]=i[f];return e||Yi(o)}var $x,Ov,xv,Nv,zx,Vx=v(()=>{Pv();Md();xv=0,Nv=0;zx=Jne});function Xne(t){if(!Oo(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var eh,Dv=v(()=>{kd();eh=Xne});function Zne(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Ld(t,e,r){function n(o,i,s,a){var c;if(typeof o=="string"&&(o=Zne(o)),typeof i=="string"&&(i=eh(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(i),d.set(o,i.length),d=r(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,s){a=a||0;for(let u=0;u<16;++u)s[a+u]=d[u];return s}return Yi(d)}try{n.name=t}catch{}return n.DNS=eoe,n.URL=toe,n}var eoe,toe,kv=v(()=>{Md();Dv();eoe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",toe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function roe(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Kx.default.createHash("md5").update(t).digest()}var Kx,Wx,Qx=v(()=>{Kx=ae(require("crypto"));Wx=roe});var noe,Yx,Jx=v(()=>{kv();Qx();noe=Ld("v3",48,Wx),Yx=noe});var Xx,Mv,Zx=v(()=>{Xx=ae(require("crypto")),Mv={randomUUID:Xx.default.randomUUID}});function ooe(t,e,r){if(Mv.randomUUID&&!e&&!t)return Mv.randomUUID();t=t||{};let n=t.random||(t.rng||Dd)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return Yi(n)}var eN,tN=v(()=>{Zx();Pv();Md();eN=ooe});function ioe(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),rN.default.createHash("sha1").update(t).digest()}var rN,nN,oN=v(()=>{rN=ae(require("crypto"));nN=ioe});var soe,iN,sN=v(()=>{kv();oN();soe=Ld("v5",80,nN),iN=soe});var aN,cN=v(()=>{aN="00000000-0000-0000-0000-000000000000"});function aoe(t){if(!Oo(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var dN,lN=v(()=>{kd();dN=aoe});var Lv={};At(Lv,{NIL:()=>aN,parse:()=>eh,stringify:()=>Gx,v1:()=>zx,v3:()=>Yx,v4:()=>eN,v5:()=>iN,validate:()=>Oo,version:()=>dN});var Uv=v(()=>{Vx();Jx();tN();sN();cN();lN();kd();Md();Dv()});var Fv=g((THe,hN)=>{var th=Object.defineProperty,coe=Object.getOwnPropertyDescriptor,doe=Object.getOwnPropertyNames,loe=Object.prototype.hasOwnProperty,ca=(t,e)=>th(t,"name",{value:e,configurable:!0}),uoe=(t,e)=>{for(var r in e)th(t,r,{get:e[r],enumerable:!0})},poe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of doe(e))!loe.call(t,o)&&o!==r&&th(t,o,{get:()=>e[o],enumerable:!(n=coe(e,o))||n.enumerable});return t},moe=t=>poe(th({},"__esModule",{value:!0}),t),uN={};uoe(uN,{isClockSkewCorrectedError:()=>pN,isClockSkewError:()=>Eoe,isRetryableByTrait:()=>voe,isServerError:()=>Soe,isThrottlingError:()=>Coe,isTransientError:()=>mN});hN.exports=moe(uN);var hoe=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],foe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],goe=["TimeoutError","RequestTimeout","RequestTimeoutException"],yoe=[500,502,503,504],_oe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],voe=ca(t=>t.$retryable!==void 0,"isRetryableByTrait"),Eoe=ca(t=>hoe.includes(t.name),"isClockSkewError"),pN=ca(t=>{var e;return(e=t.$metadata)==null?void 0:e.clockSkewCorrected},"isClockSkewCorrectedError"),Coe=ca(t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||foe.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),mN=ca(t=>{var e;return pN(t)||goe.includes(t.name)||_oe.includes(t?.code||"")||yoe.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},"isTransientError"),Soe=ca(t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){let r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!mN(t)}return!1},"isServerError")});var Ji=g((wHe,RN)=>{var rh=Object.defineProperty,Toe=Object.getOwnPropertyDescriptor,Aoe=Object.getOwnPropertyNames,Ioe=Object.prototype.hasOwnProperty,Fr=(t,e)=>rh(t,"name",{value:e,configurable:!0}),boe=(t,e)=>{for(var r in e)rh(t,r,{get:e[r],enumerable:!0})},Roe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Aoe(e))!Ioe.call(t,o)&&o!==r&&rh(t,o,{get:()=>e[o],enumerable:!(n=Toe(e,o))||n.enumerable});return t},woe=t=>Roe(rh({},"__esModule",{value:!0}),t),gN={};boe(gN,{AdaptiveRetryStrategy:()=>koe,ConfiguredRetryStrategy:()=>Moe,DEFAULT_MAX_ATTEMPTS:()=>Bv,DEFAULT_RETRY_DELAY_BASE:()=>Ud,DEFAULT_RETRY_MODE:()=>Poe,DefaultRateLimiter:()=>vN,INITIAL_RETRY_TOKENS:()=>qv,INVOCATION_ID_HEADER:()=>xoe,MAXIMUM_RETRY_DELAY:()=>Hv,NO_RETRY_INCREMENT:()=>TN,REQUEST_HEADER:()=>Noe,RETRY_COST:()=>CN,RETRY_MODES:()=>yN,StandardRetryStrategy:()=>jv,THROTTLING_RETRY_DELAY_BASE:()=>EN,TIMEOUT_RETRY_COST:()=>SN});RN.exports=woe(gN);var yN=(t=>(t.STANDARD="standard",t.ADAPTIVE="adaptive",t))(yN||{}),Bv=3,Poe="standard",Ooe=Fv(),_N=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),(0,Ooe.isThrottlingError)(e)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}};Fr(_N,"DefaultRateLimiter");var vN=_N,Ud=100,Hv=20*1e3,EN=500,qv=500,CN=5,SN=10,TN=1,xoe="amz-sdk-invocation-id",Noe="amz-sdk-request",Doe=Fr(()=>{let t=Ud;return{computeNextBackoffDelay:Fr(n=>Math.floor(Math.min(Hv,Math.random()*2**n*t)),"computeNextBackoffDelay"),setDelayBase:Fr(n=>{t=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),fN=Fr(({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:Fr(()=>e,"getRetryCount"),getRetryDelay:Fr(()=>Math.min(Hv,t),"getRetryDelay"),getRetryCost:Fr(()=>r,"getRetryCost")}),"createDefaultRetryToken"),AN=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=qv,this.retryBackoffStrategy=Doe(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return fN({retryDelay:Ud,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?EN:Ud);let i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(o);return this.capacity-=a,fN({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(qv,this.capacity+(e.getRetryCost()??TN))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Bv}`),Bv}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?SN:CN}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};Fr(AN,"StandardRetryStrategy");var jv=AN,IN=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new vN,this.standardRetryStrategy=new jv(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};Fr(IN,"AdaptiveRetryStrategy");var koe=IN,bN=class extends jv{constructor(e,r=Ud){super(typeof e=="function"?e:async()=>e),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(e,r){let n=await super.refreshRetryTokenForRetry(e,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Fr(bN,"ConfiguredRetryStrategy");var Moe=bN});var NN=g((PHe,xN)=>{var nh=Object.defineProperty,Loe=Object.getOwnPropertyDescriptor,Uoe=Object.getOwnPropertyNames,Foe=Object.prototype.hasOwnProperty,yr=(t,e)=>nh(t,"name",{value:e,configurable:!0}),Boe=(t,e)=>{for(var r in e)nh(t,r,{get:e[r],enumerable:!0})},qoe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Uoe(e))!Foe.call(t,o)&&o!==r&&nh(t,o,{get:()=>e[o],enumerable:!(n=Loe(e,o))||n.enumerable});return t},Hoe=t=>qoe(nh({},"__esModule",{value:!0}),t),ON={};Boe(ON,{constructStack:()=>Gv});xN.exports=Hoe(ON);var Xi=yr((t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},"getAllAliases"),xo=yr((t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Gv=yr(()=>{let t=[],e=[],r=!1,n=new Set,o=yr(m=>m.sort((f,h)=>wN[h.step]-wN[f.step]||PN[h.priority||"normal"]-PN[f.priority||"normal"]),"sort"),i=yr(m=>{let f=!1,h=yr(y=>{let E=Xi(y.name,y.aliases);if(E.includes(m)){f=!0;for(let I of E)n.delete(I);return!1}return!0},"filterCb");return t=t.filter(h),e=e.filter(h),f},"removeByName"),s=yr(m=>{let f=!1,h=yr(y=>{if(y.middleware===m){f=!0;for(let E of Xi(y.name,y.aliases))n.delete(E);return!1}return!0},"filterCb");return t=t.filter(h),e=e.filter(h),f},"removeByReference"),a=yr(m=>{var f;return t.forEach(h=>{m.add(h.middleware,{...h})}),e.forEach(h=>{m.addRelativeTo(h.middleware,{...h})}),(f=m.identifyOnResolve)==null||f.call(m,u.identifyOnResolve()),m},"cloneTo"),c=yr(m=>{let f=[];return m.before.forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...c(h))}),f.push(m),m.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...c(h))}),f},"expandRelativeMiddlewareList"),d=yr((m=!1)=>{let f=[],h=[],y={};return t.forEach(I=>{let w={...I,before:[],after:[]};for(let x of Xi(w.name,w.aliases))y[x]=w;f.push(w)}),e.forEach(I=>{let w={...I,before:[],after:[]};for(let x of Xi(w.name,w.aliases))y[x]=w;h.push(w)}),h.forEach(I=>{if(I.toMiddleware){let w=y[I.toMiddleware];if(w===void 0){if(m)return;throw new Error(`${I.toMiddleware} is not found when adding ${xo(I.name,I.aliases)} middleware ${I.relation} ${I.toMiddleware}`)}I.relation==="after"&&w.after.push(I),I.relation==="before"&&w.before.push(I)}}),o(f).map(c).reduce((I,w)=>(I.push(...w),I),[])},"getMiddlewareList"),u={add:(m,f={})=>{let{name:h,override:y,aliases:E}=f,I={step:"initialize",priority:"normal",middleware:m,...f},w=Xi(h,E);if(w.length>0){if(w.some(x=>n.has(x))){if(!y)throw new Error(`Duplicate middleware name '${xo(h,E)}'`);for(let x of w){let K=t.findIndex(le=>{var et;return le.name===x||((et=le.aliases)==null?void 0:et.some(Nr=>Nr===x))});if(K===-1)continue;let W=t[K];if(W.step!==I.step||I.priority!==W.priority)throw new Error(`"${xo(W.name,W.aliases)}" middleware with ${W.priority} priority in ${W.step} step cannot be overridden by "${xo(h,E)}" middleware with ${I.priority} priority in ${I.step} step.`);t.splice(K,1)}}for(let x of w)n.add(x)}t.push(I)},addRelativeTo:(m,f)=>{let{name:h,override:y,aliases:E}=f,I={middleware:m,...f},w=Xi(h,E);if(w.length>0){if(w.some(x=>n.has(x))){if(!y)throw new Error(`Duplicate middleware name '${xo(h,E)}'`);for(let x of w){let K=e.findIndex(le=>{var et;return le.name===x||((et=le.aliases)==null?void 0:et.some(Nr=>Nr===x))});if(K===-1)continue;let W=e[K];if(W.toMiddleware!==I.toMiddleware||W.relation!==I.relation)throw new Error(`"${xo(W.name,W.aliases)}" middleware ${W.relation} "${W.toMiddleware}" middleware cannot be overridden by "${xo(h,E)}" middleware ${I.relation} "${I.toMiddleware}" middleware.`);e.splice(K,1)}}for(let x of w)n.add(x)}e.push(I)},clone:()=>a(Gv()),use:m=>{m.applyToStack(u)},remove:m=>typeof m=="string"?i(m):s(m),removeByTag:m=>{let f=!1,h=yr(y=>{let{tags:E,name:I,aliases:w}=y;if(E&&E.includes(m)){let x=Xi(I,w);for(let K of x)n.delete(K);return f=!0,!1}return!0},"filterCb");return t=t.filter(h),e=e.filter(h),f},concat:m=>{var f;let h=a(Gv());return h.use(m),h.identifyOnResolve(r||h.identifyOnResolve()||(((f=m.identifyOnResolve)==null?void 0:f.call(m))??!1)),h},applyToStack:a,identify:()=>d(!0).map(m=>{let f=m.step??m.relation+" "+m.toMiddleware;return xo(m.name,m.aliases)+" - "+f}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,f)=>{for(let h of d().map(y=>y.middleware).reverse())m=h(m,f);return r&&console.log(u.identify()),m}};return u},"constructStack"),wN={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},PN={high:3,normal:2,low:1}});var $v=g((OHe,kN)=>{var oh=Object.defineProperty,joe=Object.getOwnPropertyDescriptor,Goe=Object.getOwnPropertyNames,$oe=Object.prototype.hasOwnProperty,zoe=(t,e)=>oh(t,"name",{value:e,configurable:!0}),Voe=(t,e)=>{for(var r in e)oh(t,r,{get:e[r],enumerable:!0})},Koe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Goe(e))!$oe.call(t,o)&&o!==r&&oh(t,o,{get:()=>e[o],enumerable:!(n=joe(e,o))||n.enumerable});return t},Woe=t=>Koe(oh({},"__esModule",{value:!0}),t),DN={};Voe(DN,{isArrayBuffer:()=>Qoe});kN.exports=Woe(DN);var Qoe=zoe(t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]","isArrayBuffer")});var da=g((xHe,UN)=>{var ih=Object.defineProperty,Yoe=Object.getOwnPropertyDescriptor,Joe=Object.getOwnPropertyNames,Xoe=Object.prototype.hasOwnProperty,MN=(t,e)=>ih(t,"name",{value:e,configurable:!0}),Zoe=(t,e)=>{for(var r in e)ih(t,r,{get:e[r],enumerable:!0})},eie=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Joe(e))!Xoe.call(t,o)&&o!==r&&ih(t,o,{get:()=>e[o],enumerable:!(n=Yoe(e,o))||n.enumerable});return t},tie=t=>eie(ih({},"__esModule",{value:!0}),t),LN={};Zoe(LN,{fromArrayBuffer:()=>nie,fromString:()=>oie});UN.exports=tie(LN);var rie=$v(),zv=require("buffer"),nie=MN((t,e=0,r=t.byteLength-e)=>{if(!(0,rie.isArrayBuffer)(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return zv.Buffer.from(t,e,r)},"fromArrayBuffer"),oie=MN((t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?zv.Buffer.from(t,e):zv.Buffer.from(t)},"fromString")});var FN=g(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.fromBase64=void 0;var iie=da(),sie=/^[A-Za-z0-9+/]*={0,2}$/,aie=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!sie.exec(t))throw new TypeError("Invalid base64 string.");let e=(0,iie.fromString)(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};sh.fromBase64=aie});var Et=g((DHe,jN)=>{var ah=Object.defineProperty,cie=Object.getOwnPropertyDescriptor,die=Object.getOwnPropertyNames,lie=Object.prototype.hasOwnProperty,Vv=(t,e)=>ah(t,"name",{value:e,configurable:!0}),uie=(t,e)=>{for(var r in e)ah(t,r,{get:e[r],enumerable:!0})},pie=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of die(e))!lie.call(t,o)&&o!==r&&ah(t,o,{get:()=>e[o],enumerable:!(n=cie(e,o))||n.enumerable});return t},mie=t=>pie(ah({},"__esModule",{value:!0}),t),BN={};uie(BN,{fromUtf8:()=>HN,toUint8Array:()=>hie,toUtf8:()=>fie});jN.exports=mie(BN);var qN=da(),HN=Vv(t=>{let e=(0,qN.fromString)(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),hie=Vv(t=>typeof t=="string"?HN(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),"toUint8Array"),fie=Vv(t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,qN.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("utf8")},"toUtf8")});var GN=g(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.toBase64=void 0;var gie=da(),yie=Et(),_ie=t=>{let e;if(typeof t=="string"?e=(0,yie.fromUtf8)(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,gie.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("base64")};ch.toBase64=_ie});var Mn=g((MHe,dh)=>{var $N=Object.defineProperty,vie=Object.getOwnPropertyDescriptor,Eie=Object.getOwnPropertyNames,Cie=Object.prototype.hasOwnProperty,Kv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Eie(e))!Cie.call(t,o)&&o!==r&&$N(t,o,{get:()=>e[o],enumerable:!(n=vie(e,o))||n.enumerable});return t},zN=(t,e,r)=>(Kv(t,e,"default"),r&&Kv(r,e,"default")),Sie=t=>Kv($N({},"__esModule",{value:!0}),t),Wv={};dh.exports=Sie(Wv);zN(Wv,FN(),dh.exports);zN(Wv,GN(),dh.exports)});var VN=g(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.getAwsChunkedEncodingStream=void 0;var Tie=require("stream"),Aie=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:i,streamHasher:s}=e,a=r!==void 0&&o!==void 0&&i!==void 0&&s!==void 0,c=a?s(o,t):void 0,d=new Tie.Readable({read:()=>{}});return t.on("data",u=>{let m=n(u)||0;d.push(`${m.toString(16)}\r
`),d.push(u),d.push(`\r
`)}),t.on("end",async()=>{if(d.push(`0\r
`),a){let u=r(await c);d.push(`${i}:${u}\r
`),d.push(`\r
`)}d.push(null)}),d};lh.getAwsChunkedEncodingStream=Aie});var Yv=g((UHe,QN)=>{var uh=Object.defineProperty,Iie=Object.getOwnPropertyDescriptor,bie=Object.getOwnPropertyNames,Rie=Object.prototype.hasOwnProperty,Qv=(t,e)=>uh(t,"name",{value:e,configurable:!0}),wie=(t,e)=>{for(var r in e)uh(t,r,{get:e[r],enumerable:!0})},Pie=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of bie(e))!Rie.call(t,o)&&o!==r&&uh(t,o,{get:()=>e[o],enumerable:!(n=Iie(e,o))||n.enumerable});return t},Oie=t=>Pie(uh({},"__esModule",{value:!0}),t),KN={};wie(KN,{escapeUri:()=>WN,escapeUriPath:()=>Nie});QN.exports=Oie(KN);var WN=Qv(t=>encodeURIComponent(t).replace(/[!'()*]/g,xie),"escapeUri"),xie=Qv(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),Nie=Qv(t=>t.split("/").map(WN).join("/"),"escapeUriPath")});var Xv=g((FHe,XN)=>{var ph=Object.defineProperty,Die=Object.getOwnPropertyDescriptor,kie=Object.getOwnPropertyNames,Mie=Object.prototype.hasOwnProperty,Lie=(t,e)=>ph(t,"name",{value:e,configurable:!0}),Uie=(t,e)=>{for(var r in e)ph(t,r,{get:e[r],enumerable:!0})},Fie=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of kie(e))!Mie.call(t,o)&&o!==r&&ph(t,o,{get:()=>e[o],enumerable:!(n=Die(e,o))||n.enumerable});return t},Bie=t=>Fie(ph({},"__esModule",{value:!0}),t),YN={};Uie(YN,{buildQueryString:()=>JN});XN.exports=Bie(YN);var Jv=Yv();function JN(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=(0,Jv.escapeUri)(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)e.push(`${r}=${(0,Jv.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Jv.escapeUri)(n)}`),e.push(o)}}return e.join("&")}Lie(JN,"buildQueryString")});var No=g((jHe,yD)=>{var qie=Object.create,Fd=Object.defineProperty,Hie=Object.getOwnPropertyDescriptor,jie=Object.getOwnPropertyNames,Gie=Object.getPrototypeOf,$ie=Object.prototype.hasOwnProperty,Ie=(t,e)=>Fd(t,"name",{value:e,configurable:!0}),zie=(t,e)=>{for(var r in e)Fd(t,r,{get:e[r],enumerable:!0})},nD=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of jie(e))!$ie.call(t,o)&&o!==r&&Fd(t,o,{get:()=>e[o],enumerable:!(n=Hie(e,o))||n.enumerable});return t},Vie=(t,e,r)=>(r=t!=null?qie(Gie(t)):{},nD(e||!t||!t.__esModule?Fd(r,"default",{value:t,enumerable:!0}):r,t)),Kie=t=>nD(Fd({},"__esModule",{value:!0}),t),oD={};zie(oD,{DEFAULT_REQUEST_TIMEOUT:()=>Zie,NodeHttp2Handler:()=>ose,NodeHttpHandler:()=>ese,streamCollector:()=>sse});yD.exports=Kie(oD);var iD=De(),sD=Xv(),Zv=require("http"),eE=require("https"),Wie=["ECONNRESET","EPIPE","ETIMEDOUT"],aD=Ie(t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e},"getTransformedHeaders"),ZN=1e3,Qie=Ie((t,e,r=0)=>{if(!r)return-1;let n=Ie(o=>{let i=setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),s=Ie(a=>{a?.connecting?a.on("connect",()=>{clearTimeout(i)}):clearTimeout(i)},"doWithSocket");t.socket?s(t.socket):t.on("socket",s)},"registerTimeout");return r<2e3?(n(0),0):setTimeout(n.bind(null,ZN),ZN)},"setConnectionTimeout"),Yie=3e3,Jie=Ie((t,{keepAlive:e,keepAliveMsecs:r},n=Yie)=>{if(e!==!0)return-1;let o=Ie(()=>{t.socket?t.socket.setKeepAlive(e,r||0):t.on("socket",i=>{i.setKeepAlive(e,r||0)})},"registerListener");return n===0?(o(),0):setTimeout(o,n)},"setSocketKeepAlive"),eD=3e3,Xie=Ie((t,e,r=0)=>{let n=Ie(o=>{t.setTimeout(r-o,()=>{t.destroy(),e(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"registerTimeout");return 0<r&&r<6e3?(n(0),0):setTimeout(n.bind(null,r===0?0:eD),eD)},"setSocketTimeout"),cD=require("stream"),tD=1e3;async function rE(t,e,r=tD){let n=e.headers??{},o=n.Expect||n.expect,i=-1,s=!1;o==="100-continue"&&await Promise.race([new Promise(a=>{i=Number(setTimeout(a,Math.max(tD,r)))}),new Promise(a=>{t.on("continue",()=>{clearTimeout(i),a()}),t.on("error",()=>{s=!0,clearTimeout(i),a()})})]),s||dD(t,e.body)}Ie(rE,"writeRequestBody");function dD(t,e){if(e instanceof cD.Readable){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}Ie(dD,"writeBody");var Zie=0,lD=class tE{constructor(e){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(e))})}static create(e){return typeof e?.handle=="function"?e:new tE(e)}static checkSocketUsage(e,r,n=console){var o,i,s;let{sockets:a,requests:c,maxSockets:d}=e;if(typeof d!="number"||d===1/0||Date.now()-15e3<r)return r;if(a&&c)for(let m in a){let f=((o=a[m])==null?void 0:o.length)??0,h=((i=c[m])==null?void 0:i.length)??0;if(f>=d&&h>=2*d)return(s=n?.warn)==null||s.call(n,`@smithy/node-http-handler:WARN - socket usage at capacity=${f} and ${h} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:i,httpsAgent:s}=e||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:i instanceof Zv.Agent||typeof i?.destroy=="function"?i:new Zv.Agent({keepAlive:a,maxSockets:c,...i}),httpsAgent:s instanceof eE.Agent||typeof s?.destroy=="function"?s:new eE.Agent({keepAlive:a,maxSockets:c,...s}),logger:console}}destroy(){var e,r,n,o;(r=(e=this.config)==null?void 0:e.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(e,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,o)=>{let i,s=[],a=Ie(async x=>{await i,s.forEach(clearTimeout),n(x)},"resolve"),c=Ie(async x=>{await i,s.forEach(clearTimeout),o(x)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let x=new Error("Request aborted");x.name="AbortError",c(x);return}let d=e.protocol==="https:",u=d?this.config.httpsAgent:this.config.httpAgent;s.push(setTimeout(()=>{this.socketWarningTimestamp=tE.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let m=(0,sD.buildQueryString)(e.query||{}),f;if(e.username!=null||e.password!=null){let x=e.username??"",K=e.password??"";f=`${x}:${K}`}let h=e.path;m&&(h+=`?${m}`),e.fragment&&(h+=`#${e.fragment}`);let y={headers:e.headers,host:e.hostname,method:e.method,path:h,port:e.port,agent:u,auth:f},I=(d?eE.request:Zv.request)(y,x=>{let K=new iD.HttpResponse({statusCode:x.statusCode||-1,reason:x.statusMessage,headers:aD(x.headers),body:x});a({response:K})});if(I.on("error",x=>{Wie.includes(x.code)?c(Object.assign(x,{name:"TimeoutError"})):c(x)}),r){let x=Ie(()=>{I.destroy();let K=new Error("Request aborted");K.name="AbortError",c(K)},"onAbort");if(typeof r.addEventListener=="function"){let K=r;K.addEventListener("abort",x,{once:!0}),I.once("close",()=>K.removeEventListener("abort",x))}else r.onabort=x}s.push(Qie(I,c,this.config.connectionTimeout)),s.push(Xie(I,c,this.config.requestTimeout));let w=y.agent;typeof w=="object"&&"keepAlive"in w&&s.push(Jie(I,{keepAlive:w.keepAlive,keepAliveMsecs:w.keepAliveMsecs})),i=rE(I,e,this.config.requestTimeout).catch(x=>(s.forEach(clearTimeout),o(x)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}};Ie(lD,"NodeHttpHandler");var ese=lD,rD=require("http2"),tse=Vie(require("http2")),uD=class{constructor(e){this.sessions=[],this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(r=>r!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let r of this.sessions)r===e&&(r.destroyed||r.destroy())}};Ie(uD,"NodeHttp2ConnectionPool");var rse=uD,pD=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(e,r){let n=this.getUrlString(e),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let i=tse.default.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),i.unref();let s=Ie(()=>{i.destroy(),this.deleteSession(n,i)},"destroySessionCb");i.on("goaway",s),i.on("error",s),i.on("frameError",s),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,s);let a=this.sessionCache.get(n)||new rse;return a.offerLast(i),this.sessionCache.set(n,a),i}deleteSession(e,r){let n=this.sessionCache.get(e);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(e,n))}release(e,r){var n;let o=this.getUrlString(e);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[e,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}};Ie(pD,"NodeHttp2ConnectionManager");var nse=pD,mD=class hD{constructor(e){this.metadata={handlerProtocol:"h2"},this.connectionManager=new nse({}),this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(o=>{r(o||{})}).catch(n):r(e||{})})}static create(e){return typeof e?.handle=="function"?e:new hD(e)}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((i,s)=>{var a;let c=!1,d,u=Ie(async Ee=>{await d,i(Ee)},"resolve"),m=Ie(async Ee=>{await d,s(Ee)},"reject");if(r?.aborted){c=!0;let Ee=new Error("Request aborted");Ee.name="AbortError",m(Ee);return}let{hostname:f,method:h,port:y,protocol:E,query:I}=e,w="";if(e.username!=null||e.password!=null){let Ee=e.username??"",Ht=e.password??"";w=`${Ee}:${Ht}@`}let x=`${E}//${w}${f}${y?`:${y}`:""}`,K={destination:new URL(x)},W=this.connectionManager.lease(K,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:o||!1}),le=Ie(Ee=>{o&&this.destroySession(W),c=!0,m(Ee)},"rejectWithDestroy"),et=(0,sD.buildQueryString)(I||{}),Nr=e.path;et&&(Nr+=`?${et}`),e.fragment&&(Nr+=`#${e.fragment}`);let Tt=W.request({...e.headers,[rD.constants.HTTP2_HEADER_PATH]:Nr,[rD.constants.HTTP2_HEADER_METHOD]:h});if(W.ref(),Tt.on("response",Ee=>{let Ht=new iD.HttpResponse({statusCode:Ee[":status"]||-1,headers:aD(Ee),body:Tt});c=!0,u({response:Ht}),o&&(W.close(),this.connectionManager.deleteSession(x,W))}),n&&Tt.setTimeout(n,()=>{Tt.close();let Ee=new Error(`Stream timed out because of no activity for ${n} ms`);Ee.name="TimeoutError",le(Ee)}),r){let Ee=Ie(()=>{Tt.close();let Ht=new Error("Request aborted");Ht.name="AbortError",le(Ht)},"onAbort");if(typeof r.addEventListener=="function"){let Ht=r;Ht.addEventListener("abort",Ee,{once:!0}),Tt.once("close",()=>Ht.removeEventListener("abort",Ee))}else r.onabort=Ee}Tt.on("frameError",(Ee,Ht,cs)=>{le(new Error(`Frame type id ${Ee} in stream id ${cs} has failed with code ${Ht}.`))}),Tt.on("error",le),Tt.on("aborted",()=>{le(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Tt.rstCode}.`))}),Tt.on("close",()=>{W.unref(),o&&W.destroy(),c||le(new Error("Unexpected error: http2 request did not get a response"))}),d=rE(Tt,e,n)})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}};Ie(mD,"NodeHttp2Handler");var ose=mD,fD=class extends cD.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,r,n){this.bufferedBytes.push(e),n()}};Ie(fD,"Collector");var ise=fD,sse=Ie(t=>ase(t)?gD(t):new Promise((e,r)=>{let n=new ise;t.pipe(n),t.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));e(o)})}),"streamCollector"),ase=Ie(t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,"isReadableStreamInstance");async function gD(t){let e=[],r=t.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),o+=c.length),n=a}let i=new Uint8Array(o),s=0;for(let a of e)i.set(a,s),s+=a.length;return i}Ie(gD,"collectReadableStream")});var RD=g((GHe,bD)=>{var hh=Object.defineProperty,cse=Object.getOwnPropertyDescriptor,dse=Object.getOwnPropertyNames,lse=Object.prototype.hasOwnProperty,Ln=(t,e)=>hh(t,"name",{value:e,configurable:!0}),use=(t,e)=>{for(var r in e)hh(t,r,{get:e[r],enumerable:!0})},pse=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of dse(e))!lse.call(t,o)&&o!==r&&hh(t,o,{get:()=>e[o],enumerable:!(n=cse(e,o))||n.enumerable});return t},mse=t=>pse(hh({},"__esModule",{value:!0}),t),vD={};use(vD,{FetchHttpHandler:()=>fse,keepAliveSupport:()=>mh,streamCollector:()=>yse});bD.exports=mse(vD);var _D=De(),hse=Xv();function ED(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{let n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}Ln(ED,"requestTimeout");var mh={supported:void 0},CD=class SD{static create(e){return typeof e?.handle=="function"?e:new SD(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),mh.supported===void 0&&(mh.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n=this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let s=e.path,a=(0,hse.buildQueryString)(e.query||{});a&&(s+=`?${a}`),e.fragment&&(s+=`#${e.fragment}`);let c="";if(e.username!=null||e.password!=null){let w=e.username??"",x=e.password??"";c=`${w}:${x}@`}let{port:d,method:u}=e,m=`${e.protocol}//${c}${e.hostname}${d?`:${d}`:""}${s}`,f=u==="GET"||u==="HEAD"?void 0:e.body,h={body:f,headers:new Headers(e.headers),method:u,credentials:i,cache:this.config.cache??"default"};f&&(h.duplex="half"),typeof AbortController<"u"&&(h.signal=r),mh.supported&&(h.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(h,this.config.requestInit(e));let y=Ln(()=>{},"removeSignalEventListener"),E=new Request(m,h),I=[fetch(E).then(w=>{let x=w.headers,K={};for(let le of x.entries())K[le[0]]=le[1];return w.body!=null?{response:new _D.HttpResponse({headers:K,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(le=>({response:new _D.HttpResponse({headers:K,reason:w.statusText,statusCode:w.status,body:le})}))}),ED(n)];return r&&I.push(new Promise((w,x)=>{let K=Ln(()=>{let W=new Error("Request aborted");W.name="AbortError",x(W)},"onAbort");if(typeof r.addEventListener=="function"){let W=r;W.addEventListener("abort",K,{once:!0}),y=Ln(()=>W.removeEventListener("abort",K),"removeSignalEventListener")}else r.onabort=K})),Promise.race(I).finally(y)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}};Ln(CD,"FetchHttpHandler");var fse=CD,gse=Mn(),yse=Ln(t=>typeof Blob=="function"&&t instanceof Blob?TD(t):AD(t),"streamCollector");async function TD(t){let e=await ID(t),r=(0,gse.fromBase64)(e);return new Uint8Array(r)}Ln(TD,"collectBlob");async function AD(t){let e=[],r=t.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),o+=c.length),n=a}let i=new Uint8Array(o),s=0;for(let a of e)i.set(a,s),s+=a.length;return i}Ln(AD,"collectStream");function ID(t){return new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",i=o.indexOf(","),s=i>-1?i+1:o.length;e(o.substring(s))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}Ln(ID,"readToBase64")});var gh=g(($He,DD)=>{var fh=Object.defineProperty,_se=Object.getOwnPropertyDescriptor,vse=Object.getOwnPropertyNames,Ese=Object.prototype.hasOwnProperty,wD=(t,e)=>fh(t,"name",{value:e,configurable:!0}),Cse=(t,e)=>{for(var r in e)fh(t,r,{get:e[r],enumerable:!0})},Sse=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of vse(e))!Ese.call(t,o)&&o!==r&&fh(t,o,{get:()=>e[o],enumerable:!(n=_se(e,o))||n.enumerable});return t},Tse=t=>Sse(fh({},"__esModule",{value:!0}),t),PD={};Cse(PD,{fromHex:()=>xD,toHex:()=>ND});DD.exports=Tse(PD);var OD={},nE={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),OD[t]=e,nE[e]=t}function xD(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in nE)e[r/2]=nE[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}wD(xD,"fromHex");function ND(t){let e="";for(let r=0;r<t.byteLength;r++)e+=OD[t[r]];return e}wD(ND,"toHex")});var Bd=g(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.isReadableStream=void 0;var Ase=t=>{var e;return typeof ReadableStream=="function"&&(((e=t?.constructor)===null||e===void 0?void 0:e.name)===ReadableStream.name||t instanceof ReadableStream)};yh.isReadableStream=Ase});var UD=g(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.sdkStreamMixin=void 0;var Ise=RD(),bse=Mn(),Rse=gh(),wse=Et(),kD=Bd(),MD="The stream has already been transformed.",Pse=t=>{var e,r;if(!LD(t)&&!(0,kD.isReadableStream)(t)){let s=((r=(e=t?.__proto__)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let n=!1,o=async()=>{if(n)throw new Error(MD);return n=!0,await(0,Ise.streamCollector)(t)},i=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(t,{transformToByteArray:o,transformToString:async s=>{let a=await o();if(s==="base64")return(0,bse.toBase64)(a);if(s==="hex")return(0,Rse.toHex)(a);if(s===void 0||s==="utf8"||s==="utf-8")return(0,wse.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(MD);if(n=!0,LD(t))return i(t);if((0,kD.isReadableStream)(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})};_h.sdkStreamMixin=Pse;var LD=t=>typeof Blob=="function"&&t instanceof Blob});var BD=g(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.sdkStreamMixin=void 0;var Ose=No(),xse=da(),oE=require("stream"),Nse=require("util"),Dse=UD(),FD="The stream has already been transformed.",kse=t=>{var e,r;if(!(t instanceof oE.Readable))try{return(0,Dse.sdkStreamMixin)(t)}catch{let s=((r=(e=t?.__proto__)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let n=!1,o=async()=>{if(n)throw new Error(FD);return n=!0,await(0,Ose.streamCollector)(t)};return Object.assign(t,{transformToByteArray:o,transformToString:async i=>{let s=await o();return i===void 0||Buffer.isEncoding(i)?(0,xse.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(i):new Nse.TextDecoder(i).decode(s)},transformToWebStream:()=>{if(n)throw new Error(FD);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof oE.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,oE.Readable.toWeb(t)}})};vh.sdkStreamMixin=kse});var qD=g(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.splitStream=void 0;async function Mse(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}Eh.splitStream=Mse});var jD=g(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.splitStream=void 0;var HD=require("stream"),Lse=qD(),Use=Bd();async function Fse(t){if((0,Use.isReadableStream)(t))return(0,Lse.splitStream)(t);let e=new HD.PassThrough,r=new HD.PassThrough;return t.pipe(e),t.pipe(r),[e,r]}Ch.splitStream=Fse});var GD=g(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.headStream=void 0;async function Bse(t,e){var r;let n=0,o=[],i=t.getReader(),s=!1;for(;!s;){let{done:d,value:u}=await i.read();if(u&&(o.push(u),n+=(r=u?.byteLength)!==null&&r!==void 0?r:0),n>=e)break;s=d}i.releaseLock();let a=new Uint8Array(Math.min(e,n)),c=0;for(let d of o){if(d.byteLength>a.byteLength-c){a.set(d.subarray(0,a.byteLength-c),c);break}else a.set(d,c);c+=d.length}return a}Sh.headStream=Bse});var $D=g(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.headStream=void 0;var qse=require("stream"),Hse=GD(),jse=Bd(),Gse=(t,e)=>(0,jse.isReadableStream)(t)?(0,Hse.headStream)(t,e):new Promise((r,n)=>{let o=new iE;o.limit=e,t.pipe(o),t.on("error",i=>{o.end(),n(i)}),o.on("error",n),o.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});Th.headStream=Gse;var iE=class extends qse.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(e,r,n){var o;if(this.buffers.push(e),this.bytesBuffered+=(o=e.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-i),this.emit("finish")}n()}}});var dE=g((XHe,es)=>{var Ah=Object.defineProperty,$se=Object.getOwnPropertyDescriptor,zse=Object.getOwnPropertyNames,Vse=Object.prototype.hasOwnProperty,cE=(t,e)=>Ah(t,"name",{value:e,configurable:!0}),Kse=(t,e)=>{for(var r in e)Ah(t,r,{get:e[r],enumerable:!0})},sE=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of zse(e))!Vse.call(t,o)&&o!==r&&Ah(t,o,{get:()=>e[o],enumerable:!(n=$se(e,o))||n.enumerable});return t},qd=(t,e,r)=>(sE(t,e,"default"),r&&sE(r,e,"default")),Wse=t=>sE(Ah({},"__esModule",{value:!0}),t),Zi={};Kse(Zi,{Uint8ArrayBlobAdapter:()=>aE});es.exports=Wse(Zi);var zD=Mn(),VD=Et();function KD(t,e="utf-8"){return e==="base64"?(0,zD.toBase64)(t):(0,VD.toUtf8)(t)}cE(KD,"transformToString");function WD(t,e){return e==="base64"?aE.mutate((0,zD.fromBase64)(t)):aE.mutate((0,VD.fromUtf8)(t))}cE(WD,"transformFromString");var QD=class YD extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return WD(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,YD.prototype),e}transformToString(e="utf-8"){return KD(this,e)}};cE(QD,"Uint8ArrayBlobAdapter");var aE=QD;qd(Zi,VN(),es.exports);qd(Zi,BD(),es.exports);qd(Zi,jD(),es.exports);qd(Zi,$D(),es.exports);qd(Zi,Bd(),es.exports)});var fe=g((nje,Ek)=>{var Ph=Object.defineProperty,Qse=Object.getOwnPropertyDescriptor,Yse=Object.getOwnPropertyNames,Jse=Object.prototype.hasOwnProperty,N=(t,e)=>Ph(t,"name",{value:e,configurable:!0}),Xse=(t,e)=>{for(var r in e)Ph(t,r,{get:e[r],enumerable:!0})},Zse=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Yse(e))!Jse.call(t,o)&&o!==r&&Ph(t,o,{get:()=>e[o],enumerable:!(n=Qse(e,o))||n.enumerable});return t},eae=t=>Zse(Ph({},"__esModule",{value:!0}),t),XD={};Xse(XD,{Client:()=>rae,Command:()=>nk,LazyJsonString:()=>Xae,NoOpLogger:()=>tae,SENSITIVE_STRING:()=>iae,ServiceException:()=>qae,StringWrapper:()=>zd,_json:()=>gE,collectBody:()=>nae,convertMap:()=>Zae,createAggregatedClient:()=>sae,dateToUtcString:()=>lk,decorateServiceException:()=>mk,emitWarningIfUnsupportedVersion:()=>$ae,expectBoolean:()=>cae,expectByte:()=>fE,expectFloat32:()=>bh,expectInt:()=>lae,expectInt32:()=>mE,expectLong:()=>Gd,expectNonNull:()=>pae,expectNumber:()=>jd,expectObject:()=>ik,expectShort:()=>hE,expectString:()=>mae,expectUnion:()=>hae,extendedEncodeURIComponent:()=>wh,getArrayIfSingleItem:()=>Jae,getDefaultClientConfiguration:()=>Qae,getDefaultExtensionConfiguration:()=>fk,getValueFromTextNode:()=>gk,handleFloat:()=>yae,limitedParseDouble:()=>vE,limitedParseFloat:()=>_ae,limitedParseFloat32:()=>vae,loadConfigsForDefaultMode:()=>Gae,logger:()=>$d,map:()=>CE,parseBoolean:()=>aae,parseEpochTimestamp:()=>xae,parseRfc3339DateTime:()=>Aae,parseRfc3339DateTimeWithOffset:()=>bae,parseRfc7231DateTime:()=>Oae,resolveDefaultRuntimeConfig:()=>Yae,resolvedPath:()=>oce,serializeDateTime:()=>sce,serializeFloat:()=>ice,splitEvery:()=>vk,strictParseByte:()=>dk,strictParseDouble:()=>_E,strictParseFloat:()=>fae,strictParseFloat32:()=>sk,strictParseInt:()=>Eae,strictParseInt32:()=>Cae,strictParseLong:()=>ck,strictParseShort:()=>la,take:()=>ece,throwDefaultError:()=>hk,withBaseException:()=>Hae});Ek.exports=eae(XD);var ZD=class{trace(){}debug(){}info(){}warn(){}error(){}};N(ZD,"NoOpLogger");var tae=ZD,ek=NN(),tk=class{constructor(e){this.config=e,this.middlewareStack=(0,ek.constructStack)()}send(e,r,n){let o=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,s=o===void 0&&this.config.cacheMiddleware===!0,a;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,o),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,o);if(i)a(e).then(c=>i(null,c.output),c=>i(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){var e,r,n;(n=(r=(e=this.config)==null?void 0:e.requestHandler)==null?void 0:r.destroy)==null||n.call(r),delete this.handlers}};N(tk,"Client");var rae=tk,lE=dE(),nae=N(async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return lE.Uint8ArrayBlobAdapter.mutate(t);if(!t)return lE.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=e.streamCollector(t);return lE.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),pE=en(),rk=class{constructor(){this.middlewareStack=(0,ek.constructStack)()}static classBuilder(){return new oae}resolveMiddlewareWithContext(e,r,n,{middlewareFn:o,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:u,CommandCtor:m}){for(let I of o.bind(this)(m,e,r,n))this.middlewareStack.use(I);let f=e.concat(this.middlewareStack),{logger:h}=r,y={logger:h,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[pE.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...u},{requestHandler:E}=r;return f.resolve(I=>E.handle(I.request,n||{}),y)}};N(rk,"Command");var nk=rk,ok=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){var e;let r=this,n;return n=(e=class extends nk{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,i,s){return this.resolveMiddlewareWithContext(o,i,s,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},N(e,"CommandRef"),e)}};N(ok,"ClassBuilder");var oae=ok,iae="***SensitiveInformation***",sae=N((t,e)=>{for(let r of Object.keys(t)){let n=t[r],o=N(async function(s,a,c){let d=new n(s);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[i]=o}},"createAggregatedClient"),aae=N(t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},"parseBoolean"),cae=N(t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&$d.warn(Rh(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){let e=t.toLowerCase();if((e==="false"||e==="true")&&$d.warn(Rh(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}},"expectBoolean"),jd=N(t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&$d.warn(Rh(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},"expectNumber"),dae=Math.ceil(2**127*(2-2**-23)),bh=N(t=>{let e=jd(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>dae)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},"expectFloat32"),Gd=N(t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},"expectLong"),lae=Gd,mE=N(t=>yE(t,32),"expectInt32"),hE=N(t=>yE(t,16),"expectShort"),fE=N(t=>yE(t,8),"expectByte"),yE=N((t,e)=>{let r=Gd(t);if(r!==void 0&&uae(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},"expectSizedInt"),uae=N((t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},"castInt"),pae=N((t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},"expectNonNull"),ik=N(t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},"expectObject"),mae=N(t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return $d.warn(Rh(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},"expectString"),hae=N(t=>{if(t==null)return;let e=ik(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e},"expectUnion"),_E=N(t=>jd(typeof t=="string"?pa(t):t),"strictParseDouble"),fae=_E,sk=N(t=>bh(typeof t=="string"?pa(t):t),"strictParseFloat32"),gae=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,pa=N(t=>{let e=t.match(gae);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},"parseNumber"),vE=N(t=>typeof t=="string"?ak(t):jd(t),"limitedParseDouble"),yae=vE,_ae=vE,vae=N(t=>typeof t=="string"?ak(t):bh(t),"limitedParseFloat32"),ak=N(t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},"parseFloatString"),ck=N(t=>Gd(typeof t=="string"?pa(t):t),"strictParseLong"),Eae=ck,Cae=N(t=>mE(typeof t=="string"?pa(t):t),"strictParseInt32"),la=N(t=>hE(typeof t=="string"?pa(t):t),"strictParseShort"),dk=N(t=>fE(typeof t=="string"?pa(t):t),"strictParseByte"),Rh=N(t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),$d={warn:console.warn},Sae=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],EE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function lk(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),o=t.getUTCDate(),i=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,u=s<10?`0${s}`:`${s}`,m=a<10?`0${a}`:`${a}`;return`${Sae[n]}, ${c} ${EE[r]} ${e} ${d}:${u}:${m} GMT`}N(lk,"dateToUtcString");var Tae=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Aae=N(t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Tae.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,d]=e,u=la(ua(n)),m=nn(o,"month",1,12),f=nn(i,"day",1,31);return Hd(u,m,f,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),Iae=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),bae=N(t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Iae.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,d,u]=e,m=la(ua(n)),f=nn(o,"month",1,12),h=nn(i,"day",1,31),y=Hd(m,f,h,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:d});return u.toUpperCase()!="Z"&&y.setTime(y.getTime()-Bae(u)),y},"parseRfc3339DateTimeWithOffset"),Rae=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),wae=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Pae=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Oae=N(t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=Rae.exec(t);if(e){let[r,n,o,i,s,a,c,d]=e;return Hd(la(ua(i)),uE(o),nn(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:d})}if(e=wae.exec(t),e){let[r,n,o,i,s,a,c,d]=e;return kae(Hd(Nae(i),uE(o),nn(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(e=Pae.exec(t),e){let[r,n,o,i,s,a,c,d]=e;return Hd(la(ua(d)),uE(n),nn(o.trimLeft(),"day",1,31),{hours:i,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),xae=N(t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=_E(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},"parseEpochTimestamp"),Hd=N((t,e,r,n)=>{let o=e-1;return Lae(t,o,r),new Date(Date.UTC(t,o,r,nn(n.hours,"hour",0,23),nn(n.minutes,"minute",0,59),nn(n.seconds,"seconds",0,60),Fae(n.fractionalMilliseconds)))},"buildDate"),Nae=N(t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+la(ua(t));return r<e?r+100:r},"parseTwoDigitYear"),Dae=50*365*24*60*60*1e3,kae=N(t=>t.getTime()-new Date().getTime()>Dae?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,"adjustRfc850Year"),uE=N(t=>{let e=EE.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},"parseMonthByShortName"),Mae=[31,28,31,30,31,30,31,31,30,31,30,31],Lae=N((t,e,r)=>{let n=Mae[e];if(e===1&&Uae(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${EE[e]} in ${t}: ${r}`)},"validateDayOfMonth"),Uae=N(t=>t%4===0&&(t%100!==0||t%400===0),"isLeapYear"),nn=N((t,e,r,n)=>{let o=dk(ua(t));if(o<r||o>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),Fae=N(t=>t==null?0:sk("0."+t)*1e3,"parseMilliseconds"),Bae=N(t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),o=Number(t.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),ua=N(t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)},"stripLeadingZeroes"),uk=class pk extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,pk.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}};N(uk,"ServiceException");var qae=uk,mk=N((t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(t[n]==null||t[n]==="")&&(t[n]=o)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},"decorateServiceException"),hk=N(({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let o=jae(t),i=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:e?.code||e?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw mk(s,e)},"throwDefaultError"),Hae=N(t=>({output:e,parsedBody:r,errorCode:n})=>{hk({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},"withBaseException"),jae=N(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),Gae=N(t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),JD=!1,$ae=N(t=>{t&&!JD&&parseInt(t.substring(1,t.indexOf(".")))<16&&(JD=!0)},"emitWarningIfUnsupportedVersion"),zae=N(t=>{let e=[];for(let r in pE.AlgorithmId){let n=pE.AlgorithmId[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),Vae=N(t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},"resolveChecksumRuntimeConfig"),Kae=N(t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}},"getRetryConfiguration"),Wae=N(t=>{let e={};return e.retryStrategy=t.retryStrategy(),e},"resolveRetryRuntimeConfig"),fk=N(t=>({...zae(t),...Kae(t)}),"getDefaultExtensionConfiguration"),Qae=fk,Yae=N(t=>({...Vae(t),...Wae(t)}),"resolveDefaultRuntimeConfig");function wh(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}N(wh,"extendedEncodeURIComponent");var Jae=N(t=>Array.isArray(t)?t:[t],"getArrayIfSingleItem"),gk=N(t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=gk(t[r]));return t},"getValueFromTextNode"),zd=N(function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r},"StringWrapper");zd.prototype=Object.create(String.prototype,{constructor:{value:zd,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(zd,String);var yk=class Ih extends zd{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(e){return e instanceof Ih?e:e instanceof String||typeof e=="string"?new Ih(e):new Ih(JSON.stringify(e))}};N(yk,"LazyJsonString");var Xae=yk;function CE(t,e,r){let n,o,i;if(typeof e>"u"&&typeof r>"u")n={},i=t;else{if(n=t,typeof e=="function")return o=e,i=r,tce(n,o,i);i=e}for(let s of Object.keys(i)){if(!Array.isArray(i[s])){n[s]=i[s];continue}_k(n,null,i,s)}return n}N(CE,"map");var Zae=N(t=>{let e={};for(let[r,n]of Object.entries(t||{}))e[r]=[,n];return e},"convertMap"),ece=N((t,e)=>{let r={};for(let n in e)_k(r,t,e,n);return r},"take"),tce=N((t,e,r)=>CE(t,Object.entries(r).reduce((n,[o,i])=>(Array.isArray(i)?n[o]=i:typeof i=="function"?n[o]=[e,i()]:n[o]=[e,i],n),{})),"mapWithFilter"),_k=N((t,e,r,n)=>{if(e!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[a=rce,c=nce,d=n]=s;(typeof a=="function"&&a(e[d])||typeof a!="function"&&a)&&(t[n]=c(e[d]));return}let[o,i]=r[n];if(typeof i=="function"){let s,a=o===void 0&&(s=i())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?t[n]=s:c&&(t[n]=i())}else{let s=o===void 0&&i!=null,a=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(s||a)&&(t[n]=i)}},"applyInstruction"),rce=N(t=>t!=null,"nonNullish"),nce=N(t=>t,"pass"),oce=N((t,e,r,n,o,i)=>{if(e!=null&&e[r]!==void 0){let s=n();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(o,i?s.split("/").map(a=>wh(a)).join("/"):wh(s))}else throw new Error("No value provided for input HTTP label: "+r+".");return t},"resolvedPath"),ice=N(t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}},"serializeFloat"),sce=N(t=>t.toISOString().replace(".000Z","Z"),"serializeDateTime"),gE=N(t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(gE);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=gE(t[r]));return e}return t},"_json");function vk(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let o=[],i="";for(let s=0;s<n.length;s++)i===""?i=n[s]:i+=e+n[s],(s+1)%r===0&&(o.push(i),i="");return i!==""&&o.push(i),o}N(vk,"splitEvery")});var Ck=g(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});Oh.isStreamingPayload=void 0;var ace=require("stream"),cce=t=>t?.body instanceof ace.Readable||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream;Oh.isStreamingPayload=cce});var _r=g((cje,Fk)=>{var xh=Object.defineProperty,dce=Object.getOwnPropertyDescriptor,lce=Object.getOwnPropertyNames,uce=Object.prototype.hasOwnProperty,st=(t,e)=>xh(t,"name",{value:e,configurable:!0}),pce=(t,e)=>{for(var r in e)xh(t,r,{get:e[r],enumerable:!0})},mce=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of lce(e))!uce.call(t,o)&&o!==r&&xh(t,o,{get:()=>e[o],enumerable:!(n=dce(e,o))||n.enumerable});return t},hce=t=>mce(xh({},"__esModule",{value:!0}),t),Tk={};pce(Tk,{AdaptiveRetryStrategy:()=>yce,CONFIG_MAX_ATTEMPTS:()=>TE,CONFIG_RETRY_MODE:()=>Nk,ENV_MAX_ATTEMPTS:()=>SE,ENV_RETRY_MODE:()=>xk,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>_ce,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>Ece,StandardRetryStrategy:()=>Pk,defaultDelayDecider:()=>Ik,defaultRetryDecider:()=>bk,getOmitRetryHeadersPlugin:()=>Cce,getRetryAfterHint:()=>Uk,getRetryPlugin:()=>Rce,omitRetryHeadersMiddleware:()=>Dk,omitRetryHeadersMiddlewareOptions:()=>kk,resolveRetryConfig:()=>vce,retryMiddleware:()=>Mk,retryMiddlewareOptions:()=>Lk});Fk.exports=hce(Tk);var ma=De(),Ak=(Uv(),M(Lv)),je=Ji(),fce=st((t,e)=>{let r=t,n=e?.noRetryIncrement??je.NO_RETRY_INCREMENT,o=e?.retryCost??je.RETRY_COST,i=e?.timeoutRetryCost??je.TIMEOUT_RETRY_COST,s=t,a=st(m=>m.name==="TimeoutError"?i:o,"getCapacityAmount"),c=st(m=>a(m)<=s,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:st(m=>{if(!c(m))throw new Error("No retry token available");let f=a(m);return s-=f,f},"retrieveRetryTokens"),releaseRetryTokens:st(m=>{s+=m??n,s=Math.min(s,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Ik=st((t,e)=>Math.floor(Math.min(je.MAXIMUM_RETRY_DELAY,Math.random()*2**e*t)),"defaultDelayDecider"),Do=Fv(),bk=st(t=>t?(0,Do.isRetryableByTrait)(t)||(0,Do.isClockSkewError)(t)||(0,Do.isThrottlingError)(t)||(0,Do.isTransientError)(t):!1,"defaultRetryDecider"),Rk=st(t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),"asSdkError"),wk=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode=je.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??bk,this.delayDecider=r?.delayDecider??Ik,this.retryQuota=r?.retryQuota??fce(je.INITIAL_RETRY_TOKENS)}shouldRetry(e,r,n){return r<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=je.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,r,n){let o,i=0,s=0,a=await this.getMaxAttempts(),{request:c}=r;for(ma.HttpRequest.isInstance(c)&&(c.headers[je.INVOCATION_ID_HEADER]=(0,Ak.v4)());;)try{ma.HttpRequest.isInstance(c)&&(c.headers[je.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:u}=await e(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),u.$metadata.attempts=i+1,u.$metadata.totalRetryDelay=s,{response:d,output:u}}catch(d){let u=Rk(d);if(i++,this.shouldRetry(u,i,a)){o=this.retryQuota.retrieveRetryTokens(u);let m=this.delayDecider((0,Do.isThrottlingError)(u)?je.THROTTLING_RETRY_DELAY_BASE:je.DEFAULT_RETRY_DELAY_BASE,i),f=gce(u.$response),h=Math.max(f||0,m);s+=h,await new Promise(y=>setTimeout(y,h));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=i,u.$metadata.totalRetryDelay=s,u}}};st(wk,"StandardRetryStrategy");var Pk=wk,gce=st(t=>{if(!ma.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),Ok=class extends Pk{constructor(e,r){let{rateLimiter:n,...o}=r??{};super(e,o),this.rateLimiter=n??new je.DefaultRateLimiter,this.mode=je.RETRY_MODES.ADAPTIVE}async retry(e,r){return super.retry(e,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};st(Ok,"AdaptiveRetryStrategy");var yce=Ok,Sk=hr(),SE="AWS_MAX_ATTEMPTS",TE="max_attempts",_ce={environmentVariableSelector:t=>{let e=t[SE];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${SE} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[TE];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${TE} mast be a number, got "${e}"`);return r},default:je.DEFAULT_MAX_ATTEMPTS},vce=st(t=>{let{retryStrategy:e}=t,r=(0,Sk.normalizeProvider)(t.maxAttempts??je.DEFAULT_MAX_ATTEMPTS);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await(0,Sk.normalizeProvider)(t.retryMode)()===je.RETRY_MODES.ADAPTIVE?new je.AdaptiveRetryStrategy(r):new je.StandardRetryStrategy(r))}},"resolveRetryConfig"),xk="AWS_RETRY_MODE",Nk="retry_mode",Ece={environmentVariableSelector:t=>t[xk],configFileSelector:t=>t[Nk],default:je.DEFAULT_RETRY_MODE},Dk=st(()=>t=>async e=>{let{request:r}=e;return ma.HttpRequest.isInstance(r)&&(delete r.headers[je.INVOCATION_ID_HEADER],delete r.headers[je.REQUEST_HEADER]),t(e)},"omitRetryHeadersMiddleware"),kk={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Cce=st(t=>({applyToStack:e=>{e.addRelativeTo(Dk(),kk)}}),"getOmitRetryHeadersPlugin"),Sce=fe(),Tce=Ck(),Mk=st(t=>(e,r)=>async n=>{var o;let i=await t.retryStrategy(),s=await t.maxAttempts();if(Ace(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),c=new Error,d=0,u=0,{request:m}=n,f=ma.HttpRequest.isInstance(m);for(f&&(m.headers[je.INVOCATION_ID_HEADER]=(0,Ak.v4)());;)try{f&&(m.headers[je.REQUEST_HEADER]=`attempt=${d+1}; max=${s}`);let{response:h,output:y}=await e(n);return i.recordSuccess(a),y.$metadata.attempts=d+1,y.$metadata.totalRetryDelay=u,{response:h,output:y}}catch(h){let y=Ice(h);if(c=Rk(h),f&&(0,Tce.isStreamingPayload)(m))throw(o=r.logger instanceof Sce.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await i.refreshRetryTokenForRetry(a,y)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=d+1,c.$metadata.totalRetryDelay=u,c}d=a.getRetryCount();let E=a.getRetryDelay();u+=E,await new Promise(I=>setTimeout(I,E))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)},"retryMiddleware"),Ace=st(t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u","isRetryStrategyV2"),Ice=st(t=>{let e={error:t,errorType:bce(t)},r=Uk(t.$response);return r&&(e.retryAfterHint=r),e},"getRetryErrorInfo"),bce=st(t=>(0,Do.isThrottlingError)(t)?"THROTTLING":(0,Do.isTransientError)(t)?"TRANSIENT":(0,Do.isServerError)(t)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Lk={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Rce=st(t=>({applyToStack:e=>{e.add(Mk(t),Lk)}}),"getRetryPlugin"),Uk=st(t=>{if(!ma.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Bk,qk,wce,Hk=v(()=>{Bk=ae(_r());wv();qk={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:Bk.retryMiddlewareOptions.name},wce=t=>({applyToStack:e=>{e.addRelativeTo(Rv(t),qk)}})});var jk=v(()=>{wv();Hk()});var AE,Gk=v(()=>{AE=class{constructor(e){this.authSchemes=new Map;for(let[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var $k,IE,bE,zk=v(()=>{$k=ae(De()),IE=ae(en()),bE=class{async sign(e,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=$k.HttpRequest.clone(e);if(n.in===IE.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===IE.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var Vk,RE,Kk=v(()=>{Vk=ae(De()),RE=class{async sign(e,r,n){let o=Vk.HttpRequest.clone(e);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var wE,Wk=v(()=>{wE=class{async sign(e,r,n){return e}}});var Qk=v(()=>{zk();Kk();Wk()});var Yk,Pce,PE,Nh,OE,Jk=v(()=>{Yk=t=>e=>Nh(e)&&e.expiration.getTime()-Date.now()<t,Pce=3e5,PE=Yk(3e5),Nh=t=>t.expiration!==void 0,OE=(t,e,r)=>{if(t===void 0)return;let n=typeof t!="function"?async()=>Promise.resolve(t):t,o,i,s,a=!1,c=async d=>{i||(i=n(d));try{o=await i,s=!0,a=!1}finally{i=void 0}return o};return e===void 0?async d=>((!s||d?.forceRefresh)&&(o=await c(d)),o):async d=>((!s||d?.forceRefresh)&&(o=await c(d)),a?o:r(o)?(e(o)&&await c(d),o):(a=!0,o))}});var Xk=v(()=>{Gk();Qk();Jk()});var xE,Oce,Zk=v(()=>{xE=ae(en()),Oce=t=>t[xE.SMITHY_CONTEXT_KEY]||(t[xE.SMITHY_CONTEXT_KEY]={})});var ko,eM=v(()=>{ko=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function xce(t,e){return new Dh(t,e)}var tM,rM,Dh,nM=v(()=>{tM=ae(De()),rM=ae(fe());Dh=class{constructor(e,r){this.input=e,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:e,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let i of this.resolvePathStack)i(this.path);return new tM.HttpRequest({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,o){return this.resolvePathStack.push(i=>{this.path=(0,rM.resolvedPath)(i,this.input,e,r,n,o)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}});function oM(t,e,r,n,o){return async function*(s,a,...c){let d=s.startingToken||void 0,u=!0,m;for(;u;){if(a[r]=d,o&&(a[o]=a[o]??s.pageSize),s.client instanceof t)m=await Nce(e,s.client,a,...c);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield m;let f=d;d=Dce(m,n),u=!!(d&&(!s.stopOnSameToken||d!==f))}return void 0}}var Nce,Dce,iM=v(()=>{Nce=async(t,e,r,...n)=>await e.send(new t(r),...n);Dce=(t,e)=>{let r=t,n=e.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var bt={};At(bt,{DefaultIdentityProviderConfig:()=>AE,EXPIRATION_MS:()=>Pce,HttpApiKeyAuthSigner:()=>bE,HttpBearerAuthSigner:()=>RE,NoAuthSigner:()=>wE,RequestBuilder:()=>Dh,createIsIdentityExpiredFunction:()=>Yk,createPaginator:()=>oM,doesIdentityRequireRefresh:()=>Nh,getHttpAuthSchemeEndpointRuleSetPlugin:()=>zne,getHttpAuthSchemePlugin:()=>Vne,getHttpSigningPlugin:()=>wce,getSmithyContext:()=>Oce,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>Nx,httpAuthSchemeMiddleware:()=>Pd,httpAuthSchemeMiddlewareOptions:()=>Mx,httpSigningMiddleware:()=>Rv,httpSigningMiddlewareOptions:()=>qk,isIdentityExpired:()=>PE,memoizeIdentityProvider:()=>OE,normalizeProvider:()=>ko,requestBuilder:()=>xce});var mt=v(()=>{Ux();jk();Xk();Zk();eM();nM();iM()});var ha=g((Fje,lM)=>{var kh=Object.defineProperty,kce=Object.getOwnPropertyDescriptor,Mce=Object.getOwnPropertyNames,Lce=Object.prototype.hasOwnProperty,aM=(t,e)=>kh(t,"name",{value:e,configurable:!0}),Uce=(t,e)=>{for(var r in e)kh(t,r,{get:e[r],enumerable:!0})},Fce=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Mce(e))!Lce.call(t,o)&&o!==r&&kh(t,o,{get:()=>e[o],enumerable:!(n=kce(e,o))||n.enumerable});return t},Bce=t=>Fce(kh({},"__esModule",{value:!0}),t),cM={};Uce(cM,{contentLengthMiddleware:()=>NE,contentLengthMiddlewareOptions:()=>dM,getContentLengthPlugin:()=>Hce});lM.exports=Bce(cM);var qce=De(),sM="content-length";function NE(t){return e=>async r=>{let n=r.request;if(qce.HttpRequest.isInstance(n)){let{body:o,headers:i}=n;if(o&&Object.keys(i).map(s=>s.toLowerCase()).indexOf(sM)===-1)try{let s=t(o);n.headers={...n.headers,[sM]:String(s)}}catch{}}return e({...r,request:n})}}aM(NE,"contentLengthMiddleware");var dM={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Hce=aM(t=>({applyToStack:e=>{e.add(NE(t.bodyLengthChecker),dM)}}),"getContentLengthPlugin")});var uM,jce,pM=v(()=>{uM=!1,jce=t=>{t&&!uM&&parseInt(t.substring(1,t.indexOf(".")))<18&&(uM=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});var mM=v(()=>{pM()});var hM,DE,fM=v(()=>{hM=ae(De()),DE=t=>hM.HttpResponse.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var fa,kE=v(()=>{fa=t=>new Date(Date.now()+t)});var gM,yM=v(()=>{kE();gM=(t,e)=>Math.abs(fa(e).getTime()-t)>=3e5});var ME,_M=v(()=>{yM();ME=(t,e)=>{let r=Date.parse(t);return gM(r,e)?r-Date.now():e}});var LE=v(()=>{fM();kE();_M()});var vM,Vd,Kd,ts,EM,UE=v(()=>{vM=ae(De());LE();Vd=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Kd=async t=>{let e=Vd("context",t.context),r=Vd("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],i=await Vd("signer",r.signer)(n),s=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:r,signer:i,signingRegion:s,signingRegionSet:a,signingName:c}},ts=class{async sign(e,r,n){if(!vM.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Kd(n),{config:i,signer:s}=o,{signingRegion:a,signingName:c}=o,d=n.context;if(d?.authSchemes?.length??!1){let[m,f]=d.authSchemes;m?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await s.sign(e,{signingDate:fa(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{let n=r.ServerTime??DE(r.$response);if(n){let o=Vd("config",e.config),i=o.systemClockOffset;o.systemClockOffset=ME(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let n=DE(e);if(n){let o=Vd("config",r.config);o.systemClockOffset=ME(n,o.systemClockOffset)}}},EM=ts});var CM,Mh,SM=v(()=>{CM=ae(De());LE();UE();Mh=class extends ts{async sign(e,r,n){if(!CM.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:i,signingRegion:s,signingRegionSet:a,signingName:c}=await Kd(n),u=(await o.sigv4aSigningRegionSet?.()??a??[s]).join(",");return await i.sign(e,{signingDate:fa(o.systemClockOffset),signingRegion:u,signingService:c})}}});var FE,Gce,$ce,TM=v(()=>{mt();FE=ae(Lt()),Gce=t=>(t.sigv4aSigningRegionSet=ko(t.sigv4aSigningRegionSet),t),$ce={environmentVariableSelector(t){if(t.AWS_SIGV4A_SIGNING_REGION_SET)return t.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new FE.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(t){if(t.sigv4a_signing_region_set)return(t.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new FE.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var $M=g((aGe,GM)=>{var qh=Object.defineProperty,zce=Object.getOwnPropertyDescriptor,Vce=Object.getOwnPropertyNames,Kce=Object.prototype.hasOwnProperty,ht=(t,e)=>qh(t,"name",{value:e,configurable:!0}),Wce=(t,e)=>{for(var r in e)qh(t,r,{get:e[r],enumerable:!0})},Qce=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Vce(e))!Kce.call(t,o)&&o!==r&&qh(t,o,{get:()=>e[o],enumerable:!(n=zce(e,o))||n.enumerable});return t},Yce=t=>Qce(qh({},"__esModule",{value:!0}),t),wM={};Wce(wM,{SignatureV4:()=>Sde,clearCredentialCache:()=>mde,createScope:()=>Fh,getCanonicalHeaders:()=>jE,getCanonicalQuery:()=>LM,getPayloadHash:()=>Bh,getSigningKey:()=>MM,moveHeadersToQuery:()=>HM,prepareRequest:()=>$E});GM.exports=Yce(wM);var AM=hr(),BE=Et(),Jce="X-Amz-Algorithm",Xce="X-Amz-Credential",PM="X-Amz-Date",Zce="X-Amz-SignedHeaders",ede="X-Amz-Expires",OM="X-Amz-Signature",xM="X-Amz-Security-Token",NM="authorization",DM=PM.toLowerCase(),tde="date",rde=[NM,DM,tde],nde=OM.toLowerCase(),HE="x-amz-content-sha256",ode=xM.toLowerCase(),ide={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},sde=/^proxy-/,ade=/^sec-/,qE="AWS4-HMAC-SHA256",cde="AWS4-HMAC-SHA256-PAYLOAD",dde="UNSIGNED-PAYLOAD",lde=50,kM="aws4_request",ude=60*60*24*7,Mo=gh(),pde=Et(),ga={},Uh=[],Fh=ht((t,e,r)=>`${t}/${e}/${r}/${kM}`,"createScope"),MM=ht(async(t,e,r,n,o)=>{let i=await IM(t,e.secretAccessKey,e.accessKeyId),s=`${r}:${n}:${o}:${(0,Mo.toHex)(i)}:${e.sessionToken}`;if(s in ga)return ga[s];for(Uh.push(s);Uh.length>lde;)delete ga[Uh.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,n,o,kM])a=await IM(t,a,c);return ga[s]=a},"getSigningKey"),mde=ht(()=>{Uh.length=0,Object.keys(ga).forEach(t=>{delete ga[t]})},"clearCredentialCache"),IM=ht((t,e,r)=>{let n=new t(e);return n.update((0,pde.toUint8Array)(r)),n.digest()},"hmac"),jE=ht(({headers:t},e,r)=>{let n={};for(let o of Object.keys(t).sort()){if(t[o]==null)continue;let i=o.toLowerCase();(i in ide||e?.has(i)||sde.test(i)||ade.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Wd=Yv(),LM=ht(({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t).sort()){if(n.toLowerCase()===nde)continue;e.push(n);let o=t[n];typeof o=="string"?r[n]=`${(0,Wd.escapeUri)(n)}=${(0,Wd.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,s)=>i.concat([`${(0,Wd.escapeUri)(n)}=${(0,Wd.escapeUri)(s)}`]),[]).sort().join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),hde=$v(),fde=Et(),Bh=ht(async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===HE)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||(0,hde.isArrayBuffer)(e)){let n=new r;return n.update((0,fde.toUint8Array)(e)),(0,Mo.toHex)(await n.digest())}return dde},"getPayloadHash"),bM=Et(),UM=class{format(e){let r=[];for(let i of Object.keys(e)){let s=(0,bM.fromUtf8)(i);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[i]))}let n=new Uint8Array(r.reduce((i,s)=>i+s.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(e.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(i.buffer);return s.set(e.value,3),s;case"string":let a=(0,bM.fromUtf8)(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(_de.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!yde.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let m=new Uint8Array(17);return m[0]=9,m.set((0,Mo.fromHex)(e.value.replace(/\-/g,"")),1),m}}};ht(UM,"HeaderFormatter");var gde=UM,yde=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,FM=class BM{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(e));n>-1&&o>0;n--,o/=256)r[n]=o;return e<0&&GE(r),new BM(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&GE(e),parseInt((0,Mo.toHex)(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};ht(FM,"Int64");var _de=FM;function GE(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}ht(GE,"negate");var vde=ht((t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},"hasHeader"),qM=De(),HM=ht((t,e={})=>{var r;let{headers:n,query:o={}}=qM.HttpRequest.clone(t);for(let i of Object.keys(n)){let s=i.toLowerCase();s.slice(0,6)==="x-amz-"&&!((r=e.unhoistableHeaders)!=null&&r.has(s))&&(o[i]=n[i],delete n[i])}return{...t,headers:n,query:o}},"moveHeadersToQuery"),$E=ht(t=>{t=qM.HttpRequest.clone(t);for(let e of Object.keys(t.headers))rde.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},"prepareRequest"),Ede=ht(t=>Cde(t).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),Cde=ht(t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t,"toDate"),jM=class{constructor({applyChecksum:e,credentials:r,region:n,service:o,sha256:i,uriEscapePath:s=!0}){this.headerFormatter=new gde,this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,AM.normalizeProvider)(n),this.credentialProvider=(0,AM.normalizeProvider)(r)}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:s,signableHeaders:a,signingRegion:c,signingService:d}=r,u=await this.credentialProvider();this.validateResolvedCredentials(u);let m=c??await this.regionProvider(),{longDate:f,shortDate:h}=Lh(n);if(o>ude)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=Fh(h,m,d??this.service),E=HM($E(e),{unhoistableHeaders:s});u.sessionToken&&(E.query[xM]=u.sessionToken),E.query[Jce]=qE,E.query[Xce]=`${u.accessKeyId}/${y}`,E.query[PM]=f,E.query[ede]=o.toString(10);let I=jE(E,i,a);return E.query[Zce]=RM(I),E.query[OM]=await this.getSignature(f,y,this.getSigningKey(u,m,h,d),this.createCanonicalRequest(E,I,await Bh(e,this.sha256))),E}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:s}){let a=i??await this.regionProvider(),{shortDate:c,longDate:d}=Lh(n),u=Fh(c,a,s??this.service),m=await Bh({headers:{},body:r},this.sha256),f=new this.sha256;f.update(e);let h=(0,Mo.toHex)(await f.digest()),y=[cde,d,u,o,h,m].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let s=n??await this.regionProvider(),{shortDate:a}=Lh(r),c=new this.sha256(await this.getSigningKey(i,s,a,o));return c.update((0,BE.toUint8Array)(e)),(0,Mo.toHex)(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),d=$E(e),{longDate:u,shortDate:m}=Lh(r),f=Fh(m,c,s??this.service);d.headers[DM]=u,a.sessionToken&&(d.headers[ode]=a.sessionToken);let h=await Bh(d,this.sha256);!vde(HE,d.headers)&&this.applyChecksum&&(d.headers[HE]=h);let y=jE(d,o,n),E=await this.getSignature(u,f,this.getSigningKey(a,c,m,s),this.createCanonicalRequest(d,y,h));return d.headers[NM]=`${qE} Credential=${a.accessKeyId}/${f}, SignedHeaders=${RM(y)}, Signature=${E}`,d}createCanonicalRequest(e,r,n){let o=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${LM(e)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(e,r,n){let o=new this.sha256;o.update((0,BE.toUint8Array)(n));let i=await o.digest();return`${qE}
${e}
${r}
${(0,Mo.toHex)(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let i of e.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return(0,Wd.escapeUri)(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,o){let i=await this.createStringToSign(e,r,o),s=new this.sha256(await n);return s.update((0,BE.toUint8Array)(i)),(0,Mo.toHex)(await s.digest())}getSigningKey(e,r,n,o){return MM(this.sha256,e,n,r,o||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};ht(jM,"SignatureV4");var Sde=jM,Lh=ht(t=>{let e=Ede(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},"formatDate"),RM=ht(t=>Object.keys(t).sort().join(";"),"getCanonicalHeaderList")});var zE,zM,Tde,VM=v(()=>{mt();zE=ae($M()),zM=t=>{let e;t.credentials&&(e=OE(t.credentials,PE,Nh)),e||(t.credentialDefaultProvider?e=ko(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):e=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:o}=t,i;return t.signer?i=ko(t.signer):t.regionInfoProvider?i=()=>ko(t.region)().then(async s=>[await t.regionInfoProvider(s,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},s]).then(([s,a])=>{let{signingRegion:c,signingService:d}=s;t.signingRegion=t.signingRegion||c||a,t.signingName=t.signingName||d||t.serviceId;let u={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r},m=t.signerConstructor||zE.SignatureV4;return new m(u)}):i=async s=>{s=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await ko(t.region)(),properties:{}},s);let a=s.signingRegion,c=s.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||c||t.serviceId;let d={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r},u=t.signerConstructor||zE.SignatureV4;return new u(d)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:i}},Tde=zM});var KM=v(()=>{UE();SM();TM();VM()});var WM=v(()=>{KM()});var Ade,Ide,bde,QM=v(()=>{Ade=t=>{if(t==null)return t;if(typeof t=="number"||typeof t=="bigint"){let e=new Error(`Received number ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}if(typeof t=="boolean"){let e=new Error(`Received boolean ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}return t},Ide=t=>{if(t==null)return t;if(typeof t=="string"){let e=t.toLowerCase();if(t!==""&&e!=="false"&&e!=="true"){let r=new Error(`Received string "${t}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return t!==""&&e!=="false"}return t},bde=t=>{if(t==null)return t;if(typeof t=="string"){let e=Number(t);if(e.toString()!==t){let r=new Error(`Received string "${t}" where a number was expected.`);return r.name="Warning",console.warn(r),t}return e}return t}});var YM,Rde,JM=v(()=>{YM=ae(fe()),Rde=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,(0,YM.expectUnion)(t)}});var XM,Hh,VE=v(()=>{XM=ae(fe()),Hh=(t,e)=>(0,XM.collectBody)(t,e).then(r=>e.utf8Encoder(r))});var ZM,wde,Pde,eL=v(()=>{VE();ZM=(t,e)=>Hh(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),wde=async(t,e)=>{let r=await ZM(t,e);return r.message=r.message??r.Message,r},Pde=(t,e)=>{let r=(i,s)=>Object.keys(i).find(a=>a.toLowerCase()===s.toLowerCase()),n=i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},o=r(t.headers,"x-amzn-errortype");if(o!==void 0)return n(t.headers[o]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var jh=g(Un=>{"use strict";var tL=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Ode=tL+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",rL="["+tL+"]["+Ode+"]*",xde=new RegExp("^"+rL+"$"),Nde=function(t,e){let r=[],n=e.exec(t);for(;n;){let o=[];o.startIndex=e.lastIndex-n[0].length;let i=n.length;for(let s=0;s<i;s++)o.push(n[s]);r.push(o),n=e.exec(t)}return r},Dde=function(t){let e=xde.exec(t);return!(e===null||typeof e>"u")};Un.isExist=function(t){return typeof t<"u"};Un.isEmptyObject=function(t){return Object.keys(t).length===0};Un.merge=function(t,e,r){if(e){let n=Object.keys(e),o=n.length;for(let i=0;i<o;i++)r==="strict"?t[n[i]]=[e[n[i]]]:t[n[i]]=e[n[i]]}};Un.getValue=function(t){return Un.isExist(t)?t:""};Un.isName=Dde;Un.getAllMatches=Nde;Un.nameRegexp=rL});var WE=g(aL=>{"use strict";var KE=jh(),kde={allowBooleanAttributes:!1,unpairedTags:[]};aL.validate=function(t,e){e=Object.assign({},kde,e);let r=[],n=!1,o=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=oL(t,i),i.err)return i}else if(t[i]==="<"){let s=i;if(i++,t[i]==="!"){i=iL(t,i);continue}else{let a=!1;t[i]==="/"&&(a=!0,i++);let c="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)c+=t[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!jde(c)){let m;return c.trim().length===0?m="Invalid space after '<'.":m="Tag '"+c+"' is an invalid name.",Je("InvalidTag",m,Ut(t,i))}let d=Ude(t,i);if(d===!1)return Je("InvalidAttr","Attributes for '"+c+"' have open quote.",Ut(t,i));let u=d.value;if(i=d.index,u[u.length-1]==="/"){let m=i-u.length;u=u.substring(0,u.length-1);let f=sL(u,e);if(f===!0)n=!0;else return Je(f.err.code,f.err.msg,Ut(t,m+f.err.line))}else if(a)if(d.tagClosed){if(u.trim().length>0)return Je("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ut(t,s));if(r.length===0)return Je("InvalidTag","Closing tag '"+c+"' has not been opened.",Ut(t,s));{let m=r.pop();if(c!==m.tagName){let f=Ut(t,m.tagStartPos);return Je("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",Ut(t,s))}r.length==0&&(o=!0)}}else return Je("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ut(t,i));else{let m=sL(u,e);if(m!==!0)return Je(m.err.code,m.err.msg,Ut(t,i-u.length+m.err.line));if(o===!0)return Je("InvalidXml","Multiple possible root nodes found.",Ut(t,i));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:s}),n=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=iL(t,i);continue}else if(t[i+1]==="?"){if(i=oL(t,++i),i.err)return i}else break;else if(t[i]==="&"){let m=qde(t,i);if(m==-1)return Je("InvalidChar","char '&' is not expected.",Ut(t,i));i=m}else if(o===!0&&!nL(t[i]))return Je("InvalidXml","Extra text at the end",Ut(t,i));t[i]==="<"&&i--}}else{if(nL(t[i]))continue;return Je("InvalidChar","char '"+t[i]+"' is not expected.",Ut(t,i))}if(n){if(r.length==1)return Je("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ut(t,r[0].tagStartPos));if(r.length>0)return Je("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Je("InvalidXml","Start tag expected.",1);return!0};function nL(t){return t===" "||t==="	"||t===`
`||t==="\r"}function oL(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return Je("InvalidXml","XML declaration allowed only at the start of the document.",Ut(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function iL(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var Mde='"',Lde="'";function Ude(t,e){let r="",n="",o=!1;for(;e<t.length;e++){if(t[e]===Mde||t[e]===Lde)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){o=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:o}}var Fde=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function sL(t,e){let r=KE.getAllMatches(t,Fde),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return Je("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Qd(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return Je("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Qd(r[o]));if(r[o][3]===void 0&&!e.allowBooleanAttributes)return Je("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Qd(r[o]));let i=r[o][2];if(!Hde(i))return Je("InvalidAttr","Attribute '"+i+"' is an invalid name.",Qd(r[o]));if(!n.hasOwnProperty(i))n[i]=1;else return Je("InvalidAttr","Attribute '"+i+"' is repeated.",Qd(r[o]))}return!0}function Bde(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function qde(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,Bde(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function Je(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function Hde(t){return KE.isName(t)}function jde(t){return KE.isName(t)}function Ut(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Qd(t){return t.startIndex+t[1].length}});var dL=g(QE=>{var cL={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}},Gde=function(t){return Object.assign({},cL,t)};QE.buildOptions=Gde;QE.defaultOptions=cL});var uL=g((IGe,lL)=>{"use strict";var YE=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};lL.exports=YE});var mL=g((bGe,pL)=>{var $de=jh();function zde(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,o=!1,i=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(o&&Wde(t,e))e+=7,[entityName,val,e]=Vde(t,e+1),val.indexOf("&")===-1&&(r[Xde(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&Qde(t,e))e+=8;else if(o&&Yde(t,e))e+=8;else if(o&&Jde(t,e))e+=9;else if(Kde)i=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,n--):n--,n===0)break}else t[e]==="["?o=!0:s+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function Vde(t,e){let r="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)r+=t[e];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=t[e++],o="";for(;e<t.length&&t[e]!==n;e++)o+=t[e];return[r,o,e]}function Kde(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function Wde(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function Qde(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function Yde(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function Jde(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function Xde(t){if($de.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}pL.exports=zde});var fL=g((RGe,hL)=>{var Zde=/^[-+]?0x[a-fA-F0-9]+$/,ele=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var tle={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function rle(t,e={}){if(e=Object.assign({},tle,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&Zde.test(r))return Number.parseInt(r,16);{let n=ele.exec(r);if(n){let o=n[1],i=n[2],s=nle(n[3]),a=n[4]||n[6];if(!e.leadingZeros&&i.length>0&&o&&r[2]!==".")return t;if(!e.leadingZeros&&i.length>0&&!o&&r[1]!==".")return t;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?e.eNotation?c:t:r.indexOf(".")!==-1?d==="0"&&s===""||d===s||o&&d==="-"+s?c:t:i?s===d||o+s===d?c:t:r===d||r===o+d?c:t}}else return t}}function nle(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}hL.exports=rle});var _L=g((wGe,yL)=>{"use strict";var gL=jh(),Yd=uL(),ole=mL(),ile=fL(),JE=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=sle,this.parseXml=ule,this.parseTextData=ale,this.resolveNameSpace=cle,this.buildAttributesMap=lle,this.isItStopNode=fle,this.replaceEntitiesValue=mle,this.readStopNodeData=yle,this.saveTextToParentTag=hle,this.addChild=ple}};function sle(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function ale(t,e,r,n,o,i,s){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,o,i);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?ZE(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?ZE(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function cle(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var dle=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function lle(t,e,r){if(!this.options.ignoreAttributes&&typeof t=="string"){let n=gL.getAllMatches(t,dle),o=n.length,i={};for(let s=0;s<o;s++){let a=this.resolveNameSpace(n[s][1]),c=n[s][4],d=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(a,c,e);u==null?i[d]=c:typeof u!=typeof c||u!==c?i[d]=u:i[d]=ZE(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[d]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=i,s}return i}}var ule=function(t){t=t.replace(/\r\n?/g,`
`);let e=new Yd("!xml"),r=e,n="",o="";for(let i=0;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="/"){let a=rs(t,">",i,"Closing Tag is not closed."),c=t.substring(i+2,a).trim();if(this.options.removeNSPrefix){let m=c.indexOf(":");m!==-1&&(c=c.substr(m+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let d=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(u=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=o.lastIndexOf("."),o=o.substring(0,u),r=this.tagsNodeStack.pop(),n="",i=a}else if(t[i+1]==="?"){let a=XE(t,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Yd(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o)}i=a.closeIndex+1}else if(t.substr(i+1,3)==="!--"){let a=rs(t,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(t.substr(i+1,2)==="!D"){let a=ole(t,i);this.docTypeEntities=a.entities,i=a.i}else if(t.substr(i+1,2)==="!["){let a=rs(t,"]]>",i,"CDATA is not closed.")-2,c=t.substring(i+9,a);n=this.saveTextToParentTag(n,r,o);let d=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);d==null&&(d=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,d),i=a+2}else{let a=XE(t,i,this.options.removeNSPrefix),c=a.tagName,d=a.rawTagName,u=a.tagExp,m=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let h=r;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==e.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let y="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let I=this.readStopNodeData(t,d,f+1);if(!I)throw new Error(`Unexpected end of ${d}`);i=I.i,y=I.tagContent}let E=new Yd(c);c!==u&&m&&(E[":@"]=this.buildAttributesMap(u,o,c)),y&&(y=this.parseTextData(y,c,o,!0,m,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),E.add(this.options.textNodeName,y),this.addChild(r,E,o)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let y=new Yd(c);c!==u&&m&&(y[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,y,o),o=o.substr(0,o.lastIndexOf("."))}else{let y=new Yd(c);this.tagsNodeStack.push(r),c!==u&&m&&(y[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,y,o),r=y}n="",i=f}}else n+=t[i];return e.child};function ple(t,e,r){let n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e))}var mle=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function hle(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function fle(t,e,r){let n="*."+r;for(let o in t){let i=t[o];if(n===i||e===i)return!0}return!1}function gle(t,e,r=">"){let n,o="";for(let i=e;i<t.length;i++){let s=t[i];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(t[i+1]===r[1])return{data:o,index:i}}else return{data:o,index:i};else s==="	"&&(s=" ");o+=s}}function rs(t,e,r,n){let o=t.indexOf(e,r);if(o===-1)throw new Error(n);return o+e.length-1}function XE(t,e,r,n=">"){let o=gle(t,e+1,n);if(!o)return;let i=o.data,s=o.index,a=i.search(/\s/),c=i,d=!0;a!==-1&&(c=i.substring(0,a),i=i.substring(a+1).trimStart());let u=c;if(r){let m=c.indexOf(":");m!==-1&&(c=c.substr(m+1),d=c!==o.data.substr(m+1))}return{tagName:c,tagExp:i,closeIndex:s,attrExpPresent:d,rawTagName:u}}function yle(t,e,r){let n=r,o=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let i=rs(t,">",r,`${e} is not closed`);if(t.substring(r+2,i).trim()===e&&(o--,o===0))return{tagContent:t.substring(n,r),i};r=i}else if(t[r+1]==="?")r=rs(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=rs(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=rs(t,"]]>",r,"StopNode is not closed.")-2;else{let i=XE(t,r,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,r=i.closeIndex)}}function ZE(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:ile(t,r)}else return gL.isExist(t)?t:""}yL.exports=JE});var CL=g(EL=>{"use strict";function _le(t,e){return vL(t,e)}function vL(t,e,r){let n,o={};for(let i=0;i<t.length;i++){let s=t[i],a=vle(s),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let d=vL(s[a],e,c),u=Cle(d,e);s[":@"]?Ele(d,s[":@"],c,e):Object.keys(d).length===1&&d[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?d=d[e.textNodeName]:Object.keys(d).length===0&&(e.alwaysCreateTextNode?d[e.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):e.isArray(a,c,u)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[e.textNodeName]=n):n!==void 0&&(o[e.textNodeName]=n),o}function vle(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function Ele(t,e,r,n){if(e){let o=Object.keys(e),i=o.length;for(let s=0;s<i;s++){let a=o[s];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Cle(t,e){let{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}EL.prettify=_le});var TL=g((OGe,SL)=>{var{buildOptions:Sle}=dL(),Tle=_L(),{prettify:Ale}=CL(),Ile=WE(),eC=class{constructor(e){this.externalEntities={},this.options=Sle(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=Ile.validate(e,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new Tle(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(e);return this.options.preserveOrder||o===void 0?o:Ale(o,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};SL.exports=eC});var wL=g((xGe,RL)=>{var ble=`
`;function Rle(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=ble),IL(t,e,"",r)}function IL(t,e,r,n){let o="",i=!1;for(let s=0;s<t.length;s++){let a=t[s],c=wle(a);if(c===void 0)continue;let d="";if(r.length===0?d=c:d=`${r}.${c}`,c===e.textNodeName){let y=a[c];Ple(d,e)||(y=e.tagValueProcessor(c,y),y=bL(y,e)),i&&(o+=n),o+=y,i=!1;continue}else if(c===e.cdataPropName){i&&(o+=n),o+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,i=!1;continue}else if(c===e.commentPropName){o+=n+`<!--${a[c][0][e.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let y=AL(a[":@"],e),E=c==="?xml"?"":n,I=a[c][0][e.textNodeName];I=I.length!==0?" "+I:"",o+=E+`<${c}${I}${y}?>`,i=!0;continue}let u=n;u!==""&&(u+=e.indentBy);let m=AL(a[":@"],e),f=n+`<${c}${m}`,h=IL(a[c],e,d,u);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?o+=f+">":o+=f+"/>":(!h||h.length===0)&&e.suppressEmptyNode?o+=f+"/>":h&&h.endsWith(">")?o+=f+`>${h}${n}</${c}>`:(o+=f+">",h&&n!==""&&(h.includes("/>")||h.includes("</"))?o+=n+e.indentBy+h+n:o+=h,o+=`</${c}>`),i=!0}return o}function wle(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(t.hasOwnProperty(n)&&n!==":@")return n}}function AL(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){if(!t.hasOwnProperty(n))continue;let o=e.attributeValueProcessor(n,t[n]);o=bL(o,e),o===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${o}"`}return r}function Ple(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function bL(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let n=e.entities[r];t=t.replace(n.regex,n.val)}return t}RL.exports=Rle});var OL=g((NGe,PL)=>{"use strict";var Ole=wL(),xle={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Lo(t){this.options=Object.assign({},xle,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=kle),this.processTextOrObjNode=Nle,this.options.format?(this.indentate=Dle,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Lo.prototype.build=function(t){return this.options.preserveOrder?Ole(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Lo.prototype.j2x=function(t,e){let r="",n="";for(let o in t)if(Object.prototype.hasOwnProperty.call(t,o))if(typeof t[o]>"u")this.isAttribute(o)&&(n+="");else if(t[o]===null)this.isAttribute(o)?n+="":o[0]==="?"?n+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(t[o]instanceof Date)n+=this.buildTextValNode(t[o],o,"",e);else if(typeof t[o]!="object"){let i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+t[o]);else if(o===this.options.textNodeName){let s=this.options.tagValueProcessor(o,""+t[o]);n+=this.replaceEntitiesValue(s)}else n+=this.buildTextValNode(t[o],o,"",e)}else if(Array.isArray(t[o])){let i=t[o].length,s="",a="";for(let c=0;c<i;c++){let d=t[o][c];if(!(typeof d>"u"))if(d===null)o[0]==="?"?n+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(typeof d=="object")if(this.options.oneListGroup){let u=this.j2x(d,e+1);s+=u.val,this.options.attributesGroupName&&d.hasOwnProperty(this.options.attributesGroupName)&&(a+=u.attrStr)}else s+=this.processTextOrObjNode(d,o,e);else if(this.options.oneListGroup){let u=this.options.tagValueProcessor(o,d);u=this.replaceEntitiesValue(u),s+=u}else s+=this.buildTextValNode(d,o,"",e)}this.options.oneListGroup&&(s=this.buildObjectNode(s,o,a,e)),n+=s}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let i=Object.keys(t[o]),s=i.length;for(let a=0;a<s;a++)r+=this.buildAttrPairStr(i[a],""+t[o][i[a]])}else n+=this.processTextOrObjNode(t[o],o,e);return{attrStr:r,val:n}};Lo.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function Nle(t,e,r){let n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}Lo.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let o="</"+e+this.tagEndChar,i="";return e[0]==="?"&&(i="?",o=""),(r||r==="")&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+i+">"+t+o:this.options.commentPropName!==!1&&e===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+i+this.tagEndChar+t+this.indentate(n)+o}};Lo.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};Lo.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(e,t);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+o+"</"+e+this.tagEndChar}};Lo.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function Dle(t){return this.options.indentBy.repeat(t)}function kle(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}PL.exports=Lo});var NL=g((DGe,xL)=>{"use strict";var Mle=WE(),Lle=TL(),Ule=OL();xL.exports={XMLParser:Lle,XMLValidator:Mle,XMLBuilder:Ule}});var DL,kL,ML,Fle,Ble,LL=v(()=>{DL=ae(fe()),kL=ae(NL());VE();ML=(t,e)=>Hh(t,e).then(r=>{if(r.length){let n=new kL.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",s=Object.keys(o)[0],a=o[s];return a[i]&&(a[s]=a[i],delete a[i]),(0,DL.getValueFromTextNode)(a)}return{}}),Fle=async(t,e)=>{let r=await ML(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Ble=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"}});var UL=v(()=>{QM();JM();eL();LL()});var Xe={};At(Xe,{AWSSDKSigV4Signer:()=>EM,AwsSdkSigV4ASigner:()=>Mh,AwsSdkSigV4Signer:()=>ts,NODE_SIGV4A_CONFIG_OPTIONS:()=>$ce,_toBool:()=>Ide,_toNum:()=>bde,_toStr:()=>Ade,awsExpectUnion:()=>Rde,emitWarningIfUnsupportedVersion:()=>jce,loadRestJsonErrorCode:()=>Pde,loadRestXmlErrorCode:()=>Ble,parseJsonBody:()=>ZM,parseJsonErrorBody:()=>wde,parseXmlBody:()=>ML,parseXmlErrorBody:()=>Fle,resolveAWSSDKSigV4Config:()=>Tde,resolveAwsSdkSigV4AConfig:()=>Gce,resolveAwsSdkSigV4Config:()=>zM,validateSigningProperties:()=>Kd});var Ze=v(()=>{mM();WM();UL()});var tC=g(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.resolveHttpAuthSchemeConfig=Uo.defaultDynamoDBHttpAuthSchemeProvider=Uo.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var qle=(Ze(),M(Xe)),FL=hr(),Hle=async(t,e,r)=>({operation:(0,FL.getSmithyContext)(e).operation,region:await(0,FL.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Uo.defaultDynamoDBHttpAuthSchemeParametersProvider=Hle;function jle(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var Gle=t=>{let e=[];switch(t.operation){default:e.push(jle(t))}return e};Uo.defaultDynamoDBHttpAuthSchemeProvider=Gle;var $le=t=>({...(0,qle.resolveAwsSdkSigV4Config)(t)});Uo.resolveHttpAuthSchemeConfig=$le});var BL=g((zGe,zle)=>{zle.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.645.0","@aws-sdk/client-sts":"3.645.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-endpoint-discovery":"3.620.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.2",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96","@types/uuid":"^9.0.4",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var rC=g((VGe,KL)=>{"use strict";var Gh=Object.defineProperty,Vle=Object.getOwnPropertyDescriptor,Kle=Object.getOwnPropertyNames,Wle=Object.prototype.hasOwnProperty,Qle=(t,e)=>Gh(t,"name",{value:e,configurable:!0}),Yle=(t,e)=>{for(var r in e)Gh(t,r,{get:e[r],enumerable:!0})},Jle=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Kle(e))!Wle.call(t,o)&&o!==r&&Gh(t,o,{get:()=>e[o],enumerable:!(n=Vle(e,o))||n.enumerable});return t},Xle=t=>Jle(Gh({},"__esModule",{value:!0}),t),qL={};Yle(qL,{ENV_ACCOUNT_ID:()=>VL,ENV_CREDENTIAL_SCOPE:()=>zL,ENV_EXPIRATION:()=>$L,ENV_KEY:()=>HL,ENV_SECRET:()=>jL,ENV_SESSION:()=>GL,fromEnv:()=>eue});KL.exports=Xle(qL);var Zle=Lt(),HL="AWS_ACCESS_KEY_ID",jL="AWS_SECRET_ACCESS_KEY",GL="AWS_SESSION_TOKEN",$L="AWS_CREDENTIAL_EXPIRATION",zL="AWS_CREDENTIAL_SCOPE",VL="AWS_ACCOUNT_ID",eue=Qle(t=>async()=>{var e;(e=t?.logger)==null||e.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[HL],n=process.env[jL],o=process.env[GL],i=process.env[$L],s=process.env[zL],a=process.env[VL];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...i&&{expiration:new Date(i)},...s&&{credentialScope:s},...a&&{accountId:a}};throw new Zle.CredentialsProviderError("Unable to find environment variable credentials.",{logger:t?.logger})},"fromEnv")});var Jd=g((KGe,cU)=>{var Vh=Object.defineProperty,tue=Object.getOwnPropertyDescriptor,rue=Object.getOwnPropertyNames,nue=Object.prototype.hasOwnProperty,at=(t,e)=>Vh(t,"name",{value:e,configurable:!0}),oue=(t,e)=>{for(var r in e)Vh(t,r,{get:e[r],enumerable:!0})},iue=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of rue(e))!nue.call(t,o)&&o!==r&&Vh(t,o,{get:()=>e[o],enumerable:!(n=tue(e,o))||n.enumerable});return t},sue=t=>iue(Vh({},"__esModule",{value:!0}),t),JL={};oue(JL,{DEFAULT_MAX_RETRIES:()=>tU,DEFAULT_TIMEOUT:()=>eU,ENV_CMDS_AUTH_TOKEN:()=>iC,ENV_CMDS_FULL_URI:()=>$h,ENV_CMDS_RELATIVE_URI:()=>zh,Endpoint:()=>oU,fromContainerMetadata:()=>lue,fromInstanceMetadata:()=>xue,getInstanceMetadataEndpoint:()=>sU,httpRequest:()=>ya,providerConfigFromInit:()=>sC});cU.exports=sue(JL);var aue=require("url"),on=Lt(),cue=require("buffer"),due=require("http");function ya(t){return new Promise((e,r)=>{var n;let o=(0,due.request)({method:"GET",...t,hostname:(n=t.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",i=>{r(Object.assign(new on.ProviderError("Unable to connect to instance metadata service"),i)),o.destroy()}),o.on("timeout",()=>{r(new on.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",i=>{let{statusCode:s=400}=i;(s<200||300<=s)&&(r(Object.assign(new on.ProviderError("Error response received from instance metadata service"),{statusCode:s})),o.destroy());let a=[];i.on("data",c=>{a.push(c)}),i.on("end",()=>{e(cue.Buffer.concat(a)),o.destroy()})}),o.end()})}at(ya,"httpRequest");var XL=at(t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string","isImdsCredentials"),ZL=at(t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}}),"fromImdsCredentials"),eU=1e3,tU=0,sC=at(({maxRetries:t=tU,timeout:e=eU})=>({maxRetries:t,timeout:e}),"providerConfigFromInit"),oC=at((t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r},"retry"),$h="AWS_CONTAINER_CREDENTIALS_FULL_URI",zh="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",iC="AWS_CONTAINER_AUTHORIZATION_TOKEN",lue=at((t={})=>{let{timeout:e,maxRetries:r}=sC(t);return()=>oC(async()=>{let n=await fue({logger:t.logger}),o=JSON.parse(await uue(e,n));if(!XL(o))throw new on.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return ZL(o)},r)},"fromContainerMetadata"),uue=at(async(t,e)=>(process.env[iC]&&(e.headers={...e.headers,Authorization:process.env[iC]}),(await ya({...e,timeout:t})).toString()),"requestFromEcsImds"),pue="169.254.170.2",mue={localhost:!0,"127.0.0.1":!0},hue={"http:":!0,"https:":!0},fue=at(async({logger:t})=>{if(process.env[zh])return{hostname:pue,path:process.env[zh]};if(process.env[$h]){let e=(0,aue.parse)(process.env[$h]);if(!e.hostname||!(e.hostname in mue))throw new on.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in hue))throw new on.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new on.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${zh} or ${$h} environment variable is set`,{tryNextLink:!1,logger:t})},"getCmdsUri"),rU=class nU extends on.CredentialsProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,nU.prototype)}};at(rU,"InstanceMetadataV1FallbackError");var gue=rU,aC=rn(),yue=Ro(),oU=(t=>(t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]",t))(oU||{}),_ue="AWS_EC2_METADATA_SERVICE_ENDPOINT",vue="ec2_metadata_service_endpoint",Eue={environmentVariableSelector:t=>t[_ue],configFileSelector:t=>t[vue],default:void 0},iU=(t=>(t.IPv4="IPv4",t.IPv6="IPv6",t))(iU||{}),Cue="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Sue="ec2_metadata_service_endpoint_mode",Tue={environmentVariableSelector:t=>t[Cue],configFileSelector:t=>t[Sue],default:"IPv4"},sU=at(async()=>(0,yue.parseUrl)(await Aue()||await Iue()),"getInstanceMetadataEndpoint"),Aue=at(async()=>(0,aC.loadConfig)(Eue)(),"getFromEndpointConfig"),Iue=at(async()=>{let t=await(0,aC.loadConfig)(Tue)();switch(t){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(iU)}`)}},"getFromEndpointModeConfig"),bue=5*60,Rue=5*60,wue="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",WL=at((t,e)=>{let r=bue+Math.floor(Math.random()*Rue),n=new Date(Date.now()+r*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+wue);let o=t.originalExpiration??t.expiration;return{...t,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),Pue=at((t,e={})=>{let r=e?.logger||console,n;return async()=>{let o;try{o=await t(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=WL(o,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),o=WL(n,r);else throw i}return n=o,o}},"staticStabilityProvider"),aU="/latest/meta-data/iam/security-credentials/",Oue="/latest/api/token",nC="AWS_EC2_METADATA_V1_DISABLED",QL="ec2_metadata_v1_disabled",YL="x-aws-ec2-metadata-token",xue=at((t={})=>Pue(Nue(t),{logger:t.logger}),"fromInstanceMetadata"),Nue=at((t={})=>{let e=!1,{logger:r,profile:n}=t,{timeout:o,maxRetries:i}=sC(t),s=at(async(a,c)=>{var d;if(e||((d=c.headers)==null?void 0:d[YL])==null){let f=!1,h=!1,y=await(0,aC.loadConfig)({environmentVariableSelector:E=>{let I=E[nC];if(h=!!I&&I!=="false",I===void 0)throw new on.CredentialsProviderError(`${nC} not set in env, checking config file next.`,{logger:t.logger});return h},configFileSelector:E=>{let I=E[QL];return f=!!I&&I!=="false",f},default:!1},{profile:n})();if(t.ec2MetadataV1Disabled||y){let E=[];throw t.ec2MetadataV1Disabled&&E.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&E.push(`config file profile (${QL})`),h&&E.push(`process environment variable (${nC})`),new gue(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${E.join(", ")}].`)}}let m=(await oC(async()=>{let f;try{f=await kue(c)}catch(h){throw h.statusCode===401&&(e=!1),h}return f},a)).trim();return oC(async()=>{let f;try{f=await Mue(m,c,t)}catch(h){throw h.statusCode===401&&(e=!1),h}return f},a)},"getCredentials");return async()=>{let a=await sU();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(i,{...a,timeout:o});{let c;try{c=(await Due({...a,timeout:o})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(i,{...a,timeout:o})}return s(i,{...a,headers:{[YL]:c},timeout:o})}}},"getInstanceMetadataProvider"),Due=at(async t=>ya({...t,path:Oue,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),kue=at(async t=>(await ya({...t,path:aU})).toString(),"getProfile"),Mue=at(async(t,e,r)=>{let n=JSON.parse((await ya({...e,path:aU+t})).toString());if(!XL(n))throw new on.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return ZL(n)},"getCredentialsFromProfile")});var dU=g(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.checkUrl=void 0;var Lue=Lt(),Uue="169.254.170.2",Fue="169.254.170.23",Bue="[fd00:ec2::23]",que=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===Uue||t.hostname===Fue||t.hostname===Bue)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),n=o=>{let i=parseInt(o,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Lue.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}};Kh.checkUrl=que});var lU=g(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.getCredentials=_a.createGetRequest=void 0;var cC=Lt(),Hue=De(),jue=fe(),Gue=dE();function $ue(t){return new Hue.HttpRequest({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,n])=>(e[r]=n,e),{}),fragment:t.hash})}_a.createGetRequest=$ue;async function zue(t,e){let n=await(0,Gue.sdkStreamMixin)(t.body).transformToString();if(t.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new cC.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,jue.parseRfc3339DateTime)(o.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new cC.CredentialsProviderError(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:o.Code,Message:o.Message})}throw new cC.CredentialsProviderError(`Server responded with status: ${t.statusCode}`,{logger:e})}_a.getCredentials=zue});var uU=g(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.retryWrapper=void 0;var Vue=(t,e,r)=>async()=>{for(let n=0;n<e;++n)try{return await t()}catch{await new Promise(i=>setTimeout(i,r))}return await t()};Wh.retryWrapper=Vue});var hU=g(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.fromHttp=void 0;var Kue=(_e(),M(ye)),Wue=No(),pU=Lt(),Que=Kue.__importDefault(require("fs/promises")),Yue=dU(),mU=lU(),Jue=uU(),Xue="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Zue="http://169.254.170.2",epe="AWS_CONTAINER_CREDENTIALS_FULL_URI",tpe="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",rpe="AWS_CONTAINER_AUTHORIZATION_TOKEN",npe=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.awsContainerCredentialsRelativeUri??process.env[Xue],n=t.awsContainerCredentialsFullUri??process.env[epe],o=t.awsContainerAuthorizationToken??process.env[rpe],i=t.awsContainerAuthorizationTokenFile??process.env[tpe],s=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console.warn:t.logger.warn;if(r&&n&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),s("awsContainerCredentialsFullUri will take precedence.")),o&&i&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),s("awsContainerAuthorizationToken will take precedence.")),n)e=n;else if(r)e=`${Zue}${r}`;else throw new pU.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);(0,Yue.checkUrl)(a,t.logger);let c=new Wue.NodeHttpHandler({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return(0,Jue.retryWrapper)(async()=>{let d=(0,mU.createGetRequest)(a);o?d.headers.Authorization=o:i&&(d.headers.Authorization=(await Que.default.readFile(i)).toString());try{let u=await c.handle(d);return(0,mU.getCredentials)(u.response)}catch(u){throw new pU.CredentialsProviderError(String(u),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)};Qh.fromHttp=npe});var dC=g(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.fromHttp=void 0;var ope=hU();Object.defineProperty(Yh,"fromHttp",{enumerable:!0,get:function(){return ope.fromHttp}})});var lC=g(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.resolveHttpAuthSchemeConfig=Fo.defaultSSOHttpAuthSchemeProvider=Fo.defaultSSOHttpAuthSchemeParametersProvider=void 0;var ipe=(Ze(),M(Xe)),fU=hr(),spe=async(t,e,r)=>({operation:(0,fU.getSmithyContext)(e).operation,region:await(0,fU.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Fo.defaultSSOHttpAuthSchemeParametersProvider=spe;function ape(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Jh(t){return{schemeId:"smithy.api#noAuth"}}var cpe=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(Jh(t));break}case"ListAccountRoles":{e.push(Jh(t));break}case"ListAccounts":{e.push(Jh(t));break}case"Logout":{e.push(Jh(t));break}default:e.push(ape(t))}return e};Fo.defaultSSOHttpAuthSchemeProvider=cpe;var dpe=t=>({...(0,ipe.resolveAwsSdkSigV4Config)(t)});Fo.resolveHttpAuthSchemeConfig=dpe});var gU=g((e$e,lpe)=>{lpe.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.635.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var va=g((t$e,TU)=>{"use strict";var Xh=Object.defineProperty,upe=Object.getOwnPropertyDescriptor,ppe=Object.getOwnPropertyNames,mpe=Object.prototype.hasOwnProperty,_U=(t,e)=>Xh(t,"name",{value:e,configurable:!0}),hpe=(t,e)=>{for(var r in e)Xh(t,r,{get:e[r],enumerable:!0})},fpe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ppe(e))!mpe.call(t,o)&&o!==r&&Xh(t,o,{get:()=>e[o],enumerable:!(n=upe(e,o))||n.enumerable});return t},gpe=t=>fpe(Xh({},"__esModule",{value:!0}),t),vU={};hpe(vU,{UA_APP_ID_ENV_NAME:()=>CU,UA_APP_ID_INI_NAME:()=>SU,crtAvailability:()=>EU,defaultUserAgent:()=>vpe});TU.exports=gpe(vU);var ype=rn(),yU=require("os"),uC=require("process"),EU={isCrtAvailable:!1},_pe=_U(()=>EU.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),CU="AWS_SDK_UA_APP_ID",SU="sdk-ua-app-id",vpe=_U(({serviceId:t,clientVersion:e})=>{let r=[["aws-sdk-js",e],["ua","2.0"],[`os/${(0,yU.platform)()}`,(0,yU.release)()],["lang/js"],["md/nodejs",`${uC.versions.node}`]],n=_pe();n&&r.push(n),t&&r.push([`api/${t}`,e]),uC.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${uC.env.AWS_EXECUTION_ENV}`]);let o=(0,ype.loadConfig)({environmentVariableSelector:s=>s[CU],configFileSelector:s=>s[SU],default:void 0})(),i;return async()=>{if(!i){let s=await o;i=s?[...r,[`app/${s}`]]:[...r]}return i}},"defaultUserAgent")});var Ea=g((n$e,wU)=>{var Zh=Object.defineProperty,Epe=Object.getOwnPropertyDescriptor,Cpe=Object.getOwnPropertyNames,Spe=Object.prototype.hasOwnProperty,IU=(t,e)=>Zh(t,"name",{value:e,configurable:!0}),Tpe=(t,e)=>{for(var r in e)Zh(t,r,{get:e[r],enumerable:!0})},Ape=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Cpe(e))!Spe.call(t,o)&&o!==r&&Zh(t,o,{get:()=>e[o],enumerable:!(n=Epe(e,o))||n.enumerable});return t},Ipe=t=>Ape(Zh({},"__esModule",{value:!0}),t),bU={};Tpe(bU,{Hash:()=>wpe});wU.exports=Ipe(bU);var pC=da(),bpe=Et(),Rpe=require("buffer"),AU=require("crypto"),RU=class{constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update((0,bpe.toUint8Array)(mC(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,AU.createHmac)(this.algorithmIdentifier,mC(this.secret)):(0,AU.createHash)(this.algorithmIdentifier)}};IU(RU,"Hash");var wpe=RU;function mC(t,e){return Rpe.Buffer.isBuffer(t)?t:typeof t=="string"?(0,pC.fromString)(t,e):ArrayBuffer.isView(t)?(0,pC.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength):(0,pC.fromArrayBuffer)(t)}IU(mC,"castSourceData")});var Ca=g((o$e,xU)=>{var ef=Object.defineProperty,Ppe=Object.getOwnPropertyDescriptor,Ope=Object.getOwnPropertyNames,xpe=Object.prototype.hasOwnProperty,Npe=(t,e)=>ef(t,"name",{value:e,configurable:!0}),Dpe=(t,e)=>{for(var r in e)ef(t,r,{get:e[r],enumerable:!0})},kpe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ope(e))!xpe.call(t,o)&&o!==r&&ef(t,o,{get:()=>e[o],enumerable:!(n=Ppe(e,o))||n.enumerable});return t},Mpe=t=>kpe(ef({},"__esModule",{value:!0}),t),OU={};Dpe(OU,{calculateBodyLength:()=>Lpe});xU.exports=Mpe(OU);var PU=require("fs"),Lpe=Npe(t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(typeof t.path=="string"||Buffer.isBuffer(t.path))return(0,PU.lstatSync)(t.path).size;if(typeof t.fd=="number")return(0,PU.fstatSync)(t.fd).size;throw new Error(`Body Length computation failed for ${t}`)},"calculateBodyLength")});var VU=g(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.ruleSet=void 0;var jU="required",Er="fn",Cr="argv",Aa="ref",NU=!0,DU="isSet",Xd="booleanEquals",Sa="error",Ta="endpoint",Fn="tree",hC="PartitionResult",fC="getAttr",kU={[jU]:!1,type:"String"},MU={[jU]:!0,default:!1,type:"Boolean"},LU={[Aa]:"Endpoint"},GU={[Er]:Xd,[Cr]:[{[Aa]:"UseFIPS"},!0]},$U={[Er]:Xd,[Cr]:[{[Aa]:"UseDualStack"},!0]},vr={},UU={[Er]:fC,[Cr]:[{[Aa]:hC},"supportsFIPS"]},zU={[Aa]:hC},FU={[Er]:Xd,[Cr]:[!0,{[Er]:fC,[Cr]:[zU,"supportsDualStack"]}]},BU=[GU],qU=[$U],HU=[{[Aa]:"Region"}],Upe={version:"1.0",parameters:{Region:kU,UseDualStack:MU,UseFIPS:MU,Endpoint:kU},rules:[{conditions:[{[Er]:DU,[Cr]:[LU]}],rules:[{conditions:BU,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Sa},{conditions:qU,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Sa},{endpoint:{url:LU,properties:vr,headers:vr},type:Ta}],type:Fn},{conditions:[{[Er]:DU,[Cr]:HU}],rules:[{conditions:[{[Er]:"aws.partition",[Cr]:HU,assign:hC}],rules:[{conditions:[GU,$U],rules:[{conditions:[{[Er]:Xd,[Cr]:[NU,UU]},FU],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vr,headers:vr},type:Ta}],type:Fn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Sa}],type:Fn},{conditions:BU,rules:[{conditions:[{[Er]:Xd,[Cr]:[UU,NU]}],rules:[{conditions:[{[Er]:"stringEquals",[Cr]:[{[Er]:fC,[Cr]:[zU,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:vr,headers:vr},type:Ta},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:vr,headers:vr},type:Ta}],type:Fn},{error:"FIPS is enabled but this partition does not support FIPS",type:Sa}],type:Fn},{conditions:qU,rules:[{conditions:[FU],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vr,headers:vr},type:Ta}],type:Fn},{error:"DualStack is enabled but this partition does not support DualStack",type:Sa}],type:Fn},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:vr,headers:vr},type:Ta}],type:Fn}],type:Fn},{error:"Invalid Configuration: Missing Region",type:Sa}]};tf.ruleSet=Upe});var WU=g(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.defaultEndpointResolver=void 0;var Fpe=Ki(),KU=Vi(),Bpe=VU(),qpe=(t,e={})=>(0,KU.resolveEndpoint)(Bpe.ruleSet,{endpointParams:t,logger:e.logger});rf.defaultEndpointResolver=qpe;KU.customEndpointFunctions.aws=Fpe.awsEndpointFunctions});var JU=g(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.getRuntimeConfig=void 0;var Hpe=(Ze(),M(Xe)),jpe=(mt(),M(bt)),Gpe=fe(),$pe=Ro(),QU=Mn(),YU=Et(),zpe=lC(),Vpe=WU(),Kpe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??QU.fromBase64,base64Encoder:t?.base64Encoder??QU.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Vpe.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??zpe.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Hpe.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new jpe.NoAuthSigner}],logger:t?.logger??new Gpe.NoOpLogger,serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??$pe.parseUrl,utf8Decoder:t?.utf8Decoder??YU.fromUtf8,utf8Encoder:t?.utf8Encoder??YU.toUtf8});nf.getRuntimeConfig=Kpe});var Ia=g((c$e,nF)=>{var Wpe=Object.create,Zd=Object.defineProperty,Qpe=Object.getOwnPropertyDescriptor,Ype=Object.getOwnPropertyNames,Jpe=Object.getPrototypeOf,Xpe=Object.prototype.hasOwnProperty,gC=(t,e)=>Zd(t,"name",{value:e,configurable:!0}),Zpe=(t,e)=>{for(var r in e)Zd(t,r,{get:e[r],enumerable:!0})},tF=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ype(e))!Xpe.call(t,o)&&o!==r&&Zd(t,o,{get:()=>e[o],enumerable:!(n=Qpe(e,o))||n.enumerable});return t},eme=(t,e,r)=>(r=t!=null?Wpe(Jpe(t)):{},tF(e||!t||!t.__esModule?Zd(r,"default",{value:t,enumerable:!0}):r,t)),tme=t=>tF(Zd({},"__esModule",{value:!0}),t),rF={};Zpe(rF,{resolveDefaultsModeConfig:()=>ume});nF.exports=tme(rF);var rme=fr(),XU=rn(),nme=Lt(),ome="AWS_EXECUTION_ENV",ZU="AWS_REGION",eF="AWS_DEFAULT_REGION",ime="AWS_EC2_METADATA_DISABLED",sme=["in-region","cross-region","mobile","standard","legacy"],ame="/latest/meta-data/placement/region",cme="AWS_DEFAULTS_MODE",dme="defaults_mode",lme={environmentVariableSelector:t=>t[cme],configFileSelector:t=>t[dme],default:"legacy"},ume=gC(({region:t=(0,XU.loadConfig)(rme.NODE_REGION_CONFIG_OPTIONS),defaultsMode:e=(0,XU.loadConfig)(lme)}={})=>(0,nme.memoize)(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return pme(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${sme.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),pme=gC(async t=>{if(t){let e=typeof t=="function"?await t():t,r=await mme();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),mme=gC(async()=>{if(process.env[ome]&&(process.env[ZU]||process.env[eF]))return process.env[ZU]??process.env[eF];if(!process.env[ime])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>eme(Jd())),r=await t();return(await e({...r,path:ame})).toString()}catch{}},"inferPhysicalRegion")});var sF=g(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.getRuntimeConfig=void 0;var hme=(_e(),M(ye)),fme=hme.__importDefault(gU()),gme=(Ze(),M(Xe)),yme=va(),of=fr(),_me=Ea(),oF=_r(),el=rn(),iF=No(),vme=Ca(),Eme=Ji(),Cme=JU(),Sme=fe(),Tme=Ia(),Ame=fe(),Ime=t=>{(0,Ame.emitWarningIfUnsupportedVersion)(process.version);let e=(0,Tme.resolveDefaultsModeConfig)(t),r=()=>e().then(Sme.loadConfigsForDefaultMode),n=(0,Cme.getRuntimeConfig)(t);return(0,gme.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??vme.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,yme.defaultUserAgent)({serviceId:n.serviceId,clientVersion:fme.default.version}),maxAttempts:t?.maxAttempts??(0,el.loadConfig)(oF.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,el.loadConfig)(of.NODE_REGION_CONFIG_OPTIONS,of.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:iF.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,el.loadConfig)({...oF.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Eme.DEFAULT_RETRY_MODE}),sha256:t?.sha256??_me.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??iF.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,el.loadConfig)(of.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,el.loadConfig)(of.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};sf.getRuntimeConfig=Ime});var Ra=g((l$e,pF)=>{"use strict";var af=Object.defineProperty,bme=Object.getOwnPropertyDescriptor,Rme=Object.getOwnPropertyNames,wme=Object.prototype.hasOwnProperty,ba=(t,e)=>af(t,"name",{value:e,configurable:!0}),Pme=(t,e)=>{for(var r in e)af(t,r,{get:e[r],enumerable:!0})},Ome=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Rme(e))!wme.call(t,o)&&o!==r&&af(t,o,{get:()=>e[o],enumerable:!(n=bme(e,o))||n.enumerable});return t},xme=t=>Ome(af({},"__esModule",{value:!0}),t),cF={};Pme(cF,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Mme,NODE_REGION_CONFIG_OPTIONS:()=>kme,REGION_ENV_NAME:()=>dF,REGION_INI_NAME:()=>lF,getAwsRegionExtensionConfiguration:()=>Nme,resolveAwsRegionExtensionConfiguration:()=>Dme,resolveRegionConfig:()=>Lme});pF.exports=xme(cF);var Nme=ba(t=>{let e=ba(async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=t.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){e=r},region(){return e}}},"getAwsRegionExtensionConfiguration"),Dme=ba(t=>({region:t.region()}),"resolveAwsRegionExtensionConfiguration"),dF="AWS_REGION",lF="region",kme={environmentVariableSelector:t=>t[dF],configFileSelector:t=>t[lF],default:()=>{throw new Error("Region is missing")}},Mme={preferredFile:"credentials"},uF=ba(t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),"isFipsRegion"),aF=ba(t=>uF(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,"getRealRegion"),Lme=ba(t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return aF(e);let n=await e();return aF(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return uF(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var rB=g((y$e,tB)=>{"use strict";var df=Object.defineProperty,Ume=Object.getOwnPropertyDescriptor,Fme=Object.getOwnPropertyNames,Bme=Object.prototype.hasOwnProperty,oe=(t,e)=>df(t,"name",{value:e,configurable:!0}),qme=(t,e)=>{for(var r in e)df(t,r,{get:e[r],enumerable:!0})},Hme=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Fme(e))!Bme.call(t,o)&&o!==r&&df(t,o,{get:()=>e[o],enumerable:!(n=Ume(e,o))||n.enumerable});return t},jme=t=>Hme(df({},"__esModule",{value:!0}),t),vF={};qme(vF,{GetRoleCredentialsCommand:()=>WF,GetRoleCredentialsRequestFilterSensitiveLog:()=>MF,GetRoleCredentialsResponseFilterSensitiveLog:()=>UF,InvalidRequestException:()=>IF,ListAccountRolesCommand:()=>yC,ListAccountRolesRequestFilterSensitiveLog:()=>FF,ListAccountsCommand:()=>_C,ListAccountsRequestFilterSensitiveLog:()=>BF,LogoutCommand:()=>XF,LogoutRequestFilterSensitiveLog:()=>qF,ResourceNotFoundException:()=>wF,RoleCredentialsFilterSensitiveLog:()=>LF,SSO:()=>eB,SSOClient:()=>uf,SSOServiceException:()=>wa,TooManyRequestsException:()=>xF,UnauthorizedException:()=>kF,__Client:()=>F.Client,paginateListAccountRoles:()=>hhe,paginateListAccounts:()=>fhe});tB.exports=jme(vF);var mF=ta(),Gme=ra(),$me=na(),hF=ia(),zme=fr(),Bn=(mt(),M(bt)),Vme=ha(),rl=Po(),fF=_r(),gF=lC(),Kme=oe(t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),lf={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Wme=sF(),yF=Ra(),_F=De(),F=fe(),Qme=oe(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Yme=oe(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),cf=oe(t=>t,"asPartial"),Jme=oe((t,e)=>{let r={...cf((0,yF.getAwsRegionExtensionConfiguration)(t)),...cf((0,F.getDefaultExtensionConfiguration)(t)),...cf((0,_F.getHttpHandlerExtensionConfiguration)(t)),...cf(Qme(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,yF.resolveAwsRegionExtensionConfiguration)(r),...(0,F.resolveDefaultRuntimeConfig)(r),...(0,_F.resolveHttpHandlerRuntimeConfig)(r),...Yme(r)}},"resolveRuntimeExtensions"),EF=class extends F.Client{constructor(...[e]){let r=(0,Wme.getRuntimeConfig)(e||{}),n=Kme(r),o=(0,hF.resolveUserAgentConfig)(n),i=(0,fF.resolveRetryConfig)(o),s=(0,zme.resolveRegionConfig)(i),a=(0,mF.resolveHostHeaderConfig)(s),c=(0,rl.resolveEndpointConfig)(a),d=(0,gF.resolveHttpAuthSchemeConfig)(c),u=Jme(d,e?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,hF.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,fF.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Vme.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,mF.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Gme.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,$me.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Bn.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:gF.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new Bn.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use((0,Bn.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};oe(EF,"SSOClient");var uf=EF,pf=wo(),CF=class SF extends F.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,SF.prototype)}};oe(CF,"SSOServiceException");var wa=CF,TF=class AF extends wa{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,AF.prototype)}};oe(TF,"InvalidRequestException");var IF=TF,bF=class RF extends wa{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,RF.prototype)}};oe(bF,"ResourceNotFoundException");var wF=bF,PF=class OF extends wa{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,OF.prototype)}};oe(PF,"TooManyRequestsException");var xF=PF,NF=class DF extends wa{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,DF.prototype)}};oe(NF,"UnauthorizedException");var kF=NF,MF=oe(t=>({...t,...t.accessToken&&{accessToken:F.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),LF=oe(t=>({...t,...t.secretAccessKey&&{secretAccessKey:F.SENSITIVE_STRING},...t.sessionToken&&{sessionToken:F.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),UF=oe(t=>({...t,...t.roleCredentials&&{roleCredentials:LF(t.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),FF=oe(t=>({...t,...t.accessToken&&{accessToken:F.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),BF=oe(t=>({...t,...t.accessToken&&{accessToken:F.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),qF=oe(t=>({...t,...t.accessToken&&{accessToken:F.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),tl=(Ze(),M(Xe)),Xme=oe(async(t,e)=>{let r=(0,Bn.requestBuilder)(t,e),n=(0,F.map)({},hf,{[gf]:t[ff]});r.bp("/federation/credentials");let o=(0,F.map)({[phe]:[,(0,F.expectNonNull)(t[uhe],"roleName")],[jF]:[,(0,F.expectNonNull)(t[HF],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Zme=oe(async(t,e)=>{let r=(0,Bn.requestBuilder)(t,e),n=(0,F.map)({},hf,{[gf]:t[ff]});r.bp("/assignment/roles");let o=(0,F.map)({[VF]:[,t[zF]],[$F]:[()=>t.maxResults!==void 0,()=>t[GF].toString()],[jF]:[,(0,F.expectNonNull)(t[HF],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),ehe=oe(async(t,e)=>{let r=(0,Bn.requestBuilder)(t,e),n=(0,F.map)({},hf,{[gf]:t[ff]});r.bp("/assignment/accounts");let o=(0,F.map)({[VF]:[,t[zF]],[$F]:[()=>t.maxResults!==void 0,()=>t[GF].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),the=oe(async(t,e)=>{let r=(0,Bn.requestBuilder)(t,e),n=(0,F.map)({},hf,{[gf]:t[ff]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),rhe=oe(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return mf(t,e);let r=(0,F.map)({$metadata:Bo(t)}),n=(0,F.expectNonNull)((0,F.expectObject)(await(0,tl.parseJsonBody)(t.body,e)),"body"),o=(0,F.take)(n,{roleCredentials:F._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),nhe=oe(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return mf(t,e);let r=(0,F.map)({$metadata:Bo(t)}),n=(0,F.expectNonNull)((0,F.expectObject)(await(0,tl.parseJsonBody)(t.body,e)),"body"),o=(0,F.take)(n,{nextToken:F.expectString,roleList:F._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),ohe=oe(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return mf(t,e);let r=(0,F.map)({$metadata:Bo(t)}),n=(0,F.expectNonNull)((0,F.expectObject)(await(0,tl.parseJsonBody)(t.body,e)),"body"),o=(0,F.take)(n,{accountList:F._json,nextToken:F.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),ihe=oe(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return mf(t,e);let r=(0,F.map)({$metadata:Bo(t)});return await(0,F.collectBody)(t.body,e),r},"de_LogoutCommand"),mf=oe(async(t,e)=>{let r={...t,body:await(0,tl.parseJsonErrorBody)(t.body,e)},n=(0,tl.loadRestJsonErrorCode)(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await ahe(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await che(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await dhe(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await lhe(r,e);default:let o=r.body;return she({output:t,parsedBody:o,errorCode:n})}},"de_CommandError"),she=(0,F.withBaseException)(wa),ahe=oe(async(t,e)=>{let r=(0,F.map)({}),n=t.body,o=(0,F.take)(n,{message:F.expectString});Object.assign(r,o);let i=new IF({$metadata:Bo(t),...r});return(0,F.decorateServiceException)(i,t.body)},"de_InvalidRequestExceptionRes"),che=oe(async(t,e)=>{let r=(0,F.map)({}),n=t.body,o=(0,F.take)(n,{message:F.expectString});Object.assign(r,o);let i=new wF({$metadata:Bo(t),...r});return(0,F.decorateServiceException)(i,t.body)},"de_ResourceNotFoundExceptionRes"),dhe=oe(async(t,e)=>{let r=(0,F.map)({}),n=t.body,o=(0,F.take)(n,{message:F.expectString});Object.assign(r,o);let i=new xF({$metadata:Bo(t),...r});return(0,F.decorateServiceException)(i,t.body)},"de_TooManyRequestsExceptionRes"),lhe=oe(async(t,e)=>{let r=(0,F.map)({}),n=t.body,o=(0,F.take)(n,{message:F.expectString});Object.assign(r,o);let i=new kF({$metadata:Bo(t),...r});return(0,F.decorateServiceException)(i,t.body)},"de_UnauthorizedExceptionRes"),Bo=oe(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),hf=oe(t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),"isSerializableHeaderValue"),HF="accountId",ff="accessToken",jF="account_id",GF="maxResults",$F="max_result",zF="nextToken",VF="next_token",uhe="roleName",phe="role_name",gf="x-amz-sso_bearer_token",KF=class extends F.Command.classBuilder().ep({...lf}).m(function(e,r,n,o){return[(0,pf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,rl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(MF,UF).ser(Xme).de(rhe).build(){};oe(KF,"GetRoleCredentialsCommand");var WF=KF,QF=class extends F.Command.classBuilder().ep({...lf}).m(function(e,r,n,o){return[(0,pf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,rl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(FF,void 0).ser(Zme).de(nhe).build(){};oe(QF,"ListAccountRolesCommand");var yC=QF,YF=class extends F.Command.classBuilder().ep({...lf}).m(function(e,r,n,o){return[(0,pf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,rl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(BF,void 0).ser(ehe).de(ohe).build(){};oe(YF,"ListAccountsCommand");var _C=YF,JF=class extends F.Command.classBuilder().ep({...lf}).m(function(e,r,n,o){return[(0,pf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,rl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(qF,void 0).ser(the).de(ihe).build(){};oe(JF,"LogoutCommand");var XF=JF,mhe={GetRoleCredentialsCommand:WF,ListAccountRolesCommand:yC,ListAccountsCommand:_C,LogoutCommand:XF},ZF=class extends uf{};oe(ZF,"SSO");var eB=ZF;(0,F.createAggregatedClient)(mhe,eB);var hhe=(0,Bn.createPaginator)(uf,yC,"nextToken","nextToken","maxResults"),fhe=(0,Bn.createPaginator)(uf,_C,"nextToken","nextToken","maxResults")});var EC=g(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.resolveHttpAuthSchemeConfig=qo.defaultSSOOIDCHttpAuthSchemeProvider=qo.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var ghe=(Ze(),M(Xe)),nB=hr(),yhe=async(t,e,r)=>({operation:(0,nB.getSmithyContext)(e).operation,region:await(0,nB.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});qo.defaultSSOOIDCHttpAuthSchemeParametersProvider=yhe;function _he(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function vC(t){return{schemeId:"smithy.api#noAuth"}}var vhe=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(vC(t));break}case"RegisterClient":{e.push(vC(t));break}case"StartDeviceAuthorization":{e.push(vC(t));break}default:e.push(_he(t))}return e};qo.defaultSSOOIDCHttpAuthSchemeProvider=vhe;var Ehe=t=>({...(0,ghe.resolveAwsSdkSigV4Config)(t)});qo.resolveHttpAuthSchemeConfig=Ehe});var oB=g((v$e,Che)=>{Che.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",peerDependencies:{"@aws-sdk/client-sts":"^3.645.0"},browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var vB=g(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.ruleSet=void 0;var fB="required",Tr="fn",Ar="argv",xa="ref",iB=!0,sB="isSet",nl="booleanEquals",Pa="error",Oa="endpoint",qn="tree",CC="PartitionResult",SC="getAttr",aB={[fB]:!1,type:"String"},cB={[fB]:!0,default:!1,type:"Boolean"},dB={[xa]:"Endpoint"},gB={[Tr]:nl,[Ar]:[{[xa]:"UseFIPS"},!0]},yB={[Tr]:nl,[Ar]:[{[xa]:"UseDualStack"},!0]},Sr={},lB={[Tr]:SC,[Ar]:[{[xa]:CC},"supportsFIPS"]},_B={[xa]:CC},uB={[Tr]:nl,[Ar]:[!0,{[Tr]:SC,[Ar]:[_B,"supportsDualStack"]}]},pB=[gB],mB=[yB],hB=[{[xa]:"Region"}],She={version:"1.0",parameters:{Region:aB,UseDualStack:cB,UseFIPS:cB,Endpoint:aB},rules:[{conditions:[{[Tr]:sB,[Ar]:[dB]}],rules:[{conditions:pB,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Pa},{conditions:mB,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Pa},{endpoint:{url:dB,properties:Sr,headers:Sr},type:Oa}],type:qn},{conditions:[{[Tr]:sB,[Ar]:hB}],rules:[{conditions:[{[Tr]:"aws.partition",[Ar]:hB,assign:CC}],rules:[{conditions:[gB,yB],rules:[{conditions:[{[Tr]:nl,[Ar]:[iB,lB]},uB],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sr,headers:Sr},type:Oa}],type:qn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Pa}],type:qn},{conditions:pB,rules:[{conditions:[{[Tr]:nl,[Ar]:[lB,iB]}],rules:[{conditions:[{[Tr]:"stringEquals",[Ar]:[{[Tr]:SC,[Ar]:[_B,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Sr,headers:Sr},type:Oa},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Sr,headers:Sr},type:Oa}],type:qn},{error:"FIPS is enabled but this partition does not support FIPS",type:Pa}],type:qn},{conditions:mB,rules:[{conditions:[uB],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sr,headers:Sr},type:Oa}],type:qn},{error:"DualStack is enabled but this partition does not support DualStack",type:Pa}],type:qn},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Sr,headers:Sr},type:Oa}],type:qn}],type:qn},{error:"Invalid Configuration: Missing Region",type:Pa}]};yf.ruleSet=She});var CB=g(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.defaultEndpointResolver=void 0;var The=Ki(),EB=Vi(),Ahe=vB(),Ihe=(t,e={})=>(0,EB.resolveEndpoint)(Ahe.ruleSet,{endpointParams:t,logger:e.logger});_f.defaultEndpointResolver=Ihe;EB.customEndpointFunctions.aws=The.awsEndpointFunctions});var AB=g(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.getRuntimeConfig=void 0;var bhe=(Ze(),M(Xe)),Rhe=(mt(),M(bt)),whe=fe(),Phe=Ro(),SB=Mn(),TB=Et(),Ohe=EC(),xhe=CB(),Nhe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??SB.fromBase64,base64Encoder:t?.base64Encoder??SB.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??xhe.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Ohe.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new bhe.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Rhe.NoAuthSigner}],logger:t?.logger??new whe.NoOpLogger,serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??Phe.parseUrl,utf8Decoder:t?.utf8Decoder??TB.fromUtf8,utf8Encoder:t?.utf8Encoder??TB.toUtf8});vf.getRuntimeConfig=Nhe});var RB=g(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.getRuntimeConfig=void 0;var Dhe=(_e(),M(ye)),khe=Dhe.__importDefault(oB()),Mhe=(Ze(),M(Xe)),Lhe=il(),Uhe=va(),Ef=fr(),Fhe=Ea(),IB=_r(),ol=rn(),bB=No(),Bhe=Ca(),qhe=Ji(),Hhe=AB(),jhe=fe(),Ghe=Ia(),$he=fe(),zhe=t=>{(0,$he.emitWarningIfUnsupportedVersion)(process.version);let e=(0,Ghe.resolveDefaultsModeConfig)(t),r=()=>e().then(jhe.loadConfigsForDefaultMode),n=(0,Hhe.getRuntimeConfig)(t);return(0,Mhe.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??Bhe.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??Lhe.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,Uhe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:khe.default.version}),maxAttempts:t?.maxAttempts??(0,ol.loadConfig)(IB.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,ol.loadConfig)(Ef.NODE_REGION_CONFIG_OPTIONS,Ef.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:bB.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,ol.loadConfig)({...IB.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||qhe.DEFAULT_RETRY_MODE}),sha256:t?.sha256??Fhe.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??bB.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,ol.loadConfig)(Ef.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,ol.loadConfig)(Ef.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Cf.getRuntimeConfig=zhe});var TC=g((O$e,Gq)=>{"use strict";var Tf=Object.defineProperty,Vhe=Object.getOwnPropertyDescriptor,Khe=Object.getOwnPropertyNames,Whe=Object.prototype.hasOwnProperty,V=(t,e)=>Tf(t,"name",{value:e,configurable:!0}),Qhe=(t,e)=>{for(var r in e)Tf(t,r,{get:e[r],enumerable:!0})},Yhe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Khe(e))!Whe.call(t,o)&&o!==r&&Tf(t,o,{get:()=>e[o],enumerable:!(n=Vhe(e,o))||n.enumerable});return t},Jhe=t=>Yhe(Tf({},"__esModule",{value:!0}),t),kB={};Qhe(kB,{AccessDeniedException:()=>HB,AuthorizationPendingException:()=>$B,CreateTokenCommand:()=>kq,CreateTokenRequestFilterSensitiveLog:()=>Rq,CreateTokenResponseFilterSensitiveLog:()=>wq,CreateTokenWithIAMCommand:()=>Lq,CreateTokenWithIAMRequestFilterSensitiveLog:()=>Pq,CreateTokenWithIAMResponseFilterSensitiveLog:()=>Oq,ExpiredTokenException:()=>KB,InternalServerException:()=>YB,InvalidClientException:()=>ZB,InvalidClientMetadataException:()=>Tq,InvalidGrantException:()=>rq,InvalidRedirectUriException:()=>bq,InvalidRequestException:()=>iq,InvalidRequestRegionException:()=>Eq,InvalidScopeException:()=>cq,RegisterClientCommand:()=>Fq,RegisterClientResponseFilterSensitiveLog:()=>xq,SSOOIDC:()=>jq,SSOOIDCClient:()=>LB,SSOOIDCServiceException:()=>Rt,SlowDownException:()=>uq,StartDeviceAuthorizationCommand:()=>qq,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>Nq,UnauthorizedClientException:()=>hq,UnsupportedGrantTypeException:()=>yq,__Client:()=>S.Client});Gq.exports=Jhe(kB);var wB=ta(),Xhe=ra(),Zhe=na(),PB=ia(),efe=fr(),ns=(mt(),M(bt)),tfe=ha(),sl=Po(),OB=_r(),xB=EC(),rfe=V(t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),Af={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},nfe=RB(),NB=Ra(),DB=De(),S=fe(),ofe=V(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),ife=V(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),Sf=V(t=>t,"asPartial"),sfe=V((t,e)=>{let r={...Sf((0,NB.getAwsRegionExtensionConfiguration)(t)),...Sf((0,S.getDefaultExtensionConfiguration)(t)),...Sf((0,DB.getHttpHandlerExtensionConfiguration)(t)),...Sf(ofe(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,NB.resolveAwsRegionExtensionConfiguration)(r),...(0,S.resolveDefaultRuntimeConfig)(r),...(0,DB.resolveHttpHandlerRuntimeConfig)(r),...ife(r)}},"resolveRuntimeExtensions"),MB=class extends S.Client{constructor(...[e]){let r=(0,nfe.getRuntimeConfig)(e||{}),n=rfe(r),o=(0,PB.resolveUserAgentConfig)(n),i=(0,OB.resolveRetryConfig)(o),s=(0,efe.resolveRegionConfig)(i),a=(0,wB.resolveHostHeaderConfig)(s),c=(0,sl.resolveEndpointConfig)(a),d=(0,xB.resolveHttpAuthSchemeConfig)(c),u=sfe(d,e?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,PB.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,OB.getRetryPlugin)(this.config)),this.middlewareStack.use((0,tfe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,wB.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Xhe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Zhe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,ns.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:xB.defaultSSOOIDCHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new ns.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use((0,ns.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};V(MB,"SSOOIDCClient");var LB=MB,If=wo(),UB=class FB extends S.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,FB.prototype)}};V(UB,"SSOOIDCServiceException");var Rt=UB,BB=class qB extends Rt{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,qB.prototype),this.error=e.error,this.error_description=e.error_description}};V(BB,"AccessDeniedException");var HB=BB,jB=class GB extends Rt{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,GB.prototype),this.error=e.error,this.error_description=e.error_description}};V(jB,"AuthorizationPendingException");var $B=jB,zB=class VB extends Rt{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,VB.prototype),this.error=e.error,this.error_description=e.error_description}};V(zB,"ExpiredTokenException");var KB=zB,WB=class QB extends Rt{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,QB.prototype),this.error=e.error,this.error_description=e.error_description}};V(WB,"InternalServerException");var YB=WB,JB=class XB extends Rt{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,XB.prototype),this.error=e.error,this.error_description=e.error_description}};V(JB,"InvalidClientException");var ZB=JB,eq=class tq extends Rt{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,tq.prototype),this.error=e.error,this.error_description=e.error_description}};V(eq,"InvalidGrantException");var rq=eq,nq=class oq extends Rt{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,oq.prototype),this.error=e.error,this.error_description=e.error_description}};V(nq,"InvalidRequestException");var iq=nq,sq=class aq extends Rt{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,aq.prototype),this.error=e.error,this.error_description=e.error_description}};V(sq,"InvalidScopeException");var cq=sq,dq=class lq extends Rt{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,lq.prototype),this.error=e.error,this.error_description=e.error_description}};V(dq,"SlowDownException");var uq=dq,pq=class mq extends Rt{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,mq.prototype),this.error=e.error,this.error_description=e.error_description}};V(pq,"UnauthorizedClientException");var hq=pq,fq=class gq extends Rt{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,gq.prototype),this.error=e.error,this.error_description=e.error_description}};V(fq,"UnsupportedGrantTypeException");var yq=fq,_q=class vq extends Rt{constructor(e){super({name:"InvalidRequestRegionException",$fault:"client",...e}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,vq.prototype),this.error=e.error,this.error_description=e.error_description,this.endpoint=e.endpoint,this.region=e.region}};V(_q,"InvalidRequestRegionException");var Eq=_q,Cq=class Sq extends Rt{constructor(e){super({name:"InvalidClientMetadataException",$fault:"client",...e}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,Sq.prototype),this.error=e.error,this.error_description=e.error_description}};V(Cq,"InvalidClientMetadataException");var Tq=Cq,Aq=class Iq extends Rt{constructor(e){super({name:"InvalidRedirectUriException",$fault:"client",...e}),this.name="InvalidRedirectUriException",this.$fault="client",Object.setPrototypeOf(this,Iq.prototype),this.error=e.error,this.error_description=e.error_description}};V(Aq,"InvalidRedirectUriException");var bq=Aq,Rq=V(t=>({...t,...t.clientSecret&&{clientSecret:S.SENSITIVE_STRING},...t.refreshToken&&{refreshToken:S.SENSITIVE_STRING},...t.codeVerifier&&{codeVerifier:S.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),wq=V(t=>({...t,...t.accessToken&&{accessToken:S.SENSITIVE_STRING},...t.refreshToken&&{refreshToken:S.SENSITIVE_STRING},...t.idToken&&{idToken:S.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),Pq=V(t=>({...t,...t.refreshToken&&{refreshToken:S.SENSITIVE_STRING},...t.assertion&&{assertion:S.SENSITIVE_STRING},...t.subjectToken&&{subjectToken:S.SENSITIVE_STRING},...t.codeVerifier&&{codeVerifier:S.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),Oq=V(t=>({...t,...t.accessToken&&{accessToken:S.SENSITIVE_STRING},...t.refreshToken&&{refreshToken:S.SENSITIVE_STRING},...t.idToken&&{idToken:S.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),xq=V(t=>({...t,...t.clientSecret&&{clientSecret:S.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),Nq=V(t=>({...t,...t.clientSecret&&{clientSecret:S.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),Na=(Ze(),M(Xe)),afe=V(async(t,e)=>{let r=(0,ns.requestBuilder)(t,e),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,S.take)(t,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,S._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_CreateTokenCommand"),cfe=V(async(t,e)=>{let r=(0,ns.requestBuilder)(t,e),n={"content-type":"application/json"};r.bp("/token");let o=(0,S.map)({[Ofe]:[,"t"]}),i;return i=JSON.stringify((0,S.take)(t,{assertion:[],clientId:[],code:[],codeVerifier:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:s=>(0,S._json)(s),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(o).b(i),r.build()},"se_CreateTokenWithIAMCommand"),dfe=V(async(t,e)=>{let r=(0,ns.requestBuilder)(t,e),n={"content-type":"application/json"};r.bp("/client/register");let o;return o=JSON.stringify((0,S.take)(t,{clientName:[],clientType:[],entitledApplicationArn:[],grantTypes:i=>(0,S._json)(i),issuerUrl:[],redirectUris:i=>(0,S._json)(i),scopes:i=>(0,S._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_RegisterClientCommand"),lfe=V(async(t,e)=>{let r=(0,ns.requestBuilder)(t,e),n={"content-type":"application/json"};r.bp("/device_authorization");let o;return o=JSON.stringify((0,S.take)(t,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartDeviceAuthorizationCommand"),ufe=V(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return bf(t,e);let r=(0,S.map)({$metadata:ft(t)}),n=(0,S.expectNonNull)((0,S.expectObject)(await(0,Na.parseJsonBody)(t.body,e)),"body"),o=(0,S.take)(n,{accessToken:S.expectString,expiresIn:S.expectInt32,idToken:S.expectString,refreshToken:S.expectString,tokenType:S.expectString});return Object.assign(r,o),r},"de_CreateTokenCommand"),pfe=V(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return bf(t,e);let r=(0,S.map)({$metadata:ft(t)}),n=(0,S.expectNonNull)((0,S.expectObject)(await(0,Na.parseJsonBody)(t.body,e)),"body"),o=(0,S.take)(n,{accessToken:S.expectString,expiresIn:S.expectInt32,idToken:S.expectString,issuedTokenType:S.expectString,refreshToken:S.expectString,scope:S._json,tokenType:S.expectString});return Object.assign(r,o),r},"de_CreateTokenWithIAMCommand"),mfe=V(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return bf(t,e);let r=(0,S.map)({$metadata:ft(t)}),n=(0,S.expectNonNull)((0,S.expectObject)(await(0,Na.parseJsonBody)(t.body,e)),"body"),o=(0,S.take)(n,{authorizationEndpoint:S.expectString,clientId:S.expectString,clientIdIssuedAt:S.expectLong,clientSecret:S.expectString,clientSecretExpiresAt:S.expectLong,tokenEndpoint:S.expectString});return Object.assign(r,o),r},"de_RegisterClientCommand"),hfe=V(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return bf(t,e);let r=(0,S.map)({$metadata:ft(t)}),n=(0,S.expectNonNull)((0,S.expectObject)(await(0,Na.parseJsonBody)(t.body,e)),"body"),o=(0,S.take)(n,{deviceCode:S.expectString,expiresIn:S.expectInt32,interval:S.expectInt32,userCode:S.expectString,verificationUri:S.expectString,verificationUriComplete:S.expectString});return Object.assign(r,o),r},"de_StartDeviceAuthorizationCommand"),bf=V(async(t,e)=>{let r={...t,body:await(0,Na.parseJsonErrorBody)(t.body,e)},n=(0,Na.loadRestJsonErrorCode)(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await gfe(r,e);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await yfe(r,e);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await _fe(r,e);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await vfe(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Efe(r,e);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Sfe(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Afe(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await bfe(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Rfe(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await wfe(r,e);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Pfe(r,e);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await Ife(r,e);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await Cfe(r,e);case"InvalidRedirectUriException":case"com.amazonaws.ssooidc#InvalidRedirectUriException":throw await Tfe(r,e);default:let o=r.body;return ffe({output:t,parsedBody:o,errorCode:n})}},"de_CommandError"),ffe=(0,S.withBaseException)(Rt),gfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new HB({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_AccessDeniedExceptionRes"),yfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new $B({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_AuthorizationPendingExceptionRes"),_fe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new KB({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_ExpiredTokenExceptionRes"),vfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new YB({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InternalServerExceptionRes"),Efe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new ZB({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidClientExceptionRes"),Cfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new Tq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidClientMetadataExceptionRes"),Sfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new rq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidGrantExceptionRes"),Tfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new bq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidRedirectUriExceptionRes"),Afe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new iq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidRequestExceptionRes"),Ife=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{endpoint:S.expectString,error:S.expectString,error_description:S.expectString,region:S.expectString});Object.assign(r,o);let i=new Eq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidRequestRegionExceptionRes"),bfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new cq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidScopeExceptionRes"),Rfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new uq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_SlowDownExceptionRes"),wfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new hq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_UnauthorizedClientExceptionRes"),Pfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new yq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_UnsupportedGrantTypeExceptionRes"),ft=V(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),Ofe="aws_iam",Dq=class extends S.Command.classBuilder().ep({...Af}).m(function(e,r,n,o){return[(0,If.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Rq,wq).ser(afe).de(ufe).build(){};V(Dq,"CreateTokenCommand");var kq=Dq,Mq=class extends S.Command.classBuilder().ep({...Af}).m(function(e,r,n,o){return[(0,If.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(Pq,Oq).ser(cfe).de(pfe).build(){};V(Mq,"CreateTokenWithIAMCommand");var Lq=Mq,Uq=class extends S.Command.classBuilder().ep({...Af}).m(function(e,r,n,o){return[(0,If.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,xq).ser(dfe).de(mfe).build(){};V(Uq,"RegisterClientCommand");var Fq=Uq,Bq=class extends S.Command.classBuilder().ep({...Af}).m(function(e,r,n,o){return[(0,If.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(Nq,void 0).ser(lfe).de(hfe).build(){};V(Bq,"StartDeviceAuthorizationCommand");var qq=Bq,xfe={CreateTokenCommand:kq,CreateTokenWithIAMCommand:Lq,RegisterClientCommand:Fq,StartDeviceAuthorizationCommand:qq},Hq=class extends LB{};V(Hq,"SSOOIDC");var jq=Hq;(0,S.createAggregatedClient)(xfe,jq)});var Jq=g((x$e,Yq)=>{"use strict";var Nfe=Object.create,cl=Object.defineProperty,Dfe=Object.getOwnPropertyDescriptor,kfe=Object.getOwnPropertyNames,Mfe=Object.getPrototypeOf,Lfe=Object.prototype.hasOwnProperty,Ho=(t,e)=>cl(t,"name",{value:e,configurable:!0}),Ufe=(t,e)=>{for(var r in e)cl(t,r,{get:e[r],enumerable:!0})},Vq=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of kfe(e))!Lfe.call(t,o)&&o!==r&&cl(t,o,{get:()=>e[o],enumerable:!(n=Dfe(e,o))||n.enumerable});return t},Kq=(t,e,r)=>(r=t!=null?Nfe(Mfe(t)):{},Vq(e||!t||!t.__esModule?cl(r,"default",{value:t,enumerable:!0}):r,t)),Ffe=t=>Vq(cl({},"__esModule",{value:!0}),t),Wq={};Ufe(Wq,{fromSso:()=>Qq,fromStatic:()=>zfe,nodeProvider:()=>Vfe});Yq.exports=Ffe(Wq);var Bfe=5*60*1e3,IC="To refresh this SSO session run 'aws sso login' with the corresponding profile.",AC={},qfe=Ho(async t=>{let{SSOOIDCClient:e}=await Promise.resolve().then(()=>Kq(TC()));if(AC[t])return AC[t];let r=new e({region:t});return AC[t]=r,r},"getSsoOidcClient"),Hfe=Ho(async(t,e)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>Kq(TC()));return(await qfe(e)).send(new r({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Br=Lt(),$q=Ho(t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Br.TokenProviderError(`Token is expired. ${IC}`,!1)},"validateTokenExpiry"),os=Ho((t,e,r=!1)=>{if(typeof e>"u")throw new Br.TokenProviderError(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${IC}`,!1)},"validateTokenKey"),al=bo(),jfe=require("fs"),{writeFile:Gfe}=jfe.promises,$fe=Ho((t,e)=>{let r=(0,al.getSSOTokenFilepath)(t),n=JSON.stringify(e,null,2);return Gfe(r,n)},"writeSSOTokenToFile"),zq=new Date(0),Qq=Ho((t={})=>async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/token-providers - fromSso");let r=await(0,al.parseKnownFiles)(t),n=(0,al.getProfileName)(t),o=r[n];if(o){if(!o.sso_session)throw new Br.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Br.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=o.sso_session,a=(await(0,al.loadSsoSessionData)(t))[i];if(!a)throw new Br.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!a[y])throw new Br.TokenProviderError(`Sso session '${i}' is missing required property '${y}'.`,!1);let c=a.sso_start_url,d=a.sso_region,u;try{u=await(0,al.getSSOTokenFromFile)(i)}catch{throw new Br.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${IC}`,!1)}os("accessToken",u.accessToken),os("expiresAt",u.expiresAt);let{accessToken:m,expiresAt:f}=u,h={token:m,expiration:new Date(f)};if(h.expiration.getTime()-Date.now()>Bfe)return h;if(Date.now()-zq.getTime()<30*1e3)return $q(h),h;os("clientId",u.clientId,!0),os("clientSecret",u.clientSecret,!0),os("refreshToken",u.refreshToken,!0);try{zq.setTime(Date.now());let y=await Hfe(u,d);os("accessToken",y.accessToken),os("expiresIn",y.expiresIn);let E=new Date(Date.now()+y.expiresIn*1e3);try{await $fe(i,{...u,accessToken:y.accessToken,expiresAt:E.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:E}}catch{return $q(h),h}},"fromSso"),zfe=Ho(({token:t,logger:e})=>async()=>{if(e?.debug("@aws-sdk/token-providers - fromStatic"),!t||!t.token)throw new Br.TokenProviderError("Please pass a valid token to fromStatic",!1);return t},"fromStatic"),Vfe=Ho((t={})=>(0,Br.memoize)((0,Br.chain)(Qq(t),async()=>{throw new Br.TokenProviderError("Could not load token from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0),"nodeProvider")});var RC=g((N$e,i1)=>{"use strict";var wf=Object.defineProperty,Kfe=Object.getOwnPropertyDescriptor,Zq=Object.getOwnPropertyNames,Wfe=Object.prototype.hasOwnProperty,Pf=(t,e)=>wf(t,"name",{value:e,configurable:!0}),Qfe=(t,e)=>function(){return t&&(e=(0,t[Zq(t)[0]])(t=0)),e},e1=(t,e)=>{for(var r in e)wf(t,r,{get:e[r],enumerable:!0})},Yfe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Zq(e))!Wfe.call(t,o)&&o!==r&&wf(t,o,{get:()=>e[o],enumerable:!(n=Kfe(e,o))||n.enumerable});return t},Jfe=t=>Yfe(wf({},"__esModule",{value:!0}),t),t1={};e1(t1,{GetRoleCredentialsCommand:()=>bC.GetRoleCredentialsCommand,SSOClient:()=>bC.SSOClient});var bC,Xfe=Qfe({"src/loadSso.ts"(){"use strict";bC=rB()}}),r1={};e1(r1,{fromSSO:()=>ege,isSsoProfile:()=>n1,validateSsoProfile:()=>o1});i1.exports=Jfe(r1);var n1=Pf(t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string"),"isSsoProfile"),Zfe=Jq(),qr=Lt(),Rf=bo(),dl=!1,Xq=Pf(async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:i,clientConfig:s,profile:a,logger:c})=>{let d,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let et=await(0,Zfe.fromSso)({profile:a})();d={accessToken:et.token,expiresAt:new Date(et.expiration).toISOString()}}catch(et){throw new qr.CredentialsProviderError(et.message,{tryNextLink:dl,logger:c})}else try{d=await(0,Rf.getSSOTokenFromFile)(t)}catch{throw new qr.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:dl,logger:c})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new qr.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:dl,logger:c});let{accessToken:m}=d,{SSOClient:f,GetRoleCredentialsCommand:h}=await Promise.resolve().then(()=>(Xfe(),t1)),y=i||new f(Object.assign({},s??{},{region:s?.region??n})),E;try{E=await y.send(new h({accountId:r,roleName:o,accessToken:m}))}catch(et){throw new qr.CredentialsProviderError(et,{tryNextLink:dl,logger:c})}let{roleCredentials:{accessKeyId:I,secretAccessKey:w,sessionToken:x,expiration:K,credentialScope:W,accountId:le}={}}=E;if(!I||!w||!x||!K)throw new qr.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:dl,logger:c});return{accessKeyId:I,secretAccessKey:w,sessionToken:x,expiration:new Date(K),...W&&{credentialScope:W},...le&&{accountId:le}}},"resolveSSOCredentials"),o1=Pf((t,e)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:i}=t;if(!r||!n||!o||!i)throw new qr.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t},"validateSsoProfile"),ege=Pf((t={})=>async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=t,{ssoClient:a}=t,c=(0,Rf.getProfileName)(t);if(!r&&!n&&!o&&!i&&!s){let u=(await(0,Rf.parseKnownFiles)(t))[c];if(!u)throw new qr.CredentialsProviderError(`Profile ${c} was not found.`,{logger:t.logger});if(!n1(u))throw new qr.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:t.logger});if(u?.sso_session){let w=(await(0,Rf.loadSsoSessionData)(t))[u.sso_session],x=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(o&&o!==w.sso_region)throw new qr.CredentialsProviderError("Conflicting SSO region"+x,{tryNextLink:!1,logger:t.logger});if(r&&r!==w.sso_start_url)throw new qr.CredentialsProviderError("Conflicting SSO start_url"+x,{tryNextLink:!1,logger:t.logger});u.sso_region=w.sso_region,u.sso_start_url=w.sso_start_url}let{sso_start_url:m,sso_account_id:f,sso_region:h,sso_role_name:y,sso_session:E}=o1(u,t.logger);return Xq({ssoStartUrl:m,ssoSession:E,ssoAccountId:f,ssoRegion:h,ssoRoleName:y,ssoClient:a,clientConfig:t.clientConfig,profile:c})}else{if(!r||!n||!o||!i)throw new qr.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return Xq({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoClient:a,clientConfig:t.clientConfig,profile:c})}},"fromSSO")});var wC=g(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.resolveHttpAuthSchemeConfig=Hr.resolveStsAuthConfig=Hr.defaultSTSHttpAuthSchemeProvider=Hr.defaultSTSHttpAuthSchemeParametersProvider=void 0;var tge=(Ze(),M(Xe)),s1=hr(),rge=ll(),nge=async(t,e,r)=>({operation:(0,s1.getSmithyContext)(e).operation,region:await(0,s1.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Hr.defaultSTSHttpAuthSchemeParametersProvider=nge;function oge(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function a1(t){return{schemeId:"smithy.api#noAuth"}}var ige=t=>{let e=[];switch(t.operation){case"AssumeRoleWithSAML":{e.push(a1(t));break}case"AssumeRoleWithWebIdentity":{e.push(a1(t));break}default:e.push(oge(t))}return e};Hr.defaultSTSHttpAuthSchemeProvider=ige;var sge=t=>({...t,stsClientCtor:rge.STSClient});Hr.resolveStsAuthConfig=sge;var age=t=>{let e=(0,Hr.resolveStsAuthConfig)(t);return{...(0,tge.resolveAwsSdkSigV4Config)(e)}};Hr.resolveHttpAuthSchemeConfig=age});var jr=g(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.commonParams=Da.resolveClientEndpointParameters=void 0;var cge=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"});Da.resolveClientEndpointParameters=cge;Da.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var c1=g((M$e,dge)=>{dge.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.645.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var O1=g(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.ruleSet=void 0;var E1="required",ee="type",pe="fn",me="argv",Go="ref",d1=!1,PC=!0,jo="booleanEquals",Ct="stringEquals",C1="sigv4",S1="sts",T1="us-east-1",ke="endpoint",l1="https://sts.{Region}.{PartitionResult#dnsSuffix}",sn="tree",ka="error",xC="getAttr",u1={[E1]:!1,[ee]:"String"},OC={[E1]:!0,default:!1,[ee]:"Boolean"},A1={[Go]:"Endpoint"},p1={[pe]:"isSet",[me]:[{[Go]:"Region"}]},St={[Go]:"Region"},m1={[pe]:"aws.partition",[me]:[St],assign:"PartitionResult"},I1={[Go]:"UseFIPS"},b1={[Go]:"UseDualStack"},wt={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:C1,signingName:S1,signingRegion:T1}]},headers:{}},tr={},h1={conditions:[{[pe]:Ct,[me]:[St,"aws-global"]}],[ke]:wt,[ee]:ke},R1={[pe]:jo,[me]:[I1,!0]},w1={[pe]:jo,[me]:[b1,!0]},f1={[pe]:xC,[me]:[{[Go]:"PartitionResult"},"supportsFIPS"]},P1={[Go]:"PartitionResult"},g1={[pe]:jo,[me]:[!0,{[pe]:xC,[me]:[P1,"supportsDualStack"]}]},y1=[{[pe]:"isSet",[me]:[A1]}],_1=[R1],v1=[w1],lge={version:"1.0",parameters:{Region:u1,UseDualStack:OC,UseFIPS:OC,Endpoint:u1,UseGlobalEndpoint:OC},rules:[{conditions:[{[pe]:jo,[me]:[{[Go]:"UseGlobalEndpoint"},PC]},{[pe]:"not",[me]:y1},p1,m1,{[pe]:jo,[me]:[I1,d1]},{[pe]:jo,[me]:[b1,d1]}],rules:[{conditions:[{[pe]:Ct,[me]:[St,"ap-northeast-1"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"ap-south-1"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"ap-southeast-1"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"ap-southeast-2"]}],endpoint:wt,[ee]:ke},h1,{conditions:[{[pe]:Ct,[me]:[St,"ca-central-1"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"eu-central-1"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"eu-north-1"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"eu-west-1"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"eu-west-2"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"eu-west-3"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"sa-east-1"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,T1]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"us-east-2"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"us-west-1"]}],endpoint:wt,[ee]:ke},{conditions:[{[pe]:Ct,[me]:[St,"us-west-2"]}],endpoint:wt,[ee]:ke},{endpoint:{url:l1,properties:{authSchemes:[{name:C1,signingName:S1,signingRegion:"{Region}"}]},headers:tr},[ee]:ke}],[ee]:sn},{conditions:y1,rules:[{conditions:_1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ee]:ka},{conditions:v1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ee]:ka},{endpoint:{url:A1,properties:tr,headers:tr},[ee]:ke}],[ee]:sn},{conditions:[p1],rules:[{conditions:[m1],rules:[{conditions:[R1,w1],rules:[{conditions:[{[pe]:jo,[me]:[PC,f1]},g1],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tr,headers:tr},[ee]:ke}],[ee]:sn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ee]:ka}],[ee]:sn},{conditions:_1,rules:[{conditions:[{[pe]:jo,[me]:[f1,PC]}],rules:[{conditions:[{[pe]:Ct,[me]:[{[pe]:xC,[me]:[P1,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:tr,headers:tr},[ee]:ke},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:tr,headers:tr},[ee]:ke}],[ee]:sn},{error:"FIPS is enabled but this partition does not support FIPS",[ee]:ka}],[ee]:sn},{conditions:v1,rules:[{conditions:[g1],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tr,headers:tr},[ee]:ke}],[ee]:sn},{error:"DualStack is enabled but this partition does not support DualStack",[ee]:ka}],[ee]:sn},h1,{endpoint:{url:l1,properties:tr,headers:tr},[ee]:ke}],[ee]:sn}],[ee]:sn},{error:"Invalid Configuration: Missing Region",[ee]:ka}]};Of.ruleSet=lge});var N1=g(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.defaultEndpointResolver=void 0;var uge=Ki(),x1=Vi(),pge=O1(),mge=(t,e={})=>(0,x1.resolveEndpoint)(pge.ruleSet,{endpointParams:t,logger:e.logger});xf.defaultEndpointResolver=mge;x1.customEndpointFunctions.aws=uge.awsEndpointFunctions});var M1=g(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.getRuntimeConfig=void 0;var hge=(Ze(),M(Xe)),fge=(mt(),M(bt)),gge=fe(),yge=Ro(),D1=Mn(),k1=Et(),_ge=wC(),vge=N1(),Ege=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??D1.fromBase64,base64Encoder:t?.base64Encoder??D1.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??vge.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??_ge.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new hge.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new fge.NoAuthSigner}],logger:t?.logger??new gge.NoOpLogger,serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??yge.parseUrl,utf8Decoder:t?.utf8Decoder??k1.fromUtf8,utf8Encoder:t?.utf8Encoder??k1.toUtf8});Nf.getRuntimeConfig=Ege});var q1=g(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.getRuntimeConfig=void 0;var Cge=(_e(),M(ye)),Sge=Cge.__importDefault(c1()),L1=(Ze(),M(Xe)),U1=il(),Tge=va(),Df=fr(),Age=(mt(),M(bt)),Ige=Ea(),F1=_r(),ul=rn(),B1=No(),bge=Ca(),Rge=Ji(),wge=M1(),Pge=fe(),Oge=Ia(),xge=fe(),Nge=t=>{(0,xge.emitWarningIfUnsupportedVersion)(process.version);let e=(0,Oge.resolveDefaultsModeConfig)(t),r=()=>e().then(Pge.loadConfigsForDefaultMode),n=(0,wge.getRuntimeConfig)(t);return(0,L1.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??bge.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??U1.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,Tge.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Sge.default.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,U1.defaultProvider)(i?.__config||{})()),signer:new L1.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Age.NoAuthSigner}],maxAttempts:t?.maxAttempts??(0,ul.loadConfig)(F1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,ul.loadConfig)(Df.NODE_REGION_CONFIG_OPTIONS,Df.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:B1.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,ul.loadConfig)({...F1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Rge.DEFAULT_RETRY_MODE}),sha256:t?.sha256??Ige.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??B1.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,ul.loadConfig)(Df.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,ul.loadConfig)(Df.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};kf.getRuntimeConfig=Nge});var H1=g(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.resolveHttpAuthRuntimeConfig=Ma.getHttpAuthExtensionConfiguration=void 0;var Dge=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};Ma.getHttpAuthExtensionConfiguration=Dge;var kge=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});Ma.resolveHttpAuthRuntimeConfig=kge});var V1=g(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.resolveRuntimeExtensions=void 0;var j1=Ra(),G1=De(),$1=fe(),z1=H1(),Mf=t=>t,Mge=(t,e)=>{let r={...Mf((0,j1.getAwsRegionExtensionConfiguration)(t)),...Mf((0,$1.getDefaultExtensionConfiguration)(t)),...Mf((0,G1.getHttpHandlerExtensionConfiguration)(t)),...Mf((0,z1.getHttpAuthExtensionConfiguration)(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,j1.resolveAwsRegionExtensionConfiguration)(r),...(0,$1.resolveDefaultRuntimeConfig)(r),...(0,G1.resolveHttpHandlerRuntimeConfig)(r),...(0,z1.resolveHttpAuthRuntimeConfig)(r)}};Lf.resolveRuntimeExtensions=Mge});var ll=g(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.STSClient=La.__Client=void 0;var K1=ta(),Lge=ra(),Uge=na(),W1=ia(),Fge=fr(),NC=(mt(),M(bt)),Bge=ha(),qge=Po(),Q1=_r(),J1=fe();Object.defineProperty(La,"__Client",{enumerable:!0,get:function(){return J1.Client}});var Y1=wC(),Hge=jr(),jge=q1(),Gge=V1(),DC=class extends J1.Client{constructor(...[e]){let r=(0,jge.getRuntimeConfig)(e||{}),n=(0,Hge.resolveClientEndpointParameters)(r),o=(0,W1.resolveUserAgentConfig)(n),i=(0,Q1.resolveRetryConfig)(o),s=(0,Fge.resolveRegionConfig)(i),a=(0,K1.resolveHostHeaderConfig)(s),c=(0,qge.resolveEndpointConfig)(a),d=(0,Y1.resolveHttpAuthSchemeConfig)(c),u=(0,Gge.resolveRuntimeExtensions)(d,e?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,W1.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Q1.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Bge.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,K1.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Lge.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Uge.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,NC.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Y1.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new NC.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use((0,NC.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};La.STSClient=DC});var hS=g((X$e,mS)=>{"use strict";var Uf=Object.defineProperty,$ge=Object.getOwnPropertyDescriptor,zge=Object.getOwnPropertyNames,Vge=Object.prototype.hasOwnProperty,R=(t,e)=>Uf(t,"name",{value:e,configurable:!0}),Kge=(t,e)=>{for(var r in e)Uf(t,r,{get:e[r],enumerable:!0})},cS=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of zge(e))!Vge.call(t,o)&&o!==r&&Uf(t,o,{get:()=>e[o],enumerable:!(n=$ge(e,o))||n.enumerable});return t},Wge=(t,e,r)=>(cS(t,e,"default"),r&&cS(r,e,"default")),Qge=t=>cS(Uf({},"__esModule",{value:!0}),t),dS={};Kge(dS,{AssumeRoleCommand:()=>uS,AssumeRoleResponseFilterSensitiveLog:()=>IH,AssumeRoleWithSAMLCommand:()=>MH,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>bH,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>RH,AssumeRoleWithWebIdentityCommand:()=>pS,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>wH,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>PH,ClientInputEndpointParameters:()=>y_e.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>$a,DecodeAuthorizationMessageCommand:()=>FH,ExpiredTokenException:()=>nH,GetAccessKeyInfoCommand:()=>qH,GetCallerIdentityCommand:()=>jH,GetFederationTokenCommand:()=>$H,GetFederationTokenResponseFilterSensitiveLog:()=>OH,GetSessionTokenCommand:()=>VH,GetSessionTokenResponseFilterSensitiveLog:()=>xH,IDPCommunicationErrorException:()=>CH,IDPRejectedClaimException:()=>fH,InvalidAuthorizationMessageException:()=>AH,InvalidIdentityTokenException:()=>_H,MalformedPolicyDocumentException:()=>sH,PackedPolicyTooLargeException:()=>dH,RegionDisabledException:()=>pH,STS:()=>WH,STSServiceException:()=>an,decorateDefaultCredentialProvider:()=>E_e,getDefaultRoleAssumer:()=>ej,getDefaultRoleAssumerWithWebIdentity:()=>tj});mS.exports=Qge(dS);Wge(dS,ll(),mS.exports);var $o=Po(),zo=wo(),Yge=jr(),B=fe(),Z1=class eH extends B.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,eH.prototype)}};R(Z1,"STSServiceException");var an=Z1,tH=class rH extends an{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,rH.prototype)}};R(tH,"ExpiredTokenException");var nH=tH,oH=class iH extends an{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,iH.prototype)}};R(oH,"MalformedPolicyDocumentException");var sH=oH,aH=class cH extends an{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,cH.prototype)}};R(aH,"PackedPolicyTooLargeException");var dH=aH,lH=class uH extends an{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,uH.prototype)}};R(lH,"RegionDisabledException");var pH=lH,mH=class hH extends an{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,hH.prototype)}};R(mH,"IDPRejectedClaimException");var fH=mH,gH=class yH extends an{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,yH.prototype)}};R(gH,"InvalidIdentityTokenException");var _H=gH,vH=class EH extends an{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,EH.prototype)}};R(vH,"IDPCommunicationErrorException");var CH=vH,SH=class TH extends an{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,TH.prototype)}};R(SH,"InvalidAuthorizationMessageException");var AH=SH,$a=R(t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:B.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),IH=R(t=>({...t,...t.Credentials&&{Credentials:$a(t.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),bH=R(t=>({...t,...t.SAMLAssertion&&{SAMLAssertion:B.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),RH=R(t=>({...t,...t.Credentials&&{Credentials:$a(t.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),wH=R(t=>({...t,...t.WebIdentityToken&&{WebIdentityToken:B.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),PH=R(t=>({...t,...t.Credentials&&{Credentials:$a(t.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),OH=R(t=>({...t,...t.Credentials&&{Credentials:$a(t.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),xH=R(t=>({...t,...t.Credentials&&{Credentials:$a(t.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),$n=(Ze(),M(Xe)),Jge=De(),Xge=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Sye(t,e),[Yo]:Zye,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_AssumeRoleCommand"),Zge=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Tye(t,e),[Yo]:e_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),eye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Aye(t,e),[Yo]:t_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),tye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Iye(t,e),[Yo]:r_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),rye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...bye(t,e),[Yo]:n_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),nye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Rye(t,e),[Yo]:o_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),oye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...wye(t,e),[Yo]:i_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_GetFederationTokenCommand"),iye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Pye(t,e),[Yo]:s_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_GetSessionTokenCommand"),sye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Mye(r.AssumeRoleResult,e),{$metadata:Pt(t),...n}},"de_AssumeRoleCommand"),aye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Lye(r.AssumeRoleWithSAMLResult,e),{$metadata:Pt(t),...n}},"de_AssumeRoleWithSAMLCommand"),cye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Uye(r.AssumeRoleWithWebIdentityResult,e),{$metadata:Pt(t),...n}},"de_AssumeRoleWithWebIdentityCommand"),dye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Fye(r.DecodeAuthorizationMessageResult,e),{$metadata:Pt(t),...n}},"de_DecodeAuthorizationMessageCommand"),lye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Hye(r.GetAccessKeyInfoResult,e),{$metadata:Pt(t),...n}},"de_GetAccessKeyInfoCommand"),uye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=jye(r.GetCallerIdentityResult,e),{$metadata:Pt(t),...n}},"de_GetCallerIdentityCommand"),pye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Gye(r.GetFederationTokenResult,e),{$metadata:Pt(t),...n}},"de_GetFederationTokenCommand"),mye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=$ye(r.GetSessionTokenResult,e),{$metadata:Pt(t),...n}},"de_GetSessionTokenCommand"),Vo=R(async(t,e)=>{let r={...t,body:await(0,$n.parseXmlErrorBody)(t.body,e)},n=a_e(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await hye(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await vye(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Eye(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Cye(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await gye(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await _ye(r,e);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await fye(r,e);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await yye(r,e);default:let o=r.body;return Xye({output:t,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),hye=R(async(t,e)=>{let r=t.body,n=Bye(r.Error,e),o=new nH({$metadata:Pt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),fye=R(async(t,e)=>{let r=t.body,n=zye(r.Error,e),o=new CH({$metadata:Pt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),gye=R(async(t,e)=>{let r=t.body,n=Vye(r.Error,e),o=new fH({$metadata:Pt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),yye=R(async(t,e)=>{let r=t.body,n=Kye(r.Error,e),o=new AH({$metadata:Pt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),_ye=R(async(t,e)=>{let r=t.body,n=Wye(r.Error,e),o=new _H({$metadata:Pt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),vye=R(async(t,e)=>{let r=t.body,n=Qye(r.Error,e),o=new sH({$metadata:Pt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),Eye=R(async(t,e)=>{let r=t.body,n=Yye(r.Error,e),o=new dH({$metadata:Pt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),Cye=R(async(t,e)=>{let r=t.body,n=Jye(r.Error,e),o=new pH({$metadata:Pt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),Sye=R((t,e)=>{var r,n,o,i;let s={};if(t[Gn]!=null&&(s[Gn]=t[Gn]),t[qa]!=null&&(s[qa]=t[qa]),t[br]!=null){let a=Ff(t[br],e);((r=t[br])==null?void 0:r.length)===0&&(s.PolicyArns=[]),Object.entries(a).forEach(([c,d])=>{let u=`PolicyArns.${c}`;s[u]=d})}if(t[Ir]!=null&&(s[Ir]=t[Ir]),t[Bt]!=null&&(s[Bt]=t[Bt]),t[ja]!=null){let a=NH(t[ja],e);((n=t[ja])==null?void 0:n.length)===0&&(s.Tags=[]),Object.entries(a).forEach(([c,d])=>{let u=`Tags.${c}`;s[u]=d})}if(t[nS]!=null){let a=kye(t[nS],e);((o=t[nS])==null?void 0:o.length)===0&&(s.TransitiveTagKeys=[]),Object.entries(a).forEach(([c,d])=>{let u=`TransitiveTagKeys.${c}`;s[u]=d})}if(t[FC]!=null&&(s[FC]=t[FC]),t[Ha]!=null&&(s[Ha]=t[Ha]),t[Ga]!=null&&(s[Ga]=t[Ga]),t[wr]!=null&&(s[wr]=t[wr]),t[WC]!=null){let a=Nye(t[WC],e);((i=t[WC])==null?void 0:i.length)===0&&(s.ProvidedContexts=[]),Object.entries(a).forEach(([c,d])=>{let u=`ProvidedContexts.${c}`;s[u]=d})}return s},"se_AssumeRoleRequest"),Tye=R((t,e)=>{var r;let n={};if(t[Gn]!=null&&(n[Gn]=t[Gn]),t[VC]!=null&&(n[VC]=t[VC]),t[ZC]!=null&&(n[ZC]=t[ZC]),t[br]!=null){let o=Ff(t[br],e);((r=t[br])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return t[Ir]!=null&&(n[Ir]=t[Ir]),t[Bt]!=null&&(n[Bt]=t[Bt]),n},"se_AssumeRoleWithSAMLRequest"),Aye=R((t,e)=>{var r;let n={};if(t[Gn]!=null&&(n[Gn]=t[Gn]),t[qa]!=null&&(n[qa]=t[qa]),t[sS]!=null&&(n[sS]=t[sS]),t[QC]!=null&&(n[QC]=t[QC]),t[br]!=null){let o=Ff(t[br],e);((r=t[br])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return t[Ir]!=null&&(n[Ir]=t[Ir]),t[Bt]!=null&&(n[Bt]=t[Bt]),n},"se_AssumeRoleWithWebIdentityRequest"),Iye=R((t,e)=>{let r={};return t[BC]!=null&&(r[BC]=t[BC]),r},"se_DecodeAuthorizationMessageRequest"),bye=R((t,e)=>{let r={};return t[Ua]!=null&&(r[Ua]=t[Ua]),r},"se_GetAccessKeyInfoRequest"),Rye=R((t,e)=>({}),"se_GetCallerIdentityRequest"),wye=R((t,e)=>{var r,n;let o={};if(t[$C]!=null&&(o[$C]=t[$C]),t[Ir]!=null&&(o[Ir]=t[Ir]),t[br]!=null){let i=Ff(t[br],e);((r=t[br])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(i).forEach(([s,a])=>{let c=`PolicyArns.${s}`;o[c]=a})}if(t[Bt]!=null&&(o[Bt]=t[Bt]),t[ja]!=null){let i=NH(t[ja],e);((n=t[ja])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(i).forEach(([s,a])=>{let c=`Tags.${s}`;o[c]=a})}return o},"se_GetFederationTokenRequest"),Pye=R((t,e)=>{let r={};return t[Bt]!=null&&(r[Bt]=t[Bt]),t[Ha]!=null&&(r[Ha]=t[Ha]),t[Ga]!=null&&(r[Ga]=t[Ga]),r},"se_GetSessionTokenRequest"),Ff=R((t,e)=>{let r={},n=1;for(let o of t){if(o===null)continue;let i=Oye(o,e);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_policyDescriptorListType"),Oye=R((t,e)=>{let r={};return t[aS]!=null&&(r[aS]=t[aS]),r},"se_PolicyDescriptorType"),xye=R((t,e)=>{let r={};return t[KC]!=null&&(r[KC]=t[KC]),t[MC]!=null&&(r[MC]=t[MC]),r},"se_ProvidedContext"),Nye=R((t,e)=>{let r={},n=1;for(let o of t){if(o===null)continue;let i=xye(o,e);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_ProvidedContextsListType"),Dye=R((t,e)=>{let r={};return t[GC]!=null&&(r[GC]=t[GC]),t[iS]!=null&&(r[iS]=t[iS]),r},"se_Tag"),kye=R((t,e)=>{let r={},n=1;for(let o of t)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),NH=R((t,e)=>{let r={},n=1;for(let o of t){if(o===null)continue;let i=Dye(o,e);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_tagListType"),lS=R((t,e)=>{let r={};return t[kC]!=null&&(r[kC]=(0,B.expectString)(t[kC])),t[jn]!=null&&(r[jn]=(0,B.expectString)(t[jn])),r},"de_AssumedRoleUser"),Mye=R((t,e)=>{let r={};return t[Ft]!=null&&(r[Ft]=pl(t[Ft],e)),t[Hn]!=null&&(r[Hn]=lS(t[Hn],e)),t[Rr]!=null&&(r[Rr]=(0,B.strictParseInt32)(t[Rr])),t[wr]!=null&&(r[wr]=(0,B.expectString)(t[wr])),r},"de_AssumeRoleResponse"),Lye=R((t,e)=>{let r={};return t[Ft]!=null&&(r[Ft]=pl(t[Ft],e)),t[Hn]!=null&&(r[Hn]=lS(t[Hn],e)),t[Rr]!=null&&(r[Rr]=(0,B.strictParseInt32)(t[Rr])),t[JC]!=null&&(r[JC]=(0,B.expectString)(t[JC])),t[tS]!=null&&(r[tS]=(0,B.expectString)(t[tS])),t[jC]!=null&&(r[jC]=(0,B.expectString)(t[jC])),t[Ba]!=null&&(r[Ba]=(0,B.expectString)(t[Ba])),t[zC]!=null&&(r[zC]=(0,B.expectString)(t[zC])),t[wr]!=null&&(r[wr]=(0,B.expectString)(t[wr])),r},"de_AssumeRoleWithSAMLResponse"),Uye=R((t,e)=>{let r={};return t[Ft]!=null&&(r[Ft]=pl(t[Ft],e)),t[eS]!=null&&(r[eS]=(0,B.expectString)(t[eS])),t[Hn]!=null&&(r[Hn]=lS(t[Hn],e)),t[Rr]!=null&&(r[Rr]=(0,B.strictParseInt32)(t[Rr])),t[YC]!=null&&(r[YC]=(0,B.expectString)(t[YC])),t[Ba]!=null&&(r[Ba]=(0,B.expectString)(t[Ba])),t[wr]!=null&&(r[wr]=(0,B.expectString)(t[wr])),r},"de_AssumeRoleWithWebIdentityResponse"),pl=R((t,e)=>{let r={};return t[Ua]!=null&&(r[Ua]=(0,B.expectString)(t[Ua])),t[XC]!=null&&(r[XC]=(0,B.expectString)(t[XC])),t[rS]!=null&&(r[rS]=(0,B.expectString)(t[rS])),t[UC]!=null&&(r[UC]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(t[UC]))),r},"de_Credentials"),Fye=R((t,e)=>{let r={};return t[LC]!=null&&(r[LC]=(0,B.expectString)(t[LC])),r},"de_DecodeAuthorizationMessageResponse"),Bye=R((t,e)=>{let r={};return t[Me]!=null&&(r[Me]=(0,B.expectString)(t[Me])),r},"de_ExpiredTokenException"),qye=R((t,e)=>{let r={};return t[HC]!=null&&(r[HC]=(0,B.expectString)(t[HC])),t[jn]!=null&&(r[jn]=(0,B.expectString)(t[jn])),r},"de_FederatedUser"),Hye=R((t,e)=>{let r={};return t[Fa]!=null&&(r[Fa]=(0,B.expectString)(t[Fa])),r},"de_GetAccessKeyInfoResponse"),jye=R((t,e)=>{let r={};return t[oS]!=null&&(r[oS]=(0,B.expectString)(t[oS])),t[Fa]!=null&&(r[Fa]=(0,B.expectString)(t[Fa])),t[jn]!=null&&(r[jn]=(0,B.expectString)(t[jn])),r},"de_GetCallerIdentityResponse"),Gye=R((t,e)=>{let r={};return t[Ft]!=null&&(r[Ft]=pl(t[Ft],e)),t[qC]!=null&&(r[qC]=qye(t[qC],e)),t[Rr]!=null&&(r[Rr]=(0,B.strictParseInt32)(t[Rr])),r},"de_GetFederationTokenResponse"),$ye=R((t,e)=>{let r={};return t[Ft]!=null&&(r[Ft]=pl(t[Ft],e)),r},"de_GetSessionTokenResponse"),zye=R((t,e)=>{let r={};return t[Me]!=null&&(r[Me]=(0,B.expectString)(t[Me])),r},"de_IDPCommunicationErrorException"),Vye=R((t,e)=>{let r={};return t[Me]!=null&&(r[Me]=(0,B.expectString)(t[Me])),r},"de_IDPRejectedClaimException"),Kye=R((t,e)=>{let r={};return t[Me]!=null&&(r[Me]=(0,B.expectString)(t[Me])),r},"de_InvalidAuthorizationMessageException"),Wye=R((t,e)=>{let r={};return t[Me]!=null&&(r[Me]=(0,B.expectString)(t[Me])),r},"de_InvalidIdentityTokenException"),Qye=R((t,e)=>{let r={};return t[Me]!=null&&(r[Me]=(0,B.expectString)(t[Me])),r},"de_MalformedPolicyDocumentException"),Yye=R((t,e)=>{let r={};return t[Me]!=null&&(r[Me]=(0,B.expectString)(t[Me])),r},"de_PackedPolicyTooLargeException"),Jye=R((t,e)=>{let r={};return t[Me]!=null&&(r[Me]=(0,B.expectString)(t[Me])),r},"de_RegionDisabledException"),Pt=R(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),Xye=(0,B.withBaseException)(an),Ko=R(async(t,e,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await t.endpoint(),d={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new Jge.HttpRequest(d)},"buildHttpRpcRequest"),Wo={"content-type":"application/x-www-form-urlencoded"},Qo="2011-06-15",Yo="Action",Ua="AccessKeyId",Zye="AssumeRole",kC="AssumedRoleId",Hn="AssumedRoleUser",e_e="AssumeRoleWithSAML",t_e="AssumeRoleWithWebIdentity",Fa="Account",jn="Arn",Ba="Audience",Ft="Credentials",MC="ContextAssertion",r_e="DecodeAuthorizationMessage",LC="DecodedMessage",Bt="DurationSeconds",UC="Expiration",FC="ExternalId",BC="EncodedMessage",qC="FederatedUser",HC="FederatedUserId",n_e="GetAccessKeyInfo",o_e="GetCallerIdentity",i_e="GetFederationToken",s_e="GetSessionToken",jC="Issuer",GC="Key",$C="Name",zC="NameQualifier",Ir="Policy",br="PolicyArns",VC="PrincipalArn",KC="ProviderArn",WC="ProvidedContexts",QC="ProviderId",Rr="PackedPolicySize",YC="Provider",Gn="RoleArn",qa="RoleSessionName",JC="Subject",XC="SecretAccessKey",ZC="SAMLAssertion",eS="SubjectFromWebIdentityToken",wr="SourceIdentity",Ha="SerialNumber",tS="SubjectType",rS="SessionToken",ja="Tags",Ga="TokenCode",nS="TransitiveTagKeys",oS="UserId",Jo="Version",iS="Value",sS="WebIdentityToken",aS="arn",Me="message",Xo=R(t=>Object.entries(t).map(([e,r])=>(0,B.extendedEncodeURIComponent)(e)+"="+(0,B.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),a_e=R((t,e)=>{var r;if(((r=e.Error)==null?void 0:r.Code)!==void 0)return e.Error.Code;if(t.statusCode==404)return"NotFound"},"loadQueryErrorCode"),DH=class extends B.Command.classBuilder().ep({...Yge.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,IH).ser(Xge).de(sye).build(){};R(DH,"AssumeRoleCommand");var uS=DH,c_e=jr(),kH=class extends B.Command.classBuilder().ep({...c_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(bH,RH).ser(Zge).de(aye).build(){};R(kH,"AssumeRoleWithSAMLCommand");var MH=kH,d_e=jr(),LH=class extends B.Command.classBuilder().ep({...d_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(wH,PH).ser(eye).de(cye).build(){};R(LH,"AssumeRoleWithWebIdentityCommand");var pS=LH,l_e=jr(),UH=class extends B.Command.classBuilder().ep({...l_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(tye).de(dye).build(){};R(UH,"DecodeAuthorizationMessageCommand");var FH=UH,u_e=jr(),BH=class extends B.Command.classBuilder().ep({...u_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(rye).de(lye).build(){};R(BH,"GetAccessKeyInfoCommand");var qH=BH,p_e=jr(),HH=class extends B.Command.classBuilder().ep({...p_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(nye).de(uye).build(){};R(HH,"GetCallerIdentityCommand");var jH=HH,m_e=jr(),GH=class extends B.Command.classBuilder().ep({...m_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,OH).ser(oye).de(pye).build(){};R(GH,"GetFederationTokenCommand");var $H=GH,h_e=jr(),zH=class extends B.Command.classBuilder().ep({...h_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,xH).ser(iye).de(mye).build(){};R(zH,"GetSessionTokenCommand");var VH=zH,f_e=ll(),g_e={AssumeRoleCommand:uS,AssumeRoleWithSAMLCommand:MH,AssumeRoleWithWebIdentityCommand:pS,DecodeAuthorizationMessageCommand:FH,GetAccessKeyInfoCommand:qH,GetCallerIdentityCommand:jH,GetFederationTokenCommand:$H,GetSessionTokenCommand:VH},KH=class extends f_e.STSClient{};R(KH,"STS");var WH=KH;(0,B.createAggregatedClient)(g_e,WH);var y_e=jr(),X1="us-east-1",QH=R(t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},"getAccountIdFromAssumedRoleUser"),YH=R(async(t,e,r)=>{var n;let o=typeof t=="function"?await t():t,i=typeof e=="function"?await e():e;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${i} (parent client)`,`${X1} (STS default)`),o??i??X1},"resolveRegion"),__e=R((t,e)=>{let r,n;return async(o,i)=>{var s,a,c;if(n=o,!r){let{logger:f=(s=t?.parentClientConfig)==null?void 0:s.logger,region:h,requestHandler:y=(a=t?.parentClientConfig)==null?void 0:a.requestHandler,credentialProviderLogger:E}=t,I=await YH(h,(c=t?.parentClientConfig)==null?void 0:c.region,E),w=!JH(y);r=new e({credentialDefaultProvider:()=>async()=>n,region:I,requestHandler:w?y:void 0,logger:f})}let{Credentials:d,AssumedRoleUser:u}=await r.send(new uS(i));if(!d||!d.AccessKeyId||!d.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let m=QH(u);return{accessKeyId:d.AccessKeyId,secretAccessKey:d.SecretAccessKey,sessionToken:d.SessionToken,expiration:d.Expiration,...d.CredentialScope&&{credentialScope:d.CredentialScope},...m&&{accountId:m}}}},"getDefaultRoleAssumer"),v_e=R((t,e)=>{let r;return async n=>{var o,i,s;if(!r){let{logger:u=(o=t?.parentClientConfig)==null?void 0:o.logger,region:m,requestHandler:f=(i=t?.parentClientConfig)==null?void 0:i.requestHandler,credentialProviderLogger:h}=t,y=await YH(m,(s=t?.parentClientConfig)==null?void 0:s.region,h),E=!JH(f);r=new e({region:y,requestHandler:E?f:void 0,logger:u})}let{Credentials:a,AssumedRoleUser:c}=await r.send(new pS(n));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let d=QH(c);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,...a.CredentialScope&&{credentialScope:a.CredentialScope},...d&&{accountId:d}}}},"getDefaultRoleAssumerWithWebIdentity"),JH=R(t=>{var e;return((e=t?.metadata)==null?void 0:e.handlerProtocol)==="h2"},"isH2"),XH=ll(),ZH=R((t,e)=>{var r;return e?(r=class extends t{constructor(n){super(n);for(let o of e)this.middlewareStack.use(o)}},R(r,"CustomizableSTSClient"),r):t},"getCustomizableStsClientCtor"),ej=R((t={},e)=>__e(t,ZH(XH.STSClient,e)),"getDefaultRoleAssumer"),tj=R((t={},e)=>v_e(t,ZH(XH.STSClient,e)),"getDefaultRoleAssumerWithWebIdentity"),E_e=R(t=>e=>t({roleAssumer:ej(e),roleAssumerWithWebIdentity:tj(e),...e}),"decorateDefaultCredentialProvider")});var yS=g((e2e,oj)=>{"use strict";var Bf=Object.defineProperty,C_e=Object.getOwnPropertyDescriptor,S_e=Object.getOwnPropertyNames,T_e=Object.prototype.hasOwnProperty,gS=(t,e)=>Bf(t,"name",{value:e,configurable:!0}),A_e=(t,e)=>{for(var r in e)Bf(t,r,{get:e[r],enumerable:!0})},I_e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of S_e(e))!T_e.call(t,o)&&o!==r&&Bf(t,o,{get:()=>e[o],enumerable:!(n=C_e(e,o))||n.enumerable});return t},b_e=t=>I_e(Bf({},"__esModule",{value:!0}),t),nj={};A_e(nj,{fromProcess:()=>x_e});oj.exports=b_e(nj);var rj=bo(),fS=Lt(),R_e=require("child_process"),w_e=require("util"),P_e=gS((t,e,r)=>{var n;if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let i=new Date;if(new Date(e.Expiration)<i)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let o=e.AccountId;return!o&&((n=r?.[t])!=null&&n.aws_account_id)&&(o=r[t].aws_account_id),{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...o&&{accountId:o}}},"getValidatedProcessCredentials"),O_e=gS(async(t,e,r)=>{let n=e[t];if(e[t]){let o=n.credential_process;if(o!==void 0){let i=(0,w_e.promisify)(R_e.exec);try{let{stdout:s}=await i(o),a;try{a=JSON.parse(s.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return P_e(t,a,e)}catch(s){throw new fS.CredentialsProviderError(s.message,{logger:r})}}else throw new fS.CredentialsProviderError(`Profile ${t} did not contain credential_process.`,{logger:r})}else throw new fS.CredentialsProviderError(`Profile ${t} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),x_e=gS((t={})=>async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,rj.parseKnownFiles)(t);return O_e((0,rj.getProfileName)(t),r,t.logger)},"fromProcess")});var _S=g(cn=>{"use strict";var N_e=cn&&cn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),D_e=cn&&cn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),k_e=cn&&cn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N_e(e,t,r);return D_e(e,t),e};Object.defineProperty(cn,"__esModule",{value:!0});cn.fromWebToken=void 0;var M_e=t=>async()=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:e,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:i,policy:s,durationSeconds:a}=t,{roleAssumerWithWebIdentity:c}=t;if(!c){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>k_e(hS()));c=d({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:t.parentClientConfig},t.clientPlugins)}return c({RoleArn:e,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:i,Policy:s,DurationSeconds:a})};cn.fromWebToken=M_e});var ij=g(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.fromTokenFile=void 0;var L_e=Lt(),U_e=require("fs"),F_e=_S(),B_e="AWS_WEB_IDENTITY_TOKEN_FILE",q_e="AWS_ROLE_ARN",H_e="AWS_ROLE_SESSION_NAME",j_e=(t={})=>async()=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let e=t?.webIdentityTokenFile??process.env[B_e],r=t?.roleArn??process.env[q_e],n=t?.roleSessionName??process.env[H_e];if(!e||!r)throw new L_e.CredentialsProviderError("Web identity configuration not specified",{logger:t.logger});return(0,F_e.fromWebToken)({...t,webIdentityToken:(0,U_e.readFileSync)(e,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};qf.fromTokenFile=j_e});var CS=g((n2e,Hf)=>{"use strict";var sj=Object.defineProperty,G_e=Object.getOwnPropertyDescriptor,$_e=Object.getOwnPropertyNames,z_e=Object.prototype.hasOwnProperty,vS=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of $_e(e))!z_e.call(t,o)&&o!==r&&sj(t,o,{get:()=>e[o],enumerable:!(n=G_e(e,o))||n.enumerable});return t},aj=(t,e,r)=>(vS(t,e,"default"),r&&vS(r,e,"default")),V_e=t=>vS(sj({},"__esModule",{value:!0}),t),ES={};Hf.exports=V_e(ES);aj(ES,ij(),Hf.exports);aj(ES,_S(),Hf.exports)});var hj=g((o2e,mj)=>{"use strict";var K_e=Object.create,hl=Object.defineProperty,W_e=Object.getOwnPropertyDescriptor,Q_e=Object.getOwnPropertyNames,Y_e=Object.getPrototypeOf,J_e=Object.prototype.hasOwnProperty,qt=(t,e)=>hl(t,"name",{value:e,configurable:!0}),X_e=(t,e)=>{for(var r in e)hl(t,r,{get:e[r],enumerable:!0})},lj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Q_e(e))!J_e.call(t,o)&&o!==r&&hl(t,o,{get:()=>e[o],enumerable:!(n=W_e(e,o))||n.enumerable});return t},Zo=(t,e,r)=>(r=t!=null?K_e(Y_e(t)):{},lj(e||!t||!t.__esModule?hl(r,"default",{value:t,enumerable:!0}):r,t)),Z_e=t=>lj(hl({},"__esModule",{value:!0}),t),uj={};X_e(uj,{fromIni:()=>uve});mj.exports=Z_e(uj);var SS=bo(),ml=Lt(),eve=qt((t,e,r)=>{let n={EcsContainer:async o=>{let{fromHttp:i}=await Promise.resolve().then(()=>Zo(dC())),{fromContainerMetadata:s}=await Promise.resolve().then(()=>Zo(Jd()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),(0,ml.chain)(i(o??{}),s(o))},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>Zo(Jd()));return i(o)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>Zo(rC()));return i(o)}};if(t in n)return n[t];throw new ml.CredentialsProviderError(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),tve=qt((t,{profile:e="default",logger:r}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(rve(t,{profile:e,logger:r})||nve(t,{profile:e,logger:r})),"isAssumeRoleProfile"),rve=qt((t,{profile:e,logger:r})=>{var n;let o=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return o&&((n=r?.debug)==null||n.call(r,`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`)),o},"isAssumeRoleWithSourceProfile"),nve=qt((t,{profile:e,logger:r})=>{var n;let o=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return o&&((n=r?.debug)==null||n.call(r,`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`)),o},"isCredentialSourceProfile"),ove=qt(async(t,e,r,n={})=>{var o,i;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=e[t];if(!r.roleAssumer){let{getDefaultRoleAssumer:f}=await Promise.resolve().then(()=>Zo(hS()));r.roleAssumer=f({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:a}=s;if(a&&a in n)throw new ml.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,SS.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});(i=r.logger)==null||i.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${t}]`}`);let c=a?pj(a,{...e,[a]:{...e[a],role_arn:s.role_arn??e[a].role_arn}},r,{...n,[a]:!0}):(await eve(s.credential_source,t,r.logger)(r))(),d={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:u}=s;if(u){if(!r.mfaCodeProvider)throw new ml.CredentialsProviderError(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});d.SerialNumber=u,d.TokenCode=await r.mfaCodeProvider(u)}let m=await c;return r.roleAssumer(m,d)},"resolveAssumeRoleCredentials"),ive=qt(t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string","isProcessProfile"),sve=qt(async(t,e)=>Promise.resolve().then(()=>Zo(yS())).then(({fromProcess:r})=>r({...t,profile:e})()),"resolveProcessCredentials"),ave=qt(async(t,e={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>Zo(RC()));return r({profile:t,logger:e.logger})()},"resolveSsoCredentials"),cve=qt(t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string"),"isSsoProfile"),cj=qt(t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,"isStaticCredsProfile"),dj=qt((t,e)=>{var r;return(r=e?.logger)==null||r.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials"),Promise.resolve({accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}})},"resolveStaticCredentials"),dve=qt(t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,"isWebIdentityProfile"),lve=qt(async(t,e)=>Promise.resolve().then(()=>Zo(CS())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})()),"resolveWebIdentityCredentials"),pj=qt(async(t,e,r,n={})=>{let o=e[t];if(Object.keys(n).length>0&&cj(o))return dj(o,r);if(tve(o,{profile:t,logger:r.logger}))return ove(t,e,r,n);if(cj(o))return dj(o,r);if(dve(o))return lve(o,r);if(ive(o))return sve(r,t);if(cve(o))return await ave(t,r);throw new ml.CredentialsProviderError(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),uve=qt((t={})=>async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await(0,SS.parseKnownFiles)(t);return pj((0,SS.getProfileName)(t),r,t)},"fromIni")});var il=g((i2e,Ej)=>{"use strict";var pve=Object.create,fl=Object.defineProperty,mve=Object.getOwnPropertyDescriptor,hve=Object.getOwnPropertyNames,fve=Object.getPrototypeOf,gve=Object.prototype.hasOwnProperty,jf=(t,e)=>fl(t,"name",{value:e,configurable:!0}),yve=(t,e)=>{for(var r in e)fl(t,r,{get:e[r],enumerable:!0})},gj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of hve(e))!gve.call(t,o)&&o!==r&&fl(t,o,{get:()=>e[o],enumerable:!(n=mve(e,o))||n.enumerable});return t},za=(t,e,r)=>(r=t!=null?pve(fve(t)):{},gj(e||!t||!t.__esModule?fl(r,"default",{value:t,enumerable:!0}):r,t)),_ve=t=>gj(fl({},"__esModule",{value:!0}),t),yj={};yve(yj,{credentialsTreatedAsExpired:()=>vj,credentialsWillNeedRefresh:()=>_j,defaultProvider:()=>Sve});Ej.exports=_ve(yj);var TS=rC(),vve=bo(),is=Lt(),Eve="AWS_EC2_METADATA_DISABLED",Cve=jf(async t=>{var e,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:i,fromInstanceMetadata:s}=await Promise.resolve().then(()=>za(Jd()));if(process.env[o]||process.env[n]){(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>za(dC()));return(0,is.chain)(a(t),i(t))}return process.env[Eve]?async()=>{throw new is.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:((r=t.logger)==null||r.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(t))},"remoteProvider"),fj=!1,Sve=jf((t={})=>(0,is.memoize)((0,is.chain)(async()=>{var e,r,n,o;if(t.profile??process.env[vve.ENV_PROFILE])throw process.env[TS.ENV_KEY]&&process.env[TS.ENV_SECRET]&&(fj||(((e=t.logger)!=null&&e.warn&&((n=(r=t.logger)==null?void 0:r.constructor)==null?void 0:n.name)!=="NoOpLogger"?t.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),fj=!0)),new is.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return(o=t.logger)==null||o.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,TS.fromEnv)(t)()},async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=t;if(!r&&!n&&!o&&!i&&!s)throw new is.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:a}=await Promise.resolve().then(()=>za(RC()));return a(t)()},async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>za(hj()));return r(t)()},async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>za(yS()));return r(t)()},async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>za(CS()));return r(t)()},async()=>{var e;return(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Cve(t))()},async()=>{throw new is.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}),vj,_j),"defaultProvider"),_j=jf(t=>t?.expiration!==void 0,"credentialsWillNeedRefresh"),vj=jf(t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var Uj=g(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.ruleSet=void 0;var Nj="required",nr="fn",or="argv",Ka="ref",Cj=!0,Sj="isSet",gl="booleanEquals",Va="error",ss="endpoint",zn="tree",AS="PartitionResult",IS="getAttr",Tj="stringEquals",Aj={[Nj]:!1,type:"String"},Ij={[Nj]:!0,default:!1,type:"Boolean"},bj={[Ka]:"Endpoint"},Dj={[nr]:gl,[or]:[{[Ka]:"UseFIPS"},!0]},kj={[nr]:gl,[or]:[{[Ka]:"UseDualStack"},!0]},rr={},Mj={[Ka]:"Region"},Rj={[nr]:IS,[or]:[{[Ka]:AS},"supportsFIPS"]},Lj={[Ka]:AS},wj={[nr]:gl,[or]:[!0,{[nr]:IS,[or]:[Lj,"supportsDualStack"]}]},Pj=[Dj],Oj=[kj],xj=[Mj],Tve={version:"1.0",parameters:{Region:Aj,UseDualStack:Ij,UseFIPS:Ij,Endpoint:Aj},rules:[{conditions:[{[nr]:Sj,[or]:[bj]}],rules:[{conditions:Pj,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Va},{conditions:Oj,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Va},{endpoint:{url:bj,properties:rr,headers:rr},type:ss}],type:zn},{conditions:[{[nr]:Sj,[or]:xj}],rules:[{conditions:[{[nr]:"aws.partition",[or]:xj,assign:AS}],rules:[{conditions:[Dj,kj],rules:[{conditions:[{[nr]:gl,[or]:[Cj,Rj]},wj],rules:[{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rr,headers:rr},type:ss}],type:zn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Va}],type:zn},{conditions:Pj,rules:[{conditions:[{[nr]:gl,[or]:[Rj,Cj]}],rules:[{conditions:[{[nr]:Tj,[or]:[{[nr]:IS,[or]:[Lj,"name"]},"aws-us-gov"]}],endpoint:{url:"https://dynamodb.{Region}.amazonaws.com",properties:rr,headers:rr},type:ss},{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",properties:rr,headers:rr},type:ss}],type:zn},{error:"FIPS is enabled but this partition does not support FIPS",type:Va}],type:zn},{conditions:Oj,rules:[{conditions:[wj],rules:[{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rr,headers:rr},type:ss}],type:zn},{error:"DualStack is enabled but this partition does not support DualStack",type:Va}],type:zn},{conditions:[{[nr]:Tj,[or]:[Mj,"local"]}],endpoint:{url:"http://localhost:8000",properties:{authSchemes:[{name:"sigv4",signingName:"dynamodb",signingRegion:"us-east-1"}]},headers:rr},type:ss},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",properties:rr,headers:rr},type:ss}],type:zn}],type:zn},{error:"Invalid Configuration: Missing Region",type:Va}]};Gf.ruleSet=Tve});var Bj=g($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.defaultEndpointResolver=void 0;var Ave=Ki(),Fj=Vi(),Ive=Uj(),bve=(t,e={})=>(0,Fj.resolveEndpoint)(Ive.ruleSet,{endpointParams:t,logger:e.logger});$f.defaultEndpointResolver=bve;Fj.customEndpointFunctions.aws=Ave.awsEndpointFunctions});var jj=g(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.getRuntimeConfig=void 0;var Rve=(Ze(),M(Xe)),wve=fe(),Pve=Ro(),qj=Mn(),Hj=Et(),Ove=tC(),xve=Bj(),Nve=t=>({apiVersion:"2012-08-10",base64Decoder:t?.base64Decoder??qj.fromBase64,base64Encoder:t?.base64Encoder??qj.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??xve.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Ove.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Rve.AwsSdkSigV4Signer}],logger:t?.logger??new wve.NoOpLogger,serviceId:t?.serviceId??"DynamoDB",urlParser:t?.urlParser??Pve.parseUrl,utf8Decoder:t?.utf8Decoder??Hj.fromUtf8,utf8Encoder:t?.utf8Encoder??Hj.toUtf8});zf.getRuntimeConfig=Nve});var zj=g(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.getRuntimeConfig=void 0;var Dve=(_e(),M(ye)),kve=Dve.__importDefault(BL()),Mve=(Ze(),M(Xe)),Lve=il(),Uve=iv(),Fve=va(),Vf=fr(),Bve=Ea(),Gj=_r(),Wa=rn(),$j=No(),qve=Ca(),Hve=Ji(),jve=jj(),Gve=fe(),$ve=Ia(),zve=fe(),Vve=t=>{(0,zve.emitWarningIfUnsupportedVersion)(process.version);let e=(0,$ve.resolveDefaultsModeConfig)(t),r=()=>e().then(Gve.loadConfigsForDefaultMode),n=(0,jve.getRuntimeConfig)(t);return(0,Mve.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??qve.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??Lve.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,Fve.defaultUserAgent)({serviceId:n.serviceId,clientVersion:kve.default.version}),endpointDiscoveryEnabledProvider:t?.endpointDiscoveryEnabledProvider??(0,Wa.loadConfig)(Uve.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS),maxAttempts:t?.maxAttempts??(0,Wa.loadConfig)(Gj.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,Wa.loadConfig)(Vf.NODE_REGION_CONFIG_OPTIONS,Vf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:$j.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,Wa.loadConfig)({...Gj.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Hve.DEFAULT_RETRY_MODE}),sha256:t?.sha256??Bve.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??$j.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Wa.loadConfig)(Vf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,Wa.loadConfig)(Vf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Kf.getRuntimeConfig=Vve});var Jj=g((l2e,Yj)=>{var Wf=Object.defineProperty,Kve=Object.getOwnPropertyDescriptor,Wve=Object.getOwnPropertyNames,Qve=Object.prototype.hasOwnProperty,Vn=(t,e)=>Wf(t,"name",{value:e,configurable:!0}),Yve=(t,e)=>{for(var r in e)Wf(t,r,{get:e[r],enumerable:!0})},Jve=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Wve(e))!Qve.call(t,o)&&o!==r&&Wf(t,o,{get:()=>e[o],enumerable:!(n=Kve(e,o))||n.enumerable});return t},Xve=t=>Jve(Wf({},"__esModule",{value:!0}),t),Kj={};Yve(Kj,{WaiterState:()=>Qj,checkExceptions:()=>eEe,createWaiter:()=>iEe,waiterServiceDefaults:()=>Wj});Yj.exports=Xve(Kj);var Zve=Vn(t=>new Promise(e=>setTimeout(e,t*1e3)),"sleep"),Wj={minDelay:2,maxDelay:120},Qj=(t=>(t.ABORTED="ABORTED",t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.RETRY="RETRY",t.TIMEOUT="TIMEOUT",t))(Qj||{}),eEe=Vn(t=>{if(t.state==="ABORTED"){let e=new Error(`${JSON.stringify({...t,reason:"Request was aborted"})}`);throw e.name="AbortError",e}else if(t.state==="TIMEOUT"){let e=new Error(`${JSON.stringify({...t,reason:"Waiter has timed out"})}`);throw e.name="TimeoutError",e}else if(t.state!=="SUCCESS")throw new Error(`${JSON.stringify(t)}`);return t},"checkExceptions"),tEe=Vn((t,e,r,n)=>{if(n>r)return e;let o=t*2**(n-1);return rEe(t,o)},"exponentialBackoffWithJitter"),rEe=Vn((t,e)=>t+Math.random()*(e-t),"randomInRange"),nEe=Vn(async({minDelay:t,maxDelay:e,maxWaitTime:r,abortController:n,client:o,abortSignal:i},s,a)=>{var c;let{state:d,reason:u}=await a(o,s);if(d!=="RETRY")return{state:d,reason:u};let m=1,f=Date.now()+r*1e3,h=Math.log(e/t)/Math.log(2)+1;for(;;){if((c=n?.signal)!=null&&c.aborted||i?.aborted)return{state:"ABORTED"};let y=tEe(t,e,h,m);if(Date.now()+y*1e3>f)return{state:"TIMEOUT"};await Zve(y);let{state:E,reason:I}=await a(o,s);if(E!=="RETRY")return{state:E,reason:I};m+=1}},"runPolling"),oEe=Vn(t=>{if(t.maxWaitTime<1)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(t.minDelay<1)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(t.maxDelay<1)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(t.maxWaitTime<=t.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${t.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`);if(t.maxDelay<t.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${t.maxDelay}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`)},"validateWaiterOptions"),Vj=Vn(async t=>new Promise(e=>{let r=Vn(()=>e({state:"ABORTED"}),"onAbort");typeof t.addEventListener=="function"?t.addEventListener("abort",r):t.onabort=r}),"abortTimeout"),iEe=Vn(async(t,e,r)=>{let n={...Wj,...t};oEe(n);let o=[nEe(n,e,r)];return t.abortController&&o.push(Vj(t.abortController.signal)),t.abortSignal&&o.push(Vj(t.abortSignal)),Promise.race(o)},"createWaiter")});var vV=g((gze,_V)=>{"use strict";var Jf=Object.defineProperty,sEe=Object.getOwnPropertyDescriptor,aEe=Object.getOwnPropertyNames,cEe=Object.prototype.hasOwnProperty,p=(t,e)=>Jf(t,"name",{value:e,configurable:!0}),dEe=(t,e)=>{for(var r in e)Jf(t,r,{get:e[r],enumerable:!0})},lEe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of aEe(e))!cEe.call(t,o)&&o!==r&&Jf(t,o,{get:()=>e[o],enumerable:!(n=sEe(e,o))||n.enumerable});return t},uEe=t=>lEe(Jf({},"__esModule",{value:!0}),t),oG={};dEe(oG,{ApproximateCreationDateTimePrecision:()=>_Ee,AttributeAction:()=>vEe,AttributeValue:()=>Yf,BackupInUseException:()=>dG,BackupNotFoundException:()=>pG,BackupStatus:()=>CEe,BackupType:()=>SEe,BackupTypeFilter:()=>OEe,BatchExecuteStatementCommand:()=>_2,BatchGetItemCommand:()=>E2,BatchStatementErrorCodeEnum:()=>DEe,BatchWriteItemCommand:()=>S2,BillingMode:()=>TEe,ComparisonOperator:()=>MEe,ConditionalCheckFailedException:()=>W$,ConditionalOperator:()=>LEe,ContinuousBackupsStatus:()=>UEe,ContinuousBackupsUnavailableException:()=>DG,ContributorInsightsAction:()=>BEe,ContributorInsightsStatus:()=>qEe,CreateBackupCommand:()=>A2,CreateGlobalTableCommand:()=>b2,CreateTableCommand:()=>w2,DeleteBackupCommand:()=>O2,DeleteItemCommand:()=>N2,DeleteResourcePolicyCommand:()=>k2,DeleteTableCommand:()=>L2,DescribeBackupCommand:()=>F2,DescribeContinuousBackupsCommand:()=>q2,DescribeContributorInsightsCommand:()=>j2,DescribeEndpointsCommand:()=>DS,DescribeExportCommand:()=>$2,DescribeGlobalTableCommand:()=>V2,DescribeGlobalTableSettingsCommand:()=>W2,DescribeImportCommand:()=>Y2,DescribeKinesisStreamingDestinationCommand:()=>X2,DescribeLimitsCommand:()=>ez,DescribeTableCommand:()=>tg,DescribeTableReplicaAutoScalingCommand:()=>nz,DescribeTimeToLiveCommand:()=>iz,DestinationStatus:()=>tCe,DisableKinesisStreamingDestinationCommand:()=>az,DuplicateItemException:()=>p$,DynamoDB:()=>fV,DynamoDBClient:()=>ni,DynamoDBServiceException:()=>ce,EnableKinesisStreamingDestinationCommand:()=>dz,ExecuteStatementCommand:()=>uz,ExecuteTransactionCommand:()=>mz,ExportConflictException:()=>C$,ExportFormat:()=>KEe,ExportNotFoundException:()=>n$,ExportStatus:()=>WEe,ExportTableToPointInTimeCommand:()=>fz,ExportType:()=>QEe,ExportViewType:()=>YEe,GetItemCommand:()=>yz,GetResourcePolicyCommand:()=>vz,GlobalTableAlreadyExistsException:()=>zG,GlobalTableNotFoundException:()=>s$,GlobalTableStatus:()=>HEe,IdempotentParameterMismatchException:()=>f$,ImportConflictException:()=>O$,ImportNotFoundException:()=>d$,ImportStatus:()=>XEe,ImportTableCommand:()=>Cz,IndexNotFoundException:()=>z$,IndexStatus:()=>$Ee,InputCompressionType:()=>ZEe,InputFormat:()=>eCe,InternalServerError:()=>fG,InvalidEndpointException:()=>CG,InvalidExportTimeException:()=>A$,InvalidRestoreTimeException:()=>L$,ItemCollectionSizeLimitExceededException:()=>OG,KeyType:()=>AEe,LimitExceededException:()=>LG,ListBackupsCommand:()=>Tz,ListContributorInsightsCommand:()=>kS,ListExportsCommand:()=>MS,ListGlobalTablesCommand:()=>Rz,ListImportsCommand:()=>LS,ListTablesCommand:()=>US,ListTagsOfResourceCommand:()=>xz,PointInTimeRecoveryStatus:()=>FEe,PointInTimeRecoveryUnavailableException:()=>R$,PolicyNotFoundException:()=>e$,ProjectionType:()=>IEe,ProvisionedThroughputExceededException:()=>AG,PutItemCommand:()=>Dz,PutResourcePolicyCommand:()=>Mz,QueryCommand:()=>FS,ReplicaAlreadyExistsException:()=>B$,ReplicaNotFoundException:()=>j$,ReplicaStatus:()=>jEe,RequestLimitExceeded:()=>_G,ResourceInUseException:()=>WG,ResourceNotFoundException:()=>RG,RestoreTableFromBackupCommand:()=>Fz,RestoreTableToPointInTimeCommand:()=>qz,ReturnConsumedCapacity:()=>xEe,ReturnItemCollectionMetrics:()=>kEe,ReturnValue:()=>VEe,ReturnValuesOnConditionCheckFailure:()=>NEe,S3SseAlgorithm:()=>JEe,SSEStatus:()=>REe,SSEType:()=>bEe,ScalarAttributeType:()=>EEe,ScanCommand:()=>BS,Select:()=>rCe,StreamViewType:()=>wEe,TableAlreadyExistsException:()=>D$,TableClass:()=>GEe,TableInUseException:()=>BG,TableNotFoundException:()=>jG,TableStatus:()=>zEe,TagResourceCommand:()=>Gz,TimeToLiveStatus:()=>PEe,TransactGetItemsCommand:()=>zz,TransactWriteItemsCommand:()=>Kz,TransactionCanceledException:()=>J$,TransactionConflictException:()=>JG,TransactionInProgressException:()=>_$,UntagResourceCommand:()=>Qz,UpdateContinuousBackupsCommand:()=>Jz,UpdateContributorInsightsCommand:()=>Zz,UpdateGlobalTableCommand:()=>tV,UpdateGlobalTableSettingsCommand:()=>nV,UpdateItemCommand:()=>iV,UpdateKinesisStreamingDestinationCommand:()=>aV,UpdateTableCommand:()=>dV,UpdateTableReplicaAutoScalingCommand:()=>uV,UpdateTimeToLiveCommand:()=>mV,__Client:()=>l.Client,paginateListContributorInsights:()=>kbe,paginateListExports:()=>Lbe,paginateListImports:()=>Fbe,paginateListTables:()=>qbe,paginateQuery:()=>jbe,paginateScan:()=>$be,waitForTableExists:()=>zbe,waitForTableNotExists:()=>Kbe,waitUntilTableExists:()=>Vbe,waitUntilTableNotExists:()=>Wbe});_V.exports=uEe(oG);var pEe=iv(),Xj=ta(),mEe=ra(),hEe=na(),Zj=ia(),fEe=fr(),bS=(mt(),M(bt)),gEe=ha(),eG=_r(),tG=tC(),q=Po(),j=wo(),yEe=p(t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),"resolveClientEndpointParameters"),G={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},L=(Ze(),M(Xe)),RS=De(),Xf=(Uv(),M(Lv)),l=fe(),iG=class sG extends l.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,sG.prototype)}};p(iG,"DynamoDBServiceException");var ce=iG,_Ee={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},vEe={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},EEe={B:"B",N:"N",S:"S"},CEe={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},SEe={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},TEe={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},AEe={HASH:"HASH",RANGE:"RANGE"},IEe={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},bEe={AES256:"AES256",KMS:"KMS"},REe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},wEe={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},PEe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},aG=class cG extends ce{constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),this.name="BackupInUseException",this.$fault="client",Object.setPrototypeOf(this,cG.prototype)}};p(aG,"BackupInUseException");var dG=aG,lG=class uG extends ce{constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),this.name="BackupNotFoundException",this.$fault="client",Object.setPrototypeOf(this,uG.prototype)}};p(lG,"BackupNotFoundException");var pG=lG,OEe={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},xEe={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},NEe={ALL_OLD:"ALL_OLD",NONE:"NONE"},DEe={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},mG=class hG extends ce{constructor(e){super({name:"InternalServerError",$fault:"server",...e}),this.name="InternalServerError",this.$fault="server",Object.setPrototypeOf(this,hG.prototype)}};p(mG,"InternalServerError");var fG=mG,gG=class yG extends ce{constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),this.name="RequestLimitExceeded",this.$fault="client",Object.setPrototypeOf(this,yG.prototype)}};p(gG,"RequestLimitExceeded");var _G=gG,vG=class EG extends ce{constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),this.name="InvalidEndpointException",this.$fault="client",Object.setPrototypeOf(this,EG.prototype),this.Message=e.Message}};p(vG,"InvalidEndpointException");var CG=vG,SG=class TG extends ce{constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),this.name="ProvisionedThroughputExceededException",this.$fault="client",Object.setPrototypeOf(this,TG.prototype)}};p(SG,"ProvisionedThroughputExceededException");var AG=SG,IG=class bG extends ce{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,bG.prototype)}};p(IG,"ResourceNotFoundException");var RG=IG,kEe={NONE:"NONE",SIZE:"SIZE"},wG=class PG extends ce{constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),this.name="ItemCollectionSizeLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,PG.prototype)}};p(wG,"ItemCollectionSizeLimitExceededException");var OG=wG,MEe={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},LEe={AND:"AND",OR:"OR"},UEe={DISABLED:"DISABLED",ENABLED:"ENABLED"},FEe={DISABLED:"DISABLED",ENABLED:"ENABLED"},xG=class NG extends ce{constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),this.name="ContinuousBackupsUnavailableException",this.$fault="client",Object.setPrototypeOf(this,NG.prototype)}};p(xG,"ContinuousBackupsUnavailableException");var DG=xG,BEe={DISABLE:"DISABLE",ENABLE:"ENABLE"},qEe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},kG=class MG extends ce{constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,MG.prototype)}};p(kG,"LimitExceededException");var LG=kG,UG=class FG extends ce{constructor(e){super({name:"TableInUseException",$fault:"client",...e}),this.name="TableInUseException",this.$fault="client",Object.setPrototypeOf(this,FG.prototype)}};p(UG,"TableInUseException");var BG=UG,qG=class HG extends ce{constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),this.name="TableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,HG.prototype)}};p(qG,"TableNotFoundException");var jG=qG,HEe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},jEe={ACTIVE:"ACTIVE",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",UPDATING:"UPDATING"},GEe={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},GG=class $G extends ce{constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),this.name="GlobalTableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,$G.prototype)}};p(GG,"GlobalTableAlreadyExistsException");var zG=GG,$Ee={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},zEe={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",UPDATING:"UPDATING"},VG=class KG extends ce{constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),this.name="ResourceInUseException",this.$fault="client",Object.setPrototypeOf(this,KG.prototype)}};p(VG,"ResourceInUseException");var WG=VG,VEe={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},QG=class YG extends ce{constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),this.name="TransactionConflictException",this.$fault="client",Object.setPrototypeOf(this,YG.prototype)}};p(QG,"TransactionConflictException");var JG=QG,XG=class ZG extends ce{constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),this.name="PolicyNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ZG.prototype)}};p(XG,"PolicyNotFoundException");var e$=XG,KEe={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},WEe={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},QEe={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},YEe={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},JEe={AES256:"AES256",KMS:"KMS"},t$=class r$ extends ce{constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),this.name="ExportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,r$.prototype)}};p(t$,"ExportNotFoundException");var n$=t$,o$=class i$ extends ce{constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),this.name="GlobalTableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,i$.prototype)}};p(o$,"GlobalTableNotFoundException");var s$=o$,XEe={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},ZEe={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},eCe={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},a$=class c$ extends ce{constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),this.name="ImportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,c$.prototype)}};p(a$,"ImportNotFoundException");var d$=a$,tCe={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},l$=class u$ extends ce{constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),this.name="DuplicateItemException",this.$fault="client",Object.setPrototypeOf(this,u$.prototype)}};p(l$,"DuplicateItemException");var p$=l$,m$=class h$ extends ce{constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),this.name="IdempotentParameterMismatchException",this.$fault="client",Object.setPrototypeOf(this,h$.prototype),this.Message=e.Message}};p(m$,"IdempotentParameterMismatchException");var f$=m$,g$=class y$ extends ce{constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),this.name="TransactionInProgressException",this.$fault="client",Object.setPrototypeOf(this,y$.prototype),this.Message=e.Message}};p(g$,"TransactionInProgressException");var _$=g$,v$=class E$ extends ce{constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),this.name="ExportConflictException",this.$fault="client",Object.setPrototypeOf(this,E$.prototype)}};p(v$,"ExportConflictException");var C$=v$,S$=class T$ extends ce{constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),this.name="InvalidExportTimeException",this.$fault="client",Object.setPrototypeOf(this,T$.prototype)}};p(S$,"InvalidExportTimeException");var A$=S$,I$=class b$ extends ce{constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),this.name="PointInTimeRecoveryUnavailableException",this.$fault="client",Object.setPrototypeOf(this,b$.prototype)}};p(I$,"PointInTimeRecoveryUnavailableException");var R$=I$,w$=class P$ extends ce{constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),this.name="ImportConflictException",this.$fault="client",Object.setPrototypeOf(this,P$.prototype)}};p(w$,"ImportConflictException");var O$=w$,rCe={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},x$=class N$ extends ce{constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),this.name="TableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,N$.prototype)}};p(x$,"TableAlreadyExistsException");var D$=x$,k$=class M$ extends ce{constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),this.name="InvalidRestoreTimeException",this.$fault="client",Object.setPrototypeOf(this,M$.prototype)}};p(k$,"InvalidRestoreTimeException");var L$=k$,U$=class F$ extends ce{constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),this.name="ReplicaAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,F$.prototype)}};p(U$,"ReplicaAlreadyExistsException");var B$=U$,q$=class H$ extends ce{constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),this.name="ReplicaNotFoundException",this.$fault="client",Object.setPrototypeOf(this,H$.prototype)}};p(q$,"ReplicaNotFoundException");var j$=q$,G$=class $$ extends ce{constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),this.name="IndexNotFoundException",this.$fault="client",Object.setPrototypeOf(this,$$.prototype)}};p(G$,"IndexNotFoundException");var z$=G$,Yf;(t=>{t.visit=p((e,r)=>e.S!==void 0?r.S(e.S):e.N!==void 0?r.N(e.N):e.B!==void 0?r.B(e.B):e.SS!==void 0?r.SS(e.SS):e.NS!==void 0?r.NS(e.NS):e.BS!==void 0?r.BS(e.BS):e.M!==void 0?r.M(e.M):e.L!==void 0?r.L(e.L):e.NULL!==void 0?r.NULL(e.NULL):e.BOOL!==void 0?r.BOOL(e.BOOL):r._(e.$unknown[0],e.$unknown[1]),"visit")})(Yf||(Yf={}));var V$=class K$ extends ce{constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),this.name="ConditionalCheckFailedException",this.$fault="client",Object.setPrototypeOf(this,K$.prototype),this.Item=e.Item}};p(V$,"ConditionalCheckFailedException");var W$=V$,Q$=class Y$ extends ce{constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),this.name="TransactionCanceledException",this.$fault="client",Object.setPrototypeOf(this,Y$.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}};p(Q$,"TransactionCanceledException");var J$=Q$,nCe=p(async(t,e)=>{let r=H("BatchExecuteStatement"),n;return n=JSON.stringify(VTe(t,e)),z(e,r,"/",void 0,n)},"se_BatchExecuteStatementCommand"),oCe=p(async(t,e)=>{let r=H("BatchGetItem"),n;return n=JSON.stringify(KTe(t,e)),z(e,r,"/",void 0,n)},"se_BatchGetItemCommand"),iCe=p(async(t,e)=>{let r=H("BatchWriteItem"),n;return n=JSON.stringify(YTe(t,e)),z(e,r,"/",void 0,n)},"se_BatchWriteItemCommand"),sCe=p(async(t,e)=>{let r=H("CreateBackup"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_CreateBackupCommand"),aCe=p(async(t,e)=>{let r=H("CreateGlobalTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_CreateGlobalTableCommand"),cCe=p(async(t,e)=>{let r=H("CreateTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_CreateTableCommand"),dCe=p(async(t,e)=>{let r=H("DeleteBackup"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DeleteBackupCommand"),lCe=p(async(t,e)=>{let r=H("DeleteItem"),n;return n=JSON.stringify(tAe(t,e)),z(e,r,"/",void 0,n)},"se_DeleteItemCommand"),uCe=p(async(t,e)=>{let r=H("DeleteResourcePolicy"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),pCe=p(async(t,e)=>{let r=H("DeleteTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DeleteTableCommand"),mCe=p(async(t,e)=>{let r=H("DescribeBackup"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeBackupCommand"),hCe=p(async(t,e)=>{let r=H("DescribeContinuousBackups"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeContinuousBackupsCommand"),fCe=p(async(t,e)=>{let r=H("DescribeContributorInsights"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeContributorInsightsCommand"),gCe=p(async(t,e)=>{let r=H("DescribeEndpoints"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeEndpointsCommand"),yCe=p(async(t,e)=>{let r=H("DescribeExport"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeExportCommand"),_Ce=p(async(t,e)=>{let r=H("DescribeGlobalTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeGlobalTableCommand"),vCe=p(async(t,e)=>{let r=H("DescribeGlobalTableSettings"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeGlobalTableSettingsCommand"),ECe=p(async(t,e)=>{let r=H("DescribeImport"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeImportCommand"),CCe=p(async(t,e)=>{let r=H("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeKinesisStreamingDestinationCommand"),SCe=p(async(t,e)=>{let r=H("DescribeLimits"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeLimitsCommand"),TCe=p(async(t,e)=>{let r=H("DescribeTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeTableCommand"),ACe=p(async(t,e)=>{let r=H("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeTableReplicaAutoScalingCommand"),ICe=p(async(t,e)=>{let r=H("DescribeTimeToLive"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeTimeToLiveCommand"),bCe=p(async(t,e)=>{let r=H("DisableKinesisStreamingDestination"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DisableKinesisStreamingDestinationCommand"),RCe=p(async(t,e)=>{let r=H("EnableKinesisStreamingDestination"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_EnableKinesisStreamingDestinationCommand"),wCe=p(async(t,e)=>{let r=H("ExecuteStatement"),n;return n=JSON.stringify(nAe(t,e)),z(e,r,"/",void 0,n)},"se_ExecuteStatementCommand"),PCe=p(async(t,e)=>{let r=H("ExecuteTransaction"),n;return n=JSON.stringify(oAe(t,e)),z(e,r,"/",void 0,n)},"se_ExecuteTransactionCommand"),OCe=p(async(t,e)=>{let r=H("ExportTableToPointInTime"),n;return n=JSON.stringify(sAe(t,e)),z(e,r,"/",void 0,n)},"se_ExportTableToPointInTimeCommand"),xCe=p(async(t,e)=>{let r=H("GetItem"),n;return n=JSON.stringify(cAe(t,e)),z(e,r,"/",void 0,n)},"se_GetItemCommand"),NCe=p(async(t,e)=>{let r=H("GetResourcePolicy"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),DCe=p(async(t,e)=>{let r=H("ImportTable"),n;return n=JSON.stringify(mAe(t,e)),z(e,r,"/",void 0,n)},"se_ImportTableCommand"),kCe=p(async(t,e)=>{let r=H("ListBackups"),n;return n=JSON.stringify(vAe(t,e)),z(e,r,"/",void 0,n)},"se_ListBackupsCommand"),MCe=p(async(t,e)=>{let r=H("ListContributorInsights"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListContributorInsightsCommand"),LCe=p(async(t,e)=>{let r=H("ListExports"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListExportsCommand"),UCe=p(async(t,e)=>{let r=H("ListGlobalTables"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListGlobalTablesCommand"),FCe=p(async(t,e)=>{let r=H("ListImports"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListImportsCommand"),BCe=p(async(t,e)=>{let r=H("ListTables"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListTablesCommand"),qCe=p(async(t,e)=>{let r=H("ListTagsOfResource"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListTagsOfResourceCommand"),HCe=p(async(t,e)=>{let r=H("PutItem"),n;return n=JSON.stringify(IAe(t,e)),z(e,r,"/",void 0,n)},"se_PutItemCommand"),jCe=p(async(t,e)=>{let r=H("PutResourcePolicy"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),GCe=p(async(t,e)=>{let r=H("Query"),n;return n=JSON.stringify(RAe(t,e)),z(e,r,"/",void 0,n)},"se_QueryCommand"),$Ce=p(async(t,e)=>{let r=H("RestoreTableFromBackup"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_RestoreTableFromBackupCommand"),zCe=p(async(t,e)=>{let r=H("RestoreTableToPointInTime"),n;return n=JSON.stringify(LAe(t,e)),z(e,r,"/",void 0,n)},"se_RestoreTableToPointInTimeCommand"),VCe=p(async(t,e)=>{let r=H("Scan"),n;return n=JSON.stringify(UAe(t,e)),z(e,r,"/",void 0,n)},"se_ScanCommand"),KCe=p(async(t,e)=>{let r=H("TagResource"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_TagResourceCommand"),WCe=p(async(t,e)=>{let r=H("TransactGetItems"),n;return n=JSON.stringify(qAe(t,e)),z(e,r,"/",void 0,n)},"se_TransactGetItemsCommand"),QCe=p(async(t,e)=>{let r=H("TransactWriteItems"),n;return n=JSON.stringify(GAe(t,e)),z(e,r,"/",void 0,n)},"se_TransactWriteItemsCommand"),YCe=p(async(t,e)=>{let r=H("UntagResource"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UntagResourceCommand"),JCe=p(async(t,e)=>{let r=H("UpdateContinuousBackups"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateContinuousBackupsCommand"),XCe=p(async(t,e)=>{let r=H("UpdateContributorInsights"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateContributorInsightsCommand"),ZCe=p(async(t,e)=>{let r=H("UpdateGlobalTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateGlobalTableCommand"),eSe=p(async(t,e)=>{let r=H("UpdateGlobalTableSettings"),n;return n=JSON.stringify(zAe(t,e)),z(e,r,"/",void 0,n)},"se_UpdateGlobalTableSettingsCommand"),tSe=p(async(t,e)=>{let r=H("UpdateItem"),n;return n=JSON.stringify(VAe(t,e)),z(e,r,"/",void 0,n)},"se_UpdateItemCommand"),rSe=p(async(t,e)=>{let r=H("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateKinesisStreamingDestinationCommand"),nSe=p(async(t,e)=>{let r=H("UpdateTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateTableCommand"),oSe=p(async(t,e)=>{let r=H("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(KAe(t,e)),z(e,r,"/",void 0,n)},"se_UpdateTableReplicaAutoScalingCommand"),iSe=p(async(t,e)=>{let r=H("UpdateTimeToLive"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateTimeToLiveCommand"),sSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=rIe(r,e),{$metadata:P(t),...n}},"de_BatchExecuteStatementCommand"),aSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=nIe(r,e),{$metadata:P(t),...n}},"de_BatchGetItemCommand"),cSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=cIe(r,e),{$metadata:P(t),...n}},"de_BatchWriteItemCommand"),dSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=hIe(r,e),{$metadata:P(t),...n}},"de_CreateBackupCommand"),lSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=fIe(r,e),{$metadata:P(t),...n}},"de_CreateGlobalTableCommand"),uSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=gIe(r,e),{$metadata:P(t),...n}},"de_CreateTableCommand"),pSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=yIe(r,e),{$metadata:P(t),...n}},"de_DeleteBackupCommand"),mSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=_Ie(r,e),{$metadata:P(t),...n}},"de_DeleteItemCommand"),hSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DeleteResourcePolicyCommand"),fSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=EIe(r,e),{$metadata:P(t),...n}},"de_DeleteTableCommand"),gSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=CIe(r,e),{$metadata:P(t),...n}},"de_DescribeBackupCommand"),ySe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=SIe(r,e),{$metadata:P(t),...n}},"de_DescribeContinuousBackupsCommand"),_Se=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=TIe(r,e),{$metadata:P(t),...n}},"de_DescribeContributorInsightsCommand"),vSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DescribeEndpointsCommand"),ESe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=AIe(r,e),{$metadata:P(t),...n}},"de_DescribeExportCommand"),CSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=IIe(r,e),{$metadata:P(t),...n}},"de_DescribeGlobalTableCommand"),SSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=bIe(r,e),{$metadata:P(t),...n}},"de_DescribeGlobalTableSettingsCommand"),TSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=RIe(r,e),{$metadata:P(t),...n}},"de_DescribeImportCommand"),ASe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DescribeKinesisStreamingDestinationCommand"),ISe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DescribeLimitsCommand"),bSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=wIe(r,e),{$metadata:P(t),...n}},"de_DescribeTableCommand"),RSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=PIe(r,e),{$metadata:P(t),...n}},"de_DescribeTableReplicaAutoScalingCommand"),wSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DescribeTimeToLiveCommand"),PSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DisableKinesisStreamingDestinationCommand"),OSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_EnableKinesisStreamingDestinationCommand"),xSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=OIe(r,e),{$metadata:P(t),...n}},"de_ExecuteStatementCommand"),NSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=xIe(r,e),{$metadata:P(t),...n}},"de_ExecuteTransactionCommand"),DSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=NIe(r,e),{$metadata:P(t),...n}},"de_ExportTableToPointInTimeCommand"),kSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=DIe(r,e),{$metadata:P(t),...n}},"de_GetItemCommand"),MSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_GetResourcePolicyCommand"),LSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=FIe(r,e),{$metadata:P(t),...n}},"de_ImportTableCommand"),USe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=KIe(r,e),{$metadata:P(t),...n}},"de_ListBackupsCommand"),FSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_ListContributorInsightsCommand"),BSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_ListExportsCommand"),qSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_ListGlobalTablesCommand"),HSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=WIe(r,e),{$metadata:P(t),...n}},"de_ListImportsCommand"),jSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_ListTablesCommand"),GSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_ListTagsOfResourceCommand"),$Se=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=ZIe(r,e),{$metadata:P(t),...n}},"de_PutItemCommand"),zSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_PutResourcePolicyCommand"),VSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=tbe(r,e),{$metadata:P(t),...n}},"de_QueryCommand"),KSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=ube(r,e),{$metadata:P(t),...n}},"de_RestoreTableFromBackupCommand"),WSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=pbe(r,e),{$metadata:P(t),...n}},"de_RestoreTableToPointInTimeCommand"),QSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=mbe(r,e),{$metadata:P(t),...n}},"de_ScanCommand"),YSe=p(async(t,e)=>t.statusCode>=300?$(t,e):(await(0,l.collectBody)(t.body,e),{$metadata:P(t)}),"de_TagResourceCommand"),JSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=gbe(r,e),{$metadata:P(t),...n}},"de_TransactGetItemsCommand"),XSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=_be(r,e),{$metadata:P(t),...n}},"de_TransactWriteItemsCommand"),ZSe=p(async(t,e)=>t.statusCode>=300?$(t,e):(await(0,l.collectBody)(t.body,e),{$metadata:P(t)}),"de_UntagResourceCommand"),eTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=vbe(r,e),{$metadata:P(t),...n}},"de_UpdateContinuousBackupsCommand"),tTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_UpdateContributorInsightsCommand"),rTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Ebe(r,e),{$metadata:P(t),...n}},"de_UpdateGlobalTableCommand"),nTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Cbe(r,e),{$metadata:P(t),...n}},"de_UpdateGlobalTableSettingsCommand"),oTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Sbe(r,e),{$metadata:P(t),...n}},"de_UpdateItemCommand"),iTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_UpdateKinesisStreamingDestinationCommand"),sTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Tbe(r,e),{$metadata:P(t),...n}},"de_UpdateTableCommand"),aTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Abe(r,e),{$metadata:P(t),...n}},"de_UpdateTableReplicaAutoScalingCommand"),cTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_UpdateTimeToLiveCommand"),$=p(async(t,e)=>{let r={...t,body:await(0,L.parseJsonErrorBody)(t.body,e)},n=(0,L.loadRestJsonErrorCode)(t,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await STe(r,e);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await DTe(r,e);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await TTe(r,e);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await OTe(r,e);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await MTe(r,e);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await bTe(r,e);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await dTe(r,e);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await pTe(r,e);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await RTe(r,e);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await UTe(r,e);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await FTe(r,e);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await gTe(r,e);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await kTe(r,e);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await lTe(r,e);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await uTe(r,e);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await qTe(r,e);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await PTe(r,e);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await fTe(r,e);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await yTe(r,e);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await ETe(r,e);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await mTe(r,e);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await _Te(r,e);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await BTe(r,e);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await HTe(r,e);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await hTe(r,e);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await ATe(r,e);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await wTe(r,e);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await vTe(r,e);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await LTe(r,e);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await ITe(r,e);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await xTe(r,e);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await NTe(r,e);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await CTe(r,e);default:let o=r.body;return Rbe({output:t,parsedBody:o,errorCode:n})}},"de_CommandError"),dTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new dG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_BackupInUseExceptionRes"),lTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new pG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_BackupNotFoundExceptionRes"),uTe=p(async(t,e)=>{let r=t.body,n=mIe(r,e),o=new W$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ConditionalCheckFailedExceptionRes"),pTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new DG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ContinuousBackupsUnavailableExceptionRes"),mTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new p$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_DuplicateItemExceptionRes"),hTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new C$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ExportConflictExceptionRes"),fTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new n$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ExportNotFoundExceptionRes"),gTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new zG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_GlobalTableAlreadyExistsExceptionRes"),yTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new s$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_GlobalTableNotFoundExceptionRes"),_Te=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new f$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_IdempotentParameterMismatchExceptionRes"),vTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new O$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ImportConflictExceptionRes"),ETe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new d$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ImportNotFoundExceptionRes"),CTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new z$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_IndexNotFoundExceptionRes"),STe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new fG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_InternalServerErrorRes"),TTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new CG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_InvalidEndpointExceptionRes"),ATe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new A$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_InvalidExportTimeExceptionRes"),ITe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new L$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_InvalidRestoreTimeExceptionRes"),bTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new OG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ItemCollectionSizeLimitExceededExceptionRes"),RTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new LG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),wTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new R$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_PointInTimeRecoveryUnavailableExceptionRes"),PTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new e$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_PolicyNotFoundExceptionRes"),OTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new AG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ProvisionedThroughputExceededExceptionRes"),xTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new B$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ReplicaAlreadyExistsExceptionRes"),NTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new j$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ReplicaNotFoundExceptionRes"),DTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new _G({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_RequestLimitExceededRes"),kTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new WG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ResourceInUseExceptionRes"),MTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new RG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),LTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new D$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TableAlreadyExistsExceptionRes"),UTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new BG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TableInUseExceptionRes"),FTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new jG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TableNotFoundExceptionRes"),BTe=p(async(t,e)=>{let r=t.body,n=ybe(r,e),o=new J$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TransactionCanceledExceptionRes"),qTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new JG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TransactionConflictExceptionRes"),HTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new _$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TransactionInProgressExceptionRes"),jTe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=GTe(o,e)),r),{}),"se_AttributeUpdates"),Kn=p((t,e)=>Yf.visit(t,{B:r=>({B:e.base64Encoder(r)}),BOOL:r=>({BOOL:r}),BS:r=>({BS:XTe(r,e)}),L:r=>({L:_Ae(r,e)}),M:r=>({M:EAe(r,e)}),N:r=>({N:r}),NS:r=>({NS:(0,l._json)(r)}),NULL:r=>({NULL:r}),S:r=>({S:r}),SS:r=>({SS:(0,l._json)(r)}),_:(r,n)=>({name:n})}),"se_AttributeValue"),X$=p((t,e)=>t.filter(r=>r!=null).map(r=>Kn(r,e)),"se_AttributeValueList"),GTe=p((t,e)=>(0,l.take)(t,{Action:[],Value:r=>Kn(r,e)}),"se_AttributeValueUpdate"),$Te=p((t,e)=>(0,l.take)(t,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:r=>zTe(r,e)}),"se_AutoScalingPolicyUpdate"),ti=p((t,e)=>(0,l.take)(t,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:r=>$Te(r,e)}),"se_AutoScalingSettingsUpdate"),zTe=p((t,e)=>(0,l.take)(t,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:l.serializeFloat}),"se_AutoScalingTargetTrackingScalingPolicyConfigurationUpdate"),VTe=p((t,e)=>(0,l.take)(t,{ReturnConsumedCapacity:[],Statements:r=>TAe(r,e)}),"se_BatchExecuteStatementInput"),KTe=p((t,e)=>(0,l.take)(t,{RequestItems:r=>WTe(r,e),ReturnConsumedCapacity:[]}),"se_BatchGetItemInput"),WTe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=yAe(o,e)),r),{}),"se_BatchGetRequestMap"),QTe=p((t,e)=>(0,l.take)(t,{ConsistentRead:[],Parameters:r=>PS(r,e),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_BatchStatementRequest"),YTe=p((t,e)=>(0,l.take)(t,{RequestItems:r=>JTe(r,e),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),"se_BatchWriteItemInput"),JTe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=QAe(o,e)),r),{}),"se_BatchWriteItemRequestMap"),XTe=p((t,e)=>t.filter(r=>r!=null).map(r=>e.base64Encoder(r)),"se_BinarySetAttributeValue"),Z$=p((t,e)=>(0,l.take)(t,{AttributeValueList:r=>X$(r,e),ComparisonOperator:[]}),"se_Condition"),ZTe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Key:r=>$r(r,e),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_ConditionCheck"),eAe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Key:r=>$r(r,e),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Delete"),tAe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>wS(r,e),ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Key:r=>$r(r,e),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_DeleteItemInput"),rAe=p((t,e)=>(0,l.take)(t,{Key:r=>$r(r,e)}),"se_DeleteRequest"),nAe=p((t,e)=>(0,l.take)(t,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:r=>PS(r,e),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ExecuteStatementInput"),oAe=p((t,e)=>(0,l.take)(t,{ClientRequestToken:[!0,r=>r??(0,Xf.v4)()],ReturnConsumedCapacity:[],TransactStatements:r=>SAe(r,e)}),"se_ExecuteTransactionInput"),wS=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=iAe(o,e)),r),{}),"se_ExpectedAttributeMap"),iAe=p((t,e)=>(0,l.take)(t,{AttributeValueList:r=>X$(r,e),ComparisonOperator:[],Exists:[],Value:r=>Kn(r,e)}),"se_ExpectedAttributeValue"),sAe=p((t,e)=>(0,l.take)(t,{ClientToken:[!0,r=>r??(0,Xf.v4)()],ExportFormat:[],ExportTime:r=>r.getTime()/1e3,ExportType:[],IncrementalExportSpecification:r=>hAe(r,e),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),"se_ExportTableToPointInTimeInput"),Wn=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Kn(o,e)),r),{}),"se_ExpressionAttributeValueMap"),e2=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Z$(o,e)),r),{}),"se_FilterConditionMap"),aAe=p((t,e)=>(0,l.take)(t,{ExpressionAttributeNames:l._json,Key:r=>$r(r,e),ProjectionExpression:[],TableName:[]}),"se_Get"),cAe=p((t,e)=>(0,l.take)(t,{AttributesToGet:l._json,ConsistentRead:[],ExpressionAttributeNames:l._json,Key:r=>$r(r,e),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),"se_GetItemInput"),dAe=p((t,e)=>(0,l.take)(t,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:r=>ti(r,e)}),"se_GlobalSecondaryIndexAutoScalingUpdate"),lAe=p((t,e)=>t.filter(r=>r!=null).map(r=>dAe(r,e)),"se_GlobalSecondaryIndexAutoScalingUpdateList"),uAe=p((t,e)=>(0,l.take)(t,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>ti(r,e),ProvisionedWriteCapacityUnits:[]}),"se_GlobalTableGlobalSecondaryIndexSettingsUpdate"),pAe=p((t,e)=>t.filter(r=>r!=null).map(r=>uAe(r,e)),"se_GlobalTableGlobalSecondaryIndexSettingsUpdateList"),mAe=p((t,e)=>(0,l.take)(t,{ClientToken:[!0,r=>r??(0,Xf.v4)()],InputCompressionType:[],InputFormat:[],InputFormatOptions:l._json,S3BucketSource:l._json,TableCreationParameters:l._json}),"se_ImportTableInput"),hAe=p((t,e)=>(0,l.take)(t,{ExportFromTime:r=>r.getTime()/1e3,ExportToTime:r=>r.getTime()/1e3,ExportViewType:[]}),"se_IncrementalExportSpecification"),$r=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Kn(o,e)),r),{}),"se_Key"),fAe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Z$(o,e)),r),{}),"se_KeyConditions"),gAe=p((t,e)=>t.filter(r=>r!=null).map(r=>$r(r,e)),"se_KeyList"),yAe=p((t,e)=>(0,l.take)(t,{AttributesToGet:l._json,ConsistentRead:[],ExpressionAttributeNames:l._json,Keys:r=>gAe(r,e),ProjectionExpression:[]}),"se_KeysAndAttributes"),_Ae=p((t,e)=>t.filter(r=>r!=null).map(r=>Kn(r,e)),"se_ListAttributeValue"),vAe=p((t,e)=>(0,l.take)(t,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:r=>r.getTime()/1e3,TimeRangeUpperBound:r=>r.getTime()/1e3}),"se_ListBackupsInput"),EAe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Kn(o,e)),r),{}),"se_MapAttributeValue"),CAe=p((t,e)=>(0,l.take)(t,{Parameters:r=>PS(r,e),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ParameterizedStatement"),SAe=p((t,e)=>t.filter(r=>r!=null).map(r=>CAe(r,e)),"se_ParameterizedStatements"),TAe=p((t,e)=>t.filter(r=>r!=null).map(r=>QTe(r,e)),"se_PartiQLBatchRequest"),PS=p((t,e)=>t.filter(r=>r!=null).map(r=>Kn(r,e)),"se_PreparedStatementParameters"),AAe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Item:r=>OS(r,e),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Put"),IAe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>wS(r,e),ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Item:r=>OS(r,e),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_PutItemInput"),OS=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Kn(o,e)),r),{}),"se_PutItemInputAttributeMap"),bAe=p((t,e)=>(0,l.take)(t,{Item:r=>OS(r,e)}),"se_PutRequest"),RAe=p((t,e)=>(0,l.take)(t,{AttributesToGet:l._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>$r(r,e),ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:r=>fAe(r,e),Limit:[],ProjectionExpression:[],QueryFilter:r=>e2(r,e),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),"se_QueryInput"),wAe=p((t,e)=>(0,l.take)(t,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:r=>xAe(r,e),ReplicaProvisionedReadCapacityAutoScalingUpdate:r=>ti(r,e)}),"se_ReplicaAutoScalingUpdate"),PAe=p((t,e)=>t.filter(r=>r!=null).map(r=>wAe(r,e)),"se_ReplicaAutoScalingUpdateList"),OAe=p((t,e)=>(0,l.take)(t,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:r=>ti(r,e)}),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdate"),xAe=p((t,e)=>t.filter(r=>r!=null).map(r=>OAe(r,e)),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdateList"),NAe=p((t,e)=>(0,l.take)(t,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:r=>ti(r,e),ProvisionedReadCapacityUnits:[]}),"se_ReplicaGlobalSecondaryIndexSettingsUpdate"),DAe=p((t,e)=>t.filter(r=>r!=null).map(r=>NAe(r,e)),"se_ReplicaGlobalSecondaryIndexSettingsUpdateList"),kAe=p((t,e)=>(0,l.take)(t,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:r=>DAe(r,e),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:r=>ti(r,e),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),"se_ReplicaSettingsUpdate"),MAe=p((t,e)=>t.filter(r=>r!=null).map(r=>kAe(r,e)),"se_ReplicaSettingsUpdateList"),LAe=p((t,e)=>(0,l.take)(t,{BillingModeOverride:[],GlobalSecondaryIndexOverride:l._json,LocalSecondaryIndexOverride:l._json,OnDemandThroughputOverride:l._json,ProvisionedThroughputOverride:l._json,RestoreDateTime:r=>r.getTime()/1e3,SSESpecificationOverride:l._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),"se_RestoreTableToPointInTimeInput"),UAe=p((t,e)=>(0,l.take)(t,{AttributesToGet:l._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>$r(r,e),ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:r=>e2(r,e),Segment:[],Select:[],TableName:[],TotalSegments:[]}),"se_ScanInput"),FAe=p((t,e)=>(0,l.take)(t,{Get:r=>aAe(r,e)}),"se_TransactGetItem"),BAe=p((t,e)=>t.filter(r=>r!=null).map(r=>FAe(r,e)),"se_TransactGetItemList"),qAe=p((t,e)=>(0,l.take)(t,{ReturnConsumedCapacity:[],TransactItems:r=>BAe(r,e)}),"se_TransactGetItemsInput"),HAe=p((t,e)=>(0,l.take)(t,{ConditionCheck:r=>ZTe(r,e),Delete:r=>eAe(r,e),Put:r=>AAe(r,e),Update:r=>$Ae(r,e)}),"se_TransactWriteItem"),jAe=p((t,e)=>t.filter(r=>r!=null).map(r=>HAe(r,e)),"se_TransactWriteItemList"),GAe=p((t,e)=>(0,l.take)(t,{ClientRequestToken:[!0,r=>r??(0,Xf.v4)()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:r=>jAe(r,e)}),"se_TransactWriteItemsInput"),$Ae=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Key:r=>$r(r,e),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_Update"),zAe=p((t,e)=>(0,l.take)(t,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:r=>pAe(r,e),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>ti(r,e),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:r=>MAe(r,e)}),"se_UpdateGlobalTableSettingsInput"),VAe=p((t,e)=>(0,l.take)(t,{AttributeUpdates:r=>jTe(r,e),ConditionExpression:[],ConditionalOperator:[],Expected:r=>wS(r,e),ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Key:r=>$r(r,e),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_UpdateItemInput"),KAe=p((t,e)=>(0,l.take)(t,{GlobalSecondaryIndexUpdates:r=>lAe(r,e),ProvisionedWriteCapacityAutoScalingUpdate:r=>ti(r,e),ReplicaUpdates:r=>PAe(r,e),TableName:[]}),"se_UpdateTableReplicaAutoScalingInput"),WAe=p((t,e)=>(0,l.take)(t,{DeleteRequest:r=>rAe(r,e),PutRequest:r=>bAe(r,e)}),"se_WriteRequest"),QAe=p((t,e)=>t.filter(r=>r!=null).map(r=>WAe(r,e)),"se_WriteRequests"),YAe=p((t,e)=>(0,l.take)(t,{ArchivalBackupArn:l.expectString,ArchivalDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ArchivalReason:l.expectString}),"de_ArchivalSummary"),dn=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Qa((0,L.awsExpectUnion)(o),e)),r),{}),"de_AttributeMap"),Qa=p((t,e)=>t.B!=null?{B:e.base64Decoder(t.B)}:(0,l.expectBoolean)(t.BOOL)!==void 0?{BOOL:(0,l.expectBoolean)(t.BOOL)}:t.BS!=null?{BS:lIe(t.BS,e)}:t.L!=null?{L:VIe(t.L,e)}:t.M!=null?{M:QIe(t.M,e)}:(0,l.expectString)(t.N)!==void 0?{N:(0,l.expectString)(t.N)}:t.NS!=null?{NS:(0,l._json)(t.NS)}:(0,l.expectBoolean)(t.NULL)!==void 0?{NULL:(0,l.expectBoolean)(t.NULL)}:(0,l.expectString)(t.S)!==void 0?{S:(0,l.expectString)(t.S)}:t.SS!=null?{SS:(0,l._json)(t.SS)}:{$unknown:Object.entries(t)[0]},"de_AttributeValue"),JAe=p((t,e)=>(0,l.take)(t,{PolicyName:l.expectString,TargetTrackingScalingPolicyConfiguration:r=>ZAe(r,e)}),"de_AutoScalingPolicyDescription"),XAe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>JAe(n,e)),"de_AutoScalingPolicyDescriptionList"),ei=p((t,e)=>(0,l.take)(t,{AutoScalingDisabled:l.expectBoolean,AutoScalingRoleArn:l.expectString,MaximumUnits:l.expectLong,MinimumUnits:l.expectLong,ScalingPolicies:r=>XAe(r,e)}),"de_AutoScalingSettingsDescription"),ZAe=p((t,e)=>(0,l.take)(t,{DisableScaleIn:l.expectBoolean,ScaleInCooldown:l.expectInt32,ScaleOutCooldown:l.expectInt32,TargetValue:l.limitedParseDouble}),"de_AutoScalingTargetTrackingScalingPolicyConfigurationDescription"),t2=p((t,e)=>(0,l.take)(t,{BackupDetails:r=>r2(r,e),SourceTableDetails:r=>hbe(r,e),SourceTableFeatureDetails:r=>fbe(r,e)}),"de_BackupDescription"),r2=p((t,e)=>(0,l.take)(t,{BackupArn:l.expectString,BackupCreationDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),BackupExpiryDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),BackupName:l.expectString,BackupSizeBytes:l.expectLong,BackupStatus:l.expectString,BackupType:l.expectString}),"de_BackupDetails"),eIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>tIe(n,e)),"de_BackupSummaries"),tIe=p((t,e)=>(0,l.take)(t,{BackupArn:l.expectString,BackupCreationDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),BackupExpiryDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),BackupName:l.expectString,BackupSizeBytes:l.expectLong,BackupStatus:l.expectString,BackupType:l.expectString,TableArn:l.expectString,TableId:l.expectString,TableName:l.expectString}),"de_BackupSummary"),rIe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Ya(r,e),Responses:r=>YIe(r,e)}),"de_BatchExecuteStatementOutput"),nIe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Ya(r,e),Responses:r=>iIe(r,e),UnprocessedKeys:r=>oIe(r,e)}),"de_BatchGetItemOutput"),oIe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=zIe(o,e)),r),{}),"de_BatchGetRequestMap"),iIe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=eg(o,e)),r),{}),"de_BatchGetResponseMap"),sIe=p((t,e)=>(0,l.take)(t,{Code:l.expectString,Item:r=>dn(r,e),Message:l.expectString}),"de_BatchStatementError"),aIe=p((t,e)=>(0,l.take)(t,{Error:r=>sIe(r,e),Item:r=>dn(r,e),TableName:l.expectString}),"de_BatchStatementResponse"),cIe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Ya(r,e),ItemCollectionMetrics:r=>c2(r,e),UnprocessedItems:r=>dIe(r,e)}),"de_BatchWriteItemOutput"),dIe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=bbe(o,e)),r),{}),"de_BatchWriteItemRequestMap"),n2=p((t,e)=>(0,l.take)(t,{BillingMode:l.expectString,LastUpdateToPayPerRequestDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r)))}),"de_BillingModeSummary"),lIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>e.base64Decoder(n)),"de_BinarySetAttributeValue"),uIe=p((t,e)=>(0,l.take)(t,{Code:l.expectString,Item:r=>dn(r,e),Message:l.expectString}),"de_CancellationReason"),pIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>uIe(n,e)),"de_CancellationReasonList"),o2=p((t,e)=>(0,l.take)(t,{CapacityUnits:l.limitedParseDouble,ReadCapacityUnits:l.limitedParseDouble,WriteCapacityUnits:l.limitedParseDouble}),"de_Capacity"),mIe=p((t,e)=>(0,l.take)(t,{Item:r=>dn(r,e),message:l.expectString}),"de_ConditionalCheckFailedException"),ri=p((t,e)=>(0,l.take)(t,{CapacityUnits:l.limitedParseDouble,GlobalSecondaryIndexes:r=>rG(r,e),LocalSecondaryIndexes:r=>rG(r,e),ReadCapacityUnits:l.limitedParseDouble,Table:r=>o2(r,e),TableName:l.expectString,WriteCapacityUnits:l.limitedParseDouble}),"de_ConsumedCapacity"),Ya=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>ri(n,e)),"de_ConsumedCapacityMultiple"),i2=p((t,e)=>(0,l.take)(t,{ContinuousBackupsStatus:l.expectString,PointInTimeRecoveryDescription:r=>JIe(r,e)}),"de_ContinuousBackupsDescription"),hIe=p((t,e)=>(0,l.take)(t,{BackupDetails:r=>r2(r,e)}),"de_CreateBackupOutput"),fIe=p((t,e)=>(0,l.take)(t,{GlobalTableDescription:r=>xS(r,e)}),"de_CreateGlobalTableOutput"),gIe=p((t,e)=>(0,l.take)(t,{TableDescription:r=>Ja(r,e)}),"de_CreateTableOutput"),yIe=p((t,e)=>(0,l.take)(t,{BackupDescription:r=>t2(r,e)}),"de_DeleteBackupOutput"),_Ie=p((t,e)=>(0,l.take)(t,{Attributes:r=>dn(r,e),ConsumedCapacity:r=>ri(r,e),ItemCollectionMetrics:r=>Zf(r,e)}),"de_DeleteItemOutput"),vIe=p((t,e)=>(0,l.take)(t,{Key:r=>yl(r,e)}),"de_DeleteRequest"),EIe=p((t,e)=>(0,l.take)(t,{TableDescription:r=>Ja(r,e)}),"de_DeleteTableOutput"),CIe=p((t,e)=>(0,l.take)(t,{BackupDescription:r=>t2(r,e)}),"de_DescribeBackupOutput"),SIe=p((t,e)=>(0,l.take)(t,{ContinuousBackupsDescription:r=>i2(r,e)}),"de_DescribeContinuousBackupsOutput"),TIe=p((t,e)=>(0,l.take)(t,{ContributorInsightsRuleList:l._json,ContributorInsightsStatus:l.expectString,FailureException:l._json,IndexName:l.expectString,LastUpdateDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableName:l.expectString}),"de_DescribeContributorInsightsOutput"),AIe=p((t,e)=>(0,l.take)(t,{ExportDescription:r=>s2(r,e)}),"de_DescribeExportOutput"),IIe=p((t,e)=>(0,l.take)(t,{GlobalTableDescription:r=>xS(r,e)}),"de_DescribeGlobalTableOutput"),bIe=p((t,e)=>(0,l.take)(t,{GlobalTableName:l.expectString,ReplicaSettings:r=>p2(r,e)}),"de_DescribeGlobalTableSettingsOutput"),RIe=p((t,e)=>(0,l.take)(t,{ImportTableDescription:r=>a2(r,e)}),"de_DescribeImportOutput"),wIe=p((t,e)=>(0,l.take)(t,{Table:r=>Ja(r,e)}),"de_DescribeTableOutput"),PIe=p((t,e)=>(0,l.take)(t,{TableAutoScalingDescription:r=>h2(r,e)}),"de_DescribeTableReplicaAutoScalingOutput"),OIe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>ri(r,e),Items:r=>eg(r,e),LastEvaluatedKey:r=>yl(r,e),NextToken:l.expectString}),"de_ExecuteStatementOutput"),xIe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Ya(r,e),Responses:r=>d2(r,e)}),"de_ExecuteTransactionOutput"),s2=p((t,e)=>(0,l.take)(t,{BilledSizeBytes:l.expectLong,ClientToken:l.expectString,EndTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ExportArn:l.expectString,ExportFormat:l.expectString,ExportManifest:l.expectString,ExportStatus:l.expectString,ExportTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ExportType:l.expectString,FailureCode:l.expectString,FailureMessage:l.expectString,IncrementalExportSpecification:r=>BIe(r,e),ItemCount:l.expectLong,S3Bucket:l.expectString,S3BucketOwner:l.expectString,S3Prefix:l.expectString,S3SseAlgorithm:l.expectString,S3SseKmsKeyId:l.expectString,StartTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableArn:l.expectString,TableId:l.expectString}),"de_ExportDescription"),NIe=p((t,e)=>(0,l.take)(t,{ExportDescription:r=>s2(r,e)}),"de_ExportTableToPointInTimeOutput"),DIe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>ri(r,e),Item:r=>dn(r,e)}),"de_GetItemOutput"),kIe=p((t,e)=>(0,l.take)(t,{Backfilling:l.expectBoolean,IndexArn:l.expectString,IndexName:l.expectString,IndexSizeBytes:l.expectLong,IndexStatus:l.expectString,ItemCount:l.expectLong,KeySchema:l._json,OnDemandThroughput:l._json,Projection:l._json,ProvisionedThroughput:r=>l2(r,e)}),"de_GlobalSecondaryIndexDescription"),MIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>kIe(n,e)),"de_GlobalSecondaryIndexDescriptionList"),xS=p((t,e)=>(0,l.take)(t,{CreationDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),GlobalTableArn:l.expectString,GlobalTableName:l.expectString,GlobalTableStatus:l.expectString,ReplicationGroup:r=>u2(r,e)}),"de_GlobalTableDescription"),LIe=p((t,e)=>(0,l.take)(t,{CloudWatchLogGroupArn:l.expectString,EndTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ImportArn:l.expectString,ImportStatus:l.expectString,InputFormat:l.expectString,S3BucketSource:l._json,StartTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableArn:l.expectString}),"de_ImportSummary"),UIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>LIe(n,e)),"de_ImportSummaryList"),a2=p((t,e)=>(0,l.take)(t,{ClientToken:l.expectString,CloudWatchLogGroupArn:l.expectString,EndTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ErrorCount:l.expectLong,FailureCode:l.expectString,FailureMessage:l.expectString,ImportArn:l.expectString,ImportStatus:l.expectString,ImportedItemCount:l.expectLong,InputCompressionType:l.expectString,InputFormat:l.expectString,InputFormatOptions:l._json,ProcessedItemCount:l.expectLong,ProcessedSizeBytes:l.expectLong,S3BucketSource:l._json,StartTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableArn:l.expectString,TableCreationParameters:l._json,TableId:l.expectString}),"de_ImportTableDescription"),FIe=p((t,e)=>(0,l.take)(t,{ImportTableDescription:r=>a2(r,e)}),"de_ImportTableOutput"),BIe=p((t,e)=>(0,l.take)(t,{ExportFromTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ExportToTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ExportViewType:l.expectString}),"de_IncrementalExportSpecification"),qIe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Qa((0,L.awsExpectUnion)(o),e)),r),{}),"de_ItemCollectionKeyAttributeMap"),Zf=p((t,e)=>(0,l.take)(t,{ItemCollectionKey:r=>qIe(r,e),SizeEstimateRangeGB:r=>jIe(r,e)}),"de_ItemCollectionMetrics"),HIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Zf(n,e)),"de_ItemCollectionMetricsMultiple"),c2=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=HIe(o,e)),r),{}),"de_ItemCollectionMetricsPerTable"),jIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>(0,l.limitedParseDouble)(n)),"de_ItemCollectionSizeEstimateRange"),eg=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>dn(n,e)),"de_ItemList"),GIe=p((t,e)=>(0,l.take)(t,{Item:r=>dn(r,e)}),"de_ItemResponse"),d2=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>GIe(n,e)),"de_ItemResponseList"),yl=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Qa((0,L.awsExpectUnion)(o),e)),r),{}),"de_Key"),$Ie=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>yl(n,e)),"de_KeyList"),zIe=p((t,e)=>(0,l.take)(t,{AttributesToGet:l._json,ConsistentRead:l.expectBoolean,ExpressionAttributeNames:l._json,Keys:r=>$Ie(r,e),ProjectionExpression:l.expectString}),"de_KeysAndAttributes"),VIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Qa((0,L.awsExpectUnion)(n),e)),"de_ListAttributeValue"),KIe=p((t,e)=>(0,l.take)(t,{BackupSummaries:r=>eIe(r,e),LastEvaluatedBackupArn:l.expectString}),"de_ListBackupsOutput"),WIe=p((t,e)=>(0,l.take)(t,{ImportSummaryList:r=>UIe(r,e),NextToken:l.expectString}),"de_ListImportsOutput"),QIe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Qa((0,L.awsExpectUnion)(o),e)),r),{}),"de_MapAttributeValue"),YIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>aIe(n,e)),"de_PartiQLBatchResponse"),JIe=p((t,e)=>(0,l.take)(t,{EarliestRestorableDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),LatestRestorableDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),PointInTimeRecoveryStatus:l.expectString}),"de_PointInTimeRecoveryDescription"),l2=p((t,e)=>(0,l.take)(t,{LastDecreaseDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),LastIncreaseDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),NumberOfDecreasesToday:l.expectLong,ReadCapacityUnits:l.expectLong,WriteCapacityUnits:l.expectLong}),"de_ProvisionedThroughputDescription"),XIe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Qa((0,L.awsExpectUnion)(o),e)),r),{}),"de_PutItemInputAttributeMap"),ZIe=p((t,e)=>(0,l.take)(t,{Attributes:r=>dn(r,e),ConsumedCapacity:r=>ri(r,e),ItemCollectionMetrics:r=>Zf(r,e)}),"de_PutItemOutput"),ebe=p((t,e)=>(0,l.take)(t,{Item:r=>XIe(r,e)}),"de_PutRequest"),tbe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>ri(r,e),Count:l.expectInt32,Items:r=>eg(r,e),LastEvaluatedKey:r=>yl(r,e),ScannedCount:l.expectInt32}),"de_QueryOutput"),rbe=p((t,e)=>(0,l.take)(t,{GlobalSecondaryIndexes:r=>sbe(r,e),RegionName:l.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:r=>ei(r,e),ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>ei(r,e),ReplicaStatus:l.expectString}),"de_ReplicaAutoScalingDescription"),nbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>rbe(n,e)),"de_ReplicaAutoScalingDescriptionList"),obe=p((t,e)=>(0,l.take)(t,{GlobalSecondaryIndexes:l._json,KMSMasterKeyId:l.expectString,OnDemandThroughputOverride:l._json,ProvisionedThroughputOverride:l._json,RegionName:l.expectString,ReplicaInaccessibleDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ReplicaStatus:l.expectString,ReplicaStatusDescription:l.expectString,ReplicaStatusPercentProgress:l.expectString,ReplicaTableClassSummary:r=>NS(r,e)}),"de_ReplicaDescription"),u2=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>obe(n,e)),"de_ReplicaDescriptionList"),ibe=p((t,e)=>(0,l.take)(t,{IndexName:l.expectString,IndexStatus:l.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>ei(r,e),ProvisionedWriteCapacityAutoScalingSettings:r=>ei(r,e)}),"de_ReplicaGlobalSecondaryIndexAutoScalingDescription"),sbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>ibe(n,e)),"de_ReplicaGlobalSecondaryIndexAutoScalingDescriptionList"),abe=p((t,e)=>(0,l.take)(t,{IndexName:l.expectString,IndexStatus:l.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>ei(r,e),ProvisionedReadCapacityUnits:l.expectLong,ProvisionedWriteCapacityAutoScalingSettings:r=>ei(r,e),ProvisionedWriteCapacityUnits:l.expectLong}),"de_ReplicaGlobalSecondaryIndexSettingsDescription"),cbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>abe(n,e)),"de_ReplicaGlobalSecondaryIndexSettingsDescriptionList"),dbe=p((t,e)=>(0,l.take)(t,{RegionName:l.expectString,ReplicaBillingModeSummary:r=>n2(r,e),ReplicaGlobalSecondaryIndexSettings:r=>cbe(r,e),ReplicaProvisionedReadCapacityAutoScalingSettings:r=>ei(r,e),ReplicaProvisionedReadCapacityUnits:l.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>ei(r,e),ReplicaProvisionedWriteCapacityUnits:l.expectLong,ReplicaStatus:l.expectString,ReplicaTableClassSummary:r=>NS(r,e)}),"de_ReplicaSettingsDescription"),p2=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>dbe(n,e)),"de_ReplicaSettingsDescriptionList"),lbe=p((t,e)=>(0,l.take)(t,{RestoreDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),RestoreInProgress:l.expectBoolean,SourceBackupArn:l.expectString,SourceTableArn:l.expectString}),"de_RestoreSummary"),ube=p((t,e)=>(0,l.take)(t,{TableDescription:r=>Ja(r,e)}),"de_RestoreTableFromBackupOutput"),pbe=p((t,e)=>(0,l.take)(t,{TableDescription:r=>Ja(r,e)}),"de_RestoreTableToPointInTimeOutput"),mbe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>ri(r,e),Count:l.expectInt32,Items:r=>eg(r,e),LastEvaluatedKey:r=>yl(r,e),ScannedCount:l.expectInt32}),"de_ScanOutput"),rG=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=o2(o,e)),r),{}),"de_SecondaryIndexesCapacityMap"),hbe=p((t,e)=>(0,l.take)(t,{BillingMode:l.expectString,ItemCount:l.expectLong,KeySchema:l._json,OnDemandThroughput:l._json,ProvisionedThroughput:l._json,TableArn:l.expectString,TableCreationDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableId:l.expectString,TableName:l.expectString,TableSizeBytes:l.expectLong}),"de_SourceTableDetails"),fbe=p((t,e)=>(0,l.take)(t,{GlobalSecondaryIndexes:l._json,LocalSecondaryIndexes:l._json,SSEDescription:r=>m2(r,e),StreamDescription:l._json,TimeToLiveDescription:l._json}),"de_SourceTableFeatureDetails"),m2=p((t,e)=>(0,l.take)(t,{InaccessibleEncryptionDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),KMSMasterKeyArn:l.expectString,SSEType:l.expectString,Status:l.expectString}),"de_SSEDescription"),h2=p((t,e)=>(0,l.take)(t,{Replicas:r=>nbe(r,e),TableName:l.expectString,TableStatus:l.expectString}),"de_TableAutoScalingDescription"),NS=p((t,e)=>(0,l.take)(t,{LastUpdateDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableClass:l.expectString}),"de_TableClassSummary"),Ja=p((t,e)=>(0,l.take)(t,{ArchivalSummary:r=>YAe(r,e),AttributeDefinitions:l._json,BillingModeSummary:r=>n2(r,e),CreationDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),DeletionProtectionEnabled:l.expectBoolean,GlobalSecondaryIndexes:r=>MIe(r,e),GlobalTableVersion:l.expectString,ItemCount:l.expectLong,KeySchema:l._json,LatestStreamArn:l.expectString,LatestStreamLabel:l.expectString,LocalSecondaryIndexes:l._json,OnDemandThroughput:l._json,ProvisionedThroughput:r=>l2(r,e),Replicas:r=>u2(r,e),RestoreSummary:r=>lbe(r,e),SSEDescription:r=>m2(r,e),StreamSpecification:l._json,TableArn:l.expectString,TableClassSummary:r=>NS(r,e),TableId:l.expectString,TableName:l.expectString,TableSizeBytes:l.expectLong,TableStatus:l.expectString}),"de_TableDescription"),gbe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Ya(r,e),Responses:r=>d2(r,e)}),"de_TransactGetItemsOutput"),ybe=p((t,e)=>(0,l.take)(t,{CancellationReasons:r=>pIe(r,e),Message:l.expectString}),"de_TransactionCanceledException"),_be=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Ya(r,e),ItemCollectionMetrics:r=>c2(r,e)}),"de_TransactWriteItemsOutput"),vbe=p((t,e)=>(0,l.take)(t,{ContinuousBackupsDescription:r=>i2(r,e)}),"de_UpdateContinuousBackupsOutput"),Ebe=p((t,e)=>(0,l.take)(t,{GlobalTableDescription:r=>xS(r,e)}),"de_UpdateGlobalTableOutput"),Cbe=p((t,e)=>(0,l.take)(t,{GlobalTableName:l.expectString,ReplicaSettings:r=>p2(r,e)}),"de_UpdateGlobalTableSettingsOutput"),Sbe=p((t,e)=>(0,l.take)(t,{Attributes:r=>dn(r,e),ConsumedCapacity:r=>ri(r,e),ItemCollectionMetrics:r=>Zf(r,e)}),"de_UpdateItemOutput"),Tbe=p((t,e)=>(0,l.take)(t,{TableDescription:r=>Ja(r,e)}),"de_UpdateTableOutput"),Abe=p((t,e)=>(0,l.take)(t,{TableAutoScalingDescription:r=>h2(r,e)}),"de_UpdateTableReplicaAutoScalingOutput"),Ibe=p((t,e)=>(0,l.take)(t,{DeleteRequest:r=>vIe(r,e),PutRequest:r=>ebe(r,e)}),"de_WriteRequest"),bbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Ibe(n,e)),"de_WriteRequests"),P=p(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),Rbe=(0,l.withBaseException)(ce),z=p(async(t,e,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await t.endpoint(),d={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new RS.HttpRequest(d)},"buildHttpRpcRequest");function H(t){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${t}`}}p(H,"sharedHeaders");var f2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(gCe).de(vSe).build(){};p(f2,"DescribeEndpointsCommand");var DS=f2,wbe=zj(),nG=Ra(),Pbe=p(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Obe=p(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),Qf=p(t=>t,"asPartial"),xbe=p((t,e)=>{let r={...Qf((0,nG.getAwsRegionExtensionConfiguration)(t)),...Qf((0,l.getDefaultExtensionConfiguration)(t)),...Qf((0,RS.getHttpHandlerExtensionConfiguration)(t)),...Qf(Pbe(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,nG.resolveAwsRegionExtensionConfiguration)(r),...(0,l.resolveDefaultRuntimeConfig)(r),...(0,RS.resolveHttpHandlerRuntimeConfig)(r),...Obe(r)}},"resolveRuntimeExtensions"),g2=class extends l.Client{constructor(...[e]){let r=(0,wbe.getRuntimeConfig)(e||{}),n=yEe(r),o=(0,Zj.resolveUserAgentConfig)(n),i=(0,eG.resolveRetryConfig)(o),s=(0,fEe.resolveRegionConfig)(i),a=(0,Xj.resolveHostHeaderConfig)(s),c=(0,q.resolveEndpointConfig)(a),d=(0,tG.resolveHttpAuthSchemeConfig)(c),u=(0,pEe.resolveEndpointDiscoveryConfig)(d,{endpointDiscoveryCommandCtor:DS}),m=xbe(u,e?.extensions||[]);super(m),this.config=m,this.middlewareStack.use((0,Zj.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,eG.getRetryPlugin)(this.config)),this.middlewareStack.use((0,gEe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Xj.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,mEe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,hEe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,bS.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:tG.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async f=>new bS.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use((0,bS.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};p(g2,"DynamoDBClient");var ni=g2,y2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(nCe).de(sSe).build(){};p(y2,"BatchExecuteStatementCommand");var _2=y2,v2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(oCe).de(aSe).build(){};p(v2,"BatchGetItemCommand");var E2=v2,C2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(iCe).de(cSe).build(){};p(C2,"BatchWriteItemCommand");var S2=C2,T2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(sCe).de(dSe).build(){};p(T2,"CreateBackupCommand");var A2=T2,I2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(aCe).de(lSe).build(){};p(I2,"CreateGlobalTableCommand");var b2=I2,R2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(cCe).de(uSe).build(){};p(R2,"CreateTableCommand");var w2=R2,P2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(dCe).de(pSe).build(){};p(P2,"DeleteBackupCommand");var O2=P2,x2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(lCe).de(mSe).build(){};p(x2,"DeleteItemCommand");var N2=x2,D2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(uCe).de(hSe).build(){};p(D2,"DeleteResourcePolicyCommand");var k2=D2,M2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(pCe).de(fSe).build(){};p(M2,"DeleteTableCommand");var L2=M2,U2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(mCe).de(gSe).build(){};p(U2,"DescribeBackupCommand");var F2=U2,B2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(hCe).de(ySe).build(){};p(B2,"DescribeContinuousBackupsCommand");var q2=B2,H2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(fCe).de(_Se).build(){};p(H2,"DescribeContributorInsightsCommand");var j2=H2,G2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(yCe).de(ESe).build(){};p(G2,"DescribeExportCommand");var $2=G2,z2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(_Ce).de(CSe).build(){};p(z2,"DescribeGlobalTableCommand");var V2=z2,K2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(vCe).de(SSe).build(){};p(K2,"DescribeGlobalTableSettingsCommand");var W2=K2,Q2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(ECe).de(TSe).build(){};p(Q2,"DescribeImportCommand");var Y2=Q2,J2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(CCe).de(ASe).build(){};p(J2,"DescribeKinesisStreamingDestinationCommand");var X2=J2,Z2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(SCe).de(ISe).build(){};p(Z2,"DescribeLimitsCommand");var ez=Z2,tz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(TCe).de(bSe).build(){};p(tz,"DescribeTableCommand");var tg=tz,rz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(ACe).de(RSe).build(){};p(rz,"DescribeTableReplicaAutoScalingCommand");var nz=rz,oz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(ICe).de(wSe).build(){};p(oz,"DescribeTimeToLiveCommand");var iz=oz,sz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(bCe).de(PSe).build(){};p(sz,"DisableKinesisStreamingDestinationCommand");var az=sz,cz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(RCe).de(OSe).build(){};p(cz,"EnableKinesisStreamingDestinationCommand");var dz=cz,lz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(wCe).de(xSe).build(){};p(lz,"ExecuteStatementCommand");var uz=lz,pz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(PCe).de(NSe).build(){};p(pz,"ExecuteTransactionCommand");var mz=pz,hz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(OCe).de(DSe).build(){};p(hz,"ExportTableToPointInTimeCommand");var fz=hz,gz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(xCe).de(kSe).build(){};p(gz,"GetItemCommand");var yz=gz,_z=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(NCe).de(MSe).build(){};p(_z,"GetResourcePolicyCommand");var vz=_z,Ez=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(DCe).de(LSe).build(){};p(Ez,"ImportTableCommand");var Cz=Ez,Sz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(kCe).de(USe).build(){};p(Sz,"ListBackupsCommand");var Tz=Sz,Az=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(MCe).de(FSe).build(){};p(Az,"ListContributorInsightsCommand");var kS=Az,Iz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(LCe).de(BSe).build(){};p(Iz,"ListExportsCommand");var MS=Iz,bz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(UCe).de(qSe).build(){};p(bz,"ListGlobalTablesCommand");var Rz=bz,wz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(FCe).de(HSe).build(){};p(wz,"ListImportsCommand");var LS=wz,Pz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(BCe).de(jSe).build(){};p(Pz,"ListTablesCommand");var US=Pz,Oz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(qCe).de(GSe).build(){};p(Oz,"ListTagsOfResourceCommand");var xz=Oz,Nz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(HCe).de($Se).build(){};p(Nz,"PutItemCommand");var Dz=Nz,kz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(jCe).de(zSe).build(){};p(kz,"PutResourcePolicyCommand");var Mz=kz,Lz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(GCe).de(VSe).build(){};p(Lz,"QueryCommand");var FS=Lz,Uz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser($Ce).de(KSe).build(){};p(Uz,"RestoreTableFromBackupCommand");var Fz=Uz,Bz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(zCe).de(WSe).build(){};p(Bz,"RestoreTableToPointInTimeCommand");var qz=Bz,Hz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(VCe).de(QSe).build(){};p(Hz,"ScanCommand");var BS=Hz,jz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(KCe).de(YSe).build(){};p(jz,"TagResourceCommand");var Gz=jz,$z=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(WCe).de(JSe).build(){};p($z,"TransactGetItemsCommand");var zz=$z,Vz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(QCe).de(XSe).build(){};p(Vz,"TransactWriteItemsCommand");var Kz=Vz,Wz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(YCe).de(ZSe).build(){};p(Wz,"UntagResourceCommand");var Qz=Wz,Yz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(JCe).de(eTe).build(){};p(Yz,"UpdateContinuousBackupsCommand");var Jz=Yz,Xz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(XCe).de(tTe).build(){};p(Xz,"UpdateContributorInsightsCommand");var Zz=Xz,eV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(ZCe).de(rTe).build(){};p(eV,"UpdateGlobalTableCommand");var tV=eV,rV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(eSe).de(nTe).build(){};p(rV,"UpdateGlobalTableSettingsCommand");var nV=rV,oV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(tSe).de(oTe).build(){};p(oV,"UpdateItemCommand");var iV=oV,sV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(rSe).de(iTe).build(){};p(sV,"UpdateKinesisStreamingDestinationCommand");var aV=sV,cV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(nSe).de(sTe).build(){};p(cV,"UpdateTableCommand");var dV=cV,lV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(oSe).de(aTe).build(){};p(lV,"UpdateTableReplicaAutoScalingCommand");var uV=lV,pV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(iSe).de(cTe).build(){};p(pV,"UpdateTimeToLiveCommand");var mV=pV,Nbe={BatchExecuteStatementCommand:_2,BatchGetItemCommand:E2,BatchWriteItemCommand:S2,CreateBackupCommand:A2,CreateGlobalTableCommand:b2,CreateTableCommand:w2,DeleteBackupCommand:O2,DeleteItemCommand:N2,DeleteResourcePolicyCommand:k2,DeleteTableCommand:L2,DescribeBackupCommand:F2,DescribeContinuousBackupsCommand:q2,DescribeContributorInsightsCommand:j2,DescribeEndpointsCommand:DS,DescribeExportCommand:$2,DescribeGlobalTableCommand:V2,DescribeGlobalTableSettingsCommand:W2,DescribeImportCommand:Y2,DescribeKinesisStreamingDestinationCommand:X2,DescribeLimitsCommand:ez,DescribeTableCommand:tg,DescribeTableReplicaAutoScalingCommand:nz,DescribeTimeToLiveCommand:iz,DisableKinesisStreamingDestinationCommand:az,EnableKinesisStreamingDestinationCommand:dz,ExecuteStatementCommand:uz,ExecuteTransactionCommand:mz,ExportTableToPointInTimeCommand:fz,GetItemCommand:yz,GetResourcePolicyCommand:vz,ImportTableCommand:Cz,ListBackupsCommand:Tz,ListContributorInsightsCommand:kS,ListExportsCommand:MS,ListGlobalTablesCommand:Rz,ListImportsCommand:LS,ListTablesCommand:US,ListTagsOfResourceCommand:xz,PutItemCommand:Dz,PutResourcePolicyCommand:Mz,QueryCommand:FS,RestoreTableFromBackupCommand:Fz,RestoreTableToPointInTimeCommand:qz,ScanCommand:BS,TagResourceCommand:Gz,TransactGetItemsCommand:zz,TransactWriteItemsCommand:Kz,UntagResourceCommand:Qz,UpdateContinuousBackupsCommand:Jz,UpdateContributorInsightsCommand:Zz,UpdateGlobalTableCommand:tV,UpdateGlobalTableSettingsCommand:nV,UpdateItemCommand:iV,UpdateKinesisStreamingDestinationCommand:aV,UpdateTableCommand:dV,UpdateTableReplicaAutoScalingCommand:uV,UpdateTimeToLiveCommand:mV},hV=class extends ni{};p(hV,"DynamoDB");var fV=hV;(0,l.createAggregatedClient)(Nbe,fV);var Dbe=(mt(),M(bt)),kbe=(0,Dbe.createPaginator)(ni,kS,"NextToken","NextToken","MaxResults"),Mbe=(mt(),M(bt)),Lbe=(0,Mbe.createPaginator)(ni,MS,"NextToken","NextToken","MaxResults"),Ube=(mt(),M(bt)),Fbe=(0,Ube.createPaginator)(ni,LS,"NextToken","NextToken","PageSize"),Bbe=(mt(),M(bt)),qbe=(0,Bbe.createPaginator)(ni,US,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),Hbe=(mt(),M(bt)),jbe=(0,Hbe.createPaginator)(ni,FS,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Gbe=(mt(),M(bt)),$be=(0,Gbe.createPaginator)(ni,BS,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Gr=Jj(),gV=p(async(t,e)=>{let r;try{let n=await t.send(new tg(e));r=n;try{if(p(()=>n.Table.TableStatus,"returnComparator")()==="ACTIVE")return{state:Gr.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Gr.WaiterState.RETRY,reason:r}}return{state:Gr.WaiterState.RETRY,reason:r}},"checkState"),zbe=p(async(t,e)=>{let r={minDelay:20,maxDelay:120};return(0,Gr.createWaiter)({...r,...t},e,gV)},"waitForTableExists"),Vbe=p(async(t,e)=>{let r={minDelay:20,maxDelay:120},n=await(0,Gr.createWaiter)({...r,...t},e,gV);return(0,Gr.checkExceptions)(n)},"waitUntilTableExists"),yV=p(async(t,e)=>{let r;try{r=await t.send(new tg(e))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Gr.WaiterState.SUCCESS,reason:r}}return{state:Gr.WaiterState.RETRY,reason:r}},"checkState"),Kbe=p(async(t,e)=>{let r={minDelay:20,maxDelay:120};return(0,Gr.createWaiter)({...r,...t},e,yV)},"waitForTableNotExists"),Wbe=p(async(t,e)=>{let r={minDelay:20,maxDelay:120},n=await(0,Gr.createWaiter)({...r,...t},e,yV);return(0,Gr.checkExceptions)(n)},"waitUntilTableNotExists")});var HS=g((yze,CV)=>{var{marshall:rg,unmarshall:qS}=j0(),{chunkArray:Qbe}=$0(),Ybe=J_(),{DynamoDBClient:Jbe,PutItemCommand:Xbe,GetItemCommand:Zbe,UpdateItemCommand:eRe,BatchWriteItemCommand:tRe,QueryCommand:EV}=vV(),rRe=process.env.REGION,Xa=new Jbe({region:rRe}),nRe=async(t,e)=>{let r={TableName:t,Item:rg(e,{convertClassInstanceToMap:!0,removeUndefinedValues:!0})};try{await Xa.send(new Xbe(r))}catch(n){throw console.log("\u{1F680} ~ createItemService ~ error:",n),new Error("ErrorPutnewItem",n)}},oRe=async(t,e,r)=>{let n={TableName:t,Key:rg({PK:e,SK:r})};try{let o=await Xa.send(new Zbe(n));return o.Item?qS(o.Item):null}catch(o){throw console.log("ERROR",o),new Error("ErrorGetItem",o)}},iRe=async(t,e)=>{let r=Qbe(t,25);for(let n of r){let o=n.map(s=>{let a=new Ybe(s);return{PutRequest:{Item:rg(a,{convertClassInstanceToMap:!0,removeUndefinedValues:!0}),ConditionExpression:"attribute_not_exists(SK)"}}}),i={RequestItems:{[e]:o}};try{await Xa.send(new tRe(i))}catch{throw new Error("Error saving emails to DynamoDB")}}},sRe=async(t,e,r,n,o)=>{let i={TableName:t,Key:{PK:{S:e},SK:{S:r}},UpdateExpression:n,ExpressionAttributeValues:rg(o),ReturnValues:"ALL_NEW"};try{let s=await Xa.send(new eRe(i));return s.Attributes?s.Attributes:null}catch(s){throw new Error("ErrorupdateItem",s)}},aRe=async(t,e)=>{let r={TableName:t,KeyConditionExpression:"PK = :pk",ExpressionAttributeValues:{":pk":{S:e}}};try{let n=await Xa.send(new EV(r)),o=n.Items?n.Items.map(i=>qS(i)):null;return{Message:o,Count:o?.length||0}}catch(n){throw new Error("ErrorgetAllItems",n)}},cRe=async(t,e)=>{let r={TableName:t,KeyConditionExpression:"PK = :pk",ProjectionExpression:"subject, #fromAlias",ExpressionAttributeNames:{"#fromAlias":"from"},ExpressionAttributeValues:{":pk":{S:e}}},n=[],o=null;try{do{o&&(r.ExclusiveStartKey=o);let i=await Xa.send(new EV(r));if(i.Items){let s=i.Items.map(a=>qS(a));n=n.concat(s)}o=i.LastEvaluatedKey}while(o);return{items:n,count:n.length}}catch(i){throw new Error(`Error in queryAllItems: ${i.message}`)}};CV.exports={createItemService:nRe,getPrimaryItemService:oRe,updateItemService:sRe,addBatchEmailService:iRe,queryAllItemsService:cRe,getAllItemsService:aRe}});var OV=g((_ze,PV)=>{"use strict";var ng=Object.defineProperty,dRe=Object.getOwnPropertyDescriptor,lRe=Object.getOwnPropertyNames,uRe=Object.prototype.hasOwnProperty,Qn=(t,e)=>ng(t,"name",{value:e,configurable:!0}),pRe=(t,e)=>{for(var r in e)ng(t,r,{get:e[r],enumerable:!0})},mRe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of lRe(e))!uRe.call(t,o)&&o!==r&&ng(t,o,{get:()=>e[o],enumerable:!(n=dRe(e,o))||n.enumerable});return t},hRe=t=>mRe(ng({},"__esModule",{value:!0}),t),SV={};pRe(SV,{getQueueUrlPlugin:()=>yRe,getReceiveMessagePlugin:()=>vRe,getSendMessageBatchPlugin:()=>TRe,getSendMessagePlugin:()=>CRe,queueUrlMiddleware:()=>jS,queueUrlMiddlewareOptions:()=>TV,receiveMessageMiddleware:()=>$S,receiveMessageMiddlewareOptions:()=>AV,resolveQueueUrlConfig:()=>gRe,sendMessageBatchMiddleware:()=>RV,sendMessageBatchMiddlewareOptions:()=>wV,sendMessageMiddleware:()=>IV,sendMessageMiddlewareOptions:()=>bV});PV.exports=hRe(SV);var fRe=fe(),gRe=Qn(t=>({...t,useQueueUrlAsEndpoint:t.useQueueUrlAsEndpoint??!0}),"resolveQueueUrlConfig");function jS({useQueueUrlAsEndpoint:t,endpoint:e}){return(r,n)=>async o=>{var i;let{input:s}=o,a=n.endpointV2;if(!e&&s.QueueUrl&&a&&t){let c=n.logger instanceof fRe.NoOpLogger||!((i=n.logger)!=null&&i.warn)?console:n.logger;try{let d=new URL(s.QueueUrl),u=new URL(d.origin);a.url.origin!==u.origin&&(c.warn(`QueueUrl=${s.QueueUrl} differs from SQSClient resolved endpoint=${a.url.toString()}, using QueueUrl host as endpoint.
Set [endpoint=string] or [useQueueUrlAsEndpoint=false] on the SQSClient.`),a.url=u)}catch(d){c.warn(d)}}return r(o)}}Qn(jS,"queueUrlMiddleware");var TV={name:"queueUrlMiddleware",relation:"after",toMiddleware:"endpointV2Middleware",override:!0},yRe=Qn(t=>({applyToStack:e=>{e.addRelativeTo(jS(t),TV)}}),"getQueueUrlPlugin"),GS=gh(),_Re=Et();function $S(t){return e=>async r=>{let n=await e({...r});if(t.md5===!1)return n;let o=n.output,i=[];if(o.Messages!==void 0)for(let s of o.Messages){let a=s.MD5OfBody,c=new t.md5;c.update((0,_Re.toUint8Array)(s.Body||"")),a!==(0,GS.toHex)(await c.digest())&&i.push(s.MessageId)}if(i.length>0)throw new Error("Invalid MD5 checksum on messages: "+i.join(", "));return n}}Qn($S,"receiveMessageMiddleware");var AV={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"receiveMessageMiddleware",override:!0},vRe=Qn(t=>({applyToStack:e=>{e.add($S(t),AV)}}),"getReceiveMessagePlugin"),ERe=Et(),IV=Qn(t=>e=>async r=>{let n=await e({...r});if(t.md5===!1)return n;let o=n.output,i=new t.md5;if(i.update((0,ERe.toUint8Array)(r.input.MessageBody||"")),o.MD5OfMessageBody!==(0,GS.toHex)(await i.digest()))throw new Error("InvalidChecksumError");return n},"sendMessageMiddleware"),bV={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageMiddleware",override:!0},CRe=Qn(t=>({applyToStack:e=>{e.add(IV(t),bV)}}),"getSendMessagePlugin"),SRe=Et(),RV=Qn(t=>e=>async r=>{let n=await e({...r});if(t.md5===!1)return n;let o=n.output,i=[],s={};if(o.Successful!==void 0)for(let a of o.Successful)a.Id!==void 0&&(s[a.Id]=a);for(let a of r.input.Entries)if(s[a.Id]){let c=s[a.Id].MD5OfMessageBody,d=new t.md5;d.update((0,SRe.toUint8Array)(a.MessageBody||"")),c!==(0,GS.toHex)(await d.digest())&&i.push(s[a.Id].MessageId)}if(i.length>0)throw new Error("Invalid MD5 checksum on messages: "+i.join(", "));return n},"sendMessageBatchMiddleware"),wV={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageBatchMiddleware",override:!0},TRe=Qn(t=>({applyToStack:e=>{e.add(RV(t),wV)}}),"getSendMessageBatchPlugin")});var zS=g(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.resolveHttpAuthSchemeConfig=oi.defaultSQSHttpAuthSchemeProvider=oi.defaultSQSHttpAuthSchemeParametersProvider=void 0;var ARe=(Ze(),M(Xe)),xV=hr(),IRe=async(t,e,r)=>({operation:(0,xV.getSmithyContext)(e).operation,region:await(0,xV.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});oi.defaultSQSHttpAuthSchemeParametersProvider=IRe;function bRe(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sqs",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var RRe=t=>{let e=[];switch(t.operation){default:e.push(bRe(t))}return e};oi.defaultSQSHttpAuthSchemeProvider=RRe;var wRe=t=>({...(0,ARe.resolveAwsSdkSigV4Config)(t)});oi.resolveHttpAuthSchemeConfig=wRe});var NV=g((Eze,PRe)=>{PRe.exports={name:"@aws-sdk/client-sqs",description:"AWS SDK for JavaScript Sqs Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sqs","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sqs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.645.0","@aws-sdk/client-sts":"3.645.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-sdk-sqs":"3.635.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/md5-js":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sqs",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sqs"}}});var KV=g(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.ruleSet=void 0;var GV="required",Or="fn",xr="argv",tc="ref",DV=!0,kV="isSet",_l="booleanEquals",Za="error",ec="endpoint",Yn="tree",VS="PartitionResult",KS="getAttr",MV={[GV]:!1,type:"String"},LV={[GV]:!0,default:!1,type:"Boolean"},UV={[tc]:"Endpoint"},$V={[Or]:_l,[xr]:[{[tc]:"UseFIPS"},!0]},zV={[Or]:_l,[xr]:[{[tc]:"UseDualStack"},!0]},Pr={},FV={[Or]:KS,[xr]:[{[tc]:VS},"supportsFIPS"]},VV={[tc]:VS},BV={[Or]:_l,[xr]:[!0,{[Or]:KS,[xr]:[VV,"supportsDualStack"]}]},qV=[$V],HV=[zV],jV=[{[tc]:"Region"}],ORe={version:"1.0",parameters:{Region:MV,UseDualStack:LV,UseFIPS:LV,Endpoint:MV},rules:[{conditions:[{[Or]:kV,[xr]:[UV]}],rules:[{conditions:qV,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Za},{conditions:HV,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Za},{endpoint:{url:UV,properties:Pr,headers:Pr},type:ec}],type:Yn},{conditions:[{[Or]:kV,[xr]:jV}],rules:[{conditions:[{[Or]:"aws.partition",[xr]:jV,assign:VS}],rules:[{conditions:[$V,zV],rules:[{conditions:[{[Or]:_l,[xr]:[DV,FV]},BV],rules:[{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pr,headers:Pr},type:ec}],type:Yn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Za}],type:Yn},{conditions:qV,rules:[{conditions:[{[Or]:_l,[xr]:[FV,DV]}],rules:[{conditions:[{[Or]:"stringEquals",[xr]:[{[Or]:KS,[xr]:[VV,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sqs.{Region}.amazonaws.com",properties:Pr,headers:Pr},type:ec},{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Pr,headers:Pr},type:ec}],type:Yn},{error:"FIPS is enabled but this partition does not support FIPS",type:Za}],type:Yn},{conditions:HV,rules:[{conditions:[BV],rules:[{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pr,headers:Pr},type:ec}],type:Yn},{error:"DualStack is enabled but this partition does not support DualStack",type:Za}],type:Yn},{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dnsSuffix}",properties:Pr,headers:Pr},type:ec}],type:Yn}],type:Yn},{error:"Invalid Configuration: Missing Region",type:Za}]};og.ruleSet=ORe});var QV=g(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.defaultEndpointResolver=void 0;var xRe=Ki(),WV=Vi(),NRe=KV(),DRe=(t,e={})=>(0,WV.resolveEndpoint)(NRe.ruleSet,{endpointParams:t,logger:e.logger});ig.defaultEndpointResolver=DRe;WV.customEndpointFunctions.aws=xRe.awsEndpointFunctions});var XV=g(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.getRuntimeConfig=void 0;var kRe=(Ze(),M(Xe)),MRe=fe(),LRe=Ro(),YV=Mn(),JV=Et(),URe=zS(),FRe=QV(),BRe=t=>({apiVersion:"2012-11-05",base64Decoder:t?.base64Decoder??YV.fromBase64,base64Encoder:t?.base64Encoder??YV.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??FRe.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??URe.defaultSQSHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new kRe.AwsSdkSigV4Signer}],logger:t?.logger??new MRe.NoOpLogger,serviceId:t?.serviceId??"SQS",urlParser:t?.urlParser??LRe.parseUrl,utf8Decoder:t?.utf8Decoder??JV.fromUtf8,utf8Encoder:t?.utf8Encoder??JV.toUtf8});sg.getRuntimeConfig=BRe});var r3=g(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.getRuntimeConfig=void 0;var qRe=(_e(),M(ye)),HRe=qRe.__importDefault(NV()),jRe=(Ze(),M(Xe)),GRe=il(),$Re=va(),ag=fr(),ZV=Ea(),e3=_r(),vl=rn(),t3=No(),zRe=Ca(),VRe=Ji(),KRe=XV(),WRe=fe(),QRe=Ia(),YRe=fe(),JRe=t=>{(0,YRe.emitWarningIfUnsupportedVersion)(process.version);let e=(0,QRe.resolveDefaultsModeConfig)(t),r=()=>e().then(WRe.loadConfigsForDefaultMode),n=(0,KRe.getRuntimeConfig)(t);return(0,jRe.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??zRe.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??GRe.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,$Re.defaultUserAgent)({serviceId:n.serviceId,clientVersion:HRe.default.version}),maxAttempts:t?.maxAttempts??(0,vl.loadConfig)(e3.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),md5:t?.md5??ZV.Hash.bind(null,"md5"),region:t?.region??(0,vl.loadConfig)(ag.NODE_REGION_CONFIG_OPTIONS,ag.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t3.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,vl.loadConfig)({...e3.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||VRe.DEFAULT_RETRY_MODE}),sha256:t?.sha256??ZV.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??t3.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,vl.loadConfig)(ag.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,vl.loadConfig)(ag.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};cg.getRuntimeConfig=JRe});var jW=g((Yze,HW)=>{"use strict";var lg=Object.defineProperty,XRe=Object.getOwnPropertyDescriptor,ZRe=Object.getOwnPropertyNames,ewe=Object.prototype.hasOwnProperty,_=(t,e)=>lg(t,"name",{value:e,configurable:!0}),twe=(t,e)=>{for(var r in e)lg(t,r,{get:e[r],enumerable:!0})},rwe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ZRe(e))!ewe.call(t,o)&&o!==r&&lg(t,o,{get:()=>e[o],enumerable:!(n=XRe(e,o))||n.enumerable});return t},nwe=t=>rwe(lg({},"__esModule",{value:!0}),t),c3={};twe(c3,{AddPermissionCommand:()=>YK,BatchEntryIdsNotDistinct:()=>H3,BatchRequestTooLong:()=>HK,CancelMessageMoveTaskCommand:()=>XK,ChangeMessageVisibilityBatchCommand:()=>eW,ChangeMessageVisibilityCommand:()=>rW,CreateQueueCommand:()=>oW,DeleteMessageBatchCommand:()=>sW,DeleteMessageCommand:()=>cW,DeleteQueueCommand:()=>lW,EmptyBatchRequest:()=>$3,GetQueueAttributesCommand:()=>pW,GetQueueUrlCommand:()=>hW,InvalidAddress:()=>h3,InvalidAttributeName:()=>Z3,InvalidAttributeValue:()=>rK,InvalidBatchEntryId:()=>K3,InvalidIdFormat:()=>uK,InvalidMessageContents:()=>FK,InvalidSecurity:()=>y3,KmsAccessDenied:()=>yK,KmsDisabled:()=>EK,KmsInvalidKeyUsage:()=>TK,KmsInvalidState:()=>bK,KmsNotFound:()=>PK,KmsOptInRequired:()=>NK,KmsThrottled:()=>MK,ListDeadLetterSourceQueuesCommand:()=>QS,ListMessageMoveTasksCommand:()=>yW,ListQueueTagsCommand:()=>EW,ListQueuesCommand:()=>YS,MessageNotInflight:()=>M3,MessageSystemAttributeName:()=>hwe,MessageSystemAttributeNameForSends:()=>fwe,OverLimit:()=>E3,PurgeQueueCommand:()=>SW,PurgeQueueInProgress:()=>hK,QueueAttributeName:()=>mwe,QueueDeletedRecently:()=>iK,QueueDoesNotExist:()=>T3,QueueNameExists:()=>cK,ReceiptHandleIsInvalid:()=>F3,ReceiveMessageCommand:()=>AW,RemovePermissionCommand:()=>bW,RequestThrottled:()=>b3,ResourceNotFoundException:()=>N3,SQS:()=>qW,SQSClient:()=>ug,SQSServiceException:()=>ge,SendMessageBatchCommand:()=>wW,SendMessageCommand:()=>OW,SetQueueAttributesCommand:()=>NW,StartMessageMoveTaskCommand:()=>kW,TagQueueCommand:()=>LW,TooManyEntriesInBatchRequest:()=>Y3,UnsupportedOperation:()=>P3,UntagQueueCommand:()=>FW,__Client:()=>T.Client,paginateListDeadLetterSourceQueues:()=>RPe,paginateListQueues:()=>wPe});HW.exports=nwe(c3);var n3=ta(),owe=ra(),iwe=na(),Cl=OV(),o3=ia(),swe=fr(),El=(mt(),M(bt)),awe=ha(),Le=Po(),i3=_r(),s3=zS(),cwe=_(t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sqs"}),"resolveClientEndpointParameters"),Ge={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},dwe=r3(),a3=Ra(),WS=De(),T=fe(),lwe=_(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),uwe=_(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),dg=_(t=>t,"asPartial"),pwe=_((t,e)=>{let r={...dg((0,a3.getAwsRegionExtensionConfiguration)(t)),...dg((0,T.getDefaultExtensionConfiguration)(t)),...dg((0,WS.getHttpHandlerExtensionConfiguration)(t)),...dg(lwe(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,a3.resolveAwsRegionExtensionConfiguration)(r),...(0,T.resolveDefaultRuntimeConfig)(r),...(0,WS.resolveHttpHandlerRuntimeConfig)(r),...uwe(r)}},"resolveRuntimeExtensions"),d3=class extends T.Client{constructor(...[e]){let r=(0,dwe.getRuntimeConfig)(e||{}),n=cwe(r),o=(0,o3.resolveUserAgentConfig)(n),i=(0,i3.resolveRetryConfig)(o),s=(0,swe.resolveRegionConfig)(i),a=(0,n3.resolveHostHeaderConfig)(s),c=(0,Le.resolveEndpointConfig)(a),d=(0,Cl.resolveQueueUrlConfig)(c),u=(0,s3.resolveHttpAuthSchemeConfig)(d),m=pwe(u,e?.extensions||[]);super(m),this.config=m,this.middlewareStack.use((0,o3.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,i3.getRetryPlugin)(this.config)),this.middlewareStack.use((0,awe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,n3.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,owe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,iwe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Cl.getQueueUrlPlugin)(this.config)),this.middlewareStack.use((0,El.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:s3.defaultSQSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async f=>new El.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use((0,El.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};_(d3,"SQSClient");var ug=d3,$e=wo(),O=(Ze(),M(Xe)),l3=class u3 extends T.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,u3.prototype)}};_(l3,"SQSServiceException");var ge=l3,p3=class m3 extends ge{constructor(e){super({name:"InvalidAddress",$fault:"client",...e}),this.name="InvalidAddress",this.$fault="client",Object.setPrototypeOf(this,m3.prototype)}};_(p3,"InvalidAddress");var h3=p3,f3=class g3 extends ge{constructor(e){super({name:"InvalidSecurity",$fault:"client",...e}),this.name="InvalidSecurity",this.$fault="client",Object.setPrototypeOf(this,g3.prototype)}};_(f3,"InvalidSecurity");var y3=f3,_3=class v3 extends ge{constructor(e){super({name:"OverLimit",$fault:"client",...e}),this.name="OverLimit",this.$fault="client",Object.setPrototypeOf(this,v3.prototype)}};_(_3,"OverLimit");var E3=_3,C3=class S3 extends ge{constructor(e){super({name:"QueueDoesNotExist",$fault:"client",...e}),this.name="QueueDoesNotExist",this.$fault="client",Object.setPrototypeOf(this,S3.prototype)}};_(C3,"QueueDoesNotExist");var T3=C3,A3=class I3 extends ge{constructor(e){super({name:"RequestThrottled",$fault:"client",...e}),this.name="RequestThrottled",this.$fault="client",Object.setPrototypeOf(this,I3.prototype)}};_(A3,"RequestThrottled");var b3=A3,R3=class w3 extends ge{constructor(e){super({name:"UnsupportedOperation",$fault:"client",...e}),this.name="UnsupportedOperation",this.$fault="client",Object.setPrototypeOf(this,w3.prototype)}};_(R3,"UnsupportedOperation");var P3=R3,O3=class x3 extends ge{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,x3.prototype)}};_(O3,"ResourceNotFoundException");var N3=O3,D3=class k3 extends ge{constructor(e){super({name:"MessageNotInflight",$fault:"client",...e}),this.name="MessageNotInflight",this.$fault="client",Object.setPrototypeOf(this,k3.prototype)}};_(D3,"MessageNotInflight");var M3=D3,L3=class U3 extends ge{constructor(e){super({name:"ReceiptHandleIsInvalid",$fault:"client",...e}),this.name="ReceiptHandleIsInvalid",this.$fault="client",Object.setPrototypeOf(this,U3.prototype)}};_(L3,"ReceiptHandleIsInvalid");var F3=L3,B3=class q3 extends ge{constructor(e){super({name:"BatchEntryIdsNotDistinct",$fault:"client",...e}),this.name="BatchEntryIdsNotDistinct",this.$fault="client",Object.setPrototypeOf(this,q3.prototype)}};_(B3,"BatchEntryIdsNotDistinct");var H3=B3,j3=class G3 extends ge{constructor(e){super({name:"EmptyBatchRequest",$fault:"client",...e}),this.name="EmptyBatchRequest",this.$fault="client",Object.setPrototypeOf(this,G3.prototype)}};_(j3,"EmptyBatchRequest");var $3=j3,z3=class V3 extends ge{constructor(e){super({name:"InvalidBatchEntryId",$fault:"client",...e}),this.name="InvalidBatchEntryId",this.$fault="client",Object.setPrototypeOf(this,V3.prototype)}};_(z3,"InvalidBatchEntryId");var K3=z3,W3=class Q3 extends ge{constructor(e){super({name:"TooManyEntriesInBatchRequest",$fault:"client",...e}),this.name="TooManyEntriesInBatchRequest",this.$fault="client",Object.setPrototypeOf(this,Q3.prototype)}};_(W3,"TooManyEntriesInBatchRequest");var Y3=W3,mwe={All:"All",ApproximateNumberOfMessages:"ApproximateNumberOfMessages",ApproximateNumberOfMessagesDelayed:"ApproximateNumberOfMessagesDelayed",ApproximateNumberOfMessagesNotVisible:"ApproximateNumberOfMessagesNotVisible",ContentBasedDeduplication:"ContentBasedDeduplication",CreatedTimestamp:"CreatedTimestamp",DeduplicationScope:"DeduplicationScope",DelaySeconds:"DelaySeconds",FifoQueue:"FifoQueue",FifoThroughputLimit:"FifoThroughputLimit",KmsDataKeyReusePeriodSeconds:"KmsDataKeyReusePeriodSeconds",KmsMasterKeyId:"KmsMasterKeyId",LastModifiedTimestamp:"LastModifiedTimestamp",MaximumMessageSize:"MaximumMessageSize",MessageRetentionPeriod:"MessageRetentionPeriod",Policy:"Policy",QueueArn:"QueueArn",ReceiveMessageWaitTimeSeconds:"ReceiveMessageWaitTimeSeconds",RedriveAllowPolicy:"RedriveAllowPolicy",RedrivePolicy:"RedrivePolicy",SqsManagedSseEnabled:"SqsManagedSseEnabled",VisibilityTimeout:"VisibilityTimeout"},J3=class X3 extends ge{constructor(e){super({name:"InvalidAttributeName",$fault:"client",...e}),this.name="InvalidAttributeName",this.$fault="client",Object.setPrototypeOf(this,X3.prototype)}};_(J3,"InvalidAttributeName");var Z3=J3,eK=class tK extends ge{constructor(e){super({name:"InvalidAttributeValue",$fault:"client",...e}),this.name="InvalidAttributeValue",this.$fault="client",Object.setPrototypeOf(this,tK.prototype)}};_(eK,"InvalidAttributeValue");var rK=eK,nK=class oK extends ge{constructor(e){super({name:"QueueDeletedRecently",$fault:"client",...e}),this.name="QueueDeletedRecently",this.$fault="client",Object.setPrototypeOf(this,oK.prototype)}};_(nK,"QueueDeletedRecently");var iK=nK,sK=class aK extends ge{constructor(e){super({name:"QueueNameExists",$fault:"client",...e}),this.name="QueueNameExists",this.$fault="client",Object.setPrototypeOf(this,aK.prototype)}};_(sK,"QueueNameExists");var cK=sK,dK=class lK extends ge{constructor(e){super({name:"InvalidIdFormat",$fault:"client",...e}),this.name="InvalidIdFormat",this.$fault="client",Object.setPrototypeOf(this,lK.prototype)}};_(dK,"InvalidIdFormat");var uK=dK,pK=class mK extends ge{constructor(e){super({name:"PurgeQueueInProgress",$fault:"client",...e}),this.name="PurgeQueueInProgress",this.$fault="client",Object.setPrototypeOf(this,mK.prototype)}};_(pK,"PurgeQueueInProgress");var hK=pK,fK=class gK extends ge{constructor(e){super({name:"KmsAccessDenied",$fault:"client",...e}),this.name="KmsAccessDenied",this.$fault="client",Object.setPrototypeOf(this,gK.prototype)}};_(fK,"KmsAccessDenied");var yK=fK,_K=class vK extends ge{constructor(e){super({name:"KmsDisabled",$fault:"client",...e}),this.name="KmsDisabled",this.$fault="client",Object.setPrototypeOf(this,vK.prototype)}};_(_K,"KmsDisabled");var EK=_K,CK=class SK extends ge{constructor(e){super({name:"KmsInvalidKeyUsage",$fault:"client",...e}),this.name="KmsInvalidKeyUsage",this.$fault="client",Object.setPrototypeOf(this,SK.prototype)}};_(CK,"KmsInvalidKeyUsage");var TK=CK,AK=class IK extends ge{constructor(e){super({name:"KmsInvalidState",$fault:"client",...e}),this.name="KmsInvalidState",this.$fault="client",Object.setPrototypeOf(this,IK.prototype)}};_(AK,"KmsInvalidState");var bK=AK,RK=class wK extends ge{constructor(e){super({name:"KmsNotFound",$fault:"client",...e}),this.name="KmsNotFound",this.$fault="client",Object.setPrototypeOf(this,wK.prototype)}};_(RK,"KmsNotFound");var PK=RK,OK=class xK extends ge{constructor(e){super({name:"KmsOptInRequired",$fault:"client",...e}),this.name="KmsOptInRequired",this.$fault="client",Object.setPrototypeOf(this,xK.prototype)}};_(OK,"KmsOptInRequired");var NK=OK,DK=class kK extends ge{constructor(e){super({name:"KmsThrottled",$fault:"client",...e}),this.name="KmsThrottled",this.$fault="client",Object.setPrototypeOf(this,kK.prototype)}};_(DK,"KmsThrottled");var MK=DK,hwe={AWSTraceHeader:"AWSTraceHeader",All:"All",ApproximateFirstReceiveTimestamp:"ApproximateFirstReceiveTimestamp",ApproximateReceiveCount:"ApproximateReceiveCount",DeadLetterQueueSourceArn:"DeadLetterQueueSourceArn",MessageDeduplicationId:"MessageDeduplicationId",MessageGroupId:"MessageGroupId",SenderId:"SenderId",SentTimestamp:"SentTimestamp",SequenceNumber:"SequenceNumber"},LK=class UK extends ge{constructor(e){super({name:"InvalidMessageContents",$fault:"client",...e}),this.name="InvalidMessageContents",this.$fault="client",Object.setPrototypeOf(this,UK.prototype)}};_(LK,"InvalidMessageContents");var FK=LK,fwe={AWSTraceHeader:"AWSTraceHeader"},BK=class qK extends ge{constructor(e){super({name:"BatchRequestTooLong",$fault:"client",...e}),this.name="BatchRequestTooLong",this.$fault="client",Object.setPrototypeOf(this,qK.prototype)}};_(BK,"BatchRequestTooLong");var HK=BK,gwe=_(async(t,e)=>{let r=Ue("AddPermission"),n;return n=JSON.stringify(U0e(t,e)),Ve(e,r,"/",void 0,n)},"se_AddPermissionCommand"),ywe=_(async(t,e)=>{let r=Ue("CancelMessageMoveTask"),n;return n=JSON.stringify(B0e(t,e)),Ve(e,r,"/",void 0,n)},"se_CancelMessageMoveTaskCommand"),_we=_(async(t,e)=>{let r=Ue("ChangeMessageVisibility"),n;return n=JSON.stringify(G0e(t,e)),Ve(e,r,"/",void 0,n)},"se_ChangeMessageVisibilityCommand"),vwe=_(async(t,e)=>{let r=Ue("ChangeMessageVisibilityBatch"),n;return n=JSON.stringify(q0e(t,e)),Ve(e,r,"/",void 0,n)},"se_ChangeMessageVisibilityBatchCommand"),Ewe=_(async(t,e)=>{let r=Ue("CreateQueue"),n;return n=JSON.stringify($0e(t,e)),Ve(e,r,"/",void 0,n)},"se_CreateQueueCommand"),Cwe=_(async(t,e)=>{let r=Ue("DeleteMessage"),n;return n=JSON.stringify(W0e(t,e)),Ve(e,r,"/",void 0,n)},"se_DeleteMessageCommand"),Swe=_(async(t,e)=>{let r=Ue("DeleteMessageBatch"),n;return n=JSON.stringify(z0e(t,e)),Ve(e,r,"/",void 0,n)},"se_DeleteMessageBatchCommand"),Twe=_(async(t,e)=>{let r=Ue("DeleteQueue"),n;return n=JSON.stringify(Q0e(t,e)),Ve(e,r,"/",void 0,n)},"se_DeleteQueueCommand"),Awe=_(async(t,e)=>{let r=Ue("GetQueueAttributes"),n;return n=JSON.stringify(Y0e(t,e)),Ve(e,r,"/",void 0,n)},"se_GetQueueAttributesCommand"),Iwe=_(async(t,e)=>{let r=Ue("GetQueueUrl"),n;return n=JSON.stringify(J0e(t,e)),Ve(e,r,"/",void 0,n)},"se_GetQueueUrlCommand"),bwe=_(async(t,e)=>{let r=Ue("ListDeadLetterSourceQueues"),n;return n=JSON.stringify(X0e(t,e)),Ve(e,r,"/",void 0,n)},"se_ListDeadLetterSourceQueuesCommand"),Rwe=_(async(t,e)=>{let r=Ue("ListMessageMoveTasks"),n;return n=JSON.stringify(Z0e(t,e)),Ve(e,r,"/",void 0,n)},"se_ListMessageMoveTasksCommand"),wwe=_(async(t,e)=>{let r=Ue("ListQueues"),n;return n=JSON.stringify(ePe(t,e)),Ve(e,r,"/",void 0,n)},"se_ListQueuesCommand"),Pwe=_(async(t,e)=>{let r=Ue("ListQueueTags"),n;return n=JSON.stringify(tPe(t,e)),Ve(e,r,"/",void 0,n)},"se_ListQueueTagsCommand"),Owe=_(async(t,e)=>{let r=Ue("PurgeQueue"),n;return n=JSON.stringify(sPe(t,e)),Ve(e,r,"/",void 0,n)},"se_PurgeQueueCommand"),xwe=_(async(t,e)=>{let r=Ue("ReceiveMessage"),n;return n=JSON.stringify(aPe(t,e)),Ve(e,r,"/",void 0,n)},"se_ReceiveMessageCommand"),Nwe=_(async(t,e)=>{let r=Ue("RemovePermission"),n;return n=JSON.stringify(cPe(t,e)),Ve(e,r,"/",void 0,n)},"se_RemovePermissionCommand"),Dwe=_(async(t,e)=>{let r=Ue("SendMessage"),n;return n=JSON.stringify(pPe(t,e)),Ve(e,r,"/",void 0,n)},"se_SendMessageCommand"),kwe=_(async(t,e)=>{let r=Ue("SendMessageBatch"),n;return n=JSON.stringify(dPe(t,e)),Ve(e,r,"/",void 0,n)},"se_SendMessageBatchCommand"),Mwe=_(async(t,e)=>{let r=Ue("SetQueueAttributes"),n;return n=JSON.stringify(mPe(t,e)),Ve(e,r,"/",void 0,n)},"se_SetQueueAttributesCommand"),Lwe=_(async(t,e)=>{let r=Ue("StartMessageMoveTask"),n;return n=JSON.stringify(hPe(t,e)),Ve(e,r,"/",void 0,n)},"se_StartMessageMoveTaskCommand"),Uwe=_(async(t,e)=>{let r=Ue("TagQueue"),n;return n=JSON.stringify(gPe(t,e)),Ve(e,r,"/",void 0,n)},"se_TagQueueCommand"),Fwe=_(async(t,e)=>{let r=Ue("UntagQueue"),n;return n=JSON.stringify(yPe(t,e)),Ve(e,r,"/",void 0,n)},"se_UntagQueueCommand"),Bwe=_(async(t,e)=>t.statusCode>=300?ze(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:Q(t)}),"de_AddPermissionCommand"),qwe=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_CancelMessageMoveTaskCommand"),Hwe=_(async(t,e)=>t.statusCode>=300?ze(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:Q(t)}),"de_ChangeMessageVisibilityCommand"),jwe=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_ChangeMessageVisibilityBatchCommand"),Gwe=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_CreateQueueCommand"),$we=_(async(t,e)=>t.statusCode>=300?ze(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:Q(t)}),"de_DeleteMessageCommand"),zwe=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_DeleteMessageBatchCommand"),Vwe=_(async(t,e)=>t.statusCode>=300?ze(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:Q(t)}),"de_DeleteQueueCommand"),Kwe=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_GetQueueAttributesCommand"),Wwe=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_GetQueueUrlCommand"),Qwe=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_ListDeadLetterSourceQueuesCommand"),Ywe=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_ListMessageMoveTasksCommand"),Jwe=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_ListQueuesCommand"),Xwe=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_ListQueueTagsCommand"),Zwe=_(async(t,e)=>t.statusCode>=300?ze(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:Q(t)}),"de_PurgeQueueCommand"),e0e=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=TPe(r,e),{$metadata:Q(t),...n}},"de_ReceiveMessageCommand"),t0e=_(async(t,e)=>t.statusCode>=300?ze(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:Q(t)}),"de_RemovePermissionCommand"),r0e=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_SendMessageCommand"),n0e=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_SendMessageBatchCommand"),o0e=_(async(t,e)=>t.statusCode>=300?ze(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:Q(t)}),"de_SetQueueAttributesCommand"),i0e=_(async(t,e)=>{if(t.statusCode>=300)return ze(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:Q(t),...n}},"de_StartMessageMoveTaskCommand"),s0e=_(async(t,e)=>t.statusCode>=300?ze(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:Q(t)}),"de_TagQueueCommand"),a0e=_(async(t,e)=>t.statusCode>=300?ze(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:Q(t)}),"de_UntagQueueCommand"),ze=_(async(t,e)=>{let r={...t,body:await(0,O.parseJsonErrorBody)(t.body,e)};IPe(r,t.headers);let n=(0,O.loadRestJsonErrorCode)(t,r.body);switch(n){case"InvalidAddress":case"com.amazonaws.sqs#InvalidAddress":throw await u0e(r,e);case"InvalidSecurity":case"com.amazonaws.sqs#InvalidSecurity":throw await y0e(r,e);case"OverLimit":case"com.amazonaws.sqs#OverLimit":throw await b0e(r,e);case"QueueDoesNotExist":case"com.amazonaws.sqs#QueueDoesNotExist":throw await P0e(r,e);case"RequestThrottled":case"com.amazonaws.sqs#RequestThrottled":throw await N0e(r,e);case"UnsupportedOperation":case"com.amazonaws.sqs#UnsupportedOperation":throw await M0e(r,e);case"ResourceNotFoundException":case"com.amazonaws.sqs#ResourceNotFoundException":throw await D0e(r,e);case"MessageNotInflight":case"com.amazonaws.sqs#MessageNotInflight":throw await I0e(r,e);case"ReceiptHandleIsInvalid":case"com.amazonaws.sqs#ReceiptHandleIsInvalid":throw await x0e(r,e);case"BatchEntryIdsNotDistinct":case"com.amazonaws.sqs#BatchEntryIdsNotDistinct":throw await c0e(r,e);case"EmptyBatchRequest":case"com.amazonaws.sqs#EmptyBatchRequest":throw await l0e(r,e);case"InvalidBatchEntryId":case"com.amazonaws.sqs#InvalidBatchEntryId":throw await h0e(r,e);case"TooManyEntriesInBatchRequest":case"com.amazonaws.sqs#TooManyEntriesInBatchRequest":throw await k0e(r,e);case"InvalidAttributeName":case"com.amazonaws.sqs#InvalidAttributeName":throw await p0e(r,e);case"InvalidAttributeValue":case"com.amazonaws.sqs#InvalidAttributeValue":throw await m0e(r,e);case"QueueDeletedRecently":case"com.amazonaws.sqs#QueueDeletedRecently":throw await w0e(r,e);case"QueueNameExists":case"com.amazonaws.sqs#QueueNameExists":throw await O0e(r,e);case"InvalidIdFormat":case"com.amazonaws.sqs#InvalidIdFormat":throw await f0e(r,e);case"PurgeQueueInProgress":case"com.amazonaws.sqs#PurgeQueueInProgress":throw await R0e(r,e);case"KmsAccessDenied":case"com.amazonaws.sqs#KmsAccessDenied":throw await _0e(r,e);case"KmsDisabled":case"com.amazonaws.sqs#KmsDisabled":throw await v0e(r,e);case"KmsInvalidKeyUsage":case"com.amazonaws.sqs#KmsInvalidKeyUsage":throw await E0e(r,e);case"KmsInvalidState":case"com.amazonaws.sqs#KmsInvalidState":throw await C0e(r,e);case"KmsNotFound":case"com.amazonaws.sqs#KmsNotFound":throw await S0e(r,e);case"KmsOptInRequired":case"com.amazonaws.sqs#KmsOptInRequired":throw await T0e(r,e);case"KmsThrottled":case"com.amazonaws.sqs#KmsThrottled":throw await A0e(r,e);case"InvalidMessageContents":case"com.amazonaws.sqs#InvalidMessageContents":throw await g0e(r,e);case"BatchRequestTooLong":case"com.amazonaws.sqs#BatchRequestTooLong":throw await d0e(r,e);default:let o=r.body;return APe({output:t,parsedBody:o,errorCode:n})}},"de_CommandError"),c0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new H3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_BatchEntryIdsNotDistinctRes"),d0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new HK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_BatchRequestTooLongRes"),l0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new $3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_EmptyBatchRequestRes"),u0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new h3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidAddressRes"),p0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new Z3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidAttributeNameRes"),m0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new rK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidAttributeValueRes"),h0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new K3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidBatchEntryIdRes"),f0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new uK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidIdFormatRes"),g0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new FK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidMessageContentsRes"),y0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new y3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidSecurityRes"),_0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new yK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsAccessDeniedRes"),v0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new EK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsDisabledRes"),E0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new TK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsInvalidKeyUsageRes"),C0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new bK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsInvalidStateRes"),S0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new PK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsNotFoundRes"),T0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new NK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsOptInRequiredRes"),A0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new MK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsThrottledRes"),I0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new M3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_MessageNotInflightRes"),b0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new E3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_OverLimitRes"),R0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new hK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_PurgeQueueInProgressRes"),w0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new iK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_QueueDeletedRecentlyRes"),P0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new T3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_QueueDoesNotExistRes"),O0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new cK({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_QueueNameExistsRes"),x0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new F3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_ReceiptHandleIsInvalidRes"),N0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new b3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_RequestThrottledRes"),D0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new N3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),k0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new Y3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_TooManyEntriesInBatchRequestRes"),M0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new P3({$metadata:Q(t),...n});return(0,T.decorateServiceException)(o,r)},"de_UnsupportedOperationRes"),L0e=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_ActionNameList"),U0e=_((t,e)=>(0,T.take)(t,{AWSAccountIds:r=>F0e(r,e),Actions:r=>L0e(r,e),Label:O._toStr,QueueUrl:O._toStr}),"se_AddPermissionRequest"),jK=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_AttributeNameList"),F0e=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_AWSAccountIdList"),GK=_((t,e)=>t.filter(r=>r!=null).map(r=>e.base64Encoder(r)),"se_BinaryList"),B0e=_((t,e)=>(0,T.take)(t,{TaskHandle:O._toStr}),"se_CancelMessageMoveTaskRequest"),q0e=_((t,e)=>(0,T.take)(t,{Entries:r=>j0e(r,e),QueueUrl:O._toStr}),"se_ChangeMessageVisibilityBatchRequest"),H0e=_((t,e)=>(0,T.take)(t,{Id:O._toStr,ReceiptHandle:O._toStr,VisibilityTimeout:O._toNum}),"se_ChangeMessageVisibilityBatchRequestEntry"),j0e=_((t,e)=>t.filter(r=>r!=null).map(r=>H0e(r,e)),"se_ChangeMessageVisibilityBatchRequestEntryList"),G0e=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr,ReceiptHandle:O._toStr,VisibilityTimeout:O._toNum}),"se_ChangeMessageVisibilityRequest"),$0e=_((t,e)=>(0,T.take)(t,{Attributes:r=>VK(r,e),QueueName:O._toStr,tags:r=>WK(r,e)}),"se_CreateQueueRequest"),z0e=_((t,e)=>(0,T.take)(t,{Entries:r=>K0e(r,e),QueueUrl:O._toStr}),"se_DeleteMessageBatchRequest"),V0e=_((t,e)=>(0,T.take)(t,{Id:O._toStr,ReceiptHandle:O._toStr}),"se_DeleteMessageBatchRequestEntry"),K0e=_((t,e)=>t.filter(r=>r!=null).map(r=>V0e(r,e)),"se_DeleteMessageBatchRequestEntryList"),W0e=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr,ReceiptHandle:O._toStr}),"se_DeleteMessageRequest"),Q0e=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr}),"se_DeleteQueueRequest"),Y0e=_((t,e)=>(0,T.take)(t,{AttributeNames:r=>jK(r,e),QueueUrl:O._toStr}),"se_GetQueueAttributesRequest"),J0e=_((t,e)=>(0,T.take)(t,{QueueName:O._toStr,QueueOwnerAWSAccountId:O._toStr}),"se_GetQueueUrlRequest"),X0e=_((t,e)=>(0,T.take)(t,{MaxResults:O._toNum,NextToken:O._toStr,QueueUrl:O._toStr}),"se_ListDeadLetterSourceQueuesRequest"),Z0e=_((t,e)=>(0,T.take)(t,{MaxResults:O._toNum,SourceArn:O._toStr}),"se_ListMessageMoveTasksRequest"),ePe=_((t,e)=>(0,T.take)(t,{MaxResults:O._toNum,NextToken:O._toStr,QueueNamePrefix:O._toStr}),"se_ListQueuesRequest"),tPe=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr}),"se_ListQueueTagsRequest"),rPe=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_MessageAttributeNameList"),nPe=_((t,e)=>(0,T.take)(t,{BinaryListValues:r=>GK(r,e),BinaryValue:e.base64Encoder,DataType:O._toStr,StringListValues:r=>KK(r,e),StringValue:O._toStr}),"se_MessageAttributeValue"),$K=_((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=nPe(o,e)),r),{}),"se_MessageBodyAttributeMap"),zK=_((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=iPe(o,e)),r),{}),"se_MessageBodySystemAttributeMap"),oPe=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_MessageSystemAttributeList"),iPe=_((t,e)=>(0,T.take)(t,{BinaryListValues:r=>GK(r,e),BinaryValue:e.base64Encoder,DataType:O._toStr,StringListValues:r=>KK(r,e),StringValue:O._toStr}),"se_MessageSystemAttributeValue"),sPe=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr}),"se_PurgeQueueRequest"),VK=_((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=(0,O._toStr)(o)),r),{}),"se_QueueAttributeMap"),aPe=_((t,e)=>(0,T.take)(t,{AttributeNames:r=>jK(r,e),MaxNumberOfMessages:O._toNum,MessageAttributeNames:r=>rPe(r,e),MessageSystemAttributeNames:r=>oPe(r,e),QueueUrl:O._toStr,ReceiveRequestAttemptId:O._toStr,VisibilityTimeout:O._toNum,WaitTimeSeconds:O._toNum}),"se_ReceiveMessageRequest"),cPe=_((t,e)=>(0,T.take)(t,{Label:O._toStr,QueueUrl:O._toStr}),"se_RemovePermissionRequest"),dPe=_((t,e)=>(0,T.take)(t,{Entries:r=>uPe(r,e),QueueUrl:O._toStr}),"se_SendMessageBatchRequest"),lPe=_((t,e)=>(0,T.take)(t,{DelaySeconds:O._toNum,Id:O._toStr,MessageAttributes:r=>$K(r,e),MessageBody:O._toStr,MessageDeduplicationId:O._toStr,MessageGroupId:O._toStr,MessageSystemAttributes:r=>zK(r,e)}),"se_SendMessageBatchRequestEntry"),uPe=_((t,e)=>t.filter(r=>r!=null).map(r=>lPe(r,e)),"se_SendMessageBatchRequestEntryList"),pPe=_((t,e)=>(0,T.take)(t,{DelaySeconds:O._toNum,MessageAttributes:r=>$K(r,e),MessageBody:O._toStr,MessageDeduplicationId:O._toStr,MessageGroupId:O._toStr,MessageSystemAttributes:r=>zK(r,e),QueueUrl:O._toStr}),"se_SendMessageRequest"),mPe=_((t,e)=>(0,T.take)(t,{Attributes:r=>VK(r,e),QueueUrl:O._toStr}),"se_SetQueueAttributesRequest"),hPe=_((t,e)=>(0,T.take)(t,{DestinationArn:O._toStr,MaxNumberOfMessagesPerSecond:O._toNum,SourceArn:O._toStr}),"se_StartMessageMoveTaskRequest"),KK=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_StringList"),fPe=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_TagKeyList"),WK=_((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=(0,O._toStr)(o)),r),{}),"se_TagMap"),gPe=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr,Tags:r=>WK(r,e)}),"se_TagQueueRequest"),yPe=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr,TagKeys:r=>fPe(r,e)}),"se_UntagQueueRequest"),_Pe=_((t,e)=>(t||[]).filter(n=>n!=null).map(n=>e.base64Decoder(n)),"de_BinaryList"),vPe=_((t,e)=>(0,T.take)(t,{Attributes:T._json,Body:T.expectString,MD5OfBody:T.expectString,MD5OfMessageAttributes:T.expectString,MessageAttributes:r=>CPe(r,e),MessageId:T.expectString,ReceiptHandle:T.expectString}),"de_Message"),EPe=_((t,e)=>(0,T.take)(t,{BinaryListValues:r=>_Pe(r,e),BinaryValue:e.base64Decoder,DataType:T.expectString,StringListValues:T._json,StringValue:T.expectString}),"de_MessageAttributeValue"),CPe=_((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=EPe(o,e)),r),{}),"de_MessageBodyAttributeMap"),SPe=_((t,e)=>(t||[]).filter(n=>n!=null).map(n=>vPe(n,e)),"de_MessageList"),TPe=_((t,e)=>(0,T.take)(t,{Messages:r=>SPe(r,e)}),"de_ReceiveMessageResult"),Q=_(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),APe=(0,T.withBaseException)(ge),Ve=_(async(t,e,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await t.endpoint(),d={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new WS.HttpRequest(d)},"buildHttpRpcRequest");function Ue(t){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`AmazonSQS.${t}`}}_(Ue,"sharedHeaders");var IPe=_((t,e)=>{let r=e["x-amzn-query-error"];if(t.body!==void 0&&r!=null){let n=r.split(";");t.body.Code=n[0],t.body.Type=n[1]}},"populateBodyWithQueryCompatibility"),QK=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","AddPermission",{}).n("SQSClient","AddPermissionCommand").f(void 0,void 0).ser(gwe).de(Bwe).build(){};_(QK,"AddPermissionCommand");var YK=QK,JK=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","CancelMessageMoveTask",{}).n("SQSClient","CancelMessageMoveTaskCommand").f(void 0,void 0).ser(ywe).de(qwe).build(){};_(JK,"CancelMessageMoveTaskCommand");var XK=JK,ZK=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibilityBatch",{}).n("SQSClient","ChangeMessageVisibilityBatchCommand").f(void 0,void 0).ser(vwe).de(jwe).build(){};_(ZK,"ChangeMessageVisibilityBatchCommand");var eW=ZK,tW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibility",{}).n("SQSClient","ChangeMessageVisibilityCommand").f(void 0,void 0).ser(_we).de(Hwe).build(){};_(tW,"ChangeMessageVisibilityCommand");var rW=tW,nW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","CreateQueue",{}).n("SQSClient","CreateQueueCommand").f(void 0,void 0).ser(Ewe).de(Gwe).build(){};_(nW,"CreateQueueCommand");var oW=nW,iW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessageBatch",{}).n("SQSClient","DeleteMessageBatchCommand").f(void 0,void 0).ser(Swe).de(zwe).build(){};_(iW,"DeleteMessageBatchCommand");var sW=iW,aW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessage",{}).n("SQSClient","DeleteMessageCommand").f(void 0,void 0).ser(Cwe).de($we).build(){};_(aW,"DeleteMessageCommand");var cW=aW,dW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteQueue",{}).n("SQSClient","DeleteQueueCommand").f(void 0,void 0).ser(Twe).de(Vwe).build(){};_(dW,"DeleteQueueCommand");var lW=dW,uW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueAttributes",{}).n("SQSClient","GetQueueAttributesCommand").f(void 0,void 0).ser(Awe).de(Kwe).build(){};_(uW,"GetQueueAttributesCommand");var pW=uW,mW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueUrl",{}).n("SQSClient","GetQueueUrlCommand").f(void 0,void 0).ser(Iwe).de(Wwe).build(){};_(mW,"GetQueueUrlCommand");var hW=mW,fW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListDeadLetterSourceQueues",{}).n("SQSClient","ListDeadLetterSourceQueuesCommand").f(void 0,void 0).ser(bwe).de(Qwe).build(){};_(fW,"ListDeadLetterSourceQueuesCommand");var QS=fW,gW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListMessageMoveTasks",{}).n("SQSClient","ListMessageMoveTasksCommand").f(void 0,void 0).ser(Rwe).de(Ywe).build(){};_(gW,"ListMessageMoveTasksCommand");var yW=gW,_W=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueues",{}).n("SQSClient","ListQueuesCommand").f(void 0,void 0).ser(wwe).de(Jwe).build(){};_(_W,"ListQueuesCommand");var YS=_W,vW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueueTags",{}).n("SQSClient","ListQueueTagsCommand").f(void 0,void 0).ser(Pwe).de(Xwe).build(){};_(vW,"ListQueueTagsCommand");var EW=vW,CW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","PurgeQueue",{}).n("SQSClient","PurgeQueueCommand").f(void 0,void 0).ser(Owe).de(Zwe).build(){};_(CW,"PurgeQueueCommand");var SW=CW,TW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions()),(0,Cl.getReceiveMessagePlugin)(n)]}).s("AmazonSQS","ReceiveMessage",{}).n("SQSClient","ReceiveMessageCommand").f(void 0,void 0).ser(xwe).de(e0e).build(){};_(TW,"ReceiveMessageCommand");var AW=TW,IW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","RemovePermission",{}).n("SQSClient","RemovePermissionCommand").f(void 0,void 0).ser(Nwe).de(t0e).build(){};_(IW,"RemovePermissionCommand");var bW=IW,RW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions()),(0,Cl.getSendMessageBatchPlugin)(n)]}).s("AmazonSQS","SendMessageBatch",{}).n("SQSClient","SendMessageBatchCommand").f(void 0,void 0).ser(kwe).de(n0e).build(){};_(RW,"SendMessageBatchCommand");var wW=RW,PW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions()),(0,Cl.getSendMessagePlugin)(n)]}).s("AmazonSQS","SendMessage",{}).n("SQSClient","SendMessageCommand").f(void 0,void 0).ser(Dwe).de(r0e).build(){};_(PW,"SendMessageCommand");var OW=PW,xW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","SetQueueAttributes",{}).n("SQSClient","SetQueueAttributesCommand").f(void 0,void 0).ser(Mwe).de(o0e).build(){};_(xW,"SetQueueAttributesCommand");var NW=xW,DW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","StartMessageMoveTask",{}).n("SQSClient","StartMessageMoveTaskCommand").f(void 0,void 0).ser(Lwe).de(i0e).build(){};_(DW,"StartMessageMoveTaskCommand");var kW=DW,MW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","TagQueue",{}).n("SQSClient","TagQueueCommand").f(void 0,void 0).ser(Uwe).de(s0e).build(){};_(MW,"TagQueueCommand");var LW=MW,UW=class extends T.Command.classBuilder().ep({...Ge}).m(function(e,r,n,o){return[(0,$e.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Le.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","UntagQueue",{}).n("SQSClient","UntagQueueCommand").f(void 0,void 0).ser(Fwe).de(a0e).build(){};_(UW,"UntagQueueCommand");var FW=UW,bPe={AddPermissionCommand:YK,CancelMessageMoveTaskCommand:XK,ChangeMessageVisibilityCommand:rW,ChangeMessageVisibilityBatchCommand:eW,CreateQueueCommand:oW,DeleteMessageCommand:cW,DeleteMessageBatchCommand:sW,DeleteQueueCommand:lW,GetQueueAttributesCommand:pW,GetQueueUrlCommand:hW,ListDeadLetterSourceQueuesCommand:QS,ListMessageMoveTasksCommand:yW,ListQueuesCommand:YS,ListQueueTagsCommand:EW,PurgeQueueCommand:SW,ReceiveMessageCommand:AW,RemovePermissionCommand:bW,SendMessageCommand:OW,SendMessageBatchCommand:wW,SetQueueAttributesCommand:NW,StartMessageMoveTaskCommand:kW,TagQueueCommand:LW,UntagQueueCommand:FW},BW=class extends ug{};_(BW,"SQS");var qW=BW;(0,T.createAggregatedClient)(bPe,qW);var RPe=(0,El.createPaginator)(ug,QS,"NextToken","NextToken","MaxResults"),wPe=(0,El.createPaginator)(ug,YS,"NextToken","NextToken","MaxResults")});var zW=g((Jze,$W)=>{var{SQSClient:PPe,SendMessageCommand:OPe,GetQueueUrlCommand:xPe}=jW(),NPe=process.env.REGION,GW=new PPe({region:NPe}),DPe=async(t,e)=>{try{let n={QueueUrl:await kPe(t),MessageBody:JSON.stringify(e)};await GW.send(new OPe(n))}catch(r){throw new Error("Failed to send message to SQS",r)}},kPe=async t=>{let e={QueueName:t};try{let r=new xPe(e);return(await GW.send(r)).QueueUrl}catch(r){throw new Error("Failed to get queue URL",r)}};$W.exports={sendSqsService:DPe}});var YW=g((Xze,QW)=>{var{ConfidentialClientApplication:MPe}=(hw(),M(mw)),{Client:LPe}=A0(),VW=b0(),{createItemService:KW,getPrimaryItemService:UPe}=HS(),{sendSqsService:FPe}=zW(),JS=process.env.EMAIL_TABLE_NAME,BPe=process.env.SQS_QUEUE_NAME,qPe=process.env.MICROSOFT_CLIENT_ID,HPe=process.env.MICROSOFT_SECRET_ID_VALUE,WW=process.env.MICROSOFT_REDIRECT_URL2,XS=["User.Read","Mail.Read","openid","profile","offline_access"],as=new MPe({auth:{clientId:qPe,authority:"https://login.microsoftonline.com/common",clientSecret:HPe}}),jPe=async()=>{try{return await as.getAuthCodeUrl({scopes:XS,redirectUri:WW})}catch(t){throw new Error(`Error generating authentication URL: ${t.message}`)}},GPe=async t=>{let e={code:t,scopes:XS,redirectUri:WW};try{let r=await as.acquireTokenByCode(e),n=as.getTokenCache().serialize(),o={emailUser:r.account.username,access_token:r.accessToken,expiry_date:r.expiresOn,token_cache:n},i=new VW(o);await KW(JS,i)}catch{throw new Error("Failed to exchange authorization code for tokens.")}},$Pe=async t=>{try{let e=await ZS(t);if(e==null)throw new Error("Failed to get credential user.");let r=await tT(e,t),n=await eT(r),o=new Date,i=new Date(o.getTime()-24*60*60*1e3).toISOString();console.log("pastTimeHours",i);let a=(await n.api("/me/messages").select("id").filter(`receivedDateTime ge ${i}`).orderby("receivedDateTime DESC").get()).value.map(d=>d.id);return await FPe(BPe,{emailUser:t,emailIds:a}),a}catch(e){throw new Error("Failed to list emails.",e)}},zPe=async(t,e)=>{try{let r=await ZS(t);if(r==null)throw new Error("Failed to get credential user.");let n=await tT(r,t);return await(await eT(n)).api(`/me/messages/${e}`).get()}catch{throw new Error(`Failed to retrieve email by ID: ${e}`)}},VPe=async(t,e)=>{try{let r=await ZS(t);if(r==null)throw new Error("Failed to get credential user.");let n=await tT(r,t);return(await(await eT(n)).api(`/me/messages/${e}/attachments`).get()).value.filter(a=>a["@odata.type"]==="#microsoft.graph.fileAttachment").map(a=>({name:a.name,contentType:a.contentType,size:a.size,contentBytes:a.contentBytes}))}catch(r){throw new Error(`Failed to retrieve attachments for message: ${e}. Error: ${r.message}`)}},ZS=async t=>{try{return await UPe(JS,"TOKEN",`MAIL#${t}`)}catch(e){throw new Error(`Error retrieving client token: ${e.message}`)}},eT=async t=>LPe.init({authProvider:e=>{e(null,t)}}),tT=async(t,e)=>{let{access_token:r,expiry_date:n,token_cache:o}=t,i=new Date().getTime();if(o&&await as.getTokenCache().deserialize(o),i>=n){let a={account:(await as.getTokenCache().getAllAccounts()).find(c=>c.username===e),scopes:XS};try{let c=await as.acquireTokenSilent(a),d=as.getTokenCache().serialize(),u={emailUser:c.account.username,access_token:c.accessToken,expiry_date:c.expiresOn,token_cache:d,token_refresh:!0},m=new VW(u);return await KW(JS,m),r=c.accessToken,r}catch(c){throw new Error(`Failed to refresh token: ${c.message}`)}}else return r};QW.exports={authUrlEmailService:jPe,changeCodeByTokenService:GPe,syncroniceEmailsService:$Pe,getEmailByIdService:zPe,getAttachmentsFromEmailService:VPe}});var{getEmailByIdService:KPe,getAttachmentsFromEmailService:WPe}=YW(),QPe=J_(),{createItemService:YPe}=HS(),JPe=process.env.EMAIL_TABLE_NAME,XPe=async t=>{try{let e=t.Records;for(let r of e){let{emailUser:n,emailIds:o}=JSON.parse(r.body);for(let i of o){let s=await KPe(n,i);if(s.hasAttachments){let c=await WPe(n,i);console.log("\uFFFD\uFFFD\uFFFD ~ handler ~ attachmentsEmail:",c)}console.log("\u{1F680} ~ handler ~ message:",s);let a=new QPe(s);await YPe(JPe,a)}}}catch(e){throw console.error("Error processing SQS messages:",e),new Error("Failed to process SQS messages.")}};module.exports={handler:XPe};
/*! Bundled license information:

@azure/msal-node/dist/cache/serializer/Serializer.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-common/dist/utils/Constants.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/AuthErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/AuthError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientAuthError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/AuthToken.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityType.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientConfigurationError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/StringUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/UrlUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/url/UrlString.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityMetadata.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/ProtocolMode.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityOptions.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/FunctionWrappers.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/RegionDiscovery.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/TimeUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/utils/CacheHelpers.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/Authority.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityFactory.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/ClientAssertionUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/constants/AADServerParamKeys.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/crypto/ICrypto.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/logger/Logger.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/packageMetadata.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/request/ScopeSet.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/ClientInfo.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/AccountInfo.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/TokenClaims.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/entities/AccountEntity.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/CacheErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/CacheError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/CacheManager.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/config/ClientConfiguration.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ServerError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/network/ThrottlingUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/network/NetworkManager.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/CcsCredential.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/request/RequestValidator.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/request/RequestParameterBuilder.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/BaseClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/ProtocolUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/crypto/PopTokenGenerator.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/response/ResponseHandler.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/AuthorizationCodeClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/RefreshTokenClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/SilentFlowClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/index.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-node/dist/cache/serializer/Deserializer.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/internals.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/utils/Constants.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/utils/NetworkUtils.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/network/HttpClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/error/ManagedIdentityErrorCodes.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/error/ManagedIdentityError.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/config/ManagedIdentityId.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/retry/LinearRetryPolicy.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/network/HttpClientWithRetries.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/error/NodeAuthError.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/config/Configuration.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/GuidGenerator.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/utils/EncodingUtils.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/HashUtils.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/PkceGenerator.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/CryptoProvider.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/cache/NodeStorage.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/cache/TokenCache.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@azure/msal-node/dist/client/ClientAssertion.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/packageMetadata.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/UsernamePasswordClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ClientApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/network/LoopbackClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/DeviceCodeClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/PublicClientApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ClientCredentialClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/OnBehalfOfClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ConfidentialClientApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/BaseManagedIdentitySource.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/config/ManagedIdentityRequestParameters.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/AppService.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/AzureArc.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/CloudShell.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/Imds.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/ServiceFabric.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentityClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentityApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/cache/distributed/DistributedCachePlugin.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/index.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)
*/
