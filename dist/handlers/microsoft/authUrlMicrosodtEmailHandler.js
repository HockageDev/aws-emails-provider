var QW=Object.create;var Tl=Object.defineProperty;var YW=Object.getOwnPropertyDescriptor;var JW=Object.getOwnPropertyNames;var XW=Object.getPrototypeOf,ZW=Object.prototype.hasOwnProperty;var v=(t,e)=>()=>(t&&(e=t(t=0)),e);var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),gt=(t,e)=>{for(var r in e)Tl(t,r,{get:e[r],enumerable:!0})},YS=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of JW(e))!ZW.call(t,o)&&o!==r&&Tl(t,o,{get:()=>e[o],enumerable:!(n=YW(e,o))||n.enumerable});return t};var ae=(t,e,r)=>(r=t!=null?QW(XW(t)):{},YS(e||!t||!t.__esModule?Tl(r,"default",{value:t,enumerable:!0}):r,t)),M=t=>YS(Tl({},"__esModule",{value:!0}),t);var JS={};gt(JS,{badRequest:()=>o4,noContent:()=>n4,notImplemented:()=>s4,ok:()=>t4,okHTML:()=>r4,serverError:()=>e4,unauthorized:()=>i4});var e4,t4,r4,n4,o4,i4,s4,XS=v(()=>{e4=(t="/")=>({statusCode:500,body:JSON.stringify({type:"urn:problem:server-error",title:"Server Error",detail:"An unexpected error has occurred, contact the administrator.",instance:t,status:500}),headers:{"Content-Type":"application/problem+json"}}),t4=t=>({statusCode:200,body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),r4=t=>({statusCode:200,body:JSON.stringify(t),headers:{"Content-Type":"text/html"}}),n4=()=>({statusCode:204}),o4=t=>(e="/")=>({statusCode:400,body:JSON.stringify({type:"urn:problem:bad-request",title:"Bad Request",detail:t,instance:e,status:400}),headers:{"Content-Type":"application/problem+json"}}),i4=t=>(e="/")=>({statusCode:401,body:JSON.stringify({type:"urn:problem:unauthorized",title:"Unauthorized",detail:t,instance:e,status:401}),headers:{"Content-Type":"application/problem+json"}}),s4=(t="/")=>({statusCode:501,body:JSON.stringify({type:"urn:problem:not-implemented",title:"Not Implemented",detail:"Not Implemented",instance:t,status:501}),headers:{"Content-Type":"application/problem+json"}})});var Jn,Al=v(()=>{"use strict";Jn=class{static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,realm:o.realm,local_account_id:o.localAccountId,username:o.username,authority_type:o.authorityType,name:o.name,client_info:o.clientInfo,last_modification_time:o.lastModificationTime,last_modification_app:o.lastModificationApp,tenantProfiles:o.tenantProfiles?.map(i=>JSON.stringify(i))}}),r}static serializeIdTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,realm:o.realm}}),r}static serializeAccessTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,realm:o.realm,target:o.target,cached_at:o.cachedAt,expires_on:o.expiresOn,extended_expires_on:o.extendedExpiresOn,refresh_on:o.refreshOn,key_id:o.keyId,token_type:o.tokenType,requestedClaims:o.requestedClaims,requestedClaimsHash:o.requestedClaimsHash,userAssertionHash:o.userAssertionHash}}),r}static serializeRefreshTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,family_id:o.familyId,target:o.target,realm:o.realm}}),r}static serializeAppMetadata(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={client_id:o.clientId,environment:o.environment,family_id:o.familyId}}),r}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}}});var A,he,Ht,pg,et,Wt,cs,$r,ds,ZS,ln,Qt,ls,Ve,de,tc,eT,Xn,us,Pt,at,ie,un,bl,Il,rc,ii,Rl,be,nc,Ie=v(()=>{"use strict";A={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},he={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Ht=[A.OPENID_SCOPE,A.PROFILE_SCOPE,A.OFFLINE_ACCESS_SCOPE],pg=[...Ht,A.EMAIL_SCOPE],et={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Wt={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},cs={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},$r={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},ds={PLAIN:"plain",S256:"S256"},ZS={QUERY:"query",FRAGMENT:"fragment"},ln={...ZS,FORM_POST:"form_post"},Qt={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},ls={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Ve={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},de={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},tc="appmetadata",eT="client_info",Xn="1",us={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Pt={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},at={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},ie={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},un={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},bl={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Il={username:"username",password:"password"},rc={httpSuccess:200,httpBadRequest:400},ii={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Rl={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},be={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},nc=300});var ps={};gt(ps,{postRequestFailed:()=>ic,unexpectedError:()=>oc});var oc,ic,mg=v(()=>{"use strict";oc="unexpected_error",ic="post_request_failed"});function fg(t,e){return new te(t,e?`${wl[t]} ${e}`:wl[t])}var wl,hg,te,pn=v(()=>{"use strict";Ie();mg();wl={[oc]:"Unexpected error in authentication.",[ic]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},hg={unexpectedError:{code:oc,desc:wl[oc]},postRequestFailed:{code:ic,desc:wl[ic]}},te=class t extends Error{constructor(e,r,n){let o=r?`${e}: ${r}`:e;super(o),Object.setPrototypeOf(this,t.prototype),this.errorCode=e||A.EMPTY_STRING,this.errorMessage=r||A.EMPTY_STRING,this.subError=n||A.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}});var Ee={};gt(Ee,{authTimeNotFound:()=>mn,authorizationCodeMissingFromServerResponse:()=>Ei,bindingKeyNotRemoved:()=>Ci,cannotAppendScopeSet:()=>yi,cannotRemoveEmptyScope:()=>gi,clientInfoDecodingError:()=>Zn,clientInfoEmptyError:()=>si,deviceCodeExpired:()=>dc,deviceCodePollingCancelled:()=>cc,deviceCodeUnknownError:()=>lc,emptyInputScopeSet:()=>ro,endSessionEndpointNotSupported:()=>Si,endpointResolutionError:()=>Ot,hashNotDeserialized:()=>li,invalidAssertion:()=>mc,invalidCacheEnvironment:()=>fn,invalidCacheRecord:()=>_i,invalidClientCredential:()=>hc,invalidState:()=>Nr,keyIdMissing:()=>Ti,maxAgeTranspired:()=>mi,methodNotImplemented:()=>J,missingTenantIdError:()=>_c,multipleMatchingAccounts:()=>ac,multipleMatchingAppMetadata:()=>hi,multipleMatchingTokens:()=>sc,nestedAppAuthBridgeDisabled:()=>vc,networkError:()=>ci,noAccountFound:()=>uc,noAccountInSilentRequest:()=>hn,noCryptoObject:()=>no,noNetworkConnectivity:()=>gc,nonceMismatch:()=>pi,nullOrEmptyToken:()=>ai,openIdConfigError:()=>di,requestCannotBeMade:()=>fi,stateMismatch:()=>ui,stateNotFound:()=>to,tokenClaimsCnfRequiredForSignedJwt:()=>vi,tokenParsingError:()=>eo,tokenRefreshRequired:()=>zr,unexpectedCredentialType:()=>pc,userCanceled:()=>yc,userTimeoutReached:()=>fc});var Zn,si,eo,ai,Ot,ci,di,li,Nr,ui,to,pi,mn,mi,sc,ac,hi,fi,gi,yi,ro,cc,dc,lc,hn,_i,fn,uc,no,pc,mc,hc,zr,fc,vi,Ei,Ci,Si,Ti,gc,yc,_c,J,vc,tt=v(()=>{"use strict";Zn="client_info_decoding_error",si="client_info_empty_error",eo="token_parsing_error",ai="null_or_empty_token",Ot="endpoints_resolution_error",ci="network_error",di="openid_config_error",li="hash_not_deserialized",Nr="invalid_state",ui="state_mismatch",to="state_not_found",pi="nonce_mismatch",mn="auth_time_not_found",mi="max_age_transpired",sc="multiple_matching_tokens",ac="multiple_matching_accounts",hi="multiple_matching_appMetadata",fi="request_cannot_be_made",gi="cannot_remove_empty_scope",yi="cannot_append_scopeset",ro="empty_input_scopeset",cc="device_code_polling_cancelled",dc="device_code_expired",lc="device_code_unknown_error",hn="no_account_in_silent_request",_i="invalid_cache_record",fn="invalid_cache_environment",uc="no_account_found",no="no_crypto_object",pc="unexpected_credential_type",mc="invalid_assertion",hc="invalid_client_credential",zr="token_refresh_required",fc="user_timeout_reached",vi="token_claims_cnf_required_for_signedjwt",Ei="authorization_code_missing_from_server_response",Ci="binding_key_not_removed",Si="end_session_endpoint_not_supported",Ti="key_id_missing",gc="no_network_connectivity",yc="user_canceled",_c="missing_tenant_id_error",J="method_not_implemented",vc="nested_app_auth_bridge_disabled"});function I(t,e){return new oo(t,e)}var Y,gg,oo,ct=v(()=>{"use strict";pn();tt();Y={[Zn]:"The client info could not be parsed/decoded correctly",[si]:"The client info was empty",[eo]:"Token cannot be parsed",[ai]:"The token is null or empty",[Ot]:"Endpoints cannot be resolved",[ci]:"Network request failed",[di]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[li]:"The hash parameters could not be deserialized",[Nr]:"State was not the expected format",[ui]:"State mismatch error",[to]:"State not found",[pi]:"Nonce mismatch error",[mn]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[mi]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[sc]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[ac]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[hi]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[fi]:"Token request cannot be made without authorization code or refresh token.",[gi]:"Cannot remove null or empty scope from ScopeSet",[yi]:"Cannot append ScopeSet",[ro]:"Empty input ScopeSet cannot be processed",[cc]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[dc]:"Device code is expired.",[lc]:"Device code stopped polling for unknown reasons.",[hn]:"Please pass an account object, silent flow is not supported without account information",[_i]:"Cache record object was null or undefined.",[fn]:"Invalid environment when attempting to create cache entry",[uc]:"No account found in cache for given key.",[no]:"No crypto object detected.",[pc]:"Unexpected credential type.",[mc]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[hc]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[zr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[fc]:"User defined timeout for device code polling reached",[vi]:"Cannot generate a POP jwt if the token_claims are not populated",[Ei]:"Server response does not contain an authorization code to proceed",[Ci]:"Could not remove the credential's binding key from storage.",[Si]:"The provided authority does not support logout",[Ti]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[gc]:"No network connectivity. Check your internet connection.",[yc]:"User cancelled the flow.",[_c]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[J]:"This method has not been implemented",[vc]:"The nested app auth bridge is disabled"},gg={clientInfoDecodingError:{code:Zn,desc:Y[Zn]},clientInfoEmptyError:{code:si,desc:Y[si]},tokenParsingError:{code:eo,desc:Y[eo]},nullOrEmptyToken:{code:ai,desc:Y[ai]},endpointResolutionError:{code:Ot,desc:Y[Ot]},networkError:{code:ci,desc:Y[ci]},unableToGetOpenidConfigError:{code:di,desc:Y[di]},hashNotDeserialized:{code:li,desc:Y[li]},invalidStateError:{code:Nr,desc:Y[Nr]},stateMismatchError:{code:ui,desc:Y[ui]},stateNotFoundError:{code:to,desc:Y[to]},nonceMismatchError:{code:pi,desc:Y[pi]},authTimeNotFoundError:{code:mn,desc:Y[mn]},maxAgeTranspired:{code:mi,desc:Y[mi]},multipleMatchingTokens:{code:sc,desc:Y[sc]},multipleMatchingAccounts:{code:ac,desc:Y[ac]},multipleMatchingAppMetadata:{code:hi,desc:Y[hi]},tokenRequestCannotBeMade:{code:fi,desc:Y[fi]},removeEmptyScopeError:{code:gi,desc:Y[gi]},appendScopeSetError:{code:yi,desc:Y[yi]},emptyInputScopeSetError:{code:ro,desc:Y[ro]},DeviceCodePollingCancelled:{code:cc,desc:Y[cc]},DeviceCodeExpired:{code:dc,desc:Y[dc]},DeviceCodeUnknownError:{code:lc,desc:Y[lc]},NoAccountInSilentRequest:{code:hn,desc:Y[hn]},invalidCacheRecord:{code:_i,desc:Y[_i]},invalidCacheEnvironment:{code:fn,desc:Y[fn]},noAccountFound:{code:uc,desc:Y[uc]},noCryptoObj:{code:no,desc:Y[no]},unexpectedCredentialType:{code:pc,desc:Y[pc]},invalidAssertion:{code:mc,desc:Y[mc]},invalidClientCredential:{code:hc,desc:Y[hc]},tokenRefreshRequired:{code:zr,desc:Y[zr]},userTimeoutReached:{code:fc,desc:Y[fc]},tokenClaimsRequired:{code:vi,desc:Y[vi]},noAuthorizationCodeFromServer:{code:Ei,desc:Y[Ei]},bindingKeyNotRemovedError:{code:Ci,desc:Y[Ci]},logoutNotSupported:{code:Si,desc:Y[Si]},keyIdMissing:{code:Ti,desc:Y[Ti]},noNetworkConnectivity:{code:gc,desc:Y[gc]},userCanceledError:{code:yc,desc:Y[yc]},missingTenantIdError:{code:_c,desc:Y[_c]},nestedAppAuthBridgeDisabled:{code:vc,desc:Y[vc]}},oo=class t extends te{constructor(e,r){super(e,r?`${Y[e]}: ${r}`:Y[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,t.prototype)}}});var Pl={};gt(Pl,{checkMaxAge:()=>Ec,extractTokenClaims:()=>gn,getJWSPayload:()=>tT});function gn(t,e){let r=tT(t);try{let n=e(r);return JSON.parse(n)}catch{throw I(eo)}}function tT(t){if(!t)throw I(ai);let r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw I(eo);return r[2]}function Ec(t,e){if(e===0||Date.now()-3e5>t+e)throw I(mi)}var ms=v(()=>{"use strict";ct();tt();});var ir,yg=v(()=>{"use strict";ir={Default:0,Adfs:1,Dsts:2,Ciam:3}});function rT(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}var nT=v(()=>{"use strict";});var hs={};gt(hs,{authorityMismatch:()=>Rc,authorityUriInsecure:()=>bi,cannotAllowNativeBroker:()=>Ic,cannotSetOIDCOptions:()=>bc,claimsRequestParsingError:()=>Cc,emptyInputScopesError:()=>Ri,invalidAuthenticationHeader:()=>Ac,invalidAuthorityMetadata:()=>Ni,invalidClaims:()=>yn,invalidCloudDiscoveryMetadata:()=>io,invalidCodeChallengeMethod:()=>xi,invalidPromptValue:()=>wi,logoutRequestEmpty:()=>Oi,missingNonceAuthenticationHeader:()=>Tc,missingSshJwk:()=>vn,missingSshKid:()=>Sc,pkceParamsMissing:()=>_n,redirectUriEmpty:()=>Ai,tokenRequestEmpty:()=>Pi,untrustedAuthority:()=>Di,urlEmptyError:()=>Ii,urlParseError:()=>Vr});var Ai,Cc,bi,Vr,Ii,Ri,wi,yn,Pi,Oi,xi,_n,io,Ni,Di,vn,Sc,Tc,Ac,bc,Ic,Rc,Kr=v(()=>{"use strict";Ai="redirect_uri_empty",Cc="claims_request_parsing_error",bi="authority_uri_insecure",Vr="url_parse_error",Ii="empty_url_error",Ri="empty_input_scopes_error",wi="invalid_prompt_value",yn="invalid_claims",Pi="token_request_empty",Oi="logout_request_empty",xi="invalid_code_challenge_method",_n="pkce_params_missing",io="invalid_cloud_discovery_metadata",Ni="invalid_authority_metadata",Di="untrusted_authority",vn="missing_ssh_jwk",Sc="missing_ssh_kid",Tc="missing_nonce_authentication_header",Ac="invalid_authentication_header",bc="cannot_set_OIDCOptions",Ic="cannot_allow_native_broker",Rc="authority_mismatch"});function le(t){return new fs(t)}var Ue,_g,fs,En=v(()=>{"use strict";pn();Kr();Ue={[Ai]:"A redirect URI is required for all calls, and none has been set.",[Cc]:"Could not parse the given claims request object.",[bi]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Vr]:"URL could not be parsed into appropriate segments.",[Ii]:"URL was empty or null.",[Ri]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[wi]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[yn]:"Given claims parameter must be a stringified JSON object.",[Pi]:"Token request was empty and not found in cache.",[Oi]:"The logout request was null or undefined.",[xi]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[_n]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[io]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Ni]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Di]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[vn]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Sc]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Tc]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Ac]:"Invalid authentication header provided",[bc]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Ic]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Rc]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},_g={redirectUriNotSet:{code:Ai,desc:Ue[Ai]},claimsRequestParsingError:{code:Cc,desc:Ue[Cc]},authorityUriInsecure:{code:bi,desc:Ue[bi]},urlParseError:{code:Vr,desc:Ue[Vr]},urlEmptyError:{code:Ii,desc:Ue[Ii]},emptyScopesError:{code:Ri,desc:Ue[Ri]},invalidPrompt:{code:wi,desc:Ue[wi]},invalidClaimsRequest:{code:yn,desc:Ue[yn]},tokenRequestEmptyError:{code:Pi,desc:Ue[Pi]},logoutRequestEmptyError:{code:Oi,desc:Ue[Oi]},invalidCodeChallengeMethod:{code:xi,desc:Ue[xi]},invalidCodeChallengeParams:{code:_n,desc:Ue[_n]},invalidCloudDiscoveryMetadata:{code:io,desc:Ue[io]},invalidAuthorityMetadata:{code:Ni,desc:Ue[Ni]},untrustedAuthority:{code:Di,desc:Ue[Di]},missingSshJwk:{code:vn,desc:Ue[vn]},missingSshKid:{code:Sc,desc:Ue[Sc]},missingNonceAuthenticationHeader:{code:Tc,desc:Ue[Tc]},invalidAuthenticationHeader:{code:Ac,desc:Ue[Ac]},cannotSetOIDCOptions:{code:bc,desc:Ue[bc]},cannotAllowNativeBroker:{code:Ic,desc:Ue[Ic]},authorityMismatch:{code:Rc,desc:Ue[Rc]}},fs=class t extends te{constructor(e){super(e,Ue[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,t.prototype)}}});var Oe,ki=v(()=>{"use strict";Oe=class{static isEmptyObj(e){if(e)try{let r=JSON.parse(e);return Object.keys(r).length===0}catch{}return!0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){let r={},n=e.split("&"),o=i=>decodeURIComponent(i.replace(/\+/g," "));return n.forEach(i=>{if(i.trim()){let[s,a]=i.split(/=(.+)/g,2);s&&a&&(r[o(s)]=o(a))}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}}});var Ol={};gt(Ol,{getDeserializedResponse:()=>vg,stripLeadingHashOrQuery:()=>oT});function oT(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function vg(t){if(!t||t.indexOf("=")<0)return null;try{let e=oT(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.error||r.error_description||r.state)return r}catch{throw I(li)}return null}var Eg=v(()=>{"use strict";ct();tt();});var re,Mi=v(()=>{"use strict";En();ki();Ie();Eg();Kr();re=class t{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw le(Ii);e.includes("#")||(this._urlString=t.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return Oe.endsWith(r,"?")?r=r.slice(0,-1):Oe.endsWith(r,"?/")&&(r=r.slice(0,-2)),Oe.endsWith(r,"/")||(r+="/"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw le(Vr)}if(!e.HostNameAndPort||!e.PathSegments)throw le(Vr);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw le(bi)}static appendQueryString(e,r){return r?e.indexOf("?")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return t.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===Wt.COMMON||n[0]===Wt.ORGANIZATIONS)&&(n[0]=e),t.constructAuthorityUriFromObject(r)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(e);if(!r)throw le(Vr);let n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]},o=n.AbsolutePath.split("/");return o=o.filter(i=>i&&i.length>0),n.PathSegments=o,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){let r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(r);if(!n)throw le(Vr);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===A.FORWARD_SLASH){let o=new t(r).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new t(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!vg(e)}}});function aT(t,e){let r,n=t.canonicalAuthority;if(n){let o=new re(n).getUrlComponents().HostNameAndPort;r=iT(o,t.cloudDiscoveryMetadata?.metadata,Pt.CONFIG,e)||iT(o,Sg.metadata,Pt.HARDCODED_VALUES,e)||t.knownAuthorities}return r||[]}function iT(t,e,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){let o=wc(e,t);if(o)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),o.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}function cT(t){return wc(Sg.metadata,t)}function wc(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(n.aliases.includes(e))return n}return null}var sT,Cg,Sg,Tg,Ag=v(()=>{"use strict";Mi();Ie();sT={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Cg=sT.endpointMetadata,Sg=sT.instanceDiscoveryMetadata,Tg=new Set;Sg.metadata.forEach(t=>{t.aliases.forEach(e=>{Tg.add(e)})})});var jt,Pc=v(()=>{"use strict";jt={AAD:"AAD",OIDC:"OIDC"}});var Cn,xl=v(()=>{"use strict";Cn={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"}});function dT(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}var lT=v(()=>{"use strict";});function uT(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}var pT=v(()=>{"use strict";});var C,POe,Wr=v(()=>{"use strict";C={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},POe=new Map([[C.AcquireTokenByCode,"ATByCode"],[C.AcquireTokenByRefreshToken,"ATByRT"],[C.AcquireTokenSilent,"ATS"],[C.AcquireTokenSilentAsync,"ATSAsync"],[C.AcquireTokenPopup,"ATPopup"],[C.AcquireTokenRedirect,"ATRedirect"],[C.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[C.CryptoOptsSignJwt,"CryptoSignJwt"],[C.SilentCacheClientAcquireToken,"SltCacheClientAT"],[C.SilentIframeClientAcquireToken,"SltIframeClientAT"],[C.SilentRefreshClientAcquireToken,"SltRClientAT"],[C.SsoSilent,"SsoSlt"],[C.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[C.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[C.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[C.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[C.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[C.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[C.BrokerHandhshake,"BrokerHandshake"],[C.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[C.AcquireTokenByBroker,"ATByBroker"],[C.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[C.RefreshTokenClientAcquireToken,"RTClientAT"],[C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[C.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[C.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[C.AcquireTokenFromCache,"ATFromCache"],[C.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[C.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[C.AcquireTokenBySilentIframe,"ATBySltIframe"],[C.InitializeBaseRequest,"InitBaseReq"],[C.InitializeSilentRequest,"InitSltReq"],[C.InitializeClientApplication,"InitClientApplication"],[C.SilentIframeClientTokenHelper,"SIClientTHelper"],[C.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[C.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[C.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[C.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[C.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[C.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[C.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[C.StandardInteractionClientInitializeAuthorizationCodeRequest,"StdIntClientInitAuthCodeReq"],[C.GetAuthCodeUrl,"GetAuthCodeUrl"],[C.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[C.HandleCodeResponse,"HandleCodeResp"],[C.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[C.AuthClientAcquireToken,"AuthClientAT"],[C.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[C.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[C.AuthClientCreateQueryString,"AuthClientCreateQueryStr"],[C.PopTokenGenerateCnf,"PopTGenCnf"],[C.PopTokenGenerateKid,"PopTGenKid"],[C.HandleServerTokenResponse,"HandleServerTRes"],[C.DeserializeResponse,"DeserializeRes"],[C.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[C.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[C.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[C.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[C.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[C.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[C.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[C.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[C.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[C.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[C.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[C.AcquireTokenByCodeAsync,"ATByCodeAsync"],[C.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[C.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[C.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[C.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[C.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[C.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[C.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[C.NativeGenerateAuthResult,"NtvGenAuthRes"],[C.RemoveHiddenIframe,"RemoveHiddenIframe"],[C.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[C.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[C.GeneratePkceCodes,"GenPkceCodes"],[C.GenerateCodeVerifier,"GenCodeVerifier"],[C.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[C.Sha256Digest,"Sha256Digest"],[C.GetRandomValues,"GetRandomValues"]])});var mT,se,so=v(()=>{"use strict";mT=(t,e,r,n,o)=>(...i)=>{r.trace(`Executing function ${e}`);let s=n?.startMeasurement(e,o);if(o){let a=e+"CallCount";n?.incrementFields({[a]:1},o)}try{let a=t(...i);return s?.end({success:!0}),r.trace(`Returning result from ${e}`),a}catch(a){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(a))}catch{r.trace("Unable to print error message.")}throw s?.end({success:!1},a),a}},se=(t,e,r,n,o)=>(...i)=>{r.trace(`Executing function ${e}`);let s=n?.startMeasurement(e,o);if(o){let a=e+"CallCount";n?.incrementFields({[a]:1},o)}return n?.setPreQueueTime(e,o),t(...i).then(a=>(r.trace(`Returning result from ${e}`),s?.end({success:!0}),a)).catch(a=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(a))}catch{r.trace("Unable to print error message.")}throw s?.end({success:!1},a),a})}});var Oc,hT=v(()=>{"use strict";Ie();Wr();so();Oc=class t{constructor(e,r,n,o){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=o}async detectRegion(e,r){this.performanceClient?.addQueueMeasurement(C.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=ii.ENVIRONMENT_VARIABLE;else{let o=t.IMDS_OPTIONS;try{let i=await se(this.getRegionFromIMDS.bind(this),C.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(A.IMDS_VERSION,o);if(i.status===rc.httpSuccess&&(n=i.body,r.region_source=ii.IMDS),i.status===rc.httpBadRequest){let s=await se(this.getCurrentVersion.bind(this),C.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!s)return r.region_source=ii.FAILED_AUTO_DETECTION,null;let a=await se(this.getRegionFromIMDS.bind(this),C.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(s,o);a.status===rc.httpSuccess&&(n=a.body,r.region_source=ii.IMDS)}}catch{return r.region_source=ii.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=ii.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,r){return this.performanceClient?.addQueueMeasurement(C.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${A.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,A.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(C.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=await this.networkInterface.sendGetRequestAsync(`${A.IMDS_ENDPOINT}?format=json`,e);return r.status===rc.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}};Oc.IMDS_OPTIONS={headers:{Metadata:"true"}}});var Re={};gt(Re,{delay:()=>a4,isTokenExpired:()=>gs,nowSeconds:()=>Yt,wasClockTurnedBack:()=>bg});function Yt(){return Math.round(new Date().getTime()/1e3)}function gs(t,e){let r=Number(t)||0;return Yt()+e>r}function bg(t){return Number(t)>Yt()}function a4(t,e){return new Promise(r=>setTimeout(()=>r(e),t))}var Li=v(()=>{"use strict";});var dt={};gt(dt,{createAccessTokenEntity:()=>Rg,createIdTokenEntity:()=>Ig,createRefreshTokenEntity:()=>wg,generateAppMetadataKey:()=>_4,generateAuthorityMetadataExpiresAt:()=>Dl,generateCredentialKey:()=>xc,isAccessTokenEntity:()=>c4,isAppMetadataEntity:()=>v4,isAuthorityMetadataEntity:()=>E4,isAuthorityMetadataExpired:()=>kl,isCredentialEntity:()=>Nl,isIdTokenEntity:()=>d4,isRefreshTokenEntity:()=>l4,isServerTelemetryEntity:()=>g4,isThrottlingEntity:()=>y4,updateAuthorityEndpointMetadata:()=>ys,updateCloudDiscoveryMetadata:()=>Nc});function xc(t){return[u4(t),p4(t),m4(t),h4(t),f4(t)].join(Ve.CACHE_KEY_SEPARATOR).toLowerCase()}function Ig(t,e,r,n,o){return{credentialType:de.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:o}}function Rg(t,e,r,n,o,i,s,a,c,d,u,m,f,h,y){let E={homeAccountId:t,credentialType:de.ACCESS_TOKEN,secret:r,cachedAt:Yt().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:n,realm:o,target:i,tokenType:u||ie.BEARER};if(m&&(E.userAssertionHash=m),d&&(E.refreshOn=d.toString()),h&&(E.requestedClaims=h,E.requestedClaimsHash=y),E.tokenType?.toLowerCase()!==ie.BEARER.toLowerCase())switch(E.credentialType=de.ACCESS_TOKEN_WITH_AUTH_SCHEME,E.tokenType){case ie.POP:let b=gn(r,c);if(!b?.cnf?.kid)throw I(vi);E.keyId=b.cnf.kid;break;case ie.SSH:E.keyId=f}return E}function wg(t,e,r,n,o,i,s){let a={credentialType:de.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r};return i&&(a.userAssertionHash=i),o&&(a.familyId=o),s&&(a.expiresOn=s.toString()),a}function Nl(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function c4(t){return t?Nl(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===de.ACCESS_TOKEN||t.credentialType===de.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function d4(t){return t?Nl(t)&&t.hasOwnProperty("realm")&&t.credentialType===de.ID_TOKEN:!1}function l4(t){return t?Nl(t)&&t.credentialType===de.REFRESH_TOKEN:!1}function u4(t){return[t.homeAccountId,t.environment].join(Ve.CACHE_KEY_SEPARATOR).toLowerCase()}function p4(t){let e=t.credentialType===de.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Ve.CACHE_KEY_SEPARATOR).toLowerCase()}function m4(t){return(t.target||"").toLowerCase()}function h4(t){return(t.requestedClaimsHash||"").toLowerCase()}function f4(t){return t.tokenType&&t.tokenType.toLowerCase()!==ie.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}function g4(t,e){let r=t.indexOf(at.CACHE_KEY)===0,n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&n}function y4(t,e){let r=!1;t&&(r=t.indexOf(un.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),r&&n}function _4({environment:t,clientId:e}){return[tc,t,e].join(Ve.CACHE_KEY_SEPARATOR).toLowerCase()}function v4(t,e){return e?t.indexOf(tc)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function E4(t,e){return e?t.indexOf(us.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function Dl(){return Yt()+us.REFRESH_TIME_SECONDS}function ys(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri}function Nc(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r}function kl(t){return t.expiresAt<=Yt()}var _s=v(()=>{"use strict";ms();ct();Ie();Li();tt();});function fT(t){let n=new re(t).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case Wt.COMMON:case Wt.ORGANIZATIONS:case Wt.CONSUMERS:return;default:return n}}function Ml(t){return t.endsWith(A.FORWARD_SLASH)?t:`${t}${A.FORWARD_SLASH}`}function Pg(t){let e=t.cloudDiscoveryMetadata,r;if(e)try{r=JSON.parse(e)}catch{throw le(io)}return{canonicalAuthority:t.authority?Ml(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}var Dr,Ll=v(()=>{"use strict";yg();nT();Mi();ct();Ie();Ag();En();Pc();xl();lT();pT();hT();pn();Wr();so();_s();tt();Kr();Dr=class t{constructor(e,r,n,o,i,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=o,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new Oc(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(A.CIAM_AUTH_URL))return ir.Ciam;let r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case A.ADFS:return ir.Adfs;case A.DSTS:return ir.Dsts}return ir.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new re(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw I(Ot)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw I(Ot)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw I(Ot)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw I(Si);return this.replacePath(this.metadata.end_session_endpoint)}else throw I(Ot)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw I(Ot)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw I(Ot)}canReplaceTenant(e){return e.PathSegments.length===1&&!t.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===ir.Default&&this.protocolMode===jt.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e,o=new re(this.metadata.canonical_authority).getUrlComponents(),i=o.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let d=i[c];if(c===0&&this.canReplaceTenant(o)){let u=new re(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];d!==u&&(this.logger.verbose(`Replacing tenant domain name ${d} with id ${u}`),d=u)}a!==d&&(r=r.replace(`/${d}/`,`/${a}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ir.Adfs||this.protocolMode!==jt.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(C.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),r=await se(this.updateCloudDiscoveryMetadata.bind(this),C.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let n=await se(this.updateEndpointMetadata.bind(this),C.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Dl(),jwks_uri:""}),e}updateCachedMetadata(e,r,n){r!==Pt.CACHE&&n?.source!==Pt.CACHE&&(e.expiresAt=Dl(),e.canonical_authority=this.canonicalAuthority);let o=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(o,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(C.AuthorityUpdateEndpointMetadata,this.correlationId);let r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===Pt.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&r.metadata){let o=await se(this.updateMetadataWithRegionalInformation.bind(this),C.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);ys(e,o,!1),e.canonical_authority=this.canonicalAuthority}return r.source}let n=await se(this.getEndpointMetadataFromNetwork.bind(this),C.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await se(this.updateMetadataWithRegionalInformation.bind(this),C.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),ys(e,n,!0),Pt.NETWORK;throw I(di,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("Found endpoint metadata in authority configuration"),ys(e,r,!1),{source:Pt.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let o=this.getEndpointMetadataFromHardcodedValues();if(o)return ys(e,o,!1),{source:Pt.HARDCODED_VALUES,metadata:o};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let n=kl(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Pt.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new re(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw le(Ni)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(C.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{let n=await this.networkInterface.sendGetRequestAsync(r,e);return rT(n.body)?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Cg?Cg[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(C.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let r=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(r){if(r!==A.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Rl.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,t.replaceWithRegionalInformation(e,r);let n=await se(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),C.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=Rl.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,t.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=Rl.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(C.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;let n=await se(this.getCloudDiscoveryMetadataFromNetwork.bind(this),C.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return Nc(e,n,!0),Pt.NETWORK;throw le(Di)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||A.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||A.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||A.NOT_APPLICABLE}`);let r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Nc(e,r,!1),Pt.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let o=cT(this.hostnameAndPort);if(o)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Nc(e,o,!1),Pt.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let n=kl(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),Pt.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===ir.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=wc(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),le(io)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(C.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${A.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={},n=null;try{let o=await this.networkInterface.sendGetRequestAsync(e,r),i,s;if(dT(o.body))i=o.body,s=i.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${i.tenant_discovery_endpoint}`);else if(uT(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),i=o.body,i.error===A.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${i.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${i.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=wc(s,this.hostnameAndPort)}catch(o){if(o instanceof te)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{let i=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${i.name}
Error Description: ${i.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&re.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==Cn.None){let o=r.tenant?r.tenant:A.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${o}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return A.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw I(Ot)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Tg.has(e)}static isPublicCloudAuthority(e){return A.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){let o=new re(e);o.validateAsUri();let i=o.getUrlComponents(),s=`${r}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(s=`${r}.${A.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let a=re.constructAuthorityUriFromObject({...o.getUrlComponents(),HostNameAndPort:s}).urlString;return n?`${a}?${n}`:a}static replaceWithRegionalInformation(e,r){let n={...e};return n.authorization_endpoint=t.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=t.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=t.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e,o=new re(e).getUrlComponents();if(o.PathSegments.length===0&&o.HostNameAndPort.endsWith(A.CIAM_AUTH_URL)){let i=o.HostNameAndPort.split(".")[0];r=`${r}${i}${A.AAD_TENANT_DOMAIN_SUFFIX}`}return r}};Dr.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Wt.COMMON,Wt.CONSUMERS,Wt.ORGANIZATIONS])});var Ul={};gt(Ul,{createDiscoveredInstance:()=>Og});async function Og(t,e,r,n,o,i,s){s?.addQueueMeasurement(C.AuthorityFactoryCreateDiscoveredInstance,i);let a=Dr.transformCIAMAuthority(Ml(t)),c=new Dr(a,e,r,n,o,i,s);try{return await se(c.resolveEndpointsAsync.bind(c),C.AuthorityResolveEndpointsAsync,o,s,i)(),c}catch{throw I(Ot)}}var xg=v(()=>{"use strict";Ll();ct();Wr();so();tt();});async function xt(t,e,r){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:r})}var Fl=v(()=>{"use strict";});var Ui={};gt(Ui,{ACCESS_TOKEN:()=>T4,CCS_HEADER:()=>x4,CLAIMS:()=>Mg,CLIENT_ASSERTION:()=>iy,CLIENT_ASSERTION_TYPE:()=>sy,CLIENT_ID:()=>ao,CLIENT_INFO:()=>w4,CLIENT_REQUEST_ID:()=>zg,CLIENT_SECRET:()=>oy,CODE:()=>Hg,CODE_CHALLENGE:()=>jg,CODE_CHALLENGE_METHOD:()=>Gg,CODE_VERIFIER:()=>$g,DEVICE_CODE:()=>ny,DOMAIN_HINT:()=>my,ERROR:()=>C4,ERROR_DESCRIPTION:()=>S4,EXPIRES_IN:()=>b4,FOCI:()=>O4,GRANT_TYPE:()=>kg,ID_TOKEN:()=>A4,ID_TOKEN_HINT:()=>ry,LOGIN_HINT:()=>py,LOGOUT_HINT:()=>ly,NATIVE_BROKER:()=>dy,NONCE:()=>Bg,OBO_ASSERTION:()=>ay,ON_BEHALF_OF:()=>P4,POST_LOGOUT_URI:()=>ty,PROMPT:()=>qg,REDIRECT_URI:()=>Ng,REFRESH_TOKEN:()=>Ug,REFRESH_TOKEN_EXPIRES_IN:()=>I4,REQUESTED_TOKEN_USE:()=>cy,REQ_CNF:()=>Hl,RESPONSE_MODE:()=>Dg,RESPONSE_TYPE:()=>Bl,RETURN_SPA_CODE:()=>jl,SCOPE:()=>Lg,SESSION_STATE:()=>R4,SID:()=>uy,STATE:()=>Fg,TOKEN_TYPE:()=>ql,X_APP_NAME:()=>Zg,X_APP_VER:()=>ey,X_CLIENT_CPU:()=>Qg,X_CLIENT_CURR_TELEM:()=>Yg,X_CLIENT_EXTRA_SKU:()=>N4,X_CLIENT_LAST_TELEM:()=>Jg,X_CLIENT_OS:()=>Wg,X_CLIENT_SKU:()=>Vg,X_CLIENT_VER:()=>Kg,X_MS_LIB_CAPABILITY:()=>Xg});var ao,Ng,Bl,Dg,kg,Mg,Lg,C4,S4,T4,A4,Ug,b4,I4,Fg,Bg,qg,R4,w4,Hg,jg,Gg,$g,zg,Vg,Kg,Wg,Qg,Yg,Jg,Xg,Zg,ey,ty,ry,ny,oy,iy,sy,ql,Hl,ay,cy,P4,O4,x4,jl,dy,ly,uy,py,my,N4,Dc=v(()=>{"use strict";ao="client_id",Ng="redirect_uri",Bl="response_type",Dg="response_mode",kg="grant_type",Mg="claims",Lg="scope",C4="error",S4="error_description",T4="access_token",A4="id_token",Ug="refresh_token",b4="expires_in",I4="refresh_token_expires_in",Fg="state",Bg="nonce",qg="prompt",R4="session_state",w4="client_info",Hg="code",jg="code_challenge",Gg="code_challenge_method",$g="code_verifier",zg="client-request-id",Vg="x-client-SKU",Kg="x-client-VER",Wg="x-client-OS",Qg="x-client-CPU",Yg="x-client-current-telemetry",Jg="x-client-last-telemetry",Xg="x-ms-lib-capability",Zg="x-app-name",ey="x-app-ver",ty="post_logout_redirect_uri",ry="id_token_hint",ny="device_code",oy="client_secret",iy="client_assertion",sy="client_assertion_type",ql="token_type",Hl="req_cnf",ay="assertion",cy="requested_token_use",P4="on_behalf_of",O4="foci",x4="X-AnchorMailbox",jl="return_spa_code",dy="nativebroker",ly="logout_hint",uy="sid",py="login_hint",my="domain_hint",N4="x-client-xtra-sku"});var vs,hy=v(()=>{"use strict";ct();tt();vs={createNewGuid:()=>{throw I(J)},base64Decode:()=>{throw I(J)},base64Encode:()=>{throw I(J)},base64UrlEncode:()=>{throw I(J)},encodeKid:()=>{throw I(J)},async getPublicKeyThumbprint(){throw I(J)},async removeTokenBindingKey(){throw I(J)},async clearKeystore(){throw I(J)},async signJwt(){throw I(J)},async hashString(){throw I(J)}}});var Fe,Jt,Gl=v(()=>{"use strict";Ie();(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(Fe||(Fe={}));Jt=class t{constructor(e,r,n){this.level=Fe.Info;let o=()=>{},i=e||t.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||o,this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level=typeof i.logLevel=="number"?i.logLevel:Fe.Info,this.correlationId=i.correlationId||A.EMPTY_STRING,this.packageName=r||A.EMPTY_STRING,this.packageVersion=n||A.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Fe.Info}}clone(e,r,n){return new t({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let i=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Fe[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,i,r.containsPii||!1)}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n)}error(e,r){this.logMessage(e,{logLevel:Fe.Error,containsPii:!1,correlationId:r||A.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:Fe.Error,containsPii:!0,correlationId:r||A.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:Fe.Warning,containsPii:!1,correlationId:r||A.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:Fe.Warning,containsPii:!0,correlationId:r||A.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:Fe.Info,containsPii:!1,correlationId:r||A.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:Fe.Info,containsPii:!0,correlationId:r||A.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:Fe.Verbose,containsPii:!1,correlationId:r||A.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:Fe.Verbose,containsPii:!0,correlationId:r||A.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:Fe.Trace,containsPii:!1,correlationId:r||A.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:Fe.Trace,containsPii:!0,correlationId:r||A.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}});var $l,Es,zl=v(()=>{"use strict";$l="@azure/msal-common",Es="14.14.2"});var rt,kc=v(()=>{"use strict";En();ki();ct();Ie();Kr();tt();rt=class t{constructor(e){let r=e?Oe.trimArrayEntries([...e]):[],n=r?Oe.removeEmptyStringsFromArray(r):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach(o=>this.scopes.add(o))}static fromString(e){let n=(e||A.EMPTY_STRING).split(" ");return new t(n)}static createSearchScopes(e){let r=new t(e);return r.containsOnlyOIDCScopes()?r.removeScope(A.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}validateInputScopes(e){if(!e||e.length<1)throw le(Ri)}containsScope(e){let r=this.printScopesLowerCase().split(" "),n=new t(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return pg.forEach(r=>{this.containsScope(r)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(r=>this.appendScope(r))}catch{throw I(yi)}}removeScope(e){if(!e)throw I(gi);this.scopes.delete(e.trim())}removeOIDCScopes(){pg.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw I(ro);let r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw I(ro);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let r=this.unionScopeSets(e),n=e.getScopeCount(),o=this.getScopeCount();return r.size<o+n}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(" "):A.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}});function Cs(t,e){if(!t)throw I(si);try{let r=e(t);return JSON.parse(r)}catch{throw I(Zn)}}function Sn(t){if(!t)throw I(Zn);let e=t.split(Ve.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?A.EMPTY_STRING:e[1]}}var Mc=v(()=>{"use strict";ct();Ie();tt();});function Lc(t,e){return!!t&&!!e&&t===e.split(".")[1]}function Uc(t,e,r,n){if(n){let{oid:o,sub:i,tid:s,name:a,tfp:c,acr:d}=n,u=s||c||d||"";return{tenantId:u,localAccountId:o||i||"",name:a,isHomeTenant:Lc(u,t)}}else return{tenantId:r,localAccountId:e,isHomeTenant:Lc(r,t)}}function Vl(t,e,r,n){let o=t;if(e){let{isHomeTenant:i,...s}=e;o={...t,...s}}if(r){let{isHomeTenant:i,...s}=Uc(t.homeAccountId,t.localAccountId,t.tenantId,r);return o={...o,...s,idTokenClaims:r,idToken:n},o}return o}var Kl=v(()=>{"use strict";});function Wl(t){return t&&(t.tid||t.tfp||t.acr)||null}var fy=v(()=>{"use strict";});var lt,Ql=v(()=>{"use strict";Ie();Mc();Kl();ct();yg();fy();Pc();tt();lt=class t{generateAccountId(){return[this.homeAccountId,this.environment].join(Ve.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return t.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let r=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",r||e.tenantId||""].join(Ve.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,r,n){let o=new t;r.authorityType===ir.Adfs?o.authorityType=ls.ADFS_ACCOUNT_TYPE:r.protocolMode===jt.AAD?o.authorityType=ls.MSSTS_ACCOUNT_TYPE:o.authorityType=ls.GENERIC_ACCOUNT_TYPE;let i;e.clientInfo&&n&&(i=Cs(e.clientInfo,n)),o.clientInfo=e.clientInfo,o.homeAccountId=e.homeAccountId,o.nativeAccountId=e.nativeAccountId;let s=e.environment||r&&r.getPreferredCache();if(!s)throw I(fn);o.environment=s,o.realm=i?.utid||Wl(e.idTokenClaims)||"",o.localAccountId=i?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,c=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(o.username=a||c||"",o.name=e.idTokenClaims?.name||"",o.cloudGraphHostName=e.cloudGraphHostName,o.msGraphHost=e.msGraphHost,e.tenantProfiles)o.tenantProfiles=e.tenantProfiles;else{let d=Uc(e.homeAccountId,o.localAccountId,o.realm,e.idTokenClaims);o.tenantProfiles=[d]}return o}static createFromAccountInfo(e,r,n){let o=new t;return o.authorityType=e.authorityType||ls.GENERIC_ACCOUNT_TYPE,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=r,o.msGraphHost=n,o.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),o}static generateHomeAccountId(e,r,n,o,i){if(!(r===ir.Adfs||r===ir.Dsts)){if(e)try{let s=Cs(e,o.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}n.warning("No client info in response")}return i?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return!1;let o=!0;if(n){let i=e.idTokenClaims||{},s=r.idTokenClaims||{};o=i.iat===s.iat&&i.nonce===s.nonce}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&o}}});var Yl,Fc,gy=v(()=>{"use strict";Yl="cache_quota_exceeded",Fc="cache_error_unknown"});var yy,Ss,gT=v(()=>{"use strict";gy();yy={[Yl]:"Exceeded cache storage capacity.",[Fc]:"Unexpected error occurred when using cache storage."},Ss=class t extends Error{constructor(e,r){let n=r||(yy[e]?yy[e]:yy[Fc]);super(`${e}: ${n}`),Object.setPrototypeOf(this,t.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}});var co,Bc,_y=v(()=>{"use strict";Ie();_s();kc();Ql();ct();Kl();ms();zl();Ag();gT();tt();gy();co=class t{constructor(e,r,n,o){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone($l,Es),this.staticAuthorityOptions=o}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){let r=this.getAllAccounts(e);return r.length>1?r.sort(o=>o.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e){let r=this.getAccountsFilteredBy(e);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,r){return e.flatMap(n=>this.getTenantProfilesFromAccountEntity(n,r?.tenantId,r))}getTenantedAccountInfoByFilter(e,r,n,o){let i=null,s;if(o&&!this.tenantProfileMatchesFilter(n,o))return null;let a=this.getIdToken(e,r,n.tenantId);return a&&(s=gn(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,o))?null:(i=Vl(e,n,s,a?.secret),i)}getTenantProfilesFromAccountEntity(e,r,n){let o=e.getAccountInfo(),i=o.tenantProfiles||new Map,s=this.getTokenKeys();if(r){let c=i.get(r);if(c)i=new Map([[r,c]]);else return[]}let a=[];return i.forEach(c=>{let d=this.getTenantedAccountInfoByFilter(o,s,c,n);d&&a.push(d)}),a}tenantProfileMatchesFilter(e,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}async saveCacheRecord(e,r,n){if(!e)throw I(_i);try{e.account&&this.setAccount(e.account),e.idToken&&r?.idToken!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&r?.accessToken!==!1&&await this.saveAccessToken(e.accessToken),e.refreshToken&&r?.refreshToken!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(o){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),o instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${o.message}`,n),o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED"||o.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new Ss(Yl)):new Ss(o.name,o.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${o}`,n),new Ss(Fc))}}async saveAccessToken(e){let r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),o=rt.fromString(e.target),i=[];n.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,r,!1))return;let a=this.getAccessTokenCredential(s);a&&this.credentialMatchesFilter(a,r)&&rt.fromString(a.target).intersectingScopeSets(o)&&i.push(this.removeAccessToken(s))}),await Promise.all(i),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){let r=this.getAccountKeys(),n=[];return r.forEach(o=>{if(!this.isAccountKey(o,e.homeAccountId))return;let i=this.getAccount(o,this.commonLogger);if(!i||e.homeAccountId&&!this.matchHomeAccountId(i,e.homeAccountId)||e.username&&!this.matchUsername(i.username,e.username)||e.environment&&!this.matchEnvironment(i,e.environment)||e.realm&&!this.matchRealm(i,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(i,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(i,e.authorityType))return;let s={localAccountId:e?.localAccountId,name:e?.name},a=i.tenantProfiles?.filter(c=>this.tenantProfileMatchesFilter(c,s));a&&a.length===0||n.push(i)}),n}isAccountKey(e,r,n){return!(e.split(Ve.CACHE_KEY_SEPARATOR).length<3||r&&!e.toLowerCase().includes(r.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(Ve.CACHE_KEY_SEPARATOR).length<6)return!1;let r=e.toLowerCase();if(r.indexOf(de.ID_TOKEN.toLowerCase())===-1&&r.indexOf(de.ACCESS_TOKEN.toLowerCase())===-1&&r.indexOf(de.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&r.indexOf(de.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(r.indexOf(de.REFRESH_TOKEN.toLowerCase())>-1){let n=`${de.REFRESH_TOKEN}${Ve.CACHE_KEY_SEPARATOR}${this.clientId}${Ve.CACHE_KEY_SEPARATOR}`,o=`${de.REFRESH_TOKEN}${Ve.CACHE_KEY_SEPARATOR}${Xn}${Ve.CACHE_KEY_SEPARATOR}`;if(r.indexOf(n.toLowerCase())===-1&&r.indexOf(o.toLowerCase())===-1)return!1}else if(r.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,r){return!(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===de.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===ie.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){let r=this.getKeys(),n={};return r.forEach(o=>{if(!this.isAppMetadata(o))return;let i=this.getAppMetadata(o);i&&(e.environment&&!this.matchEnvironment(i,e.environment)||e.clientId&&!this.matchClientId(i,e.clientId)||(n[o]=i))}),n}getAuthorityMetadataByAlias(e){let r=this.getAuthorityMetadataKeys(),n=null;return r.forEach(o=>{if(!this.isAuthorityMetadata(o)||o.indexOf(this.clientId)===-1)return;let i=this.getAuthorityMetadata(o);i&&i.aliases.indexOf(e)!==-1&&(n=i)}),n}async removeAllAccounts(){let e=this.getAccountKeys(),r=[];e.forEach(n=>{r.push(this.removeAccount(n))}),await Promise.all(r)}async removeAccount(e){let r=this.getAccount(e,this.commonLogger);r&&(await this.removeAccountContext(r),this.removeItem(e))}async removeAccountContext(e){let r=this.getTokenKeys(),n=e.generateAccountId(),o=[];r.idToken.forEach(i=>{i.indexOf(n)===0&&this.removeIdToken(i)}),r.accessToken.forEach(i=>{i.indexOf(n)===0&&o.push(this.removeAccessToken(i))}),r.refreshToken.forEach(i=>{i.indexOf(n)===0&&this.removeRefreshToken(i)}),await Promise.all(o)}updateOutdatedCachedAccount(e,r,n){if(r&&r.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");let o=this.getAccountKeys().filter(d=>d.startsWith(r.homeAccountId)),i=[];o.forEach(d=>{let u=this.getCachedAccountEntity(d);u&&i.push(u)});let s=i.find(d=>Lc(d.realm,d.homeAccountId))||i[0];s.tenantProfiles=i.map(d=>({tenantId:d.realm,localAccountId:d.localAccountId,name:d.name,isHomeTenant:Lc(d.realm,d.homeAccountId)}));let a=t.toObject(new lt,{...s}),c=a.generateAccountKey();return o.forEach(d=>{d!==c&&this.removeOutdatedAccount(e)}),this.setAccount(a),n?.verbose("Updated an outdated account entity in the cache"),a}return r}async removeAccessToken(e){let r=this.getAccessTokenCredential(e);if(r){if(r.credentialType.toLowerCase()===de.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&r.tokenType===ie.POP){let o=r.keyId;if(o)try{await this.cryptoImpl.removeTokenBindingKey(o)}catch{throw I(Ci)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r)}),!0}readAccountFromCache(e){let r=lt.generateAccountCacheKey(e);return this.getAccount(r,this.commonLogger)}getIdToken(e,r,n,o,i){this.commonLogger.trace("CacheManager - getIdToken called");let s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:de.ID_TOKEN,clientId:this.clientId,realm:n},a=this.getIdTokensByFilter(s,r),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let d=a;if(!n){let u=new Map;a.forEach((f,h)=>{f.realm===e.tenantId&&u.set(h,f)});let m=u.size;if(m<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(m===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;d=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),d.forEach((u,m)=>{this.removeIdToken(m)}),o&&i&&o.addFields({multiMatchedID:a.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,r){let n=r&&r.idToken||this.getTokenKeys().idToken,o=new Map;return n.forEach(i=>{if(!this.idTokenKeyMatchesFilter(i,{clientId:this.clientId,...e}))return;let s=this.getIdTokenCredential(i);s&&this.credentialMatchesFilter(s,e)&&o.set(i,s)}),o}idTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,r,n,o,i,s){this.commonLogger.trace("CacheManager - getAccessToken called");let a=rt.createSearchScopes(r.scopes),c=r.authenticationScheme||ie.BEARER,d=c&&c.toLowerCase()!==ie.BEARER.toLowerCase()?de.ACCESS_TOKEN_WITH_AUTH_SCHEME:de.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:d,clientId:this.clientId,realm:o||e.tenantId,target:a,tokenType:c,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},m=n&&n.accessToken||this.getTokenKeys().accessToken,f=[];m.forEach(y=>{if(this.accessTokenKeyMatchesFilter(y,u,!0)){let E=this.getAccessTokenCredential(y);E&&this.credentialMatchesFilter(E,u)&&f.push(E)}});let h=f.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),f.forEach(y=>{this.removeAccessToken(xc(y))}),i&&s&&i.addFields({multiMatchedAT:f.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),f[0])}accessTokenKeyMatchesFilter(e,r,n){let o=e.toLowerCase();if(r.clientId&&o.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&o.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&o.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&o.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return!1;if(r.target){let i=r.target.asArray();for(let s=0;s<i.length;s++){if(n&&!o.includes(i[s].toLowerCase()))return!1;if(!n&&o.includes(i[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){let r=this.getTokenKeys(),n=[];return r.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;let i=this.getAccessTokenCredential(o);i&&this.credentialMatchesFilter(i,e)&&n.push(i)}),n}getRefreshToken(e,r,n,o,i){this.commonLogger.trace("CacheManager - getRefreshToken called");let s=r?Xn:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:de.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=n&&n.refreshToken||this.getTokenKeys().refreshToken,d=[];c.forEach(m=>{if(this.refreshTokenKeyMatchesFilter(m,a)){let f=this.getRefreshTokenCredential(m);f&&this.credentialMatchesFilter(f,a)&&d.push(f)}});let u=d.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&o&&i&&o.addFields({multiMatchedRT:u},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),d[0])}refreshTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),o=Object.keys(n).map(s=>n[s]),i=o.length;if(i<1)return null;if(i>1)throw I(hi);return o[0]}isAppMetadataFOCI(e){let r=this.readAppMetadataFromCache(e);return!!(r&&r.familyId===Xn)}matchHomeAccountId(e,r){return typeof e.homeAccountId=="string"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){let n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){return r.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,r){return!!(e&&typeof e=="string"&&r?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,r){return!!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){let o=aT(this.staticAuthorityOptions,this.commonLogger);if(o.includes(r)&&o.includes(e.environment))return!0}let n=this.getAuthorityMetadataByAlias(r);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return!!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return!!(e.familyId&&r===e.familyId)}matchRealm(e,r){return e.realm?.toLowerCase()===r.toLowerCase()}matchNativeAccountId(e,r){return!!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return!!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==de.ACCESS_TOKEN&&e.credentialType!==de.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:rt.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return!!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return!!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf(tc)!==-1}isAuthorityMetadata(e){return e.indexOf(us.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${us.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(let n in r)e[n]=r[n];return e}},Bc=class extends co{setAccount(){throw I(J)}getAccount(){throw I(J)}getCachedAccountEntity(){throw I(J)}setIdTokenCredential(){throw I(J)}getIdTokenCredential(){throw I(J)}setAccessTokenCredential(){throw I(J)}getAccessTokenCredential(){throw I(J)}setRefreshTokenCredential(){throw I(J)}getRefreshTokenCredential(){throw I(J)}setAppMetadata(){throw I(J)}getAppMetadata(){throw I(J)}setServerTelemetry(){throw I(J)}getServerTelemetry(){throw I(J)}setAuthorityMetadata(){throw I(J)}getAuthorityMetadata(){throw I(J)}getAuthorityMetadataKeys(){throw I(J)}setThrottlingCache(){throw I(J)}getThrottlingCache(){throw I(J)}removeItem(){throw I(J)}getKeys(){throw I(J)}getAccountKeys(){throw I(J)}getTokenKeys(){throw I(J)}async clear(){throw I(J)}updateCredentialCacheKey(){throw I(J)}removeOutdatedAccount(){throw I(J)}}});function yT({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:o,networkInterface:i,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:d,serverTelemetryManager:u,persistencePlugin:m,serializableCache:f}){let h={...k4,...r};return{authOptions:H4(t),systemOptions:{...D4,...e},loggerOptions:h,cacheOptions:{...M4,...n},storageInterface:o||new Bc(t.clientId,vs,new Jt(h)),networkInterface:i||L4,cryptoInterface:s||vs,clientCredentials:a||F4,libraryInfo:{...U4,...c},telemetry:{...q4,...d},serverTelemetryManager:u||null,persistencePlugin:m||null,serializableCache:f||null}}function H4(t){return{clientCapabilities:[],azureCloudOptions:B4,skipAuthorityMetadataCache:!1,...t}}function qc(t){return t.authOptions.authority.options.protocolMode===jt.OIDC}var D4,k4,M4,L4,U4,F4,B4,q4,Jl=v(()=>{"use strict";hy();Gl();Ie();zl();xl();_y();Pc();ct();tt();D4={tokenRenewalOffsetSeconds:nc,preventCorsPreflight:!1},k4={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Fe.Info,correlationId:A.EMPTY_STRING},M4={claimsBasedCachingEnabled:!1},L4={async sendGetRequestAsync(){throw I(J)},async sendPostRequestAsync(){throw I(J)}},U4={sku:A.SKU,version:Es,cpu:A.EMPTY_STRING,os:A.EMPTY_STRING},F4={clientSecret:A.EMPTY_STRING,clientAssertion:void 0},B4={azureCloudInstance:Cn.None,tenant:`${A.DEFAULT_COMMON_TENANT}`},q4={application:{appName:"",appVersion:""}}});var Gt,Hc=v(()=>{"use strict";pn();Gt=class t extends te{constructor(e,r,n,o,i){super(e,r,n),this.name="ServerError",this.errorNo=o,this.status=i,Object.setPrototypeOf(this,t.prototype)}}});var jc,_T=v(()=>{"use strict";Ie();Hc();jc=class t{static generateThrottlingStorageKey(e){return`${un.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r){let n=t.generateThrottlingStorageKey(r),o=e.getThrottlingCache(n);if(o){if(o.throttleTime<Date.now()){e.removeItem(n);return}throw new Gt(o.errorCodes?.join(" ")||A.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,r,n){if(t.checkResponseStatus(n)||t.checkResponseForRetryAfter(n)){let o={throttleTime:t.calculateThrottleTime(parseInt(n.headers[et.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(t.generateThrottlingStorageKey(r),o)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(et.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||un.DEFAULT_THROTTLE_TIME_SECONDS),n+un.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,o){let i={clientId:r,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:o,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},s=this.generateThrottlingStorageKey(i);e.removeItem(s)}}});var Xl,vT=v(()=>{"use strict";_T();pn();ct();tt();Xl=class{constructor(e,r){this.networkClient=e,this.cacheManager=r}async sendPostRequest(e,r,n){jc.preProcess(this.cacheManager,e);let o;try{o=await this.networkClient.sendPostRequestAsync(r,n)}catch(i){throw i instanceof te?i:I(ci)}return jc.postProcess(this.cacheManager,e,o),o}}});var Nt,Gc=v(()=>{"use strict";Nt={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"}});var Qr,vy=v(()=>{"use strict";En();Ie();Kr();Qr=class{static validateRedirectUri(e){if(!e)throw le(Ai)}static validatePrompt(e){let r=[];for(let n in $r)r.push($r[n]);if(r.indexOf(e)<0)throw le(wi)}static validateClaims(e){try{JSON.parse(e)}catch{throw le(yn)}}static validateCodeChallengeParams(e,r){if(!e||!r)throw le(_n);this.validateCodeChallengeMethod(r)}static validateCodeChallengeMethod(e){if([ds.PLAIN,ds.S256].indexOf(e)<0)throw le(xi)}}});var xe,$c=v(()=>{"use strict";Ie();Dc();kc();En();vy();Kr();xe=class{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(Bl,encodeURIComponent(A.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Bl,encodeURIComponent(`${A.TOKEN_RESPONSE_TYPE} ${A.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(Dg,encodeURIComponent(e||ln.QUERY))}addNativeBroker(){this.parameters.set(dy,encodeURIComponent("1"))}addScopes(e,r=!0,n=Ht){r&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");let o=r?[...e||[],...n]:e||[],i=new rt(o);this.parameters.set(Lg,encodeURIComponent(i.printScopes()))}addClientId(e){this.parameters.set(ao,encodeURIComponent(e))}addRedirectUri(e){Qr.validateRedirectUri(e),this.parameters.set(Ng,encodeURIComponent(e))}addPostLogoutRedirectUri(e){Qr.validateRedirectUri(e),this.parameters.set(ty,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(ry,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(my,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(py,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(et.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(et.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(uy,encodeURIComponent(e))}addClaims(e,r){let n=this.addClientCapabilitiesToClaims(e,r);Qr.validateClaims(n),this.parameters.set(Mg,encodeURIComponent(n))}addCorrelationId(e){this.parameters.set(zg,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(Vg,e.sku),this.parameters.set(Kg,e.version),e.os&&this.parameters.set(Wg,e.os),e.cpu&&this.parameters.set(Qg,e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set(Zg,e.appName),e?.appVersion&&this.parameters.set(ey,e.appVersion)}addPrompt(e){Qr.validatePrompt(e),this.parameters.set(`${qg}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(Fg,encodeURIComponent(e))}addNonce(e){this.parameters.set(Bg,encodeURIComponent(e))}addCodeChallengeParams(e,r){if(Qr.validateCodeChallengeParams(e,r),e&&r)this.parameters.set(jg,encodeURIComponent(e)),this.parameters.set(Gg,encodeURIComponent(r));else throw le(_n)}addAuthorizationCode(e){this.parameters.set(Hg,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(ny,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(Ug,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set($g,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(oy,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(iy,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(sy,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(ay,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(cy,encodeURIComponent(e))}addGrantType(e){this.parameters.set(kg,encodeURIComponent(e))}addClientInfo(){this.parameters.set(eT,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([r,n])=>{!this.parameters.has(r)&&n&&this.parameters.set(r,n)})}addClientCapabilitiesToClaims(e,r){let n;if(!e)n={};else try{n=JSON.parse(e)}catch{throw le(yn)}return r&&r.length>0&&(n.hasOwnProperty(cs.ACCESS_TOKEN)||(n[cs.ACCESS_TOKEN]={}),n[cs.ACCESS_TOKEN][cs.XMS_CC]={values:r}),JSON.stringify(n)}addUsername(e){this.parameters.set(Il.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(Il.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(ql,ie.POP),this.parameters.set(Hl,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(ql,ie.SSH),this.parameters.set(Hl,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(Yg,e.generateCurrentRequestHeaderValue()),this.parameters.set(Jg,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(Xg,un.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(ly,encodeURIComponent(e))}createQueryString(){let e=new Array;return this.parameters.forEach((r,n)=>{e.push(`${n}=${r}`)}),e.join("&")}}});var yt,zc=v(()=>{"use strict";Jl();vT();Gl();Ie();zl();Gc();Mc();$c();xg();Wr();yt=class{constructor(e,r){this.config=yT(e),this.logger=new Jt(this.config.loggerOptions,$l,Es),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Xl(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}createTokenRequestHeaders(e){let r={};if(r[et.CONTENT_TYPE]=A.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Nt.HOME_ACCOUNT_ID:try{let n=Sn(e.credential);r[et.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case Nt.UPN:r[et.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}async executePostToTokenEndpoint(e,r,n,o,i,s){s&&this.performanceClient?.addQueueMeasurement(s,i);let a=await this.networkManager.sendPostRequest(o,e,{body:r,headers:n});return this.performanceClient?.addFields({refreshTokenSize:a.body.refresh_token?.length||0,httpVerToken:a.headers?.[et.X_MS_HTTP_VERSION]||""},i),this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async updateAuthority(e,r){this.performanceClient?.addQueueMeasurement(C.UpdateTokenEndpointAuthority,r);let n=`https://${e}/${this.authority.tenant}/`,o=await Og(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=o}createTokenQueryParameters(e){let r=new xe;return e.tokenQueryParameters&&r.addExtraQueryParameters(e.tokenQueryParameters),r.createQueryString()}}});var Zl={};gt(Zl,{badToken:()=>uo,consentRequired:()=>Cy,interactionRequired:()=>Ey,loginRequired:()=>Sy,nativeAccountUnavailable:()=>Vc,noTokensFound:()=>lo,refreshTokenExpired:()=>Kc});var lo,Vc,Kc,Ey,Cy,Sy,uo,eu=v(()=>{"use strict";lo="no_tokens_found",Vc="native_account_unavailable",Kc="refresh_token_expired",Ey="interaction_required",Cy="consent_required",Sy="login_required",uo="bad_token"});function Ay(t,e,r){let n=!!t&&ET.indexOf(t)>-1,o=!!r&&j4.indexOf(r)>-1,i=!!e&&ET.some(s=>e.indexOf(s)>-1);return n||i||o}function ru(t){return new sr(t,tu[t])}var ET,j4,tu,Ty,sr,nu=v(()=>{"use strict";Ie();pn();eu();ET=[Ey,Cy,Sy,uo],j4=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],tu={[lo]:"No refresh token found in the cache. Please sign-in.",[Vc]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Kc]:"Refresh token has expired.",[uo]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."},Ty={noTokensFoundError:{code:lo,desc:tu[lo]},native_account_unavailable:{code:Vc,desc:tu[Vc]},bad_token:{code:uo,desc:tu[uo]}},sr=class t extends te{constructor(e,r,n,o,i,s,a,c){super(e,r,n),Object.setPrototypeOf(this,t.prototype),this.timestamp=o||A.EMPTY_STRING,this.traceId=i||A.EMPTY_STRING,this.correlationId=s||A.EMPTY_STRING,this.claims=a||A.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}});var ou,CT=v(()=>{"use strict";Ie();ct();tt();ou=class t{static setRequestState(e,r,n){let o=t.generateLibraryState(e,n);return r?`${o}${A.RESOURCE_DELIM}${r}`:o}static generateLibraryState(e,r){if(!e)throw I(no);let n={id:e.createNewGuid()};r&&(n.meta=r);let o=JSON.stringify(n);return e.base64Encode(o)}static parseRequestState(e,r){if(!e)throw I(no);if(!r)throw I(Nr);try{let n=r.split(A.RESOURCE_DELIM),o=n[0],i=n.length>1?n.slice(1).join(A.RESOURCE_DELIM):A.EMPTY_STRING,s=e.base64Decode(o),a=JSON.parse(s);return{userRequestState:i||A.EMPTY_STRING,libraryState:a}}catch{throw I(Nr)}}}});var G4,Tn,iu=v(()=>{"use strict";Li();Mi();Wr();so();G4={SW:"sw",UHW:"uhw"},Tn=class{constructor(e,r){this.cryptoUtils=e,this.performanceClient=r}async generateCnf(e,r){this.performanceClient?.addQueueMeasurement(C.PopTokenGenerateCnf,e.correlationId);let n=await se(this.generateKid.bind(this),C.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:o}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(C.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:G4.SW}}async signPopToken(e,r,n){return this.signPayload(e,r,n)}async signPayload(e,r,n,o){let{resourceRequestMethod:i,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:d}=n,m=(s?new re(s):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Yt(),m:i?.toUpperCase(),u:m?.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:m?.AbsolutePath,q:m?.QueryString?[[],m.QueryString]:void 0,client_claims:a||void 0,...o},r,d,n.correlationId)}}});var ar,by=v(()=>{"use strict";ar=class{constructor(e,r){this.cache=e,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}});function $4(t){let e="code=",r=t.error_uri?.lastIndexOf(e);return r&&r>=0?t.error_uri?.substring(r+e.length):void 0}function ST(t,e,r,n,o,i,s,a,c,d,u){u?.verbose("setCachedAccount called");let f=t.getAccountKeys().find(w=>w.startsWith(r)),h=null;f&&(h=t.getAccount(f,u));let y=h||lt.createAccount({homeAccountId:r,idTokenClaims:o,clientInfo:i,environment:s,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:d},e,n),E=y.tenantProfiles||[],b=a||y.realm;if(b&&!E.find(w=>w.tenantId===b)){let w=Uc(r,y.localAccountId,b,o);E.push(w)}return y.tenantProfiles=E,y}var Ke,Wc=v(()=>{"use strict";ct();Hc();kc();Ql();nu();CT();Ie();iu();by();Wr();ms();fy();Kl();_s();tt();Ke=class t{constructor(e,r,n,o,i,s,a){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=o,this.serializableCache=i,this.persistencePlugin=s,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,r){if(!e.state||!r)throw e.state?I(to,"Cached State"):I(to,"Server State");let n,o;try{n=decodeURIComponent(e.state)}catch{throw I(Nr,e.state)}try{o=decodeURIComponent(r)}catch{throw I(Nr,e.state)}if(n!==o)throw I(ui);if(e.error||e.error_description||e.suberror){let i=$4(e);throw Ay(e.error,e.error_description,e.suberror)?new sr(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",i):new Gt(e.error||"",e.error_description,e.suberror,i)}}validateTokenResponse(e,r){if(e.error||e.error_description||e.suberror){let n=`Error(s): ${e.error_codes||A.NOT_AVAILABLE} - Timestamp: ${e.timestamp||A.NOT_AVAILABLE} - Description: ${e.error_description||A.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||A.NOT_AVAILABLE} - Trace ID: ${e.trace_id||A.NOT_AVAILABLE}`,o=e.error_codes?.length?e.error_codes[0]:void 0,i=new Gt(e.error,n,e.suberror,o,e.status);if(r&&e.status&&e.status>=he.SERVER_ERROR_RANGE_START&&e.status<=he.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${i}`);return}else if(r&&e.status&&e.status>=he.CLIENT_ERROR_RANGE_START&&e.status<=he.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${i}`);return}throw Ay(e.error,e.error_description,e.suberror)?new sr(e.error,e.error_description,e.suberror,e.timestamp||A.EMPTY_STRING,e.trace_id||A.EMPTY_STRING,e.correlation_id||A.EMPTY_STRING,e.claims||A.EMPTY_STRING,o):i}}async handleServerTokenResponse(e,r,n,o,i,s,a,c,d){this.performanceClient?.addQueueMeasurement(C.HandleServerTokenResponse,e.correlation_id);let u;if(e.id_token){if(u=gn(e.id_token||A.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&u.nonce!==i.nonce)throw I(pi);if(o.maxAge||o.maxAge===0){let y=u.auth_time;if(!y)throw I(mn);Ec(y,o.maxAge)}}this.homeAccountIdentifier=lt.generateHomeAccountId(e.client_info||A.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,u);let m;i&&i.state&&(m=ou.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||o.sshKid||void 0;let f=this.generateCacheRecord(e,r,n,o,u,s,i),h;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new ar(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(h)),a&&!c&&f.account){let y=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(y,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await t.generateAuthenticationResult(this.cryptoObj,r,f,!1,o,u,m,void 0,d)}await this.cacheStorage.saveCacheRecord(f,o.storeInCache,o.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(h))}return t.generateAuthenticationResult(this.cryptoObj,r,f,!1,o,u,m,e,d)}generateCacheRecord(e,r,n,o,i,s,a){let c=r.getPreferredCache();if(!c)throw I(fn);let d=Wl(i),u,m;e.id_token&&i&&(u=Ig(this.homeAccountIdentifier,c,e.id_token,this.clientId,d||""),m=ST(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,c,d,a,void 0,this.logger));let f=null;if(e.access_token){let E=e.scope?rt.fromString(e.scope):new rt(o.scopes||[]),b=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,w=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,x=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,K=n+b,Q=K+w,me=x&&x>0?n+x:void 0;f=Rg(this.homeAccountIdentifier,c,e.access_token,this.clientId,d||r.tenant||"",E.printScopes(),K,Q,this.cryptoObj.base64Decode,me,e.token_type,s,e.key_id,o.claims,o.requestedClaimsHash)}let h=null;if(e.refresh_token){let E;if(e.refresh_token_expires_in){let b=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;E=n+b}h=wg(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,E)}let y=null;return e.foci&&(y={clientId:this.clientId,environment:c,familyId:e.foci}),{account:m,idToken:u,accessToken:f,refreshToken:h,appMetadata:y}}static async generateAuthenticationResult(e,r,n,o,i,s,a,c,d){let u=A.EMPTY_STRING,m=[],f=null,h,y,E=A.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===ie.POP&&!i.popKid){let K=new Tn(e),{secret:Q,keyId:me}=n.accessToken;if(!me)throw I(Ti);u=await K.signPopToken(Q,me,i)}else u=n.accessToken.secret;m=rt.fromString(n.accessToken.target).asArray(),f=new Date(Number(n.accessToken.expiresOn)*1e3),h=new Date(Number(n.accessToken.extendedExpiresOn)*1e3),n.accessToken.refreshOn&&(y=new Date(Number(n.accessToken.refreshOn)*1e3))}n.appMetadata&&(E=n.appMetadata.familyId===Xn?Xn:"");let b=s?.oid||s?.sub||"",w=s?.tid||"";c?.spa_accountid&&n.account&&(n.account.nativeAccountId=c?.spa_accountid);let x=n.account?Vl(n.account.getAccountInfo(),void 0,s,n.idToken?.secret):null;return{authority:r.canonicalAuthority,uniqueId:b,tenantId:w,scopes:m,account:x,idToken:n?.idToken?.secret||"",idTokenClaims:s||{},accessToken:u,fromCache:o,expiresOn:f,extExpiresOn:h,refreshOn:y,correlationId:i.correlationId,requestId:d||A.EMPTY_STRING,familyId:E,tokenType:n.accessToken?.tokenType||A.EMPTY_STRING,state:a?a.userRequestState:A.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||A.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||A.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}}}});var Ts,TT=v(()=>{"use strict";zc();$c();Ie();Dc();Jl();Wc();ki();ct();Mi();iu();Li();Mc();Gc();En();vy();Wr();so();Fl();tt();Kr();Ts=class extends yt{constructor(e,r){super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(C.GetAuthCodeUrl,e.correlationId);let r=await se(this.createAuthCodeUrlQueryString.bind(this),C.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return re.appendQueryString(this.authority.authorizationEndpoint,r)}async acquireToken(e,r){if(this.performanceClient?.addQueueMeasurement(C.AuthClientAcquireToken,e.correlationId),!e.code)throw I(fi);let n=Yt(),o=await se(this.executeTokenRequest.bind(this),C.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=o.headers?.[et.X_MS_REQUEST_ID],s=new Ke(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(o.body),se(s.handleServerTokenResponse.bind(s),C.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,n,e,r,void 0,void 0,void 0,i)}handleFragmentResponse(e,r){if(new Ke(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,r),!e.code)throw I(Ei);return e}getLogoutUri(e){if(!e)throw le(Oi);let r=this.createLogoutUrlQueryString(e);return re.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(C.AuthClientExecuteTokenRequest,r.correlationId);let n=this.createTokenQueryParameters(r),o=re.appendQueryString(e.tokenEndpoint,n),i=await se(this.createTokenRequestBody.bind(this),C.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r),s;if(r.clientInfo)try{let d=Cs(r.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${d.uid}${Ve.CLIENT_INFO_SEPARATOR}${d.utid}`,type:Nt.HOME_ACCOUNT_ID}}catch(d){this.logger.verbose("Could not parse client info for CCS Header: "+d)}let a=this.createTokenRequestHeaders(s||r.ccsCredential),c={clientId:r.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return se(this.executePostToTokenEndpoint.bind(this),C.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(o,i,a,c,r.correlationId,C.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(C.AuthClientCreateTokenRequestBody,e.correlationId);let r=new xe;if(r.addClientId(e.tokenBodyParameters?.[ao]||this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):Qr.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.oidcDefaultScopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!qc(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await xt(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(i.assertionType)}if(r.addGrantType(Qt.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),e.authenticationScheme===ie.POP){let i=new Tn(this.cryptoUtils,this.performanceClient),s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(await se(i.generateCnf.bind(i),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(s)}else if(e.authenticationScheme===ie.SSH)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw le(vn);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),(!Oe.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities);let o;if(e.clientInfo)try{let i=Cs(e.clientInfo,this.cryptoUtils.base64Decode);o={credential:`${i.uid}${Ve.CLIENT_INFO_SEPARATOR}${i.utid}`,type:Nt.HOME_ACCOUNT_ID}}catch(i){this.logger.verbose("Could not parse client info for CCS Header: "+i)}else o=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case Nt.HOME_ACCOUNT_ID:try{let i=Sn(o.credential);r.addCcsOid(i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case Nt.UPN:r.addCcsUpn(o.credential);break}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[jl])&&r.addExtraQueryParameters({[jl]:"1"}),r.createQueryString()}async createAuthCodeUrlQueryString(e){this.performanceClient?.addQueueMeasurement(C.AuthClientCreateQueryString,e.correlationId);let r=new xe;r.addClientId(e.extraQueryParameters?.[ao]||this.config.authOptions.clientId);let n=[...e.scopes||[],...e.extraScopesToConsent||[]];r.addScopes(n,!0,this.oidcDefaultScopes),r.addRedirectUri(e.redirectUri);let o=e.correlationId||this.config.cryptoInterface.createNewGuid();if(r.addCorrelationId(o),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),qc(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==$r.SELECT_ACCOUNT)if(e.sid&&e.prompt===$r.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){let i=this.extractAccountSid(e.account),s=this.extractLoginHint(e.account);if(s&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),s=null),s){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(s);try{let a=Sn(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(i&&e.prompt===$r.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(i);try{let a=Sn(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{let a=Sn(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker&&(r.addNativeBroker(),e.authenticationScheme===ie.POP)){let i=new Tn(this.cryptoUtils),s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(await se(i.generateCnf.bind(i),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(s)}return r.createQueryString()}createLogoutUrlQueryString(e){let r=new xe;return e.postLogoutRedirectUri&&r.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&r.addCorrelationId(e.correlationId),e.idTokenHint&&r.addIdTokenHint(e.idTokenHint),e.state&&r.addState(e.state),e.logoutHint&&r.addLogoutHint(e.logoutHint),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),r.createQueryString()}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}});var z4,po,Iy=v(()=>{"use strict";Jl();zc();$c();Ie();Dc();Wc();iu();ki();En();ct();Hc();Li();Mi();Gc();Mc();nu();Wr();so();_s();Fl();Kr();tt();eu();z4=300,po=class extends yt{constructor(e,r){super(e,r)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientAcquireToken,e.correlationId);let r=Yt(),n=await se(this.executeTokenRequest.bind(this),C.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),o=n.headers?.[et.X_MS_REQUEST_ID],i=new Ke(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n.body),se(i.handleServerTokenResponse.bind(i),C.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,o)}async acquireTokenByRefreshToken(e){if(!e)throw le(Pi);if(this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw I(hn);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await se(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){let o=n instanceof sr&&n.errorCode===lo,i=n instanceof Gt&&n.errorCode===bl.INVALID_GRANT_ERROR&&n.subError===bl.CLIENT_MISMATCH_ERROR;if(o||i)return se(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return se(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,r){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let n=mT(this.cacheManager.getRefreshToken.bind(this.cacheManager),C.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,void 0,this.performanceClient,e.correlationId);if(!n)throw ru(lo);if(n.expiresOn&&gs(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||z4))throw ru(Kc);let o={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||ie.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Nt.HOME_ACCOUNT_ID}};try{return await se(this.acquireToken.bind(this),C.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(o)}catch(i){if(i instanceof sr&&i.subError===uo){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let s=xc(n);this.cacheManager.removeRefreshToken(s)}throw i}}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientExecuteTokenRequest,e.correlationId);let n=this.createTokenQueryParameters(e),o=re.appendQueryString(r.tokenEndpoint,n),i=await se(this.createTokenRequestBody.bind(this),C.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return se(this.executePostToTokenEndpoint.bind(this),C.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(o,i,s,a,e.correlationId,C.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let r=e.correlationId,n=new xe;if(n.addClientId(e.tokenBodyParameters?.[ao]||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(Qt.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!qc(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addCorrelationId(r),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let o=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await xt(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(o.assertionType)}if(e.authenticationScheme===ie.POP){let o=new Tn(this.cryptoUtils,this.performanceClient),i;e.popKid?i=this.cryptoUtils.encodeKid(e.popKid):i=(await se(o.generateCnf.bind(o),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(i)}else if(e.authenticationScheme===ie.SSH)if(e.sshJwk)n.addSshJwk(e.sshJwk);else throw le(vn);if((!Oe.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Nt.HOME_ACCOUNT_ID:try{let o=Sn(e.ccsCredential.credential);n.addCcsOid(o)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case Nt.UPN:n.addCcsUpn(e.ccsCredential.credential);break}return e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}});var Qc,AT=v(()=>{"use strict";zc();Li();Iy();ct();Wc();Ie();ki();ms();Wr();so();Ll();tt();Qc=class extends yt{constructor(e,r){super(e,r)}async acquireToken(e){try{let[r,n]=await this.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...Ht]});return n===be.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new po(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),r}catch(r){if(r instanceof oo&&r.errorCode===zr)return new po(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw r}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(C.SilentFlowClientAcquireCachedToken,e.correlationId);let r=be.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Oe.isEmptyObj(e.claims))throw this.setCacheOutcome(be.FORCE_REFRESH_OR_CLAIMS,e.correlationId),I(zr);if(!e.account)throw I(hn);let n=e.account.tenantId||fT(e.authority),o=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,o,n,this.performanceClient,e.correlationId);if(i){if(bg(i.cachedAt)||gs(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(be.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),I(zr);i.refreshOn&&gs(i.refreshOn,0)&&(r=be.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(be.NO_CACHED_ACCESS_TOKEN,e.correlationId),I(zr);let s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,o,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await se(this.generateResultFromCacheRecord.bind(this),C.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),r]}setCacheOutcome(e,r){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},r),e!==be.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,r){this.performanceClient?.addQueueMeasurement(C.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=gn(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){let o=n?.auth_time;if(!o)throw I(mn);Ec(o,r.maxAge)}return Ke.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)}}});function V4(t){let{skus:e,libraryName:r,libraryVersion:n,extensionName:o,extensionVersion:i}=t,s=new Map([[0,[r,n]],[2,[o,i]]]),a=[];if(e?.length){if(a=e.split(bT),a.length<4)return e}else a=Array.from({length:4},()=>IT);return s.forEach((c,d)=>{c.length===2&&c[0]?.length&&c[1]?.length&&K4({skuArr:a,index:d,skuName:c[0],skuVersion:c[1]})}),a.join(bT)}function K4(t){let{skuArr:e,index:r,skuName:n,skuVersion:o}=t;r>=e.length||(e[r]=[n,o].join(IT))}var bT,IT,Fi,RT=v(()=>{"use strict";Ie();pn();bT=",",IT="|";Fi=class t{constructor(e,r){this.cacheOutcome=be.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||A.EMPTY_STRING,this.wrapperVer=e.wrapperVer||A.EMPTY_STRING,this.telemetryCacheKey=at.CACHE_KEY+Ve.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${at.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&r.push(`broker_error=${n}`);let o=r.join(at.VALUE_SEPARATOR),i=this.getRegionDiscoveryFields(),s=[e,i].join(at.VALUE_SEPARATOR);return[at.SCHEMA_VERSION,s,o].join(at.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(at.VALUE_SEPARATOR),o=e.errors.slice(0,r).join(at.VALUE_SEPARATOR),i=e.errors.length,s=r<i?at.OVERFLOW_TRUE:at.OVERFLOW_FALSE,a=[i,s].join(at.VALUE_SEPARATOR);return[at.SCHEMA_VERSION,e.cacheHits,n,o,a].join(at.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let r=this.getLastRequests();r.errors.length>=at.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof te?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(at.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey);else{let o={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o)}}static maxErrorsToSend(e){let r,n=0,o=0,i=e.errors.length;for(r=0;r<i;r++){let s=e.failedRequests[2*r]||A.EMPTY_STRING,a=e.failedRequests[2*r+1]||A.EMPTY_STRING,c=e.errors[r]||A.EMPTY_STRING;if(o+=s.toString().length+a.toString().length+c.length+3,o<at.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||A.EMPTY_STRING),e.push(this.regionSource||A.EMPTY_STRING),e.push(this.regionOutcome||A.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return V4(e)}}});var Ce=v(()=>{"use strict";ms();xg();_s();Li();Eg();Fl();Dc();TT();Iy();AT();zc();Gc();Ll();xl();Pc();_y();Ql();by();Mi();hy();$c();Wc();kc();Gl();nu();pn();Hc();ct();En();Ie();ki();RT();eu();mg();tt();Kr();});var An,su=v(()=>{"use strict";Ce();An=class{static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],i={homeAccountId:o.home_account_id,environment:o.environment,realm:o.realm,localAccountId:o.local_account_id,username:o.username,authorityType:o.authority_type,name:o.name,clientInfo:o.client_info,lastModificationTime:o.last_modification_time,lastModificationApp:o.last_modification_app,tenantProfiles:o.tenantProfiles?.map(a=>JSON.parse(a))},s=new lt;co.toObject(s,i),r[n]=s}),r}static deserializeIdTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],i={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,realm:o.realm};r[n]=i}),r}static deserializeAccessTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],i={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,realm:o.realm,target:o.target,cachedAt:o.cached_at,expiresOn:o.expires_on,extendedExpiresOn:o.extended_expires_on,refreshOn:o.refresh_on,keyId:o.key_id,tokenType:o.token_type,requestedClaims:o.requestedClaims,requestedClaimsHash:o.requestedClaimsHash,userAssertionHash:o.userAssertionHash};r[n]=i}),r}static deserializeRefreshTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],i={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,familyId:o.family_id,target:o.target,realm:o.realm};r[n]=i}),r}static deserializeAppMetadata(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n];r[n]={clientId:o.client_id,environment:o.environment,familyId:o.family_id}}),r}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}}});var Ry={};gt(Ry,{Deserializer:()=>An,Serializer:()=>Jn});var wT=v(()=>{"use strict";Al();su();});var PT,As,OT,xT,mo,Yr,NT,W4,wy,Z,ne,nt,Be,au,DT,kT,MT,cu,_t,bn,cr,du,LT,UT,FT,BT,qe=v(()=>{"use strict";Ce();PT="Authorization",As="Metadata",OT="X-IDENTITY-HEADER",xT="secret",mo="api-version",Yr="resource",NT="system_assigned_managed_identity",W4="managed_identity",wy=`https://login.microsoftonline.com/${W4}/`,Z={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IDENTITY_HEADER:"IDENTITY_HEADER",IDENTITY_SERVER_THUMBPRINT:"IDENTITY_SERVER_THUMBPRINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT"},ne={APP_SERVICE:"AppService",AZURE_ARC:"AzureArc",CLOUD_SHELL:"CloudShell",DEFAULT_TO_IMDS:"DefaultToImds",IMDS:"Imds",SERVICE_FABRIC:"ServiceFabric"},nt={SYSTEM_ASSIGNED:"system-assigned",USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},Be={GET:"get",POST:"post"},au={SUCCESS:he.SUCCESS,SUCCESS_RANGE_START:he.SUCCESS_RANGE_START,SUCCESS_RANGE_END:he.SUCCESS_RANGE_END,SERVER_ERROR:he.SERVER_ERROR},DT="REGION_NAME",kT=32,MT={SHA256:"sha256"},cu={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},_t={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},bn={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},cr={ALGORITHM:"alg",RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"},du={INTERVAL_MS:100,TIMEOUT_MS:5e3},LT=4096,UT=3,FT=1e3,BT=[he.NOT_FOUND,he.REQUEST_TIMEOUT,he.TOO_MANY_REQUESTS,he.SERVER_ERROR,he.SERVICE_UNAVAILABLE,he.GATEWAY_TIMEOUT]});var bs,qT=v(()=>{"use strict";bs=class{static getNetworkResponse(e,r,n){return{headers:e,body:r,status:n}}static urlToHttpOptions(e){let r={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return e.port!==""&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),r}}});var lu,Py,Is,HT,jT,GT,$T=v(()=>{"use strict";Ce();qe();qT();lu=ae(require("http"),1),Py=ae(require("https"),1);Is=class{constructor(e,r){this.proxyUrl=e||"",this.customAgentOptions=r||{}}async sendGetRequestAsync(e,r,n){return this.proxyUrl?HT(e,this.proxyUrl,Be.GET,r,this.customAgentOptions,n):jT(e,Be.GET,r,this.customAgentOptions,n)}async sendPostRequestAsync(e,r){return this.proxyUrl?HT(e,this.proxyUrl,Be.POST,r,this.customAgentOptions):jT(e,Be.POST,r,this.customAgentOptions)}},HT=(t,e,r,n,o,i)=>{let s=new URL(t),a=new URL(e),c=n?.headers||{},d={host:a.hostname,port:a.port,method:"CONNECT",path:s.hostname,headers:c};o&&Object.keys(o).length&&(d.agent=new lu.default.Agent(o));let u="";if(r===Be.POST){let f=n?.body||"";u=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${f.length}\r
\r
${f}`}else i&&(d.timeout=i);let m=`${r.toUpperCase()} ${s.href} HTTP/1.1\r
Host: ${s.host}\r
Connection: close\r
`+u+`\r
`;return new Promise((f,h)=>{let y=lu.default.request(d);i&&y.on("timeout",()=>{y.destroy(),h(new Error("Request time out"))}),y.end(),y.on("connect",(E,b)=>{let w=E?.statusCode||au.SERVER_ERROR;(w<au.SUCCESS_RANGE_START||w>au.SUCCESS_RANGE_END)&&(y.destroy(),b.destroy(),h(new Error(`Error connecting to proxy. Http status code: ${E.statusCode}. Http status message: ${E?.statusMessage||"Unknown"}`))),b.write(m);let x=[];b.on("data",K=>{x.push(K)}),b.on("end",()=>{let Q=Buffer.concat([...x]).toString().split(`\r
`),me=parseInt(Q[0].split(" ")[1]),ut=Q[0].split(" ").slice(2).join(" "),dn=Q[Q.length-1],qt=Q.slice(1,Q.length-2),Ae=new Map;qt.forEach(KW=>{let QS=KW.split(new RegExp(/:\s(.*)/s)),WW=QS[0],ug=QS[1];try{let Sl=JSON.parse(ug);Sl&&typeof Sl=="object"&&(ug=Sl)}catch{}Ae.set(WW,ug)});let Cl=Object.fromEntries(Ae),WS=bs.getNetworkResponse(Cl,GT(me,ut,Cl,dn),me);(me<he.SUCCESS_RANGE_START||me>he.SUCCESS_RANGE_END)&&WS.body.error!==_t.AUTHORIZATION_PENDING&&y.destroy(),f(WS)}),b.on("error",K=>{y.destroy(),b.destroy(),h(new Error(K.toString()))})}),y.on("error",E=>{y.destroy(),h(new Error(E.toString()))})})},jT=(t,e,r,n,o)=>{let i=e===Be.POST,s=r?.body||"",a=new URL(t),c=r?.headers||{},d={method:e,headers:c,...bs.urlToHttpOptions(a)};return n&&Object.keys(n).length&&(d.agent=new Py.default.Agent(n)),i?d.headers={...d.headers,"Content-Length":s.length}:o&&(d.timeout=o),new Promise((u,m)=>{let f;d.protocol==="http:"?f=lu.default.request(d):f=Py.default.request(d),i&&f.write(s),o&&f.on("timeout",()=>{f.destroy(),m(new Error("Request time out"))}),f.end(),f.on("response",h=>{let y=h.headers,E=h.statusCode,b=h.statusMessage,w=[];h.on("data",x=>{w.push(x)}),h.on("end",()=>{let x=Buffer.concat([...w]).toString(),K=y,Q=bs.getNetworkResponse(K,GT(E,b,K,x),E);(E<he.SUCCESS_RANGE_START||E>he.SUCCESS_RANGE_END)&&Q.body.error!==_t.AUTHORIZATION_PENDING&&f.destroy(),u(Q)})}),f.on("error",h=>{f.destroy(),m(new Error(h.toString()))})})},GT=(t,e,r,n)=>{let o;try{o=JSON.parse(n)}catch{let s,a;t>=he.CLIENT_ERROR_RANGE_START&&t<=he.CLIENT_ERROR_RANGE_END?(s="client_error",a="A client"):t>=he.SERVER_ERROR_RANGE_START&&t<=he.SERVER_ERROR_RANGE_END?(s="server_error",a="A server"):(s="unknown_error",a="An unknown"),o={error:s,error_description:`${a} error occured.
Http status code: ${t}
Http status message: ${e||"Unknown"}
Headers: ${JSON.stringify(r)}`}}return o}});var uu,pu,ho,mu,zT,VT,hu,fu,gu,yu,Yc,KT,_u,vu,Bi,qi=v(()=>{"use strict";qe();uu="invalid_file_extension",pu="invalid_file_path",ho="invalid_managed_identity_id_type",mu="invalid_secret",zT="missing_client_id",VT="network_unavailable",hu="platform_not_supported",fu="unable_to_create_azure_arc",gu="unable_to_create_cloud_shell",yu="unable_to_create_source",Yc="unable_to_read_secret_file",KT="user_assigned_not_available_at_runtime",_u="www_authenticate_header_missing",vu="www_authenticate_header_unsupported_format",Bi={[Z.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[Z.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[Z.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[Z.MSI_ENDPOINT]:"msi_endpoint_url_malformed"}});function Qe(t){return new Oy(t)}var Q4,Oy,Rs=v(()=>{"use strict";Ce();qi();qe();Q4={[uu]:"The file path in the WWW-Authenticate header does not contain a .key file.",[pu]:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[ho]:"More than one ManagedIdentityIdType was provided.",[mu]:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",[hu]:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",[zT]:"A ManagedIdentityId id was not provided.",[Bi.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${Z.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[Bi.IDENTITY_ENDPOINT]:`The Managed Identity's '${Z.IDENTITY_ENDPOINT}' environment variable is malformed.`,[Bi.IMDS_ENDPOINT]:`The Managed Identity's '${Z.IMDS_ENDPOINT}' environment variable is malformed.`,[Bi.MSI_ENDPOINT]:`The Managed Identity's '${Z.MSI_ENDPOINT}' environment variable is malformed.`,[VT]:"Authentication unavailable. The request to the managed identity endpoint timed out.",[fu]:"Azure Arc Managed Identities can only be system assigned.",[gu]:"Cloud Shell Managed Identities can only be system assigned.",[yu]:"Unable to create a Managed Identity source based on environment variables.",[Yc]:"Unable to read the secret file.",[KT]:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",[_u]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",[vu]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."},Oy=class t extends te{constructor(e){super(e,Q4[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,t.prototype)}}});var Eu,WT=v(()=>{"use strict";Rs();qe();qi();Eu=class{get id(){return this._id}set id(e){this._id=e}get idType(){return this._idType}set idType(e){this._idType=e}constructor(e){let r=e?.userAssignedClientId,n=e?.userAssignedResourceId,o=e?.userAssignedObjectId;if(r){if(n||o)throw Qe(ho);this.id=r,this.idType=nt.USER_ASSIGNED_CLIENT_ID}else if(n){if(r||o)throw Qe(ho);this.id=n,this.idType=nt.USER_ASSIGNED_RESOURCE_ID}else if(o){if(r||n)throw Qe(ho);this.id=o,this.idType=nt.USER_ASSIGNED_OBJECT_ID}else this.id=NT,this.idType=nt.SYSTEM_ASSIGNED}}});var Cu,QT=v(()=>{"use strict";Cu=class{constructor(e,r,n){this.maxRetries=e,this.retryDelay=r,this.httpStatusCodesToRetryOn=n}retryAfterMillisecondsToSleep(e){if(!e)return 0;let r=Math.round(parseFloat(e)*1e3);return isNaN(r)&&(r=Math.max(0,new Date(e).valueOf()-new Date().valueOf())),r}async pauseForRetry(e,r,n){if(this.httpStatusCodesToRetryOn.includes(e)&&r<this.maxRetries){let o=this.retryAfterMillisecondsToSleep(n);return await new Promise(i=>setTimeout(i,o||this.retryDelay)),!0}return!1}}});var Su,YT=v(()=>{"use strict";Ce();qe();Su=class{constructor(e,r){this.httpClientNoRetries=e,this.retryPolicy=r}async sendNetworkRequestAsyncHelper(e,r,n){return e===Be.GET?this.httpClientNoRetries.sendGetRequestAsync(r,n):this.httpClientNoRetries.sendPostRequestAsync(r,n)}async sendNetworkRequestAsync(e,r,n){let o=await this.sendNetworkRequestAsyncHelper(e,r,n),i=0;for(;await this.retryPolicy.pauseForRetry(o.status,i,o.headers[et.RETRY_AFTER]);)o=await this.sendNetworkRequestAsyncHelper(e,r,n),i++;return o}async sendGetRequestAsync(e,r){return this.sendNetworkRequestAsync(Be.GET,e,r)}async sendPostRequestAsync(e,r){return this.sendNetworkRequestAsync(Be.POST,e,r)}}});var pt,$t,Jc=v(()=>{"use strict";Ce();pt={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}},$t=class t extends te{constructor(e,r){super(e,r),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new t(pt.invalidLoopbackAddressType.code,`${pt.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new t(pt.unableToLoadRedirectUri.code,`${pt.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new t(pt.noAuthCodeInResponse.code,`${pt.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new t(pt.noLoopbackServerExists.code,`${pt.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new t(pt.loopbackServerAlreadyExists.code,`${pt.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new t(pt.loopbackServerTimeout.code,`${pt.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new t(pt.stateNotFoundError.code,pt.stateNotFoundError.desc)}static createThumbprintMissingError(){return new t(pt.thumbprintMissing.code,pt.thumbprintMissing.desc)}}});function Tu({auth:t,broker:e,cache:r,system:n,telemetry:o}){let i={...X4,networkClient:new Is(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||xy,disableInternalRetries:n?.disableInternalRetries||!1};if(t.clientCertificate&&!t.clientCertificate.thumbprint&&!t.clientCertificate.thumbprintSha256)throw $t.createStateNotFoundError();return{auth:{...Y4,...t},broker:{...e},cache:{...J4,...r},system:{...i,...n},telemetry:{...Z4,...o}}}function JT({managedIdentityIdParams:t,system:e}){let r=new Eu(t),n=e?.loggerOptions||xy,o;if(e?.networkClient?o=e.networkClient:o=new Is(e?.proxyUrl,e?.customAgentOptions),!e?.disableInternalRetries){let i=new Cu(UT,FT,BT);o=new Su(o,i)}return{managedIdentityId:r,system:{loggerOptions:n,networkClient:o}}}var Y4,J4,xy,X4,Z4,Au=v(()=>{"use strict";Ce();$T();WT();qe();QT();YT();Jc();Y4={clientId:A.EMPTY_STRING,authority:A.DEFAULT_AUTHORITY,clientSecret:A.EMPTY_STRING,clientAssertion:A.EMPTY_STRING,clientCertificate:{thumbprint:A.EMPTY_STRING,thumbprintSha256:A.EMPTY_STRING,privateKey:A.EMPTY_STRING,x5c:A.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:A.EMPTY_STRING,authorityMetadata:A.EMPTY_STRING,clientCapabilities:[],protocolMode:jt.AAD,azureCloudOptions:{azureCloudInstance:Cn.None,tenant:A.EMPTY_STRING},skipAuthorityMetadataCache:!1},J4={claimsBasedCachingEnabled:!1},xy={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Fe.Info},X4={loggerOptions:xy,networkClient:new Is,proxyUrl:A.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},Z4={application:{appName:A.EMPTY_STRING,appVersion:A.EMPTY_STRING}}});function Ny(){return bu>Iu.length-16&&(XT.default.randomFillSync(Iu),bu=0),Iu.slice(bu,bu+=16)}var XT,Iu,bu,ZT=v(()=>{XT=ae(require("crypto")),Iu=new Uint8Array(256),bu=Iu.length});var eA,tA=v(()=>{eA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function eQ(t){return typeof t=="string"&&eA.test(t)}var rA,nA=v(()=>{tA();rA=eQ});function tQ(t,e=0){let r=(vt[t[e+0]]+vt[t[e+1]]+vt[t[e+2]]+vt[t[e+3]]+"-"+vt[t[e+4]]+vt[t[e+5]]+"-"+vt[t[e+6]]+vt[t[e+7]]+"-"+vt[t[e+8]]+vt[t[e+9]]+"-"+vt[t[e+10]]+vt[t[e+11]]+vt[t[e+12]]+vt[t[e+13]]+vt[t[e+14]]+vt[t[e+15]]).toLowerCase();if(!rA(r))throw TypeError("Stringified UUID is invalid");return r}var vt,oA,iA=v(()=>{nA();vt=[];for(let t=0;t<256;++t)vt.push((t+256).toString(16).substr(1));oA=tQ});function rQ(t,e,r){t=t||{};let n=t.random||(t.rng||Ny)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return oA(n)}var Dy,sA=v(()=>{ZT();iA();Dy=rQ});var aA=v(()=>{sA()});var Ru,cA=v(()=>{"use strict";aA();Ru=class{generateGuid(){return Dy()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}}});var Xt,Xc=v(()=>{"use strict";Ce();Xt=class t{static base64Encode(e,r){return Buffer.from(e,r).toString("base64")}static base64EncodeUrl(e,r){return t.base64Encode(e,r).replace(/=/g,A.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,"base64").toString("utf8")}static base64DecodeUrl(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4;)r+="=";return t.base64Decode(r)}}});var dA,ws,ky=v(()=>{"use strict";qe();dA=ae(require("crypto"),1);ws=class{sha256(e){return dA.default.createHash(MT.SHA256).update(e).digest()}}});var lA,wu,uA=v(()=>{"use strict";Ce();qe();Xc();ky();lA=ae(require("crypto"),1);wu=class{constructor(){this.hashUtils=new ws}async generatePkceCodes(){let e=this.generateCodeVerifier(),r=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:r}}generateCodeVerifier(){let e=[],r=256-256%cu.CV_CHARSET.length;for(;e.length<=kT;){let o=lA.default.randomBytes(1)[0];if(o>=r)continue;let i=o%cu.CV_CHARSET.length;e.push(cu.CV_CHARSET[i])}let n=e.join(A.EMPTY_STRING);return Xt.base64EncodeUrl(n)}generateCodeChallengeFromVerifier(e){return Xt.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}});var fo,Pu=v(()=>{"use strict";cA();Xc();uA();ky();fo=class{constructor(){this.pkceGenerator=new wu,this.guidGenerator=new Ru,this.hashUtils=new ws}base64UrlEncode(){throw new Error("Method not implemented.")}encodeKid(){throw new Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return Xt.base64Encode(e)}base64Decode(e){return Xt.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw new Error("Method not implemented.")}removeTokenBindingKey(){throw new Error("Method not implemented.")}clearKeystore(){throw new Error("Method not implemented.")}signJwt(){throw new Error("Method not implemented.")}async hashString(e){return Xt.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}});var go,Ou=v(()=>{"use strict";Ce();su();Al();go=class extends co{constructor(e,r,n,o){super(r,n,e,o),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let r={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let n in e){let o=e[n];if(typeof o=="object")if(o instanceof lt)r.accounts[n]=o;else if(dt.isIdTokenEntity(o))r.idTokens[n]=o;else if(dt.isAccessTokenEntity(o))r.accessTokens[n]=o;else if(dt.isRefreshTokenEntity(o))r.refreshTokens[n]=o;else if(dt.isAppMetadataEntity(n,o))r.appMetadata[n]=o;else continue}return r}inMemoryCacheToCache(e){let r=this.getCache();return r={...r,...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata},r}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let r=this.inMemoryCacheToCache(e);this.setCache(r),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,r){this.logger.tracePii(`Item key: ${e}`);let n=this.getCache();n[e]=r,this.setCache(n)}getAccountKeys(){let e=this.getInMemoryCache();return Object.keys(e.accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){let r=this.getCachedAccountEntity(e);return r&&lt.isAccountEntity(r)?this.updateOutdatedCachedAccount(e,r):null}getCachedAccountEntity(e){return this.getItem(e)?Object.assign(new lt,this.getItem(e)):null}setAccount(e){let r=e.generateAccountKey();this.setItem(r,e)}getIdTokenCredential(e){let r=this.getItem(e);return dt.isIdTokenEntity(r)?r:null}setIdTokenCredential(e){let r=dt.generateCredentialKey(e);this.setItem(r,e)}getAccessTokenCredential(e){let r=this.getItem(e);return dt.isAccessTokenEntity(r)?r:null}setAccessTokenCredential(e){let r=dt.generateCredentialKey(e);this.setItem(r,e)}getRefreshTokenCredential(e){let r=this.getItem(e);return dt.isRefreshTokenEntity(r)?r:null}setRefreshTokenCredential(e){let r=dt.generateCredentialKey(e);this.setItem(r,e)}getAppMetadata(e){let r=this.getItem(e);return dt.isAppMetadataEntity(e,r)?r:null}setAppMetadata(e){let r=dt.generateAppMetadataKey(e);this.setItem(r,e)}getServerTelemetry(e){let r=this.getItem(e);return r&&dt.isServerTelemetryEntity(e,r)?r:null}setServerTelemetry(e,r){this.setItem(e,r)}getAuthorityMetadata(e){let r=this.getItem(e);return r&&dt.isAuthorityMetadataEntity(e,r)?r:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,r){this.setItem(e,r)}getThrottlingCache(e){let r=this.getItem(e);return r&&dt.isThrottlingEntity(e,r)?r:null}setThrottlingCache(e,r){this.setItem(e,r)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let r=!1,n=this.getCache();return n[e]&&(delete n[e],r=!0),r&&(this.setCache(n),this.emitChange()),r}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){this.logger.trace("Retrieving all cache keys");let e=this.getCache();return[...Object.keys(e)]}async clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(r=>{this.removeItem(r)}),this.emitChange()}static generateInMemoryCache(e){return An.deserializeAllCache(An.deserializeJSONBlob(e))}static generateJsonCache(e){return Jn.serializeAllCache(e)}updateCredentialCacheKey(e,r){let n=dt.generateCredentialKey(r);if(e!==n){let o=this.getItem(e);if(o)return this.removeItem(e),this.setItem(n,o),this.logger.verbose(`Updated an outdated ${r.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${r.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}}});var Zc,Ps,My=v(()=>{"use strict";Ce();su();Al();Zc={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}},Ps=class{constructor(e,r,n){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=r}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=Jn.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let r=An.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(r)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}async getAllAccounts(){this.logger.trace("getAllAccounts called");let e;try{return this.persistence&&(e=new ar(this,!0),await this.persistence.beforeCacheAccess(e)),this.storage.getAllAccounts()}finally{this.persistence&&e&&await this.persistence.afterCacheAccess(e)}}async getAccountByHomeId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.localAccountId===e)[0]||null}async removeAccount(e){this.logger.trace("removeAccount called");let r;try{this.persistence&&(r=new ar(this,!0),await this.persistence.beforeCacheAccess(r)),await this.storage.removeAccount(lt.generateAccountCacheKey(e))}finally{this.persistence&&r&&await this.persistence.afterCacheAccess(r)}}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,r){this.logger.trace("Merging in-memory cache with cache snapshot");let n=this.mergeRemovals(e,r);return this.mergeUpdates(n,r)}mergeUpdates(e,r){return Object.keys(r).forEach(n=>{let o=r[n];if(!e.hasOwnProperty(n))o!==null&&(e[n]=o);else{let i=o!==null,s=typeof o=="object",a=!Array.isArray(o),c=typeof e[n]<"u"&&e[n]!==null;i&&s&&a&&c?this.mergeUpdates(e[n],o):e[n]=o}}),e}mergeRemovals(e,r){this.logger.trace("Remove updated entries in cache");let n=e.Account?this.mergeRemovalsDict(e.Account,r.Account):e.Account,o=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,r.AccessToken):e.AccessToken,i=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,r.RefreshToken):e.RefreshToken,s=e.IdToken?this.mergeRemovalsDict(e.IdToken,r.IdToken):e.IdToken,a=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,r.AppMetadata):e.AppMetadata;return{...e,Account:n,AccessToken:o,RefreshToken:i,IdToken:s,AppMetadata:a}}mergeRemovalsDict(e,r){let n={...e};return Object.keys(e).forEach(o=>{(!r||!r.hasOwnProperty(o))&&delete n[o]}),n}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...Zc.Account,...e.Account},IdToken:{...Zc.IdToken,...e.IdToken},AccessToken:{...Zc.AccessToken,...e.AccessToken},RefreshToken:{...Zc.RefreshToken,...e.RefreshToken},AppMetadata:{...Zc.AppMetadata,...e.AppMetadata}}}}});var Os=g((Ly,mA)=>{var xu=require("buffer"),Jr=xu.Buffer;function pA(t,e){for(var r in t)e[r]=t[r]}Jr.from&&Jr.alloc&&Jr.allocUnsafe&&Jr.allocUnsafeSlow?mA.exports=xu:(pA(xu,Ly),Ly.Buffer=Hi);function Hi(t,e,r){return Jr(t,e,r)}Hi.prototype=Object.create(Jr.prototype);pA(Jr,Hi);Hi.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Jr(t,e,r)};Hi.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Jr(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Hi.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Jr(t)};Hi.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return xu.SlowBuffer(t)}});var Uy=g((CLe,hA)=>{var Nu=Os().Buffer,nQ=require("stream"),oQ=require("util");function Du(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=Nu.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=Nu.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}oQ.inherits(Du,nQ);Du.prototype.write=function(e){this.buffer=Nu.concat([this.buffer,Nu.from(e)]),this.emit("data",e)};Du.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1};hA.exports=Du});var gA=g((SLe,fA)=>{"use strict";var ed=require("buffer").Buffer,Fy=require("buffer").SlowBuffer;fA.exports=ku;function ku(t,e){if(!ed.isBuffer(t)||!ed.isBuffer(e)||t.length!==e.length)return!1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}ku.install=function(){ed.prototype.equal=Fy.prototype.equal=function(e){return ku(this,e)}};var iQ=ed.prototype.equal,sQ=Fy.prototype.equal;ku.restore=function(){ed.prototype.equal=iQ,Fy.prototype.equal=sQ}});var _A=g((TLe,yA)=>{"use strict";function By(t){var e=(t/8|0)+(t%8===0?0:1);return e}var aQ={ES256:By(256),ES384:By(384),ES512:By(521)};function cQ(t){var e=aQ[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}yA.exports=cQ});var bA=g((ALe,AA)=>{"use strict";var Mu=Os().Buffer,EA=_A(),Lu=128,CA=0,dQ=32,lQ=16,uQ=2,SA=lQ|dQ|CA<<6,Uu=uQ|CA<<6;function pQ(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function TA(t){if(Mu.isBuffer(t))return t;if(typeof t=="string")return Mu.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function mQ(t,e){t=TA(t);var r=EA(e),n=r+1,o=t.length,i=0;if(t[i++]!==SA)throw new Error('Could not find expected "seq"');var s=t[i++];if(s===(Lu|1)&&(s=t[i++]),o-i<s)throw new Error('"seq" specified length of "'+s+'", only "'+(o-i)+'" remaining');if(t[i++]!==Uu)throw new Error('Could not find expected "int" for "r"');var a=t[i++];if(o-i-2<a)throw new Error('"r" specified length of "'+a+'", only "'+(o-i-2)+'" available');if(n<a)throw new Error('"r" specified length of "'+a+'", max of "'+n+'" is acceptable');var c=i;if(i+=a,t[i++]!==Uu)throw new Error('Could not find expected "int" for "s"');var d=t[i++];if(o-i!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(o-i)+'"');if(n<d)throw new Error('"s" specified length of "'+d+'", max of "'+n+'" is acceptable');var u=i;if(i+=d,i!==o)throw new Error('Expected to consume entire buffer, but "'+(o-i)+'" bytes remain');var m=r-a,f=r-d,h=Mu.allocUnsafe(m+a+f+d);for(i=0;i<m;++i)h[i]=0;t.copy(h,i,c+Math.max(-m,0),c+a),i=r;for(var y=i;i<y+f;++i)h[i]=0;return t.copy(h,i,u+Math.max(-f,0),u+d),h=h.toString("base64"),h=pQ(h),h}function vA(t,e,r){for(var n=0;e+n<r&&t[e+n]===0;)++n;var o=t[e+n]>=Lu;return o&&--n,n}function hQ(t,e){t=TA(t);var r=EA(e),n=t.length;if(n!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var o=vA(t,0,r),i=vA(t,r,t.length),s=r-o,a=r-i,c=2+s+1+1+a,d=c<Lu,u=Mu.allocUnsafe((d?2:3)+c),m=0;return u[m++]=SA,d?u[m++]=c:(u[m++]=Lu|1,u[m++]=c&255),u[m++]=Uu,u[m++]=s,o<0?(u[m++]=0,m+=t.copy(u,m,0,r)):m+=t.copy(u,m,o,r),u[m++]=Uu,u[m++]=a,i<0?(u[m++]=0,t.copy(u,m,r)):t.copy(u,m,r+i),u}AA.exports={derToJose:mQ,joseToDer:hQ}});var jy=g((bLe,kA)=>{var fQ=gA(),Ns=Os().Buffer,Xr=require("crypto"),RA=bA(),IA=require("util"),gQ=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,td="secret must be a string or buffer",xs="key must be a string or a buffer",yQ="key must be a string, a buffer or an object",qy=typeof Xr.createPublicKey=="function";qy&&(xs+=" or a KeyObject",td+="or a KeyObject");function wA(t){if(!Ns.isBuffer(t)&&typeof t!="string"&&(!qy||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw kr(xs)}function PA(t){if(!Ns.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw kr(yQ)}function _Q(t){if(!Ns.isBuffer(t)){if(typeof t=="string")return t;if(!qy||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw kr(td)}}function Hy(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function OA(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}function kr(t){var e=[].slice.call(arguments,1),r=IA.format.bind(IA,t).apply(null,e);return new TypeError(r)}function vQ(t){return Ns.isBuffer(t)||typeof t=="string"}function rd(t){return vQ(t)||(t=JSON.stringify(t)),t}function xA(t){return function(r,n){_Q(n),r=rd(r);var o=Xr.createHmac("sha"+t,n),i=(o.update(r),o.digest("base64"));return Hy(i)}}function EQ(t){return function(r,n,o){var i=xA(t)(r,o);return fQ(Ns.from(n),Ns.from(i))}}function NA(t){return function(r,n){PA(n),r=rd(r);var o=Xr.createSign("RSA-SHA"+t),i=(o.update(r),o.sign(n,"base64"));return Hy(i)}}function DA(t){return function(r,n,o){wA(o),r=rd(r),n=OA(n);var i=Xr.createVerify("RSA-SHA"+t);return i.update(r),i.verify(o,n,"base64")}}function CQ(t){return function(r,n){PA(n),r=rd(r);var o=Xr.createSign("RSA-SHA"+t),i=(o.update(r),o.sign({key:n,padding:Xr.constants.RSA_PKCS1_PSS_PADDING,saltLength:Xr.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return Hy(i)}}function SQ(t){return function(r,n,o){wA(o),r=rd(r),n=OA(n);var i=Xr.createVerify("RSA-SHA"+t);return i.update(r),i.verify({key:o,padding:Xr.constants.RSA_PKCS1_PSS_PADDING,saltLength:Xr.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function TQ(t){var e=NA(t);return function(){var n=e.apply(null,arguments);return n=RA.derToJose(n,"ES"+t),n}}function AQ(t){var e=DA(t);return function(n,o,i){o=RA.joseToDer(o,"ES"+t).toString("base64");var s=e(n,o,i);return s}}function bQ(){return function(){return""}}function IQ(){return function(e,r){return r===""}}kA.exports=function(e){var r={hs:xA,rs:NA,ps:CQ,es:TQ,none:bQ},n={hs:EQ,rs:DA,ps:SQ,es:AQ,none:IQ},o=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!o)throw kr(gQ,e);var i=(o[1]||o[3]).toLowerCase(),s=o[2];return{sign:r[i](s),verify:n[i](s)}}});var Gy=g((ILe,MA)=>{var RQ=require("buffer").Buffer;MA.exports=function(e){return typeof e=="string"?e:typeof e=="number"||RQ.isBuffer(e)?e.toString():JSON.stringify(e)}});var HA=g((RLe,qA)=>{var wQ=Os().Buffer,LA=Uy(),PQ=jy(),OQ=require("stream"),UA=Gy(),$y=require("util");function FA(t,e){return wQ.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xQ(t,e,r){r=r||"utf8";var n=FA(UA(t),"binary"),o=FA(UA(e),r);return $y.format("%s.%s",n,o)}function BA(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,o=t.encoding,i=PQ(e.alg),s=xQ(e,r,o),a=i.sign(s,n);return $y.format("%s.%s",s,a)}function Fu(t){var e=t.secret||t.privateKey||t.key,r=new LA(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new LA(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}$y.inherits(Fu,OQ);Fu.prototype.sign=function(){try{var e=BA({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};Fu.sign=BA;qA.exports=Fu});var JA=g((wLe,YA)=>{var GA=Os().Buffer,jA=Uy(),NQ=jy(),DQ=require("stream"),$A=Gy(),kQ=require("util"),MQ=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function LQ(t){return Object.prototype.toString.call(t)==="[object Object]"}function UQ(t){if(LQ(t))return t;try{return JSON.parse(t)}catch{return}}function zA(t){var e=t.split(".",1)[0];return UQ(GA.from(e,"base64").toString("binary"))}function FQ(t){return t.split(".",2).join(".")}function VA(t){return t.split(".")[2]}function BQ(t,e){e=e||"utf8";var r=t.split(".")[1];return GA.from(r,"base64").toString(e)}function KA(t){return MQ.test(t)&&!!zA(t)}function WA(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}t=$A(t);var o=VA(t),i=FQ(t),s=NQ(e);return s.verify(i,o,r)}function QA(t,e){if(e=e||{},t=$A(t),!KA(t))return null;var r=zA(t);if(!r)return null;var n=BQ(t);return(r.typ==="JWT"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:r,payload:n,signature:VA(t)}}function Ds(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new jA(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new jA(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}kQ.inherits(Ds,DQ);Ds.prototype.verify=function(){try{var e=WA(this.signature.buffer,this.algorithm,this.key.buffer),r=QA(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};Ds.decode=QA;Ds.isValid=KA;Ds.verify=WA;YA.exports=Ds});var qu=g(yo=>{var XA=HA(),Bu=JA(),qQ=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];yo.ALGORITHMS=qQ;yo.sign=XA.sign;yo.verify=Bu.verify;yo.decode=Bu.decode;yo.isValid=Bu.isValid;yo.createSign=function(e){return new XA(e)};yo.createVerify=function(e){return new Bu(e)}});var zy=g((OLe,ZA)=>{var HQ=qu();ZA.exports=function(t,e){e=e||{};var r=HQ.decode(t,e);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var o=JSON.parse(n);o!==null&&typeof o=="object"&&(n=o)}catch{}return e.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var nd=g((xLe,eb)=>{var Hu=function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)};Hu.prototype=Object.create(Error.prototype);Hu.prototype.constructor=Hu;eb.exports=Hu});var Vy=g((NLe,rb)=>{var tb=nd(),ju=function(t,e){tb.call(this,t),this.name="NotBeforeError",this.date=e};ju.prototype=Object.create(tb.prototype);ju.prototype.constructor=ju;rb.exports=ju});var Ky=g((DLe,ob)=>{var nb=nd(),Gu=function(t,e){nb.call(this,t),this.name="TokenExpiredError",this.expiredAt=e};Gu.prototype=Object.create(nb.prototype);Gu.prototype.constructor=Gu;ob.exports=Gu});var sb=g((kLe,ib)=>{var ks=1e3,Ms=ks*60,Ls=Ms*60,ji=Ls*24,jQ=ji*7,GQ=ji*365.25;ib.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return $Q(t);if(r==="number"&&isFinite(t))return e.long?VQ(t):zQ(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function $Q(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*GQ;case"weeks":case"week":case"w":return r*jQ;case"days":case"day":case"d":return r*ji;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ls;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ms;case"seconds":case"second":case"secs":case"sec":case"s":return r*ks;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function zQ(t){var e=Math.abs(t);return e>=ji?Math.round(t/ji)+"d":e>=Ls?Math.round(t/Ls)+"h":e>=Ms?Math.round(t/Ms)+"m":e>=ks?Math.round(t/ks)+"s":t+"ms"}function VQ(t){var e=Math.abs(t);return e>=ji?$u(t,e,ji,"day"):e>=Ls?$u(t,e,Ls,"hour"):e>=Ms?$u(t,e,Ms,"minute"):e>=ks?$u(t,e,ks,"second"):t+" ms"}function $u(t,e,r,n){var o=e>=r*1.5;return Math.round(t/r)+" "+n+(o?"s":"")}});var Wy=g((MLe,ab)=>{var KQ=sb();ab.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t=="string"){var n=KQ(t);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof t=="number"?r+t:void 0}});var od=g((LLe,cb)=>{var WQ="2.0.0",QQ=Number.MAX_SAFE_INTEGER||9007199254740991,YQ=16,JQ=250,XQ=["major","premajor","minor","preminor","patch","prepatch","prerelease"];cb.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:YQ,MAX_SAFE_BUILD_LENGTH:JQ,MAX_SAFE_INTEGER:QQ,RELEASE_TYPES:XQ,SEMVER_SPEC_VERSION:WQ,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var id=g((ULe,db)=>{var ZQ=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};db.exports=ZQ});var Us=g((In,lb)=>{var{MAX_SAFE_COMPONENT_LENGTH:Qy,MAX_SAFE_BUILD_LENGTH:e6,MAX_LENGTH:t6}=od(),r6=id();In=lb.exports={};var n6=In.re=[],o6=In.safeRe=[],D=In.src=[],k=In.t={},i6=0,Yy="[a-zA-Z0-9-]",s6=[["\\s",1],["\\d",t6],[Yy,e6]],a6=t=>{for(let[e,r]of s6)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},X=(t,e,r)=>{let n=a6(e),o=i6++;r6(t,o,e),k[t]=o,D[o]=e,n6[o]=new RegExp(e,r?"g":void 0),o6[o]=new RegExp(n,r?"g":void 0)};X("NUMERICIDENTIFIER","0|[1-9]\\d*");X("NUMERICIDENTIFIERLOOSE","\\d+");X("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Yy}*`);X("MAINVERSION",`(${D[k.NUMERICIDENTIFIER]})\\.(${D[k.NUMERICIDENTIFIER]})\\.(${D[k.NUMERICIDENTIFIER]})`);X("MAINVERSIONLOOSE",`(${D[k.NUMERICIDENTIFIERLOOSE]})\\.(${D[k.NUMERICIDENTIFIERLOOSE]})\\.(${D[k.NUMERICIDENTIFIERLOOSE]})`);X("PRERELEASEIDENTIFIER",`(?:${D[k.NUMERICIDENTIFIER]}|${D[k.NONNUMERICIDENTIFIER]})`);X("PRERELEASEIDENTIFIERLOOSE",`(?:${D[k.NUMERICIDENTIFIERLOOSE]}|${D[k.NONNUMERICIDENTIFIER]})`);X("PRERELEASE",`(?:-(${D[k.PRERELEASEIDENTIFIER]}(?:\\.${D[k.PRERELEASEIDENTIFIER]})*))`);X("PRERELEASELOOSE",`(?:-?(${D[k.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${D[k.PRERELEASEIDENTIFIERLOOSE]})*))`);X("BUILDIDENTIFIER",`${Yy}+`);X("BUILD",`(?:\\+(${D[k.BUILDIDENTIFIER]}(?:\\.${D[k.BUILDIDENTIFIER]})*))`);X("FULLPLAIN",`v?${D[k.MAINVERSION]}${D[k.PRERELEASE]}?${D[k.BUILD]}?`);X("FULL",`^${D[k.FULLPLAIN]}$`);X("LOOSEPLAIN",`[v=\\s]*${D[k.MAINVERSIONLOOSE]}${D[k.PRERELEASELOOSE]}?${D[k.BUILD]}?`);X("LOOSE",`^${D[k.LOOSEPLAIN]}$`);X("GTLT","((?:<|>)?=?)");X("XRANGEIDENTIFIERLOOSE",`${D[k.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);X("XRANGEIDENTIFIER",`${D[k.NUMERICIDENTIFIER]}|x|X|\\*`);X("XRANGEPLAIN",`[v=\\s]*(${D[k.XRANGEIDENTIFIER]})(?:\\.(${D[k.XRANGEIDENTIFIER]})(?:\\.(${D[k.XRANGEIDENTIFIER]})(?:${D[k.PRERELEASE]})?${D[k.BUILD]}?)?)?`);X("XRANGEPLAINLOOSE",`[v=\\s]*(${D[k.XRANGEIDENTIFIERLOOSE]})(?:\\.(${D[k.XRANGEIDENTIFIERLOOSE]})(?:\\.(${D[k.XRANGEIDENTIFIERLOOSE]})(?:${D[k.PRERELEASELOOSE]})?${D[k.BUILD]}?)?)?`);X("XRANGE",`^${D[k.GTLT]}\\s*${D[k.XRANGEPLAIN]}$`);X("XRANGELOOSE",`^${D[k.GTLT]}\\s*${D[k.XRANGEPLAINLOOSE]}$`);X("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Qy}})(?:\\.(\\d{1,${Qy}}))?(?:\\.(\\d{1,${Qy}}))?`);X("COERCE",`${D[k.COERCEPLAIN]}(?:$|[^\\d])`);X("COERCEFULL",D[k.COERCEPLAIN]+`(?:${D[k.PRERELEASE]})?(?:${D[k.BUILD]})?(?:$|[^\\d])`);X("COERCERTL",D[k.COERCE],!0);X("COERCERTLFULL",D[k.COERCEFULL],!0);X("LONETILDE","(?:~>?)");X("TILDETRIM",`(\\s*)${D[k.LONETILDE]}\\s+`,!0);In.tildeTrimReplace="$1~";X("TILDE",`^${D[k.LONETILDE]}${D[k.XRANGEPLAIN]}$`);X("TILDELOOSE",`^${D[k.LONETILDE]}${D[k.XRANGEPLAINLOOSE]}$`);X("LONECARET","(?:\\^)");X("CARETTRIM",`(\\s*)${D[k.LONECARET]}\\s+`,!0);In.caretTrimReplace="$1^";X("CARET",`^${D[k.LONECARET]}${D[k.XRANGEPLAIN]}$`);X("CARETLOOSE",`^${D[k.LONECARET]}${D[k.XRANGEPLAINLOOSE]}$`);X("COMPARATORLOOSE",`^${D[k.GTLT]}\\s*(${D[k.LOOSEPLAIN]})$|^$`);X("COMPARATOR",`^${D[k.GTLT]}\\s*(${D[k.FULLPLAIN]})$|^$`);X("COMPARATORTRIM",`(\\s*)${D[k.GTLT]}\\s*(${D[k.LOOSEPLAIN]}|${D[k.XRANGEPLAIN]})`,!0);In.comparatorTrimReplace="$1$2$3";X("HYPHENRANGE",`^\\s*(${D[k.XRANGEPLAIN]})\\s+-\\s+(${D[k.XRANGEPLAIN]})\\s*$`);X("HYPHENRANGELOOSE",`^\\s*(${D[k.XRANGEPLAINLOOSE]})\\s+-\\s+(${D[k.XRANGEPLAINLOOSE]})\\s*$`);X("STAR","(<|>)?=?\\s*\\*");X("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");X("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var zu=g((FLe,ub)=>{var c6=Object.freeze({loose:!0}),d6=Object.freeze({}),l6=t=>t?typeof t!="object"?c6:t:d6;ub.exports=l6});var Jy=g((BLe,hb)=>{var pb=/^[0-9]+$/,mb=(t,e)=>{let r=pb.test(t),n=pb.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},u6=(t,e)=>mb(e,t);hb.exports={compareIdentifiers:mb,rcompareIdentifiers:u6}});var At=g((qLe,_b)=>{var Vu=id(),{MAX_LENGTH:fb,MAX_SAFE_INTEGER:Ku}=od(),{safeRe:gb,t:yb}=Us(),p6=zu(),{compareIdentifiers:Fs}=Jy(),Xy=class t{constructor(e,r){if(r=p6(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>fb)throw new TypeError(`version is longer than ${fb} characters`);Vu("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?gb[yb.LOOSE]:gb[yb.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ku||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ku||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ku||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let i=+o;if(i>=0&&i<Ku)return i}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Vu("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Fs(this.major,e.major)||Fs(this.minor,e.minor)||Fs(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=e.prerelease[r];if(Vu("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Fs(n,o)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],o=e.build[r];if(Vu("build compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Fs(n,o)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let i=[r,o];n===!1&&(i=[r]),Fs(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};_b.exports=Xy});var Gi=g((HLe,Eb)=>{var vb=At(),m6=(t,e,r=!1)=>{if(t instanceof vb)return t;try{return new vb(t,e)}catch(n){if(!r)return null;throw n}};Eb.exports=m6});var Sb=g((jLe,Cb)=>{var h6=Gi(),f6=(t,e)=>{let r=h6(t,e);return r?r.version:null};Cb.exports=f6});var Ab=g((GLe,Tb)=>{var g6=Gi(),y6=(t,e)=>{let r=g6(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Tb.exports=y6});var Rb=g(($Le,Ib)=>{var bb=At(),_6=(t,e,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new bb(t instanceof bb?t.version:t,r).inc(e,n,o).version}catch{return null}};Ib.exports=_6});var Ob=g((zLe,Pb)=>{var wb=Gi(),v6=(t,e)=>{let r=wb(t,null,!0),n=wb(e,null,!0),o=r.compare(n);if(o===0)return null;let i=o>0,s=i?r:n,a=i?n:r,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};Pb.exports=v6});var Nb=g((VLe,xb)=>{var E6=At(),C6=(t,e)=>new E6(t,e).major;xb.exports=C6});var kb=g((KLe,Db)=>{var S6=At(),T6=(t,e)=>new S6(t,e).minor;Db.exports=T6});var Lb=g((WLe,Mb)=>{var A6=At(),b6=(t,e)=>new A6(t,e).patch;Mb.exports=b6});var Fb=g((QLe,Ub)=>{var I6=Gi(),R6=(t,e)=>{let r=I6(t,e);return r&&r.prerelease.length?r.prerelease:null};Ub.exports=R6});var dr=g((YLe,qb)=>{var Bb=At(),w6=(t,e,r)=>new Bb(t,r).compare(new Bb(e,r));qb.exports=w6});var jb=g((JLe,Hb)=>{var P6=dr(),O6=(t,e,r)=>P6(e,t,r);Hb.exports=O6});var $b=g((XLe,Gb)=>{var x6=dr(),N6=(t,e)=>x6(t,e,!0);Gb.exports=N6});var Wu=g((ZLe,Vb)=>{var zb=At(),D6=(t,e,r)=>{let n=new zb(t,r),o=new zb(e,r);return n.compare(o)||n.compareBuild(o)};Vb.exports=D6});var Wb=g((eUe,Kb)=>{var k6=Wu(),M6=(t,e)=>t.sort((r,n)=>k6(r,n,e));Kb.exports=M6});var Yb=g((tUe,Qb)=>{var L6=Wu(),U6=(t,e)=>t.sort((r,n)=>L6(n,r,e));Qb.exports=U6});var sd=g((rUe,Jb)=>{var F6=dr(),B6=(t,e,r)=>F6(t,e,r)>0;Jb.exports=B6});var Qu=g((nUe,Xb)=>{var q6=dr(),H6=(t,e,r)=>q6(t,e,r)<0;Xb.exports=H6});var Zy=g((oUe,Zb)=>{var j6=dr(),G6=(t,e,r)=>j6(t,e,r)===0;Zb.exports=G6});var e_=g((iUe,eI)=>{var $6=dr(),z6=(t,e,r)=>$6(t,e,r)!==0;eI.exports=z6});var Yu=g((sUe,tI)=>{var V6=dr(),K6=(t,e,r)=>V6(t,e,r)>=0;tI.exports=K6});var Ju=g((aUe,rI)=>{var W6=dr(),Q6=(t,e,r)=>W6(t,e,r)<=0;rI.exports=Q6});var t_=g((cUe,nI)=>{var Y6=Zy(),J6=e_(),X6=sd(),Z6=Yu(),eY=Qu(),tY=Ju(),rY=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Y6(t,r,n);case"!=":return J6(t,r,n);case">":return X6(t,r,n);case">=":return Z6(t,r,n);case"<":return eY(t,r,n);case"<=":return tY(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};nI.exports=rY});var iI=g((dUe,oI)=>{var nY=At(),oY=Gi(),{safeRe:Xu,t:Zu}=Us(),iY=(t,e)=>{if(t instanceof nY)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Xu[Zu.COERCEFULL]:Xu[Zu.COERCE]);else{let c=e.includePrerelease?Xu[Zu.COERCERTLFULL]:Xu[Zu.COERCERTL],d;for(;(d=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),c.lastIndex=d.index+d[1].length+d[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],o=r[3]||"0",i=r[4]||"0",s=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return oY(`${n}.${o}.${i}${s}${a}`,e)};oI.exports=iY});var aI=g((lUe,sI)=>{var r_=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(e,r)}return this}};sI.exports=r_});var lr=g((uUe,uI)=>{var sY=/\s+/g,n_=class t{constructor(e,r){if(r=cY(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof o_)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(sY," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!dI(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&fY(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&mY)|(this.options.loose&&hY))+":"+e,o=cI.get(n);if(o)return o;let i=this.options.loose,s=i?zt[Dt.HYPHENRANGELOOSE]:zt[Dt.HYPHENRANGE];e=e.replace(s,bY(this.options.includePrerelease)),we("hyphen replace",e),e=e.replace(zt[Dt.COMPARATORTRIM],lY),we("comparator trim",e),e=e.replace(zt[Dt.TILDETRIM],uY),we("tilde trim",e),e=e.replace(zt[Dt.CARETTRIM],pY),we("caret trim",e);let a=e.split(" ").map(m=>gY(m,this.options)).join(" ").split(/\s+/).map(m=>AY(m,this.options));i&&(a=a.filter(m=>(we("loose invalid filter",m,this.options),!!m.match(zt[Dt.COMPARATORLOOSE])))),we("range list",a);let c=new Map,d=a.map(m=>new o_(m,this.options));for(let m of d){if(dI(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return cI.set(n,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>lI(n,r)&&e.set.some(o=>lI(o,r)&&n.every(i=>o.every(s=>i.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new dY(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(IY(this.set[r],e,this.options))return!0;return!1}};uI.exports=n_;var aY=aI(),cI=new aY,cY=zu(),o_=ad(),we=id(),dY=At(),{safeRe:zt,t:Dt,comparatorTrimReplace:lY,tildeTrimReplace:uY,caretTrimReplace:pY}=Us(),{FLAG_INCLUDE_PRERELEASE:mY,FLAG_LOOSE:hY}=od(),dI=t=>t.value==="<0.0.0-0",fY=t=>t.value==="",lI=(t,e)=>{let r=!0,n=t.slice(),o=n.pop();for(;r&&n.length;)r=n.every(i=>o.intersects(i,e)),o=n.pop();return r},gY=(t,e)=>(we("comp",t,e),t=vY(t,e),we("caret",t),t=yY(t,e),we("tildes",t),t=CY(t,e),we("xrange",t),t=TY(t,e),we("stars",t),t),kt=t=>!t||t.toLowerCase()==="x"||t==="*",yY=(t,e)=>t.trim().split(/\s+/).map(r=>_Y(r,e)).join(" "),_Y=(t,e)=>{let r=e.loose?zt[Dt.TILDELOOSE]:zt[Dt.TILDE];return t.replace(r,(n,o,i,s,a)=>{we("tilde",t,n,o,i,s,a);let c;return kt(o)?c="":kt(i)?c=`>=${o}.0.0 <${+o+1}.0.0-0`:kt(s)?c=`>=${o}.${i}.0 <${o}.${+i+1}.0-0`:a?(we("replaceTilde pr",a),c=`>=${o}.${i}.${s}-${a} <${o}.${+i+1}.0-0`):c=`>=${o}.${i}.${s} <${o}.${+i+1}.0-0`,we("tilde return",c),c})},vY=(t,e)=>t.trim().split(/\s+/).map(r=>EY(r,e)).join(" "),EY=(t,e)=>{we("caret",t,e);let r=e.loose?zt[Dt.CARETLOOSE]:zt[Dt.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(o,i,s,a,c)=>{we("caret",t,o,i,s,a,c);let d;return kt(i)?d="":kt(s)?d=`>=${i}.0.0${n} <${+i+1}.0.0-0`:kt(a)?i==="0"?d=`>=${i}.${s}.0${n} <${i}.${+s+1}.0-0`:d=`>=${i}.${s}.0${n} <${+i+1}.0.0-0`:c?(we("replaceCaret pr",c),i==="0"?s==="0"?d=`>=${i}.${s}.${a}-${c} <${i}.${s}.${+a+1}-0`:d=`>=${i}.${s}.${a}-${c} <${i}.${+s+1}.0-0`:d=`>=${i}.${s}.${a}-${c} <${+i+1}.0.0-0`):(we("no pr"),i==="0"?s==="0"?d=`>=${i}.${s}.${a}${n} <${i}.${s}.${+a+1}-0`:d=`>=${i}.${s}.${a}${n} <${i}.${+s+1}.0-0`:d=`>=${i}.${s}.${a} <${+i+1}.0.0-0`),we("caret return",d),d})},CY=(t,e)=>(we("replaceXRanges",t,e),t.split(/\s+/).map(r=>SY(r,e)).join(" ")),SY=(t,e)=>{t=t.trim();let r=e.loose?zt[Dt.XRANGELOOSE]:zt[Dt.XRANGE];return t.replace(r,(n,o,i,s,a,c)=>{we("xRange",t,n,o,i,s,a,c);let d=kt(i),u=d||kt(s),m=u||kt(a),f=m;return o==="="&&f&&(o=""),c=e.includePrerelease?"-0":"",d?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&f?(u&&(s=0),a=0,o===">"?(o=">=",u?(i=+i+1,s=0,a=0):(s=+s+1,a=0)):o==="<="&&(o="<",u?i=+i+1:s=+s+1),o==="<"&&(c="-0"),n=`${o+i}.${s}.${a}${c}`):u?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:m&&(n=`>=${i}.${s}.0${c} <${i}.${+s+1}.0-0`),we("xRange return",n),n})},TY=(t,e)=>(we("replaceStars",t,e),t.trim().replace(zt[Dt.STAR],"")),AY=(t,e)=>(we("replaceGTE0",t,e),t.trim().replace(zt[e.includePrerelease?Dt.GTE0PRE:Dt.GTE0],"")),bY=t=>(e,r,n,o,i,s,a,c,d,u,m,f)=>(kt(n)?r="":kt(o)?r=`>=${n}.0.0${t?"-0":""}`:kt(i)?r=`>=${n}.${o}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,kt(d)?c="":kt(u)?c=`<${+d+1}.0.0-0`:kt(m)?c=`<${d}.${+u+1}.0-0`:f?c=`<=${d}.${u}.${m}-${f}`:t?c=`<${d}.${u}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),IY=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(we(t[n].semver),t[n].semver!==o_.ANY&&t[n].semver.prerelease.length>0){let o=t[n].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}});var ad=g((pUe,yI)=>{var cd=Symbol("SemVer ANY"),a_=class t{static get ANY(){return cd}constructor(e,r){if(r=pI(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),s_("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===cd?this.value="":this.value=this.operator+this.semver.version,s_("comp",this)}parse(e){let r=this.options.loose?mI[hI.COMPARATORLOOSE]:mI[hI.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new fI(n[2],this.options.loose):this.semver=cd}toString(){return this.value}test(e){if(s_("Comparator.test",e,this.options.loose),this.semver===cd||e===cd)return!0;if(typeof e=="string")try{e=new fI(e,this.options)}catch{return!1}return i_(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new gI(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new gI(this.value,r).test(e.semver):(r=pI(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||i_(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||i_(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};yI.exports=a_;var pI=zu(),{safeRe:mI,t:hI}=Us(),i_=t_(),s_=id(),fI=At(),gI=lr()});var dd=g((mUe,_I)=>{var RY=lr(),wY=(t,e,r)=>{try{e=new RY(e,r)}catch{return!1}return e.test(t)};_I.exports=wY});var EI=g((hUe,vI)=>{var PY=lr(),OY=(t,e)=>new PY(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));vI.exports=OY});var SI=g((fUe,CI)=>{var xY=At(),NY=lr(),DY=(t,e,r)=>{let n=null,o=null,i=null;try{i=new NY(e,r)}catch{return null}return t.forEach(s=>{i.test(s)&&(!n||o.compare(s)===-1)&&(n=s,o=new xY(n,r))}),n};CI.exports=DY});var AI=g((gUe,TI)=>{var kY=At(),MY=lr(),LY=(t,e,r)=>{let n=null,o=null,i=null;try{i=new MY(e,r)}catch{return null}return t.forEach(s=>{i.test(s)&&(!n||o.compare(s)===1)&&(n=s,o=new kY(n,r))}),n};TI.exports=LY});var RI=g((yUe,II)=>{var c_=At(),UY=lr(),bI=sd(),FY=(t,e)=>{t=new UY(t,e);let r=new c_("0.0.0");if(t.test(r)||(r=new c_("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let o=t.set[n],i=null;o.forEach(s=>{let a=new c_(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||bI(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),i&&(!r||bI(r,i))&&(r=i)}return r&&t.test(r)?r:null};II.exports=FY});var PI=g((_Ue,wI)=>{var BY=lr(),qY=(t,e)=>{try{return new BY(t,e).range||"*"}catch{return null}};wI.exports=qY});var ep=g((vUe,DI)=>{var HY=At(),NI=ad(),{ANY:jY}=NI,GY=lr(),$Y=dd(),OI=sd(),xI=Qu(),zY=Ju(),VY=Yu(),KY=(t,e,r,n)=>{t=new HY(t,n),e=new GY(e,n);let o,i,s,a,c;switch(r){case">":o=OI,i=zY,s=xI,a=">",c=">=";break;case"<":o=xI,i=VY,s=OI,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($Y(t,e,n))return!1;for(let d=0;d<e.set.length;++d){let u=e.set[d],m=null,f=null;if(u.forEach(h=>{h.semver===jY&&(h=new NI(">=0.0.0")),m=m||h,f=f||h,o(h.semver,m.semver,n)?m=h:s(h.semver,f.semver,n)&&(f=h)}),m.operator===a||m.operator===c||(!f.operator||f.operator===a)&&i(t,f.semver))return!1;if(f.operator===c&&s(t,f.semver))return!1}return!0};DI.exports=KY});var MI=g((EUe,kI)=>{var WY=ep(),QY=(t,e,r)=>WY(t,e,">",r);kI.exports=QY});var UI=g((CUe,LI)=>{var YY=ep(),JY=(t,e,r)=>YY(t,e,"<",r);LI.exports=JY});var qI=g((SUe,BI)=>{var FI=lr(),XY=(t,e,r)=>(t=new FI(t,r),e=new FI(e,r),t.intersects(e,r));BI.exports=XY});var jI=g((TUe,HI)=>{var ZY=dd(),e5=dr();HI.exports=(t,e,r)=>{let n=[],o=null,i=null,s=t.sort((u,m)=>e5(u,m,r));for(let u of s)ZY(u,e,r)?(i=u,o||(o=u)):(i&&n.push([o,i]),i=null,o=null);o&&n.push([o,null]);let a=[];for(let[u,m]of n)u===m?a.push(u):!m&&u===s[0]?a.push("*"):m?u===s[0]?a.push(`<=${m}`):a.push(`${u} - ${m}`):a.push(`>=${u}`);let c=a.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return c.length<d.length?c:e}});var WI=g((AUe,KI)=>{var GI=lr(),l_=ad(),{ANY:d_}=l_,ld=dd(),u_=dr(),t5=(t,e,r={})=>{if(t===e)return!0;t=new GI(t,r),e=new GI(e,r);let n=!1;e:for(let o of t.set){for(let i of e.set){let s=n5(o,i,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},r5=[new l_(">=0.0.0-0")],$I=[new l_(">=0.0.0")],n5=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===d_){if(e.length===1&&e[0].semver===d_)return!0;r.includePrerelease?t=r5:t=$I}if(e.length===1&&e[0].semver===d_){if(r.includePrerelease)return!0;e=$I}let n=new Set,o,i;for(let h of t)h.operator===">"||h.operator===">="?o=zI(o,h,r):h.operator==="<"||h.operator==="<="?i=VI(i,h,r):n.add(h.semver);if(n.size>1)return null;let s;if(o&&i){if(s=u_(o.semver,i.semver,r),s>0)return null;if(s===0&&(o.operator!==">="||i.operator!=="<="))return null}for(let h of n){if(o&&!ld(h,String(o),r)||i&&!ld(h,String(i),r))return null;for(let y of e)if(!ld(h,String(y),r))return!1;return!0}let a,c,d,u,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;m&&m.prerelease.length===1&&i.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let h of e){if(u=u||h.operator===">"||h.operator===">=",d=d||h.operator==="<"||h.operator==="<=",o){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(a=zI(o,h,r),a===h&&a!==o)return!1}else if(o.operator===">="&&!ld(o.semver,String(h),r))return!1}if(i){if(m&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===m.major&&h.semver.minor===m.minor&&h.semver.patch===m.patch&&(m=!1),h.operator==="<"||h.operator==="<="){if(c=VI(i,h,r),c===h&&c!==i)return!1}else if(i.operator==="<="&&!ld(i.semver,String(h),r))return!1}if(!h.operator&&(i||o)&&s!==0)return!1}return!(o&&d&&!i&&s!==0||i&&u&&!o&&s!==0||f||m)},zI=(t,e,r)=>{if(!t)return e;let n=u_(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},VI=(t,e,r)=>{if(!t)return e;let n=u_(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};KI.exports=t5});var tp=g((bUe,JI)=>{var p_=Us(),QI=od(),o5=At(),YI=Jy(),i5=Gi(),s5=Sb(),a5=Ab(),c5=Rb(),d5=Ob(),l5=Nb(),u5=kb(),p5=Lb(),m5=Fb(),h5=dr(),f5=jb(),g5=$b(),y5=Wu(),_5=Wb(),v5=Yb(),E5=sd(),C5=Qu(),S5=Zy(),T5=e_(),A5=Yu(),b5=Ju(),I5=t_(),R5=iI(),w5=ad(),P5=lr(),O5=dd(),x5=EI(),N5=SI(),D5=AI(),k5=RI(),M5=PI(),L5=ep(),U5=MI(),F5=UI(),B5=qI(),q5=jI(),H5=WI();JI.exports={parse:i5,valid:s5,clean:a5,inc:c5,diff:d5,major:l5,minor:u5,patch:p5,prerelease:m5,compare:h5,rcompare:f5,compareLoose:g5,compareBuild:y5,sort:_5,rsort:v5,gt:E5,lt:C5,eq:S5,neq:T5,gte:A5,lte:b5,cmp:I5,coerce:R5,Comparator:w5,Range:P5,satisfies:O5,toComparators:x5,maxSatisfying:N5,minSatisfying:D5,minVersion:k5,validRange:M5,outside:L5,gtr:U5,ltr:F5,intersects:B5,simplifyRange:q5,subset:H5,SemVer:o5,re:p_.re,src:p_.src,tokens:p_.t,SEMVER_SPEC_VERSION:QI.SEMVER_SPEC_VERSION,RELEASE_TYPES:QI.RELEASE_TYPES,compareIdentifiers:YI.compareIdentifiers,rcompareIdentifiers:YI.rcompareIdentifiers}});var ZI=g((IUe,XI)=>{var j5=tp();XI.exports=j5.satisfies(process.version,">=15.7.0")});var tR=g((RUe,eR)=>{var G5=tp();eR.exports=G5.satisfies(process.version,">=16.9.0")});var m_=g((wUe,rR)=>{var $5=ZI(),z5=tR(),V5={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},K5={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};rR.exports=function(t,e){if(!t||!e)return;let r=e.asymmetricKeyType;if(!r)return;let n=V5[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(t))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if($5)switch(r){case"ec":let o=e.asymmetricKeyDetails.namedCurve,i=K5[t];if(o!==i)throw new Error(`"alg" parameter "${t}" requires curve "${i}".`);break;case"rsa-pss":if(z5){let s=parseInt(t.slice(-3),10),{hashAlgorithm:a,mgf1HashAlgorithm:c,saltLength:d}=e.asymmetricKeyDetails;if(a!==`sha${s}`||c!==a)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(d!==void 0&&d>s>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}break}}});var h_=g((PUe,nR)=>{var W5=tp();nR.exports=W5.satisfies(process.version,"^6.12.0 || >=8.0.0")});var sR=g((OUe,iR)=>{var Se=nd(),Q5=Vy(),oR=Ky(),Y5=zy(),J5=Wy(),X5=m_(),Z5=h_(),eJ=qu(),{KeyObject:tJ,createSecretKey:rJ,createPublicKey:nJ}=require("crypto"),f_=["RS256","RS384","RS512"],oJ=["ES256","ES384","ES512"],g_=["RS256","RS384","RS512"],iJ=["HS256","HS384","HS512"];Z5&&(f_.splice(f_.length,0,"PS256","PS384","PS512"),g_.splice(g_.length,0,"PS256","PS384","PS512"));iR.exports=function(t,e,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let o;if(n?o=n:o=function(u,m){if(u)throw u;return m},r.clockTimestamp&&typeof r.clockTimestamp!="number")return o(new Se("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return o(new Se("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return o(new Se("allowInvalidAsymmetricKeyTypes must be a boolean"));let i=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return o(new Se("jwt must be provided"));if(typeof t!="string")return o(new Se("jwt must be a string"));let s=t.split(".");if(s.length!==3)return o(new Se("jwt malformed"));let a;try{a=Y5(t,{complete:!0})}catch(u){return o(u)}if(!a)return o(new Se("invalid token"));let c=a.header,d;if(typeof e=="function"){if(!n)return o(new Se("verify must be called asynchronous if secret or public key is provided as a callback"));d=e}else d=function(u,m){return m(null,e)};return d(c,function(u,m){if(u)return o(new Se("error in secret or public key callback: "+u.message));let f=s[2].trim()!=="";if(!f&&m)return o(new Se("jwt signature is required"));if(f&&!m)return o(new Se("secret or public key must be provided"));if(!f&&!r.algorithms)return o(new Se('please specify "none" in "algorithms" to verify unsigned tokens'));if(m!=null&&!(m instanceof tJ))try{m=nJ(m)}catch{try{m=rJ(typeof m=="string"?Buffer.from(m):m)}catch{return o(new Se("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(m.type==="secret"?r.algorithms=iJ:["rsa","rsa-pss"].includes(m.asymmetricKeyType)?r.algorithms=g_:m.asymmetricKeyType==="ec"?r.algorithms=oJ:r.algorithms=f_),r.algorithms.indexOf(a.header.alg)===-1)return o(new Se("invalid algorithm"));if(c.alg.startsWith("HS")&&m.type!=="secret")return o(new Se(`secretOrPublicKey must be a symmetric key when using ${c.alg}`));if(/^(?:RS|PS|ES)/.test(c.alg)&&m.type!=="public")return o(new Se(`secretOrPublicKey must be an asymmetric key when using ${c.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{X5(c.alg,m)}catch(E){return o(E)}let h;try{h=eJ.verify(t,a.header.alg,m)}catch(E){return o(E)}if(!h)return o(new Se("invalid signature"));let y=a.payload;if(typeof y.nbf<"u"&&!r.ignoreNotBefore){if(typeof y.nbf!="number")return o(new Se("invalid nbf value"));if(y.nbf>i+(r.clockTolerance||0))return o(new Q5("jwt not active",new Date(y.nbf*1e3)))}if(typeof y.exp<"u"&&!r.ignoreExpiration){if(typeof y.exp!="number")return o(new Se("invalid exp value"));if(i>=y.exp+(r.clockTolerance||0))return o(new oR("jwt expired",new Date(y.exp*1e3)))}if(r.audience){let E=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(y.aud)?y.aud:[y.aud]).some(function(x){return E.some(function(K){return K instanceof RegExp?K.test(x):K===x})}))return o(new Se("jwt audience invalid. expected: "+E.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&y.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(y.iss)===-1))return o(new Se("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&y.sub!==r.subject)return o(new Se("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&y.jti!==r.jwtid)return o(new Se("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&y.nonce!==r.nonce)return o(new Se("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof y.iat!="number")return o(new Se("iat required when maxAge is specified"));let E=J5(r.maxAge,y.iat);if(typeof E>"u")return o(new Se('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(i>=E+(r.clockTolerance||0))return o(new oR("maxAge exceeded",new Date(E*1e3)))}if(r.complete===!0){let E=a.signature;return o(null,{header:c,payload:y,signature:E})}return o(null,y)})}});var pR=g((xUe,uR)=>{var aR=1/0,dR=9007199254740991,sJ=17976931348623157e292,cR=NaN,aJ="[object Arguments]",cJ="[object Function]",dJ="[object GeneratorFunction]",lJ="[object String]",uJ="[object Symbol]",pJ=/^\s+|\s+$/g,mJ=/^[-+]0x[0-9a-f]+$/i,hJ=/^0b[01]+$/i,fJ=/^0o[0-7]+$/i,gJ=/^(?:0|[1-9]\d*)$/,yJ=parseInt;function _J(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function vJ(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function EJ(t,e,r){if(e!==e)return vJ(t,CJ,r);for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}function CJ(t){return t!==t}function SJ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function TJ(t,e){return _J(e,function(r){return t[r]})}function AJ(t,e){return function(r){return t(e(r))}}var rp=Object.prototype,__=rp.hasOwnProperty,np=rp.toString,bJ=rp.propertyIsEnumerable,IJ=AJ(Object.keys,Object),RJ=Math.max;function wJ(t,e){var r=lR(t)||DJ(t)?SJ(t.length,String):[],n=r.length,o=!!n;for(var i in t)(e||__.call(t,i))&&!(o&&(i=="length"||OJ(i,n)))&&r.push(i);return r}function PJ(t){if(!xJ(t))return IJ(t);var e=[];for(var r in Object(t))__.call(t,r)&&r!="constructor"&&e.push(r);return e}function OJ(t,e){return e=e??dR,!!e&&(typeof t=="number"||gJ.test(t))&&t>-1&&t%1==0&&t<e}function xJ(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||rp;return t===r}function NJ(t,e,r,n){t=v_(t)?t:GJ(t),r=r&&!n?qJ(r):0;var o=t.length;return r<0&&(r=RJ(o+r,0)),UJ(t)?r<=o&&t.indexOf(e,r)>-1:!!o&&EJ(t,e,r)>-1}function DJ(t){return kJ(t)&&__.call(t,"callee")&&(!bJ.call(t,"callee")||np.call(t)==aJ)}var lR=Array.isArray;function v_(t){return t!=null&&LJ(t.length)&&!MJ(t)}function kJ(t){return E_(t)&&v_(t)}function MJ(t){var e=y_(t)?np.call(t):"";return e==cJ||e==dJ}function LJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dR}function y_(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function E_(t){return!!t&&typeof t=="object"}function UJ(t){return typeof t=="string"||!lR(t)&&E_(t)&&np.call(t)==lJ}function FJ(t){return typeof t=="symbol"||E_(t)&&np.call(t)==uJ}function BJ(t){if(!t)return t===0?t:0;if(t=HJ(t),t===aR||t===-aR){var e=t<0?-1:1;return e*sJ}return t===t?t:0}function qJ(t){var e=BJ(t),r=e%1;return e===e?r?e-r:e:0}function HJ(t){if(typeof t=="number")return t;if(FJ(t))return cR;if(y_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=y_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(pJ,"");var r=hJ.test(t);return r||fJ.test(t)?yJ(t.slice(2),r?2:8):mJ.test(t)?cR:+t}function jJ(t){return v_(t)?wJ(t):PJ(t)}function GJ(t){return t?TJ(t,jJ(t)):[]}uR.exports=NJ});var hR=g((NUe,mR)=>{var $J="[object Boolean]",zJ=Object.prototype,VJ=zJ.toString;function KJ(t){return t===!0||t===!1||WJ(t)&&VJ.call(t)==$J}function WJ(t){return!!t&&typeof t=="object"}mR.exports=KJ});var vR=g((DUe,_R)=>{var fR=1/0,QJ=17976931348623157e292,gR=NaN,YJ="[object Symbol]",JJ=/^\s+|\s+$/g,XJ=/^[-+]0x[0-9a-f]+$/i,ZJ=/^0b[01]+$/i,e8=/^0o[0-7]+$/i,t8=parseInt,r8=Object.prototype,n8=r8.toString;function o8(t){return typeof t=="number"&&t==c8(t)}function yR(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function i8(t){return!!t&&typeof t=="object"}function s8(t){return typeof t=="symbol"||i8(t)&&n8.call(t)==YJ}function a8(t){if(!t)return t===0?t:0;if(t=d8(t),t===fR||t===-fR){var e=t<0?-1:1;return e*QJ}return t===t?t:0}function c8(t){var e=a8(t),r=e%1;return e===e?r?e-r:e:0}function d8(t){if(typeof t=="number")return t;if(s8(t))return gR;if(yR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=yR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(JJ,"");var r=ZJ.test(t);return r||e8.test(t)?t8(t.slice(2),r?2:8):XJ.test(t)?gR:+t}_R.exports=o8});var CR=g((kUe,ER)=>{var l8="[object Number]",u8=Object.prototype,p8=u8.toString;function m8(t){return!!t&&typeof t=="object"}function h8(t){return typeof t=="number"||m8(t)&&p8.call(t)==l8}ER.exports=h8});var bR=g((MUe,AR)=>{var f8="[object Object]";function g8(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function y8(t,e){return function(r){return t(e(r))}}var _8=Function.prototype,SR=Object.prototype,TR=_8.toString,v8=SR.hasOwnProperty,E8=TR.call(Object),C8=SR.toString,S8=y8(Object.getPrototypeOf,Object);function T8(t){return!!t&&typeof t=="object"}function A8(t){if(!T8(t)||C8.call(t)!=f8||g8(t))return!1;var e=S8(t);if(e===null)return!0;var r=v8.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&TR.call(r)==E8}AR.exports=A8});var RR=g((LUe,IR)=>{var b8="[object String]",I8=Object.prototype,R8=I8.toString,w8=Array.isArray;function P8(t){return!!t&&typeof t=="object"}function O8(t){return typeof t=="string"||!w8(t)&&P8(t)&&R8.call(t)==b8}IR.exports=O8});var NR=g((UUe,xR)=>{var x8="Expected a function",wR=1/0,N8=17976931348623157e292,PR=NaN,D8="[object Symbol]",k8=/^\s+|\s+$/g,M8=/^[-+]0x[0-9a-f]+$/i,L8=/^0b[01]+$/i,U8=/^0o[0-7]+$/i,F8=parseInt,B8=Object.prototype,q8=B8.toString;function H8(t,e){var r;if(typeof e!="function")throw new TypeError(x8);return t=V8(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}function j8(t){return H8(2,t)}function OR(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function G8(t){return!!t&&typeof t=="object"}function $8(t){return typeof t=="symbol"||G8(t)&&q8.call(t)==D8}function z8(t){if(!t)return t===0?t:0;if(t=K8(t),t===wR||t===-wR){var e=t<0?-1:1;return e*N8}return t===t?t:0}function V8(t){var e=z8(t),r=e%1;return e===e?r?e-r:e:0}function K8(t){if(typeof t=="number")return t;if($8(t))return PR;if(OR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=OR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(k8,"");var r=L8.test(t);return r||U8.test(t)?F8(t.slice(2),r?2:8):M8.test(t)?PR:+t}xR.exports=j8});var HR=g((FUe,qR)=>{var DR=Wy(),W8=h_(),Q8=m_(),kR=qu(),Y8=pR(),op=hR(),MR=vR(),C_=CR(),UR=bR(),_o=RR(),J8=NR(),{KeyObject:X8,createSecretKey:Z8,createPrivateKey:eX}=require("crypto"),FR=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];W8&&FR.splice(3,0,"PS256","PS384","PS512");var tX={expiresIn:{isValid:function(t){return MR(t)||_o(t)&&t},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(t){return MR(t)||_o(t)&&t},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(t){return _o(t)||Array.isArray(t)},message:'"audience" must be a string or array'},algorithm:{isValid:Y8.bind(null,FR),message:'"algorithm" must be a valid string enum value'},header:{isValid:UR,message:'"header" must be an object'},encoding:{isValid:_o,message:'"encoding" must be a string'},issuer:{isValid:_o,message:'"issuer" must be a string'},subject:{isValid:_o,message:'"subject" must be a string'},jwtid:{isValid:_o,message:'"jwtid" must be a string'},noTimestamp:{isValid:op,message:'"noTimestamp" must be a boolean'},keyid:{isValid:_o,message:'"keyid" must be a string'},mutatePayload:{isValid:op,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:op,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:op,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},rX={iat:{isValid:C_,message:'"iat" should be a number of seconds'},exp:{isValid:C_,message:'"exp" should be a number of seconds'},nbf:{isValid:C_,message:'"nbf" should be a number of seconds'}};function BR(t,e,r,n){if(!UR(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(o){let i=t[o];if(!i){if(!e)throw new Error('"'+o+'" is not allowed in "'+n+'"');return}if(!i.isValid(r[o]))throw new Error(i.message)})}function nX(t){return BR(tX,!1,t,"options")}function oX(t){return BR(rX,!0,t,"payload")}var LR={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},iX=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];qR.exports=function(t,e,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let o=typeof t=="object"&&!Buffer.isBuffer(t),i=Object.assign({alg:r.algorithm||"HS256",typ:o?"JWT":void 0,kid:r.keyid},r.header);function s(d){if(n)return n(d);throw d}if(!e&&r.algorithm!=="none")return s(new Error("secretOrPrivateKey must have a value"));if(e!=null&&!(e instanceof X8))try{e=eX(e)}catch{try{e=Z8(typeof e=="string"?Buffer.from(e):e)}catch{return s(new Error("secretOrPrivateKey is not valid key material"))}}if(i.alg.startsWith("HS")&&e.type!=="secret")return s(new Error(`secretOrPrivateKey must be a symmetric key when using ${i.alg}`));if(/^(?:RS|PS|ES)/.test(i.alg)){if(e.type!=="private")return s(new Error(`secretOrPrivateKey must be an asymmetric key when using ${i.alg}`));if(!r.allowInsecureKeySizes&&!i.alg.startsWith("ES")&&e.asymmetricKeyDetails!==void 0&&e.asymmetricKeyDetails.modulusLength<2048)return s(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`))}if(typeof t>"u")return s(new Error("payload is required"));if(o){try{oX(t)}catch(d){return s(d)}r.mutatePayload||(t=Object.assign({},t))}else{let d=iX.filter(function(u){return typeof r[u]<"u"});if(d.length>0)return s(new Error("invalid "+d.join(",")+" option for "+typeof t+" payload"))}if(typeof t.exp<"u"&&typeof r.expiresIn<"u")return s(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof t.nbf<"u"&&typeof r.notBefore<"u")return s(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{nX(r)}catch(d){return s(d)}if(!r.allowInvalidAsymmetricKeyTypes)try{Q8(i.alg,e)}catch(d){return s(d)}let a=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:o&&(t.iat=a),typeof r.notBefore<"u"){try{t.nbf=DR(r.notBefore,a)}catch(d){return s(d)}if(typeof t.nbf>"u")return s(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof t=="object"){try{t.exp=DR(r.expiresIn,a)}catch(d){return s(d)}if(typeof t.exp>"u")return s(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(LR).forEach(function(d){let u=LR[d];if(typeof r[d]<"u"){if(typeof t[u]<"u")return s(new Error('Bad "options.'+d+'" option. The payload already has an "'+u+'" property.'));t[u]=r[d]}});let c=r.encoding||"utf8";if(typeof n=="function")n=n&&J8(n),kR.createSign({header:i,privateKey:e,payload:t,encoding:c}).once("error",n).once("done",function(d){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(i.alg)&&d.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`));n(null,d)});else{let d=kR.sign({header:i,payload:t,secret:e,encoding:c});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(i.alg)&&d.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`);return d}}});var GR=g((BUe,jR)=>{jR.exports={decode:zy(),verify:sR(),sign:HR(),JsonWebTokenError:nd(),NotBeforeError:Vy(),TokenExpiredError:Ky()}});var $R,Rn,ip=v(()=>{"use strict";$R=ae(GR(),1);Ce();Xc();qe();Rn=class t{static fromAssertion(e){let r=new t;return r.jwt=e,r}static fromCertificate(e,r,n){let o=new t;return o.privateKey=r,o.thumbprint=e,o.useSha256=!1,n&&(o.publicCertificate=this.parseCertificate(n)),o}static fromCertificateWithSha256Thumbprint(e,r,n){let o=new t;return o.privateKey=r,o.thumbprint=e,o.useSha256=!0,n&&(o.publicCertificate=this.parseCertificate(n)),o}getJwt(e,r,n){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&r===this.issuer&&n===this.jwtAudience?this.jwt:this.createJwt(e,r,n);if(this.jwt)return this.jwt;throw I(Ee.invalidAssertion)}createJwt(e,r,n){this.issuer=r,this.jwtAudience=n;let o=Re.nowSeconds();this.expirationTime=o+600;let s={alg:this.useSha256?cr.PSS_256:cr.RSA_256},a=this.useSha256?cr.X5T_256:cr.X5T;Object.assign(s,{[a]:Xt.base64EncodeUrl(this.thumbprint,"hex")}),this.publicCertificate&&Object.assign(s,{[cr.X5C]:this.publicCertificate});let c={[cr.AUDIENCE]:this.jwtAudience,[cr.EXPIRATION_TIME]:this.expirationTime,[cr.ISSUER]:this.issuer,[cr.SUBJECT]:this.issuer,[cr.NOT_BEFORE]:o,[cr.JWT_ID]:e.createNewGuid()};return this.jwt=$R.default.sign(c,this.privateKey,{header:s}),this.jwt}isExpired(){return this.expirationTime<Re.nowSeconds()}static parseCertificate(e){let r=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,n=[],o;for(;(o=r.exec(e))!==null;)n.push(o[1].replace(/\r*\n/g,A.EMPTY_STRING));return n}}});var sp,wn,ud=v(()=>{"use strict";sp="@azure/msal-node",wn="2.13.1"});var Bs,S_=v(()=>{"use strict";Ce();Bs=class extends yt{constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let r=Re.nowSeconds(),n=await this.executeTokenRequest(this.authority,e),o=new Ke(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),o.handleServerTokenResponse(n.body,this.authority,r,e)}async executeTokenRequest(e,r){let n=this.createTokenQueryParameters(r),o=re.appendQueryString(e.tokenEndpoint,n),i=await this.createTokenRequestBody(r),s=this.createTokenRequestHeaders({credential:r.username,type:Nt.UPN}),a={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return this.executePostToTokenEndpoint(o,i,s,a,r.correlationId)}async createTokenRequestBody(e){let r=new xe;r.addClientId(this.config.authOptions.clientId),r.addUsername(e.username),r.addPassword(e.password),r.addScopes(e.scopes),r.addResponseTypeForTokenAndIdToken(),r.addGrantType(Qt.RESOURCE_OWNER_PASSWORD_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret);let o=this.config.clientCredentials.clientAssertion;return o&&(r.addClientAssertion(await xt(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(o.assertionType)),(!Oe.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&r.addCcsUpn(e.username),r.createQueryString()}}});var vo,ap=v(()=>{"use strict";Ce();Au();Pu();Ou();qe();My();ip();ud();Jc();S_();vo=class{constructor(e){this.config=Tu(e),this.cryptoProvider=new fo,this.logger=new Jt(this.config.system.loggerOptions,sp,wn),this.storage=new go(this.logger,this.config.auth.clientId,this.cryptoProvider,Pg(this.config.auth)),this.tokenCache=new Ps(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||ln.QUERY,authenticationScheme:ie.BEARER},n=await this.buildOauthClientConfiguration(r.authority,r.correlationId,void 0,void 0,e.azureCloudOptions),o=new Ts(n);return this.logger.verbose("Auth code client created",r.correlationId),o.getAuthCodeUrl(r)}async acquireTokenByCode(e,r){this.logger.info("acquireTokenByCode called"),e.state&&r&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,r.state||""),r={...r,state:""});let n={...e,...await this.initializeBaseRequest(e),authenticationScheme:ie.BEARER},o=this.initializeServerTelemetryManager(bn.acquireTokenByCode,n.correlationId);try{let i=await this.buildOauthClientConfiguration(n.authority,n.correlationId,o,void 0,e.azureCloudOptions),s=new Ts(i);return this.logger.verbose("Auth code client created",n.correlationId),await s.acquireToken(n,r)}catch(i){throw i instanceof te&&i.setCorrelationId(n.correlationId),o.cacheFailedRequest(i),i}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:ie.BEARER},n=this.initializeServerTelemetryManager(bn.acquireTokenByRefreshToken,r.correlationId);try{let o=await this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),i=new po(o);return this.logger.verbose("Refresh token client created",r.correlationId),await i.acquireToken(r)}catch(o){throw o instanceof te&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenSilent(e){let r={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},n=this.initializeServerTelemetryManager(bn.acquireTokenSilent,r.correlationId,r.forceRefresh);try{let o=await this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),i=new Qc(o);return this.logger.verbose("Silent flow client created",r.correlationId),await i.acquireToken(r)}catch(o){throw o instanceof te&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)},n=this.initializeServerTelemetryManager(bn.acquireTokenByUsernamePassword,r.correlationId);try{let o=await this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),i=new Bs(o);return this.logger.verbose("Username password client created",r.correlationId),await i.acquireToken(r)}catch(o){throw o instanceof te&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,r){if(!e)throw $t.createStateNotFoundError();if(e!==r)throw I(Ee.stateMismatch)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,r,n,o,i){this.logger.verbose("buildOauthClientConfiguration called",r);let s=i||this.config.auth.azureCloudOptions,a=await this.createAuthority(e,r,o,s);return this.logger.info(`Building oauth client configuration with the following authority: ${a.tokenEndpoint}.`,r),n?.updateRegionDiscoveryMetadata(a.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:r},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:n,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(a)},libraryInfo:{sku:_t.MSAL_SKU,version:wn,cpu:process.arch||A.EMPTY_STRING,os:process.platform||A.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=Rn.fromAssertion(await xt(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:_t.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===ie.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=ie.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!Oe.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...Ht],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,r,n){let o={clientId:this.config.auth.clientId,correlationId:r,apiId:e,forceRefresh:n||!1};return new Fi(o,this.storage)}async createAuthority(e,r,n,o){this.logger.verbose("createAuthority called",r);let i=Dr.generateAuthority(e,o),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return Ul.createDiscoveredInstance(i,this.config.system.networkClient,this.storage,s,this.logger,r)}clearCache(){this.storage.clear()}}});var zR,cp,VR=v(()=>{"use strict";Ce();zR=ae(require("http"),1);Jc();qe();cp=class{async listenForAuthCode(e,r){if(this.server)throw $t.createLoopbackServerAlreadyExistsError();return new Promise((n,o)=>{this.server=zR.default.createServer((i,s)=>{let a=i.url;if(a){if(a===A.FORWARD_SLASH){s.end(e||"Auth code was successfully acquired. You can close this window now.");return}}else{s.end(r||"Error occurred loading redirectUrl"),o($t.createUnableToLoadRedirectUrlError());return}let c=this.getRedirectUri(),d=new URL(a,c),u=Ol.getDeserializedResponse(d.search)||{};u.code&&(s.writeHead(he.REDIRECT,{location:c}),s.end()),u.error&&s.end(r||`Error occurred: ${u.error}`),n(u)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw $t.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||typeof e=="string"||!e.port)throw this.closeServer(),$t.createInvalidLoopbackAddressTypeError();let r=e&&e.port;return`${_t.HTTP_PROTOCOL}${_t.LOCALHOST}:${r}`}closeServer(){this.server&&(this.server.close(),typeof this.server.closeAllConnections=="function"&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}}});var qs,T_=v(()=>{"use strict";Ce();qs=class extends yt{constructor(e){super(e)}async acquireToken(e){let r=await this.getDeviceCode(e);e.deviceCodeCallback(r);let n=Re.nowSeconds(),o=await this.acquireTokenWithDeviceCode(e,r),i=new Ke(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(o),i.handleServerTokenResponse(o,this.authority,n,e)}async getDeviceCode(e){let r=this.createExtraQueryParameters(e),n=re.appendQueryString(this.authority.deviceCodeEndpoint,r),o=this.createQueryString(e),i=this.createTokenRequestHeaders(),s={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(n,o,i,s)}createExtraQueryParameters(e){let r=new xe;return e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),r.createQueryString()}async executePostRequestToDeviceCodeEndpoint(e,r,n,o){let{body:{user_code:i,device_code:s,verification_uri:a,expires_in:c,interval:d,message:u}}=await this.networkManager.sendPostRequest(o,e,{body:r,headers:n});return{userCode:i,deviceCode:s,verificationUri:a,expiresIn:c,interval:d,message:u}}createQueryString(e){let r=new xe;return r.addScopes(e.scopes),r.addClientId(this.config.authOptions.clientId),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()}continuePolling(e,r,n){if(n)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),I(Ee.deviceCodePollingCancelled);if(r&&r<e&&Re.nowSeconds()>r)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${r}`),I(Ee.userTimeoutReached);if(Re.nowSeconds()>e)throw r&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${r}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),I(Ee.deviceCodeExpired);return!0}async acquireTokenWithDeviceCode(e,r){let n=this.createTokenQueryParameters(e),o=re.appendQueryString(this.authority.tokenEndpoint,n),i=this.createTokenRequestBody(e,r),s=this.createTokenRequestHeaders(),a=e.timeout?Re.nowSeconds()+e.timeout:void 0,c=Re.nowSeconds()+r.expiresIn,d=r.interval*1e3;for(;this.continuePolling(c,a,e.cancel);){let u={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},m=await this.executePostToTokenEndpoint(o,i,s,u,e.correlationId);if(m.body&&m.body.error)if(m.body.error===A.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await Re.delay(d);else throw this.logger.info("Unexpected error in polling from the server"),fg(ps.postRequestFailed,m.body.error);else return this.logger.verbose("Authorization completed successfully. Polling stopped."),m.body}throw this.logger.error("Polling stopped for unknown reasons."),I(Ee.deviceCodeUnknownError)}createTokenRequestBody(e,r){let n=new xe;n.addScopes(e.scopes),n.addClientId(this.config.authOptions.clientId),n.addGrantType(Qt.DEVICE_CODE_GRANT),n.addDeviceCode(r.deviceCode);let o=e.correlationId||this.config.cryptoInterface.createNewGuid();return n.addCorrelationId(o),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&n.addServerTelemetry(this.serverTelemetryManager),(!Oe.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),n.createQueryString()}}});var dp,KR=v(()=>{"use strict";qe();Ce();ap();Jc();VR();T_();ud();dp=class extends vo{constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=Fi.makeExtraSkuString({libraryName:_t.MSAL_SKU,libraryVersion:wn})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let r=Object.assign(e,await this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(bn.acquireTokenByDeviceCode,r.correlationId);try{let o=await this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,e.azureCloudOptions),i=new qs(o);return this.logger.verbose("Device code client created",r.correlationId),await i.acquireToken(r)}catch(o){throw o instanceof te&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenInteractive(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",r);let{openBrowser:n,successTemplate:o,errorTemplate:i,windowHandle:s,loopbackClient:a,...c}=e;if(this.nativeBrokerPlugin){let y={...c,clientId:this.config.auth.clientId,scopes:e.scopes||Ht,redirectUri:`${_t.HTTP_PROTOCOL}${_t.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...c.extraQueryParameters,...c.tokenQueryParameters,[Ui.X_CLIENT_EXTRA_SKU]:this.skus},accountId:c.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(y,s)}let{verifier:d,challenge:u}=await this.cryptoProvider.generatePkceCodes(),m=a||new cp,f={},h=null;try{let y=m.listenForAuthCode(o,i).then(Q=>{f=Q}).catch(Q=>{h=Q}),E=await this.waitForRedirectUri(m),b={...c,correlationId:r,scopes:e.scopes||Ht,redirectUri:E,responseMode:ln.QUERY,codeChallenge:u,codeChallengeMethod:ds.S256},w=await this.getAuthCodeUrl(b);if(await n(w),await y,h)throw h;if(f.error)throw new Gt(f.error,f.error_description,f.suberror);if(!f.code)throw $t.createNoAuthCodeInResponseError();let x=f.client_info,K={code:f.code,codeVerifier:d,clientInfo:x||A.EMPTY_STRING,...b};return await this.acquireTokenByCode(K)}finally{m.closeServer()}}async acquireTokenSilent(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",r),this.nativeBrokerPlugin){let n={...e,clientId:this.config.auth.clientId,scopes:e.scopes||Ht,redirectUri:`${_t.HTTP_PROTOCOL}${_t.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...e.tokenQueryParameters,[Ui.X_CLIENT_EXTRA_SKU]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(n)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let r={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(r)}await this.getTokenCache().removeAccount(e.account)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((r,n)=>{let o=0,i=setInterval(()=>{if(du.TIMEOUT_MS/du.INTERVAL_MS<o){clearInterval(i),n($t.createLoopbackServerTimeoutError());return}try{let s=e.getRedirectUri();clearInterval(i),r(s);return}catch(s){if(s instanceof te&&s.errorCode===pt.noLoopbackServerExists.code){o++;return}clearInterval(i),n(s);return}},du.INTERVAL_MS)})}}});var Eo,lp=v(()=>{"use strict";Ce();Eo=class extends yt{constructor(e,r){super(e),this.appTokenProvider=r}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[r,n]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return r?(n===be.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.executeTokenRequest(e,this.authority,!0)),r):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,r,n,o,i,s){let a=r,c=r,d=be.NOT_APPLICABLE,u;a.serializableCache&&a.persistencePlugin&&(u=new ar(a.serializableCache,!1),await a.persistencePlugin.beforeCacheAccess(u));let m=this.readAccessTokenFromCache(o,c.managedIdentityId?.id||a.authOptions.clientId,new rt(e.scopes||[]),i);return a.serializableCache&&a.persistencePlugin&&u&&await a.persistencePlugin.afterCacheAccess(u),m?Re.isTokenExpired(m.expiresOn,a.systemOptions?.tokenRenewalOffsetSeconds||nc)?(s?.setCacheOutcome(be.CACHED_ACCESS_TOKEN_EXPIRED),[null,be.CACHED_ACCESS_TOKEN_EXPIRED]):(m.refreshOn&&Re.isTokenExpired(m.refreshOn.toString(),0)&&(d=be.PROACTIVELY_REFRESHED,s?.setCacheOutcome(be.PROACTIVELY_REFRESHED)),[await Ke.generateAuthenticationResult(n,o,{account:null,idToken:null,accessToken:m,refreshToken:null,appMetadata:null},!0,e),d]):(s?.setCacheOutcome(be.NO_CACHED_ACCESS_TOKEN),[null,be.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,r,n,o){let i={homeAccountId:A.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:de.ACCESS_TOKEN,clientId:r,realm:e.tenant,target:rt.createSearchScopes(n.asArray())},s=o.getAccessTokensByFilter(i);if(s.length<1)return null;if(s.length>1)throw I(Ee.multipleMatchingTokens);return s[0]}async executeTokenRequest(e,r,n){let o,i;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let c={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};i=Re.nowSeconds();let d=await this.appTokenProvider(c);o={access_token:d.accessToken,expires_in:d.expiresInSeconds,refresh_in:d.refreshInSeconds,token_type:ie.BEARER}}else{let c=this.createTokenQueryParameters(e),d=re.appendQueryString(r.tokenEndpoint,c),u=await this.createTokenRequestBody(e),m=this.createTokenRequestHeaders(),f={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+r.tokenEndpoint),i=Re.nowSeconds();let h=await this.executePostToTokenEndpoint(d,u,m,f,e.correlationId);o=h.body,o.status=h.status}let s=new Ke(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(o,n),await s.handleServerTokenResponse(o,this.authority,i,e)}async createTokenRequestBody(e){let r=new xe;r.addClientId(this.config.authOptions.clientId),r.addScopes(e.scopes,!1),r.addGrantType(Qt.CLIENT_CREDENTIALS_GRANT),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret);let o=e.clientAssertion||this.config.clientCredentials.clientAssertion;return o&&(r.addClientAssertion(await xt(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(o.assertionType)),(!Oe.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()}}});var Hs,A_=v(()=>{"use strict";Ce();Xc();Hs=class extends yt{constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new rt(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch{return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(Re.isTokenExpired(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(be.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),I(Ee.tokenRefreshRequired)}else throw this.serverTelemetryManager?.setCacheOutcome(be.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),I(Ee.tokenRefreshRequired);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId),o,i=null;if(n){o=Pl.extractTokenClaims(n.secret,Xt.base64Decode);let s=o.oid||o.sub,a={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:A.EMPTY_STRING,localAccountId:s||A.EMPTY_STRING};i=this.cacheManager.readAccountFromCache(a)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),Ke.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:i,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,o)}readIdTokenFromCacheForOBO(e){let r={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:de.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},n=this.cacheManager.getIdTokensByFilter(r);return Object.values(n).length<1?null:Object.values(n)[0]}readAccessTokenFromCacheForOBO(e,r){let n=r.authenticationScheme||ie.BEARER,i={credentialType:n&&n.toLowerCase()!==ie.BEARER.toLowerCase()?de.ACCESS_TOKEN_WITH_AUTH_SCHEME:de.ACCESS_TOKEN,clientId:e,target:rt.createSearchScopes(this.scopeSet.asArray()),tokenType:n,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:this.userAssertionHash},s=this.cacheManager.getAccessTokensByFilter(i),a=s.length;if(a<1)return null;if(a>1)throw I(Ee.multipleMatchingTokens);return s[0]}async executeTokenRequest(e,r,n){let o=this.createTokenQueryParameters(e),i=re.appendQueryString(r.tokenEndpoint,o),s=await this.createTokenRequestBody(e),a=this.createTokenRequestHeaders(),c={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},d=Re.nowSeconds(),u=await this.executePostToTokenEndpoint(i,s,a,c,e.correlationId),m=new Ke(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return m.validateTokenResponse(u.body),await m.handleServerTokenResponse(u.body,this.authority,d,e,void 0,n)}async createTokenRequestBody(e){let r=new xe;r.addClientId(this.config.authOptions.clientId),r.addScopes(e.scopes),r.addGrantType(Qt.JWT_BEARER),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),r.addRequestTokenUse(Ui.ON_BEHALF_OF),r.addOboAssertion(e.oboAssertion),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret);let o=this.config.clientCredentials.clientAssertion;return o&&(r.addClientAssertion(await xt(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(o.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()}}});var up,WR=v(()=>{"use strict";ap();ip();qe();Ce();lp();A_();up=class extends vo{constructor(e){super(e),this.setClientCredential(),this.appTokenProvider=void 0}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){this.logger.info("acquireTokenByClientCredential called",e.correlationId);let r;e.clientAssertion&&(r={assertion:await xt(e.clientAssertion,this.config.auth.clientId),assertionType:_t.JWT_BEARER_ASSERTION_TYPE});let n=await this.initializeBaseRequest(e),o={...n,scopes:n.scopes.filter(u=>!Ht.includes(u))},i={...e,...o,clientAssertion:r},a=new re(i.authority).getUrlComponents().PathSegments[0];if(Object.values(Wt).includes(a))throw I(Ee.missingTenantIdError);let c={azureRegion:i.azureRegion,environmentRegion:process.env[DT]},d=this.initializeServerTelemetryManager(bn.acquireTokenByClientCredential,i.correlationId,i.skipCache);try{let u=await this.buildOauthClientConfiguration(i.authority,i.correlationId,d,c,e.azureCloudOptions),m=new Eo(u,this.appTokenProvider);return this.logger.verbose("Client credential client created",i.correlationId),await m.acquireToken(i)}catch(u){throw u instanceof te&&u.setCorrelationId(i.correlationId),d.cacheFailedRequest(u),u}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)};try{let n=await this.buildOauthClientConfiguration(r.authority,r.correlationId,void 0,void 0,e.azureCloudOptions),o=new Hs(n);return this.logger.verbose("On behalf of client created",r.correlationId),await o.acquireToken(r)}catch(n){throw n instanceof te&&n.setCorrelationId(r.correlationId),n}}setClientCredential(){let e=!!this.config.auth.clientSecret,r=!!this.config.auth.clientAssertion,n=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(e&&r||r&&n||e&&n)throw I(Ee.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(n)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?Rn.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):Rn.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw I(Ee.invalidClientCredential)}}}});var b_,Zt,js=v(()=>{"use strict";Ce();qe();Rs();qi();b_={MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID:"mi_res_id"},Zt=class{constructor(e,r,n,o){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=o}async getServerTokenResponseAsync(e,r,n,o){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let r,n;return e.body.expires_on&&(n=e.body.expires_on-Re.nowSeconds(),n>2*3600&&(r=n/2)),{status:e.status,access_token:e.body.access_token,expires_in:n,scope:e.body.resource,token_type:e.body.token_type,refresh_in:r,correlation_id:e.body.correlation_id||e.body.correlationId,error:typeof e.body.error=="string"?e.body.error:e.body.error?.code,error_description:e.body.message||(typeof e.body.error=="string"?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,r,n,o){let i=this.createRequest(e.resource,r),s=i.headers;s[et.CONTENT_TYPE]=A.URL_FORM_CONTENT_TYPE;let a={headers:s};Object.keys(i.bodyParameters).length&&(a.body=i.computeParametersBodyString());let c=Re.nowSeconds(),d;try{i.httpMethod===Be.POST?d=await this.networkClient.sendPostRequestAsync(i.computeUri(),a):d=await this.networkClient.sendGetRequestAsync(i.computeUri(),a)}catch(f){throw f instanceof te?f:I(Ee.networkError)}let u=new Ke(r.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),m=await this.getServerTokenResponseAsync(d,this.networkClient,i,a);return u.validateTokenResponse(m,o),u.handleServerTokenResponse(m,n,c,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e){switch(e){case nt.USER_ASSIGNED_CLIENT_ID:return this.logger.info("[Managed Identity] Adding user assigned client id to the request."),b_.MANAGED_IDENTITY_CLIENT_ID;case nt.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),b_.MANAGED_IDENTITY_RESOURCE_ID;case nt.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),b_.MANAGED_IDENTITY_OBJECT_ID;default:throw Qe(ho)}}};Zt.getValidatedEnvVariableUrlString=(t,e,r,n)=>{try{return new re(e).urlString}catch{throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${t}' environment variable is malformed.`),Qe(Bi[t])}}});var ur,Gs=v(()=>{"use strict";Ce();ur=class{constructor(e,r){this.httpMethod=e,this._baseEndpoint=r,this.headers={},this.bodyParameters={},this.queryParameters={}}computeUri(){let e=new xe;this.queryParameters&&e.addExtraQueryParameters(this.queryParameters);let r=e.createQueryString();return re.appendQueryString(this._baseEndpoint,r)}computeParametersBodyString(){let e=new xe;return this.bodyParameters&&e.addExtraQueryParameters(this.bodyParameters),e.createQueryString()}}});var sX,pd,QR=v(()=>{"use strict";js();qe();Gs();sX="2019-08-01",pd=class t extends Zt{constructor(e,r,n,o,i,s){super(e,r,n,o),this.identityEndpoint=i,this.identityHeader=s}static getEnvironmentVariables(){let e=process.env[Z.IDENTITY_ENDPOINT],r=process.env[Z.IDENTITY_HEADER];return[e,r]}static tryCreate(e,r,n,o){let[i,s]=t.getEnvironmentVariables();if(!i||!s)return e.info(`[Managed Identity] ${ne.APP_SERVICE} managed identity is unavailable because one or both of the '${Z.IDENTITY_HEADER}' and '${Z.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let a=t.getValidatedEnvVariableUrlString(Z.IDENTITY_ENDPOINT,i,ne.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${ne.APP_SERVICE} managed identity. Endpoint URI: ${a}. Creating ${ne.APP_SERVICE} managed identity.`),new t(e,r,n,o,i,s)}createRequest(e,r){let n=new ur(Be.GET,this.identityEndpoint);return n.headers[OT]=this.identityHeader,n.queryParameters[mo]=sX,n.queryParameters[Yr]=e,r.idType!==nt.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}}});var Pn,ZR,aX,YR,JR,XR,cX,md,ew=v(()=>{"use strict";Ce();Gs();js();Rs();qe();Pn=require("fs"),ZR=ae(require("path"),1);qi();aX="2019-11-01",YR="http://127.0.0.1:40342/metadata/identity/oauth2/token",JR="N/A: himds executable exists",XR={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},cX={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"},md=class t extends Zt{constructor(e,r,n,o,i){super(e,r,n,o),this.identityEndpoint=i}static getEnvironmentVariables(){let e=process.env[Z.IDENTITY_ENDPOINT],r=process.env[Z.IMDS_ENDPOINT];if(!e||!r){let n=cX[process.platform];try{(0,Pn.accessSync)(n,Pn.constants.F_OK|Pn.constants.R_OK),e=YR,r=JR}catch{}}return[e,r]}static tryCreate(e,r,n,o,i){let[s,a]=t.getEnvironmentVariables();if(!s||!a)return e.info(`[Managed Identity] ${ne.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${Z.IDENTITY_ENDPOINT}' and '${Z.IMDS_ENDPOINT}' are not defined. ${ne.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(a===JR)e.info(`[Managed Identity] ${ne.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${ne.AZURE_ARC} endpoint: ${YR}. Creating ${ne.AZURE_ARC} managed identity.`);else{let c=t.getValidatedEnvVariableUrlString(Z.IDENTITY_ENDPOINT,s,ne.AZURE_ARC,e);c.endsWith("/")&&c.slice(0,-1),t.getValidatedEnvVariableUrlString(Z.IMDS_ENDPOINT,a,ne.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${ne.AZURE_ARC} managed identity. Endpoint URI: ${c}. Creating ${ne.AZURE_ARC} managed identity.`)}if(i.idType!==nt.SYSTEM_ASSIGNED)throw Qe(fu);return new t(e,r,n,o,s)}createRequest(e){let r=new ur(Be.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return r.headers[As]="true",r.queryParameters[mo]=aX,r.queryParameters[Yr]=e,r}async getServerTokenResponseAsync(e,r,n,o){let i;if(e.status===he.UNAUTHORIZED){let s=e.headers["www-authenticate"];if(!s)throw Qe(_u);if(!s.includes("Basic realm="))throw Qe(vu);let a=s.split("Basic realm=")[1];if(!XR.hasOwnProperty(process.platform))throw Qe(hu);let c=XR[process.platform],d=ZR.default.basename(a);if(!d.endsWith(".key"))throw Qe(uu);if(c+d!==a)throw Qe(pu);let u;try{u=await(0,Pn.statSync)(a).size}catch{throw Qe(Yc)}if(u>LT)throw Qe(mu);let m;try{m=(0,Pn.readFileSync)(a,"utf-8")}catch{throw Qe(Yc)}let f=`Basic ${m}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),n.headers[PT]=f;try{i=await r.sendGetRequestAsync(n.computeUri(),o)}catch(h){throw h instanceof te?h:I(Ee.networkError)}}return this.getServerTokenResponse(i||e)}}});var hd,tw=v(()=>{"use strict";Gs();js();qe();Rs();qi();hd=class t extends Zt{constructor(e,r,n,o,i){super(e,r,n,o),this.msiEndpoint=i}static getEnvironmentVariables(){return[process.env[Z.MSI_ENDPOINT]]}static tryCreate(e,r,n,o,i){let[s]=t.getEnvironmentVariables();if(!s)return e.info(`[Managed Identity] ${ne.CLOUD_SHELL} managed identity is unavailable because the '${Z.MSI_ENDPOINT} environment variable is not defined.`),null;let a=t.getValidatedEnvVariableUrlString(Z.MSI_ENDPOINT,s,ne.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${ne.CLOUD_SHELL} managed identity. Endpoint URI: ${a}. Creating ${ne.CLOUD_SHELL} managed identity.`),i.idType!==nt.SYSTEM_ASSIGNED)throw Qe(gu);return new t(e,r,n,o,s)}createRequest(e){let r=new ur(Be.POST,this.msiEndpoint);return r.headers[As]="true",r.bodyParameters[Yr]=e,r}}});var rw,dX,lX,pp,nw=v(()=>{"use strict";Gs();js();qe();rw="/metadata/identity/oauth2/token",dX=`http://169.254.169.254${rw}`,lX="2018-02-01",pp=class t extends Zt{constructor(e,r,n,o,i){super(e,r,n,o),this.identityEndpoint=i}static tryCreate(e,r,n,o){let i;return process.env[Z.AZURE_POD_IDENTITY_AUTHORITY_HOST]?(e.info(`[Managed Identity] Environment variable ${Z.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${ne.IMDS} returned endpoint: ${process.env[Z.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),i=t.getValidatedEnvVariableUrlString(Z.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[Z.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${rw}`,ne.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${Z.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${ne.IMDS}, using the default endpoint.`),i=dX),new t(e,r,n,o,i)}createRequest(e,r){let n=new ur(Be.GET,this.identityEndpoint);return n.headers[As]="true",n.queryParameters[mo]=lX,n.queryParameters[Yr]=e,r.idType!==nt.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}}});var uX,fd,ow=v(()=>{"use strict";Gs();js();qe();uX="2019-07-01-preview",fd=class t extends Zt{constructor(e,r,n,o,i,s){super(e,r,n,o),this.identityEndpoint=i,this.identityHeader=s}static getEnvironmentVariables(){let e=process.env[Z.IDENTITY_ENDPOINT],r=process.env[Z.IDENTITY_HEADER],n=process.env[Z.IDENTITY_SERVER_THUMBPRINT];return[e,r,n]}static tryCreate(e,r,n,o,i){let[s,a,c]=t.getEnvironmentVariables();if(!s||!a||!c)return e.info(`[Managed Identity] ${ne.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${Z.IDENTITY_HEADER}', '${Z.IDENTITY_ENDPOINT}' or '${Z.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let d=t.getValidatedEnvVariableUrlString(Z.IDENTITY_ENDPOINT,s,ne.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${ne.SERVICE_FABRIC} managed identity. Endpoint URI: ${d}. Creating ${ne.SERVICE_FABRIC} managed identity.`),i.idType!==nt.SYSTEM_ASSIGNED&&e.warning(`[Managed Identity] ${ne.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new t(e,r,n,o,s,a)}createRequest(e,r){let n=new ur(Be.GET,this.identityEndpoint);return n.headers[xT]=this.identityHeader,n.queryParameters[mo]=uX,n.queryParameters[Yr]=e,r.idType!==nt.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}}});var gd,iw=v(()=>{"use strict";QR();ew();tw();nw();ow();Rs();qe();qi();gd=class t{constructor(e,r,n,o){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=o}async sendManagedIdentityTokenRequest(e,r,n,o){return t.identitySource||(t.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,r)),t.identitySource.acquireTokenWithManagedIdentity(e,r,n,o)}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(r=>r!==void 0)}getManagedIdentitySource(){return t.sourceName=this.allEnvironmentVariablesAreDefined(fd.getEnvironmentVariables())?ne.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(pd.getEnvironmentVariables())?ne.APP_SERVICE:this.allEnvironmentVariablesAreDefined(hd.getEnvironmentVariables())?ne.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(md.getEnvironmentVariables())?ne.AZURE_ARC:ne.DEFAULT_TO_IMDS,t.sourceName}selectManagedIdentitySource(e,r,n,o,i){let s=fd.tryCreate(e,r,n,o,i)||pd.tryCreate(e,r,n,o)||hd.tryCreate(e,r,n,o,i)||md.tryCreate(e,r,n,o,i)||pp.tryCreate(e,r,n,o);if(!s)throw Qe(yu);return s}}});var mp,sw=v(()=>{"use strict";Ce();Au();ud();Pu();lp();iw();Ou();qe();mp=class t{constructor(e){this.config=JT(e||{}),this.logger=new Jt(this.config.system.loggerOptions,sp,wn);let r={canonicalAuthority:A.DEFAULT_AUTHORITY};t.nodeStorage||(t.nodeStorage=new go(this.logger,this.config.managedIdentityId.id,vs,r)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new fo;let n={protocolMode:jt.AAD,knownAuthorities:[wy],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new Dr(wy,this.networkClient,t.nodeStorage,n,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new Eo({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new gd(this.logger,t.nodeStorage,this.networkClient,this.cryptoProvider)}async acquireToken(e){if(!e.resource)throw le(hs.urlEmptyError);let r={forceRefresh:e.forceRefresh,resource:e.resource.replace("/.default",""),scopes:[e.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid()};if(r.forceRefresh)return this.managedIdentityClient.sendManagedIdentityTokenRequest(r,this.config.managedIdentityId,this.fakeAuthority);let[n,o]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(r,this.config,this.cryptoProvider,this.fakeAuthority,t.nodeStorage);return n?(o===be.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.managedIdentityClient.sendManagedIdentityTokenRequest(r,this.config.managedIdentityId,this.fakeAuthority,!0)),n):this.managedIdentityClient.sendManagedIdentityTokenRequest(r,this.config.managedIdentityId,this.fakeAuthority)}getManagedIdentitySource(){return gd.sourceName||this.managedIdentityClient.getManagedIdentitySource()}}});var hp,aw=v(()=>{"use strict";Ce();hp=class{constructor(e,r){this.client=e,this.partitionManager=r}async beforeCacheAccess(e){let r=await this.partitionManager.getKey(),n=await this.client.get(r);e.tokenCache.deserialize(n)}async afterCacheAccess(e){if(e.cacheHasChanged){let r=e.tokenCache.getKVStore(),n=Object.values(r).filter(o=>lt.isAccountEntity(o));if(n.length>0){let o=n[0],i=await this.partitionManager.extractKey(o);await this.client.set(i,e.tokenCache.serialize())}}}}});var cw={};gt(cw,{AuthError:()=>te,AuthErrorCodes:()=>ps,AuthErrorMessage:()=>hg,AzureCloudInstance:()=>Cn,ClientApplication:()=>vo,ClientAssertion:()=>Rn,ClientAuthError:()=>oo,ClientAuthErrorCodes:()=>Ee,ClientAuthErrorMessage:()=>gg,ClientConfigurationError:()=>fs,ClientConfigurationErrorCodes:()=>hs,ClientConfigurationErrorMessage:()=>_g,ClientCredentialClient:()=>Eo,ConfidentialClientApplication:()=>up,CryptoProvider:()=>fo,DeviceCodeClient:()=>qs,DistributedCachePlugin:()=>hp,InteractionRequiredAuthError:()=>sr,InteractionRequiredAuthErrorCodes:()=>Zl,InteractionRequiredAuthErrorMessage:()=>Ty,LogLevel:()=>Fe,Logger:()=>Jt,ManagedIdentityApplication:()=>mp,ManagedIdentitySourceNames:()=>ne,NodeStorage:()=>go,OnBehalfOfClient:()=>Hs,PromptValue:()=>$r,ProtocolMode:()=>jt,PublicClientApplication:()=>dp,ResponseMode:()=>ln,ServerError:()=>Gt,TokenCache:()=>Ps,TokenCacheContext:()=>ar,UsernamePasswordClient:()=>Bs,buildAppConfiguration:()=>Tu,internals:()=>Ry,version:()=>wn});var dw=v(()=>{"use strict";wT();KR();WR();ap();lp();T_();A_();sw();S_();Au();ip();My();Ou();aw();qe();Pu();Ce();ud();});var ye={};gt(ye,{__addDisposableResource:()=>Ow,__assign:()=>fp,__asyncDelegator:()=>Sw,__asyncGenerator:()=>Cw,__asyncValues:()=>Tw,__await:()=>$s,__awaiter:()=>fw,__classPrivateFieldGet:()=>Rw,__classPrivateFieldIn:()=>Pw,__classPrivateFieldSet:()=>ww,__createBinding:()=>yp,__decorate:()=>pw,__disposeResources:()=>xw,__esDecorate:()=>pX,__exportStar:()=>yw,__extends:()=>lw,__generator:()=>gw,__importDefault:()=>Iw,__importStar:()=>bw,__makeTemplateObject:()=>Aw,__metadata:()=>hw,__param:()=>mw,__propKey:()=>hX,__read:()=>R_,__rest:()=>uw,__runInitializers:()=>mX,__setFunctionName:()=>fX,__spread:()=>_w,__spreadArray:()=>Ew,__spreadArrays:()=>vw,__values:()=>gp,default:()=>_X});function lw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");I_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function uw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function pw(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function mw(t,e){return function(r,n){e(r,n,t)}}function pX(t,e,r,n,o,i){function s(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!e&&t?n.static?t:t.prototype:null,u=e||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),m,f=!1,h=r.length-1;h>=0;h--){var y={};for(var E in n)y[E]=E==="access"?{}:n[E];for(var E in n.access)y.access[E]=n.access[E];y.addInitializer=function(w){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(w||null))};var b=(0,r[h])(a==="accessor"?{get:u.get,set:u.set}:u[c],y);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(m=s(b.get))&&(u.get=m),(m=s(b.set))&&(u.set=m),(m=s(b.init))&&o.unshift(m)}else(m=s(b))&&(a==="field"?o.unshift(m):u[c]=m)}d&&Object.defineProperty(d,n.name,u),f=!0}function mX(t,e,r){for(var n=arguments.length>2,o=0;o<e.length;o++)r=n?e[o].call(t,r):e[o].call(t);return n?r:void 0}function hX(t){return typeof t=="symbol"?t:"".concat(t)}function fX(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function hw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function fw(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(u){try{d(n.next(u))}catch(m){s(m)}}function c(u){try{d(n.throw(u))}catch(m){s(m)}}function d(u){u.done?i(u.value):o(u.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function gw(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(r=0)),r;)try{if(n=1,o&&(i=d[0]&2?o.return:d[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,d[1])).done)return i;switch(o=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],o=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function yw(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&yp(e,t,r)}function gp(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function R_(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function _w(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(R_(arguments[e]));return t}function vw(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function Ew(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function $s(t){return this instanceof $s?(this.v=t,this):new $s(t)}function Cw(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(y){return Promise.resolve(y).then(h,m)}}function a(h,y){n[h]&&(o[h]=function(E){return new Promise(function(b,w){i.push([h,E,b,w])>1||c(h,E)})},y&&(o[h]=y(o[h])))}function c(h,y){try{d(n[h](y))}catch(E){f(i[0][3],E)}}function d(h){h.value instanceof $s?Promise.resolve(h.value.v).then(u,m):f(i[0][2],h)}function u(h){c("next",h)}function m(h){c("throw",h)}function f(h,y){h(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Sw(t){var e,r;return e={},n("next"),n("throw",function(o){throw o}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(o,i){e[o]=t[o]?function(s){return(r=!r)?{value:$s(t[o](s)),done:!1}:i?i(s):s}:i}}function Tw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof gp=="function"?gp(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}}function Aw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function bw(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yp(e,t,r);return gX(e,t),e}function Iw(t){return t&&t.__esModule?t:{default:t}}function Rw(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function ww(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r}function Pw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Ow(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function xw(t){function e(i){t.error=t.hasError?new yX(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function o(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(s){return e(s),o()})}else n|=1}catch(s){e(s)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}var I_,fp,yp,gX,yX,_X,_e=v(()=>{I_=function(t,e){return I_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},I_(t,e)};fp=function(){return fp=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},fp.apply(this,arguments)};yp=Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};gX=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};yX=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};_X={__extends:lw,__assign:fp,__rest:uw,__decorate:pw,__param:mw,__metadata:hw,__awaiter:fw,__generator:gw,__createBinding:yp,__exportStar:yw,__values:gp,__read:R_,__spread:_w,__spreadArrays:vw,__spreadArray:Ew,__await:$s,__asyncGenerator:Cw,__asyncDelegator:Sw,__asyncValues:Tw,__makeTemplateObject:Aw,__importStar:bw,__importDefault:Iw,__classPrivateFieldGet:Rw,__classPrivateFieldSet:ww,__classPrivateFieldIn:Pw,__addDisposableResource:Ow,__disposeResources:xw}});var yd=g(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.RequestMethod=void 0;var Nw;(function(t){t.GET="GET",t.PATCH="PATCH",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE"})(Nw||(_p.RequestMethod=Nw={}))});var Dw=g(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.BatchRequestContent=void 0;var zs=(_e(),M(ye)),w_=yd(),vX=function(){function t(e){if(this.requests=new Map,typeof e<"u"){var r=t.requestLimit;if(e.length>r){var n=new Error("Maximum requests limit exceeded, Max allowed number of requests are ".concat(r));throw n.name="Limit Exceeded Error",n}for(var o=0,i=e;o<i.length;o++){var s=i[o];this.addRequest(s)}}}return t.validateDependencies=function(e){var r=function(s){for(var a=s.entries(),c=a.next();!c.done;){var d=c.value[1];if(d.dependsOn!==void 0&&d.dependsOn.length>0)return!1;c=a.next()}return!0},n=function(s){var a=s.entries(),c=a.next(),d=c.value[1];if(d.dependsOn!==void 0&&d.dependsOn.length>0)return!1;var u=c;for(c=a.next();!c.done;){var m=c.value[1];if(m.dependsOn===void 0||m.dependsOn.length!==1||m.dependsOn[0]!==u.value[1].id)return!1;u=c,c=a.next()}return!0},o=function(s){var a=s.entries(),c=a.next(),d=c.value[1],u;if(d.dependsOn===void 0||d.dependsOn.length===0)u=d.id;else if(d.dependsOn.length===1){var m=d.dependsOn[0];if(m!==d.id&&s.has(m))u=m;else return!1}else return!1;for(c=a.next();!c.done;){var f=c.value[1];if((f.dependsOn===void 0||f.dependsOn.length===0)&&u!==f.id||f.dependsOn!==void 0&&f.dependsOn.length!==0&&(f.dependsOn.length===1&&(f.id===u||f.dependsOn[0]!==u)||f.dependsOn.length>1))return!1;c=a.next()}return!0};if(e.size===0){var i=new Error("Empty requests map, Please provide at least one request.");throw i.name="Empty Requests Error",i}return r(e)||n(e)||o(e)},t.getRequestData=function(e){return zs.__awaiter(this,void 0,void 0,function(){var r,n,o,i;return zs.__generator(this,function(s){switch(s.label){case 0:return r={url:""},n=new RegExp("^https?://"),r.url=n.test(e.url)?"/"+e.url.split(/.*?\/\/.*?\//)[1]:e.url,r.method=e.method,o={},e.headers.forEach(function(a,c){o[c]=a}),Object.keys(o).length&&(r.headers=o),e.method===w_.RequestMethod.PATCH||e.method===w_.RequestMethod.POST||e.method===w_.RequestMethod.PUT?(i=r,[4,t.getRequestBody(e)]):[3,2];case 1:i.body=s.sent(),s.label=2;case 2:return[2,r]}})})},t.getRequestBody=function(e){return zs.__awaiter(this,void 0,void 0,function(){var r,n,o,i,s,a,c,d;return zs.__generator(this,function(u){switch(u.label){case 0:r=!1,u.label=1;case 1:return u.trys.push([1,3,,4]),o=e.clone(),[4,o.json()];case 2:return n=u.sent(),r=!0,[3,4];case 3:return i=u.sent(),[3,4];case 4:if(r)return[3,12];u.label=5;case 5:return u.trys.push([5,11,,12]),typeof Blob<"u"?[4,e.blob()]:[3,8];case 6:return s=u.sent(),a=new FileReader,[4,new Promise(function(m){a.addEventListener("load",function(){var f=a.result,h=new RegExp("^s*data:(.+?/.+?(;.+?=.+?)*)?(;base64)?,(.*)s*$"),y=h.exec(f);m(y[4])},!1),a.readAsDataURL(s)})];case 7:return n=u.sent(),[3,10];case 8:return typeof Buffer<"u"?[4,e.buffer()]:[3,10];case 9:c=u.sent(),n=c.toString("base64"),u.label=10;case 10:return r=!0,[3,12];case 11:return d=u.sent(),[3,12];case 12:return[2,n]}})})},t.prototype.addRequest=function(e){var r=t.requestLimit;if(e.id===""){var n=new Error("Id for a request is empty, Please provide an unique id");throw n.name="Empty Id For Request",n}if(this.requests.size===r){var n=new Error("Maximum requests limit exceeded, Max allowed number of requests are ".concat(r));throw n.name="Limit Exceeded Error",n}if(this.requests.has(e.id)){var n=new Error("Adding request with duplicate id ".concat(e.id,", Make the id of the requests unique"));throw n.name="Duplicate RequestId Error",n}return this.requests.set(e.id,e),e.id},t.prototype.removeRequest=function(e){for(var r=this.requests.delete(e),n=this.requests.entries(),o=n.next();!o.done;){var i=o.value[1].dependsOn;if(typeof i<"u"){var s=i.indexOf(e);s!==-1&&i.splice(s,1),i.length===0&&delete o.value[1].dependsOn}o=n.next()}return r},t.prototype.getContent=function(){return zs.__awaiter(this,void 0,void 0,function(){var e,r,n,o,a,a,i,s,a;return zs.__generator(this,function(c){switch(c.label){case 0:if(e=[],r={requests:e},n=this.requests.entries(),o=n.next(),o.done)throw a=new Error("No requests added yet, Please add at least one request."),a.name="Empty Payload",a;if(!t.validateDependencies(this.requests))throw a=new Error(`Invalid dependency found, Dependency should be:
1. Parallel - no individual request states a dependency in the dependsOn property.
2. Serial - all individual requests depend on the previous individual request.
3. Same - all individual requests that state a dependency in the dependsOn property, state the same dependency.`),a.name="Invalid Dependency",a;c.label=1;case 1:return o.done?[3,3]:(i=o.value[1],[4,t.getRequestData(i.request)]);case 2:if(s=c.sent(),s.body!==void 0&&(s.headers===void 0||s.headers["content-type"]===void 0))throw a=new Error("Content-type header is not mentioned for request #".concat(i.id,", For request having body, Content-type header should be mentioned")),a.name="Invalid Content-type header",a;return s.id=i.id,i.dependsOn!==void 0&&i.dependsOn.length>0&&(s.dependsOn=i.dependsOn),e.push(s),o=n.next(),[3,1];case 3:return r.requests=e,[2,r]}})})},t.prototype.addDependency=function(e,r){if(!this.requests.has(e)){var n=new Error("Dependent ".concat(e," does not exists, Please check the id"));throw n.name="Invalid Dependent",n}if(typeof r<"u"&&!this.requests.has(r)){var n=new Error("Dependency ".concat(r," does not exists, Please check the id"));throw n.name="Invalid Dependency",n}if(typeof r<"u"){var o=this.requests.get(e);if(o.dependsOn===void 0&&(o.dependsOn=[]),o.dependsOn.indexOf(r)!==-1){var n=new Error("Dependency ".concat(r," is already added for the request ").concat(e));throw n.name="Duplicate Dependency",n}o.dependsOn.push(r)}else{for(var i=this.requests.entries(),s=void 0,a=i.next();!a.done&&a.value[1].id!==e;)s=a,a=i.next();if(typeof s<"u"){var c=s.value[0];if(a.value[1].dependsOn===void 0&&(a.value[1].dependsOn=[]),a.value[1].dependsOn.indexOf(c)!==-1){var n=new Error("Dependency ".concat(c," is already added for the request ").concat(e));throw n.name="Duplicate Dependency",n}a.value[1].dependsOn.push(c)}else{var n=new Error("Can't add dependency ".concat(r,", There is only a dependent request in the batch"));throw n.name="Invalid Dependency Addition",n}}},t.prototype.removeDependency=function(e,r){var n=this.requests.get(e);if(typeof n>"u"||n.dependsOn===void 0||n.dependsOn.length===0)return!1;if(typeof r<"u"){var o=n.dependsOn.indexOf(r);return o===-1?!1:(n.dependsOn.splice(o,1),!0)}else return delete n.dependsOn,!0},t.requestLimit=20,t}();vp.BatchRequestContent=vX});var kw=g(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.BatchResponseContent=void 0;var EX=(_e(),M(ye)),CX=function(){function t(e){this.responses=new Map,this.update(e)}return t.prototype.createResponseObject=function(e){var r=e.body,n={};if(n.status=e.status,e.statusText!==void 0&&(n.statusText=e.statusText),n.headers=e.headers,n.headers!==void 0&&n.headers["Content-Type"]!==void 0&&n.headers["Content-Type"].split(";")[0]==="application/json"){var o=JSON.stringify(r);return new Response(o,n)}return new Response(r,n)},t.prototype.update=function(e){this.nextLink=e["@odata.nextLink"];for(var r=e.responses,n=0,o=r.length;n<o;n++)this.responses.set(r[n].id,this.createResponseObject(r[n]))},t.prototype.getResponseById=function(e){return this.responses.get(e)},t.prototype.getResponses=function(){return this.responses},t.prototype.getResponsesIterator=function(){var e,r;return EX.__generator(this,function(n){switch(n.label){case 0:e=this.responses.entries(),r=e.next(),n.label=1;case 1:return r.done?[3,3]:[4,r.value];case 2:return n.sent(),r=e.next(),[3,1];case 3:return[2]}})},t}();Ep.BatchResponseContent=CX});var P_=g(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.GRAPH_URLS=Co.GRAPH_BASE_URL=Co.GRAPH_API_VERSION=void 0;Co.GRAPH_API_VERSION="v1.0";Co.GRAPH_BASE_URL="https://graph.microsoft.com/";Co.GRAPH_URLS=new Set(["graph.microsoft.com","graph.microsoft.us","dod-graph.microsoft.us","graph.microsoft.de","microsoftgraph.chinacloudapi.cn","canary.graph.microsoft.com"])});var On=g(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.GraphClientError=void 0;var SX=(_e(),M(ye)),TX=function(t){SX.__extends(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return e.setGraphClientError=function(r){var n;return r instanceof Error?n=r:(n=new e,n.customError=r),n},e}(Error);Cp.GraphClientError=TX});var Sp=g(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.isCustomHost=pr.isGraphURL=pr.serializeContent=pr.urlJoin=pr.oDataQueryNames=void 0;var AX=P_(),bX=On();pr.oDataQueryNames=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"];var IX=function(t){var e=function(i){return i.replace(/\/+$/,"")},r=function(i){return i.replace(/^\/+/,"")},n=function(i,s){return[e(i),r(s)].join("/")},o=Array.prototype.slice.call(t);return o.reduce(n)};pr.urlJoin=IX;var RX=function(t){var e=t&&t.constructor&&t.constructor.name;if(e==="Buffer"||e==="Blob"||e==="File"||e==="FormData"||typeof t=="string")return t;if(e==="ArrayBuffer")t=Buffer.from(t);else if(e==="Int8Array"||e==="Int16Array"||e==="Int32Array"||e==="Uint8Array"||e==="Uint16Array"||e==="Uint32Array"||e==="Uint8ClampedArray"||e==="Float32Array"||e==="Float64Array"||e==="DataView")t=Buffer.from(t.buffer);else try{t=JSON.stringify(t)}catch{throw new Error("Unable to stringify the content")}return t};pr.serializeContent=RX;var wX=function(t){return Mw(t)};pr.isGraphURL=wX;var PX=function(t,e){return e.forEach(function(r){return OX(r)}),Mw(t,e)};pr.isCustomHost=PX;var Mw=function(t,e){if(e===void 0&&(e=AX.GRAPH_URLS),t=t.toLowerCase(),t.indexOf("https://")!==-1){t=t.replace("https://","");var r=t.indexOf(":"),n=t.indexOf("/"),o="";if(n!==-1)return r!==-1&&r<n?(o=t.substring(0,r),e.has(o)):(o=t.substring(0,n),e.has(o))}return!1},OX=function(t){if(t.indexOf("/")!==-1)throw new bX.GraphClientError("Please add only hosts or hostnames to the CustomHosts config. If the url is `http://example.com:3000/`, host is `example:3000`")}});var So=g(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.MiddlewareControl=void 0;var xX=function(){function t(e){e===void 0&&(e=[]),this.middlewareOptions=new Map;for(var r=0,n=e;r<n.length;r++){var o=n[r],i=o.constructor;this.middlewareOptions.set(i,o)}}return t.prototype.getMiddlewareOptions=function(e){return this.middlewareOptions.get(e)},t.prototype.setMiddlewareOptions=function(e,r){this.middlewareOptions.set(e,r)},t}();Tp.MiddlewareControl=xX});var Vs=g(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.cloneRequestWithNewUrl=mr.appendRequestHeader=mr.setRequestHeader=mr.getRequestHeader=mr.generateUUID=void 0;var Lw=(_e(),M(ye)),NX=function(){for(var t="",e=0;e<32;e++)(e===8||e===12||e===16||e===20)&&(t+="-"),t+=Math.floor(Math.random()*16).toString(16);return t};mr.generateUUID=NX;var DX=function(t,e,r){var n=null;if(typeof Request<"u"&&t instanceof Request)n=t.headers.get(r);else if(typeof e<"u"&&e.headers!==void 0)if(typeof Headers<"u"&&e.headers instanceof Headers)n=e.headers.get(r);else if(e.headers instanceof Array){for(var o=e.headers,i=0,s=o.length;i<s;i++)if(o[i][0]===r){n=o[i][1];break}}else e.headers[r]!==void 0&&(n=e.headers[r]);return n};mr.getRequestHeader=DX;var kX=function(t,e,r,n){var o,i;if(typeof Request<"u"&&t instanceof Request)t.headers.set(r,n);else if(typeof e<"u")if(e.headers===void 0)e.headers=new Headers((o={},o[r]=n,o));else if(typeof Headers<"u"&&e.headers instanceof Headers)e.headers.set(r,n);else if(e.headers instanceof Array){for(var s=0,a=e.headers.length;s<a;s++){var c=e.headers[s];if(c[0]===r){c[1]=n;break}}s===a&&e.headers.push([r,n])}else Object.assign(e.headers,(i={},i[r]=n,i))};mr.setRequestHeader=kX;var MX=function(t,e,r,n){var o,i;typeof Request<"u"&&t instanceof Request?t.headers.append(r,n):typeof e<"u"&&(e.headers===void 0?e.headers=new Headers((o={},o[r]=n,o)):typeof Headers<"u"&&e.headers instanceof Headers?e.headers.append(r,n):e.headers instanceof Array?e.headers.push([r,n]):e.headers===void 0?e.headers=(i={},i[r]=n,i):e.headers[r]===void 0?e.headers[r]=n:e.headers[r]+=", ".concat(n))};mr.appendRequestHeader=MX;var LX=function(t,e){return Lw.__awaiter(void 0,void 0,void 0,function(){var r,n,o,i,s,a,c,d,u,m,f,h,y;return Lw.__generator(this,function(E){switch(E.label){case 0:return e.headers.get("Content-Type")?[4,e.blob()]:[3,2];case 1:return n=E.sent(),[3,4];case 2:return[4,Promise.resolve(void 0)];case 3:n=E.sent(),E.label=4;case 4:return r=n,o=e.method,i=e.headers,s=e.referrer,a=e.referrerPolicy,c=e.mode,d=e.credentials,u=e.cache,m=e.redirect,f=e.integrity,h=e.keepalive,y=e.signal,[2,new Request(t,{method:o,headers:i,body:r,referrer:s,referrerPolicy:a,mode:c,credentials:d,cache:u,redirect:m,integrity:f,keepalive:h,signal:y})]}})})};mr.cloneRequestWithNewUrl=LX});var O_=g(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.AuthenticationHandlerOptions=void 0;var UX=function(){function t(e,r){this.authenticationProvider=e,this.authenticationProviderOptions=r}return t}();Ap.AuthenticationHandlerOptions=UX});var Ws=g(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.TelemetryHandlerOptions=Ks.FeatureUsageFlag=void 0;var Uw=So(),x_;(function(t){t[t.NONE=0]="NONE",t[t.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",t[t.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",t[t.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED"})(x_||(Ks.FeatureUsageFlag=x_={}));var FX=function(){function t(){this.featureUsage=x_.NONE}return t.updateFeatureUsageFlag=function(e,r){var n;e.middlewareControl instanceof Uw.MiddlewareControl?n=e.middlewareControl.getMiddlewareOptions(t):e.middlewareControl=new Uw.MiddlewareControl,typeof n>"u"&&(n=new t,e.middlewareControl.setMiddlewareOptions(t,n)),n.setFeatureUsage(r)},t.prototype.setFeatureUsage=function(e){this.featureUsage=this.featureUsage|e},t.prototype.getFeatureUsage=function(){return this.featureUsage.toString(16)},t}();Ks.TelemetryHandlerOptions=FX});var Ip=g(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.AuthenticationHandler=void 0;var Fw=(_e(),M(ye)),Bw=Sp(),BX=So(),qX=Vs(),HX=O_(),qw=Ws(),jX=function(){function t(e){this.authenticationProvider=e}return t.prototype.execute=function(e){return Fw.__awaiter(this,void 0,void 0,function(){var r,n,o,i,s,a;return Fw.__generator(this,function(c){switch(c.label){case 0:return r=typeof e.request=="string"?e.request:e.request.url,(0,Bw.isGraphURL)(r)||e.customHosts&&(0,Bw.isCustomHost)(r,e.customHosts)?(n=void 0,e.middlewareControl instanceof BX.MiddlewareControl&&(n=e.middlewareControl.getMiddlewareOptions(HX.AuthenticationHandlerOptions)),o=void 0,i=void 0,n&&(o=n.authenticationProvider,i=n.authenticationProviderOptions),o||(o=this.authenticationProvider),[4,o.getAccessToken(i)]):[3,2];case 1:return s=c.sent(),a="Bearer ".concat(s),(0,qX.appendRequestHeader)(e.request,e.options,t.AUTHORIZATION_HEADER,a),qw.TelemetryHandlerOptions.updateFeatureUsageFlag(e,qw.FeatureUsageFlag.AUTHENTICATION_HANDLER_ENABLED),[3,3];case 2:e.options.headers&&delete e.options.headers[t.AUTHORIZATION_HEADER],c.label=3;case 3:return[4,this.nextMiddleware.execute(e)];case 4:return[2,c.sent()]}})})},t.prototype.setNext=function(e){this.nextMiddleware=e},t.AUTHORIZATION_HEADER="Authorization",t}();bp.AuthenticationHandler=jX});var wp=g(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.HTTPMessageHandler=void 0;var Hw=(_e(),M(ye)),GX=function(){function t(){}return t.prototype.execute=function(e){return Hw.__awaiter(this,void 0,void 0,function(){var r;return Hw.__generator(this,function(n){switch(n.label){case 0:return r=e,[4,fetch(e.request,e.options)];case 1:return r.response=n.sent(),[2]}})})},t}();Rp.HTTPMessageHandler=GX});var _d=g(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.RetryHandlerOptions=void 0;var $X=function(){function t(e,r,n){if(e===void 0&&(e=t.DEFAULT_DELAY),r===void 0&&(r=t.DEFAULT_MAX_RETRIES),n===void 0&&(n=t.defaultShouldRetry),e>t.MAX_DELAY&&r>t.MAX_MAX_RETRIES){var o=new Error("Delay and MaxRetries should not be more than ".concat(t.MAX_DELAY," and ").concat(t.MAX_MAX_RETRIES));throw o.name="MaxLimitExceeded",o}else if(e>t.MAX_DELAY){var o=new Error("Delay should not be more than ".concat(t.MAX_DELAY));throw o.name="MaxLimitExceeded",o}else if(r>t.MAX_MAX_RETRIES){var o=new Error("MaxRetries should not be more than ".concat(t.MAX_MAX_RETRIES));throw o.name="MaxLimitExceeded",o}else if(e<0&&r<0){var o=new Error("Delay and MaxRetries should not be negative");throw o.name="MinExpectationNotMet",o}else if(e<0){var o=new Error("Delay should not be negative");throw o.name="MinExpectationNotMet",o}else if(r<0){var o=new Error("MaxRetries should not be negative");throw o.name="MinExpectationNotMet",o}this.delay=Math.min(e,t.MAX_DELAY),this.maxRetries=Math.min(r,t.MAX_MAX_RETRIES),this.shouldRetry=n}return t.prototype.getMaxDelay=function(){return t.MAX_DELAY},t.DEFAULT_DELAY=3,t.DEFAULT_MAX_RETRIES=3,t.MAX_DELAY=180,t.MAX_MAX_RETRIES=10,t.defaultShouldRetry=function(){return!0},t}();Pp.RetryHandlerOptions=$X});var xp=g(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.RetryHandler=void 0;var Qs=(_e(),M(ye)),N_=yd(),zX=So(),jw=Vs(),Gw=_d(),$w=Ws(),VX=function(){function t(e){e===void 0&&(e=new Gw.RetryHandlerOptions),this.options=e}return t.prototype.isRetry=function(e){return t.RETRY_STATUS_CODES.indexOf(e.status)!==-1},t.prototype.isBuffered=function(e,r){var n=typeof e=="string"?r.method:e.method,o=n===N_.RequestMethod.PUT||n===N_.RequestMethod.PATCH||n===N_.RequestMethod.POST;if(o){var i=(0,jw.getRequestHeader)(e,r,"Content-Type")==="application/octet-stream";if(i)return!1}return!0},t.prototype.getDelay=function(e,r,n){var o=function(){return Number(Math.random().toFixed(3))},i=e.headers!==void 0?e.headers.get(t.RETRY_AFTER_HEADER):null,s;return i!==null?Number.isNaN(Number(i))?s=Math.round((new Date(i).getTime()-Date.now())/1e3):s=Number(i):s=r>=2?this.getExponentialBackOffTime(r)+n+o():n+o(),Math.min(s,this.options.getMaxDelay()+o())},t.prototype.getExponentialBackOffTime=function(e){return Math.round(1/2*(Math.pow(2,e)-1))},t.prototype.sleep=function(e){return Qs.__awaiter(this,void 0,void 0,function(){var r;return Qs.__generator(this,function(n){return r=e*1e3,[2,new Promise(function(o){return setTimeout(o,r)})]})})},t.prototype.getOptions=function(e){var r;return e.middlewareControl instanceof zX.MiddlewareControl&&(r=e.middlewareControl.getMiddlewareOptions(this.options.constructor)),typeof r>"u"&&(r=Object.assign(new Gw.RetryHandlerOptions,this.options)),r},t.prototype.executeWithRetry=function(e,r,n){return Qs.__awaiter(this,void 0,void 0,function(){var o;return Qs.__generator(this,function(i){switch(i.label){case 0:return[4,this.nextMiddleware.execute(e)];case 1:return i.sent(),r<n.maxRetries&&this.isRetry(e.response)&&this.isBuffered(e.request,e.options)&&n.shouldRetry(n.delay,r,e.request,e.options,e.response)?(++r,(0,jw.setRequestHeader)(e.request,e.options,t.RETRY_ATTEMPT_HEADER,r.toString()),o=this.getDelay(e.response,r,n.delay),[4,this.sleep(o)]):[3,4];case 2:return i.sent(),[4,this.executeWithRetry(e,r,n)];case 3:return[2,i.sent()];case 4:return[2]}})})},t.prototype.execute=function(e){return Qs.__awaiter(this,void 0,void 0,function(){var r,n;return Qs.__generator(this,function(o){switch(o.label){case 0:return r=0,n=this.getOptions(e),$w.TelemetryHandlerOptions.updateFeatureUsageFlag(e,$w.FeatureUsageFlag.RETRY_HANDLER_ENABLED),[4,this.executeWithRetry(e,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.setNext=function(e){this.nextMiddleware=e},t.RETRY_STATUS_CODES=[429,503,504],t.RETRY_ATTEMPT_HEADER="Retry-Attempt",t.RETRY_AFTER_HEADER="Retry-After",t}();Op.RetryHandler=VX});var vd=g(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.RedirectHandlerOptions=void 0;var KX=function(){function t(e,r){if(e===void 0&&(e=t.DEFAULT_MAX_REDIRECTS),r===void 0&&(r=t.defaultShouldRedirect),e>t.MAX_MAX_REDIRECTS){var n=new Error("MaxRedirects should not be more than ".concat(t.MAX_MAX_REDIRECTS));throw n.name="MaxLimitExceeded",n}if(e<0){var n=new Error("MaxRedirects should not be negative");throw n.name="MinExpectationNotMet",n}this.maxRedirects=e,this.shouldRedirect=r}return t.DEFAULT_MAX_REDIRECTS=5,t.MAX_MAX_REDIRECTS=20,t.defaultShouldRedirect=function(){return!0},t}();Np.RedirectHandlerOptions=KX});var kp=g(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.RedirectHandler=void 0;var Ys=(_e(),M(ye)),WX=yd(),QX=So(),YX=Vs(),D_=vd(),zw=Ws(),JX=function(){function t(e){e===void 0&&(e=new D_.RedirectHandlerOptions),this.options=e}return t.prototype.isRedirect=function(e){return t.REDIRECT_STATUS_CODES.indexOf(e.status)!==-1},t.prototype.hasLocationHeader=function(e){return e.headers.has(t.LOCATION_HEADER)},t.prototype.getLocationHeader=function(e){return e.headers.get(t.LOCATION_HEADER)},t.prototype.isRelativeURL=function(e){return e.indexOf("://")===-1},t.prototype.shouldDropAuthorizationHeader=function(e,r){var n=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,o=n.exec(e),i,s;o!==null&&(i=o[0]);var a=n.exec(r);return a!==null&&(s=a[0]),typeof i<"u"&&typeof s<"u"&&i!==s},t.prototype.updateRequestUrl=function(e,r){return Ys.__awaiter(this,void 0,void 0,function(){var n,o;return Ys.__generator(this,function(i){switch(i.label){case 0:return n=r,typeof r.request!="string"?[3,1]:(o=e,[3,3]);case 1:return[4,(0,YX.cloneRequestWithNewUrl)(e,r.request)];case 2:o=i.sent(),i.label=3;case 3:return n.request=o,[2]}})})},t.prototype.getOptions=function(e){var r;return e.middlewareControl instanceof QX.MiddlewareControl&&(r=e.middlewareControl.getMiddlewareOptions(D_.RedirectHandlerOptions)),typeof r>"u"&&(r=Object.assign(new D_.RedirectHandlerOptions,this.options)),r},t.prototype.executeWithRedirect=function(e,r,n){return Ys.__awaiter(this,void 0,void 0,function(){var o,i;return Ys.__generator(this,function(s){switch(s.label){case 0:return[4,this.nextMiddleware.execute(e)];case 1:return s.sent(),o=e.response,r<n.maxRedirects&&this.isRedirect(o)&&this.hasLocationHeader(o)&&n.shouldRedirect(o)?(++r,o.status!==t.STATUS_CODE_SEE_OTHER?[3,2]:(e.options.method=WX.RequestMethod.GET,delete e.options.body,[3,4])):[3,6];case 2:return i=this.getLocationHeader(o),!this.isRelativeURL(i)&&this.shouldDropAuthorizationHeader(o.url,i)&&delete e.options.headers[t.AUTHORIZATION_HEADER],[4,this.updateRequestUrl(i,e)];case 3:s.sent(),s.label=4;case 4:return[4,this.executeWithRedirect(e,r,n)];case 5:return s.sent(),[3,7];case 6:return[2];case 7:return[2]}})})},t.prototype.execute=function(e){return Ys.__awaiter(this,void 0,void 0,function(){var r,n;return Ys.__generator(this,function(o){switch(o.label){case 0:return r=0,n=this.getOptions(e),e.options.redirect=t.MANUAL_REDIRECT,zw.TelemetryHandlerOptions.updateFeatureUsageFlag(e,zw.FeatureUsageFlag.REDIRECT_HANDLER_ENABLED),[4,this.executeWithRedirect(e,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.setNext=function(e){this.nextMiddleware=e},t.REDIRECT_STATUS_CODES=[301,302,303,307,308],t.STATUS_CODE_SEE_OTHER=303,t.LOCATION_HEADER="Location",t.AUTHORIZATION_HEADER="Authorization",t.MANUAL_REDIRECT="manual",t}();Dp.RedirectHandler=JX});var Vw=g(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.PACKAGE_VERSION=void 0;Mp.PACKAGE_VERSION="3.0.7"});var Fp=g(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.TelemetryHandler=void 0;var Kw=(_e(),M(ye)),Ww=Sp(),XX=Vw(),ZX=So(),Lp=Vs(),e9=Ws(),t9=function(){function t(){}return t.prototype.execute=function(e){return Kw.__awaiter(this,void 0,void 0,function(){var r,n,o,i,s;return Kw.__generator(this,function(a){switch(a.label){case 0:return r=typeof e.request=="string"?e.request:e.request.url,(0,Ww.isGraphURL)(r)||e.customHosts&&(0,Ww.isCustomHost)(r,e.customHosts)?(n=(0,Lp.getRequestHeader)(e.request,e.options,t.CLIENT_REQUEST_ID_HEADER),n||(n=(0,Lp.generateUUID)(),(0,Lp.setRequestHeader)(e.request,e.options,t.CLIENT_REQUEST_ID_HEADER,n)),o="".concat(t.PRODUCT_NAME,"/").concat(XX.PACKAGE_VERSION),i=void 0,e.middlewareControl instanceof ZX.MiddlewareControl&&(i=e.middlewareControl.getMiddlewareOptions(e9.TelemetryHandlerOptions)),i&&(s=i.getFeatureUsage(),o+=" (".concat(t.FEATURE_USAGE_STRING,"=").concat(s,")")),(0,Lp.appendRequestHeader)(e.request,e.options,t.SDK_VERSION_HEADER,o)):(delete e.options.headers[t.CLIENT_REQUEST_ID_HEADER],delete e.options.headers[t.SDK_VERSION_HEADER]),[4,this.nextMiddleware.execute(e)];case 1:return[2,a.sent()]}})})},t.prototype.setNext=function(e){this.nextMiddleware=e},t.CLIENT_REQUEST_ID_HEADER="client-request-id",t.SDK_VERSION_HEADER="SdkVersion",t.PRODUCT_NAME="graph-js",t.FEATURE_USAGE_STRING="featureUsage",t}();Up.TelemetryHandler=t9});var Qw=g(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.MiddlewareFactory=void 0;var r9=Ip(),n9=wp(),o9=vd(),i9=_d(),s9=kp(),a9=xp(),c9=Fp(),d9=function(){return typeof process=="object"&&typeof require=="function"},l9=function(){function t(){}return t.getDefaultMiddlewareChain=function(e){var r=[],n=new r9.AuthenticationHandler(e),o=new a9.RetryHandler(new i9.RetryHandlerOptions),i=new c9.TelemetryHandler,s=new n9.HTTPMessageHandler;if(r.push(n),r.push(o),d9()){var a=new s9.RedirectHandler(new o9.RedirectHandlerOptions);r.push(a)}return r.push(i),r.push(s),r},t}();Bp.MiddlewareFactory=l9});var Hp=g(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.ChaosStrategy=void 0;var Yw;(function(t){t[t.MANUAL=0]="MANUAL",t[t.RANDOM=1]="RANDOM"})(Yw||(qp.ChaosStrategy=Yw={}))});var k_=g(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.ChaosHandlerOptions=void 0;var u9=Hp(),p9=function(){function t(e,r,n,o,i,s){if(e===void 0&&(e=u9.ChaosStrategy.RANDOM),r===void 0&&(r="Some error Happened"),this.chaosStrategy=e,this.statusCode=n,this.statusMessage=r,this.chaosPercentage=o!==void 0?o:10,this.responseBody=i,this.headers=s,this.chaosPercentage>100)throw new Error("Error Pecentage can not be more than 100")}return t}();jp.ChaosHandlerOptions=p9});var Jw=g(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.httpStatusCode=Js.methodStatusCode=void 0;Js.methodStatusCode={GET:[429,500,502,503,504],POST:[429,500,502,503,504,507],PUT:[429,500,502,503,504,507],PATCH:[429,500,502,503,504],DELETE:[429,500,502,503,504,507]};Js.httpStatusCode={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"}});var e0=g($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.ChaosHandler=void 0;var Gp=(_e(),M(ye)),m9=So(),h9=Vs(),Xw=Jw(),M_=k_(),Zw=Hp(),f9=function(){function t(e,r){e===void 0&&(e=new M_.ChaosHandlerOptions),this.options=e,this.manualMap=r}return t.prototype.createResponseHeaders=function(e,r,n){var o=e.headers?new Headers(e.headers):new Headers;return o.append("Cache-Control","no-store"),o.append("request-id",r),o.append("client-request-id",r),o.append("x-ms-ags-diagnostic",""),o.append("Date",n),o.append("Strict-Transport-Security",""),e.statusCode===429&&o.append("retry-after","3"),o},t.prototype.createResponseBody=function(e,r,n){if(e.responseBody)return e.responseBody;var o;if(e.statusCode>=400){var i=Xw.httpStatusCode[e.statusCode],s=e.statusMessage;o={error:{code:i,message:s,innerError:{"request-id":r,date:n}}}}else o={};return o},t.prototype.createResponse=function(e,r){var n=r.request,o=(0,h9.generateUUID)(),i=new Date,s=this.createResponseHeaders(e,o,i.toString()),a=this.createResponseBody(e,o,i.toString()),c={url:n,status:e.statusCode,statusText:e.statusMessage,headers:s};r.response=new Response(typeof a=="string"?a:JSON.stringify(a),c)},t.prototype.sendRequest=function(e,r){return Gp.__awaiter(this,void 0,void 0,function(){return Gp.__generator(this,function(n){switch(n.label){case 0:return this.setStatusCode(e,r.request,r.options.method),e.chaosStrategy===Zw.ChaosStrategy.MANUAL&&!this.nextMiddleware||Math.floor(Math.random()*100)<e.chaosPercentage?(this.createResponse(e,r),[3,3]):[3,1];case 1:return this.nextMiddleware?[4,this.nextMiddleware.execute(r)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.getRandomStatusCode=function(e){var r=Xw.methodStatusCode[e];return r[Math.floor(Math.random()*r.length)]},t.prototype.getRelativeURL=function(e){var r=/https?:\/\/graph\.microsoft\.com\/[^/]+(.+?)(\?|$)/,n;return r.exec(e)!==null&&(n=r.exec(e)[1]),n},t.prototype.setStatusCode=function(e,r,n){var o=this;if(e.chaosStrategy===Zw.ChaosStrategy.MANUAL){if(e.statusCode===void 0){var i=this.getRelativeURL(r);this.manualMap.get(i)!==void 0?this.manualMap.get(i).get(n)!==void 0&&(e.statusCode=this.manualMap.get(i).get(n)):this.manualMap.forEach(function(s,a){var c=new RegExp(a+"$");c.test(i)&&o.manualMap.get(a).get(n)!==void 0&&(e.statusCode=o.manualMap.get(a).get(n))})}}else e.statusCode=this.getRandomStatusCode(n)},t.prototype.getOptions=function(e){var r;return e.middlewareControl instanceof m9.MiddlewareControl&&(r=e.middlewareControl.getMiddlewareOptions(M_.ChaosHandlerOptions)),typeof r>"u"&&(r=Object.assign(new M_.ChaosHandlerOptions,this.options)),r},t.prototype.execute=function(e){return Gp.__awaiter(this,void 0,void 0,function(){var r;return Gp.__generator(this,function(n){switch(n.label){case 0:return r=this.getOptions(e),[4,this.sendRequest(r,e)];case 1:return[2,n.sent()]}})})},t.prototype.setNext=function(e){this.nextMiddleware=e},t}();$p.ChaosHandler=f9});var Ed=g(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.ResponseType=void 0;var t0;(function(t){t.ARRAYBUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.RAW="raw",t.STREAM="stream",t.TEXT="text"})(t0||(zp.ResponseType=t0={}))});var U_=g(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.GraphResponseHandler=Xs.DocumentType=void 0;var Vp=(_e(),M(ye)),$i=Ed(),L_;(function(t){t.TEXT_HTML="text/html",t.TEXT_XML="text/xml",t.APPLICATION_XML="application/xml",t.APPLICATION_XHTML="application/xhtml+xml"})(L_||(Xs.DocumentType=L_={}));var Kp;(function(t){t.TEXT_PLAIN="text/plain",t.APPLICATION_JSON="application/json"})(Kp||(Kp={}));var Wp;(function(t){t.DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",t.IMAGE="^image\\/.+"})(Wp||(Wp={}));var g9=function(){function t(){}return t.parseDocumentResponse=function(e,r){return typeof DOMParser<"u"?new Promise(function(n,o){e.text().then(function(i){try{var s=new DOMParser,a=s.parseFromString(i,r);n(a)}catch(c){o(c)}})}):Promise.resolve(e.body)},t.convertResponse=function(e,r){return Vp.__awaiter(this,void 0,void 0,function(){var n,o,i,s;return Vp.__generator(this,function(a){switch(a.label){case 0:if(e.status===204)return[2,Promise.resolve()];switch(o=e.headers.get("Content-type"),i=r,i){case $i.ResponseType.ARRAYBUFFER:return[3,1];case $i.ResponseType.BLOB:return[3,3];case $i.ResponseType.DOCUMENT:return[3,5];case $i.ResponseType.JSON:return[3,7];case $i.ResponseType.STREAM:return[3,9];case $i.ResponseType.TEXT:return[3,11]}return[3,13];case 1:return[4,e.arrayBuffer()];case 2:return n=a.sent(),[3,24];case 3:return[4,e.blob()];case 4:return n=a.sent(),[3,24];case 5:return[4,t.parseDocumentResponse(e,L_.TEXT_XML)];case 6:return n=a.sent(),[3,24];case 7:return[4,e.json()];case 8:return n=a.sent(),[3,24];case 9:return[4,Promise.resolve(e.body)];case 10:return n=a.sent(),[3,24];case 11:return[4,e.text()];case 12:return n=a.sent(),[3,24];case 13:return o===null?[3,22]:(s=o.split(";")[0],new RegExp(Wp.DOCUMENT).test(s)?[4,t.parseDocumentResponse(e,s)]:[3,15]);case 14:return n=a.sent(),[3,21];case 15:return new RegExp(Wp.IMAGE).test(s)?(n=e.blob(),[3,21]):[3,16];case 16:return s!==Kp.TEXT_PLAIN?[3,18]:[4,e.text()];case 17:return n=a.sent(),[3,21];case 18:return s!==Kp.APPLICATION_JSON?[3,20]:[4,e.json()];case 19:return n=a.sent(),[3,21];case 20:n=Promise.resolve(e.body),a.label=21;case 21:return[3,23];case 22:n=Promise.resolve(e.body),a.label=23;case 23:return[3,24];case 24:return[2,n]}})})},t.getResponse=function(e,r,n){return Vp.__awaiter(this,void 0,void 0,function(){var o;return Vp.__generator(this,function(i){switch(i.label){case 0:return r!==$i.ResponseType.RAW?[3,1]:[2,Promise.resolve(e)];case 1:return[4,t.convertResponse(e,r)];case 2:if(o=i.sent(),e.ok)if(typeof n=="function")n(null,o);else return[2,o];else throw o;i.label=3;case 3:return[2]}})})},t}();Xs.GraphResponseHandler=g9});var F_=g(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Range=void 0;var y9=function(){function t(e,r){e===void 0&&(e=-1),r===void 0&&(r=-1),this.minValue=e,this.maxValue=r}return t}();Qp.Range=y9});var B_=g(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.UploadResult=void 0;var _9=function(){function t(e,r){this._location=r,this._responseBody=e}return Object.defineProperty(t.prototype,"location",{get:function(){return this._location},set:function(e){this._location=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"responseBody",{get:function(){return this._responseBody},set:function(e){this._responseBody=e},enumerable:!1,configurable:!0}),t.CreateUploadResult=function(e,r){return new t(e,r.get("location"))},t}();Yp.UploadResult=_9});var H_=g(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.LargeFileUploadTask=void 0;var Vt=(_e(),M(ye)),q_=On(),v9=U_(),r0=Ed(),Jp=F_(),E9=B_(),C9=function(){function t(e,r,n,o){if(o===void 0&&(o={}),this.DEFAULT_FILE_SIZE=5*1024*1024,this.client=e,r.sliceFile)this.file=r;else throw new q_.GraphClientError("Please pass the FileUpload object, StreamUpload object or any custom implementation of the FileObject interface");this.file=r,o.rangeSize||(o.rangeSize=this.DEFAULT_FILE_SIZE),this.options=o,this.uploadSession=n,this.nextRange=new Jp.Range(0,this.options.rangeSize-1)}return t.createUploadSession=function(e,r,n,o){return o===void 0&&(o={}),Vt.__awaiter(this,void 0,void 0,function(){var i,s;return Vt.__generator(this,function(a){switch(a.label){case 0:return[4,e.api(r).headers(o).post(n)];case 1:return i=a.sent(),s={url:i.uploadUrl,expiry:new Date(i.expirationDateTime),isCancelled:!1},[2,s]}})})},t.prototype.parseRange=function(e){var r=e[0];if(typeof r>"u"||r==="")return new Jp.Range;var n=r.split("-"),o=parseInt(n[0],10),i=parseInt(n[1],10);return Number.isNaN(i)&&(i=this.file.size-1),new Jp.Range(o,i)},t.prototype.updateTaskStatus=function(e){this.uploadSession.expiry=new Date(e.expirationDateTime),this.nextRange=this.parseRange(e.nextExpectedRanges)},t.prototype.getNextRange=function(){if(this.nextRange.minValue===-1)return this.nextRange;var e=this.nextRange.minValue,r=e+this.options.rangeSize-1;return r>=this.file.size&&(r=this.file.size-1),new Jp.Range(e,r)},t.prototype.sliceFile=function(e){if(console.warn("The LargeFileUploadTask.sliceFile() function has been deprecated and moved into the FileObject interface."),this.file.content instanceof ArrayBuffer||this.file.content instanceof Blob||this.file.content instanceof Uint8Array)return this.file.content.slice(e.minValue,e.maxValue+1);throw new q_.GraphClientError("The LargeFileUploadTask.sliceFile() function expects only Blob, ArrayBuffer or Uint8Array file content. Please note that the sliceFile() function is deprecated.")},t.prototype.upload=function(){return Vt.__awaiter(this,void 0,void 0,function(){var e,r,n,o,i,s,a;return Vt.__generator(this,function(c){switch(c.label){case 0:e=this.options&&this.options.uploadEventHandlers,c.label=1;case 1:if(this.uploadSession.isCancelled)return[3,5];if(r=this.getNextRange(),r.maxValue===-1)throw n=new Error("Task with which you are trying to upload is already completed, Please check for your uploaded file"),n.name="Invalid Session",n;return[4,this.file.sliceFile(r)];case 2:return o=c.sent(),[4,this.uploadSliceGetRawResponse(o,r,this.file.size)];case 3:if(i=c.sent(),!i)throw new q_.GraphClientError("Something went wrong! Large file upload slice response is null.");return[4,v9.GraphResponseHandler.getResponse(i)];case 4:return s=c.sent(),i.status===201||i.status===200&&s.id?(this.reportProgress(e,r),[2,E9.UploadResult.CreateUploadResult(s,i.headers)]):(a={expirationDateTime:s.expirationDateTime||s.ExpirationDateTime,nextExpectedRanges:s.NextExpectedRanges||s.nextExpectedRanges},this.updateTaskStatus(a),this.reportProgress(e,r),[3,1]);case 5:return[2]}})})},t.prototype.reportProgress=function(e,r){e&&e.progress&&e.progress(r,e.extraCallbackParam)},t.prototype.uploadSlice=function(e,r,n){return Vt.__awaiter(this,void 0,void 0,function(){return Vt.__generator(this,function(o){switch(o.label){case 0:return[4,this.client.api(this.uploadSession.url).headers({"Content-Length":"".concat(r.maxValue-r.minValue+1),"Content-Range":"bytes ".concat(r.minValue,"-").concat(r.maxValue,"/").concat(n),"Content-Type":"application/octet-stream"}).put(e)];case 1:return[2,o.sent()]}})})},t.prototype.uploadSliceGetRawResponse=function(e,r,n){return Vt.__awaiter(this,void 0,void 0,function(){return Vt.__generator(this,function(o){switch(o.label){case 0:return[4,this.client.api(this.uploadSession.url).headers({"Content-Length":"".concat(r.maxValue-r.minValue+1),"Content-Range":"bytes ".concat(r.minValue,"-").concat(r.maxValue,"/").concat(n),"Content-Type":"application/octet-stream"}).responseType(r0.ResponseType.RAW).put(e)];case 1:return[2,o.sent()]}})})},t.prototype.cancel=function(){return Vt.__awaiter(this,void 0,void 0,function(){var e;return Vt.__generator(this,function(r){switch(r.label){case 0:return[4,this.client.api(this.uploadSession.url).responseType(r0.ResponseType.RAW).delete()];case 1:return e=r.sent(),e.status===204&&(this.uploadSession.isCancelled=!0),[2,e]}})})},t.prototype.getStatus=function(){return Vt.__awaiter(this,void 0,void 0,function(){var e;return Vt.__generator(this,function(r){switch(r.label){case 0:return[4,this.client.api(this.uploadSession.url).get()];case 1:return e=r.sent(),this.updateTaskStatus(e),[2,e]}})})},t.prototype.resume=function(){return Vt.__awaiter(this,void 0,void 0,function(){return Vt.__generator(this,function(e){switch(e.label){case 0:return[4,this.getStatus()];case 1:return e.sent(),[4,this.upload()];case 2:return[2,e.sent()]}})})},t.prototype.getUploadSession=function(){return this.uploadSession},t}();Xp.LargeFileUploadTask=C9});var j_=g(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.FileUpload=void 0;var S9=On(),T9=function(){function t(e,r,n){if(this.content=e,this.name=r,this.size=n,!e||!r||!n)throw new S9.GraphClientError("Please provide the upload content, name of the file and size of the file")}return t.prototype.sliceFile=function(e){return this.content.slice(e.minValue,e.maxValue+1)},t}();Zp.FileUpload=T9});var G_=g(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.getValidRangeSize=void 0;var A9=5*1024*1024,b9=function(t){return t>320*1024&&(t=Math.floor(t/(320*1024))*320*1024),t},I9=function(t){t===void 0&&(t=A9);var e=60*1024*1024;return t>e&&(t=e),b9(t)};em.getValidRangeSize=I9});var o0=g(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.OneDriveLargeFileUploadTask=void 0;var xn=(_e(),M(ye)),n0=On(),R9=j_(),w9=H_(),P9=G_(),O9=function(t){xn.__extends(e,t);function e(r,n,o,i){return t.call(this,r,n,o,i)||this}return e.constructCreateSessionUrl=function(r,n){return n===void 0&&(n=e.DEFAULT_UPLOAD_PATH),r=r.trim(),n=n.trim(),n===""&&(n="/"),n[0]!=="/"&&(n="/".concat(n)),n[n.length-1]!=="/"&&(n="".concat(n,"/")),"/me/drive/root:".concat(n.split("/").map(function(o){return encodeURIComponent(o)}).join("/")).concat(encodeURIComponent(r),":/createUploadSession")},e.getFileInfo=function(r,n){var o,i;if(typeof Blob<"u"&&r instanceof Blob)o=new File([r],n),i=o.size;else if(typeof File<"u"&&r instanceof File)o=r,i=o.size;else if(typeof Uint8Array<"u"&&r instanceof Uint8Array){var s=r;i=s.byteLength,o=s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength)}return{content:o,size:i}},e.create=function(r,n,o){return xn.__awaiter(this,void 0,void 0,function(){var i,s,a;return xn.__generator(this,function(c){if(!r||!n||!o)throw new n0.GraphClientError("Please provide the Graph client instance, file object and OneDriveLargeFileUploadOptions value");return i=o.fileName,s=e.getFileInfo(n,i),a=new R9.FileUpload(s.content,i,s.size),[2,this.createTaskWithFileObject(r,a,o)]})})},e.createTaskWithFileObject=function(r,n,o){return xn.__awaiter(this,void 0,void 0,function(){var i,s,a,c;return xn.__generator(this,function(d){switch(d.label){case 0:if(!r||!n||!o)throw new n0.GraphClientError("Please provide the Graph client instance, FileObject interface implementation and OneDriveLargeFileUploadOptions value");return i=o.uploadSessionURL?o.uploadSessionURL:e.constructCreateSessionUrl(o.fileName,o.path),s={fileName:o.fileName,fileDescription:o.fileDescription,conflictBehavior:o.conflictBehavior},[4,e.createUploadSession(r,i,s)];case 1:return a=d.sent(),c=(0,P9.getValidRangeSize)(o.rangeSize),[2,new e(r,n,a,{rangeSize:c,uploadEventHandlers:o.uploadEventHandlers})]}})})},e.createUploadSession=function(r,n,o){return xn.__awaiter(this,void 0,void 0,function(){var i;return xn.__generator(this,function(s){return i={item:{"@microsoft.graph.conflictBehavior":o?.conflictBehavior||"rename",name:o?.fileName,description:o?.fileDescription}},[2,t.createUploadSession.call(this,r,n,i)]})})},e.prototype.commit=function(r,n){return n===void 0&&(n="rename"),xn.__awaiter(this,void 0,void 0,function(){var o;return xn.__generator(this,function(i){switch(i.label){case 0:return o={name:this.file.name,"@microsoft.graph.conflictBehavior":n,"@microsoft.graph.sourceUrl":this.uploadSession.url},[4,this.client.api(r).put(o)];case 1:return[2,i.sent()]}})})},e.DEFAULT_UPLOAD_PATH="/",e}(w9.LargeFileUploadTask);tm.OneDriveLargeFileUploadTask=O9});var s0=g(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.StreamUpload=void 0;var i0=(_e(),M(ye)),Cd=On(),x9=function(){function t(e,r,n){if(this.content=e,this.name=r,this.size=n,!e||!r||!n)throw new Cd.GraphClientError("Please provide the Readable Stream content, name of the file and size of the file")}return t.prototype.sliceFile=function(e){return i0.__awaiter(this,void 0,void 0,function(){var r,n,o,i,s,a,c;return i0.__generator(this,function(d){switch(d.label){case 0:if(r=e.maxValue-e.minValue+1,n=[],this.previousSlice){if(e.minValue<this.previousSlice.range.minValue)throw new Cd.GraphClientError("An error occurred while uploading the stream. Please restart the stream upload from the first byte of the file.");if(e.minValue<this.previousSlice.range.maxValue){if(o=this.previousSlice.range.minValue,i=this.previousSlice.range.maxValue,e.minValue===o&&e.maxValue===i)return[2,this.previousSlice.fileSlice];if(e.maxValue===i)return[2,this.previousSlice.fileSlice.slice(e.minValue,e.maxValue+1)];n.push(this.previousSlice.fileSlice.slice(e.minValue,i+1)),r=e.maxValue-i}}return this.content&&this.content.readable?this.content.readableLength>=r?(n.push(this.content.read(r)),[3,3]):[3,1]:[3,4];case 1:return a=(s=n).push,[4,this.readNBytesFromStream(r)];case 2:a.apply(s,[d.sent()]),d.label=3;case 3:return[3,5];case 4:throw new Cd.GraphClientError("Stream is not readable.");case 5:return c=Buffer.concat(n),this.previousSlice={fileSlice:c,range:e},[2,c]}})})},t.prototype.readNBytesFromStream=function(e){var r=this;return new Promise(function(n,o){var i=[],s=e,a=0;r.content.on("end",function(){if(s>0)return o(new Cd.GraphClientError("Stream ended before reading required range size"))}),r.content.on("readable",function(){for(var c;a<e&&(c=r.content.read(s))!==null;)a+=c.length,i.push(c),s>0&&(s=e-a);if(a===e)return n(Buffer.concat(i));if(!r.content||!r.content.readable)return o(new Cd.GraphClientError("Error encountered while reading the stream during the upload"))})})},t}();rm.StreamUpload=x9});var a0=g(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.PageIterator=void 0;var Zs=(_e(),M(ye)),N9=function(){function t(e,r,n,o){this.client=e,this.collection=r.value,this.nextLink=r["@odata.nextLink"],this.deltaLink=r["@odata.deltaLink"],this.callback=n,this.cursor=0,this.complete=!1,this.requestOptions=o}return t.prototype.iterationHelper=function(){if(this.collection===void 0)return!1;for(var e=!0;e&&this.cursor<this.collection.length;){var r=this.collection[this.cursor];e=this.callback(r),this.cursor++}return e},t.prototype.fetchAndUpdateNextPageData=function(){return Zs.__awaiter(this,void 0,void 0,function(){var e,r;return Zs.__generator(this,function(n){switch(n.label){case 0:return e=this.client.api(this.nextLink),this.requestOptions&&(this.requestOptions.headers&&(e=e.headers(this.requestOptions.headers)),this.requestOptions.middlewareOptions&&(e=e.middlewareOptions(this.requestOptions.middlewareOptions)),this.requestOptions.options&&(e=e.options(this.requestOptions.options))),[4,e.get()];case 1:return r=n.sent(),this.collection=r.value,this.cursor=0,this.nextLink=r["@odata.nextLink"],this.deltaLink=r["@odata.deltaLink"],[2]}})})},t.prototype.getDeltaLink=function(){return this.deltaLink},t.prototype.iterate=function(){return Zs.__awaiter(this,void 0,void 0,function(){var e;return Zs.__generator(this,function(r){switch(r.label){case 0:e=this.iterationHelper(),r.label=1;case 1:return e?this.nextLink===void 0?[3,3]:[4,this.fetchAndUpdateNextPageData()]:[3,5];case 2:return r.sent(),e=this.iterationHelper(),[3,4];case 3:e=!1,r.label=4;case 4:return[3,1];case 5:return this.nextLink===void 0&&this.cursor>=this.collection.length&&(this.complete=!0),[2]}})})},t.prototype.resume=function(){return Zs.__awaiter(this,void 0,void 0,function(){return Zs.__generator(this,function(e){return[2,this.iterate()]})})},t.prototype.isComplete=function(){return this.complete},t}();nm.PageIterator=N9});var $_=g(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.CustomAuthenticationProvider=void 0;var om=(_e(),M(ye)),c0=On(),D9=function(){function t(e){this.provider=e}return t.prototype.getAccessToken=function(){return om.__awaiter(this,void 0,void 0,function(){var e=this;return om.__generator(this,function(r){return[2,new Promise(function(n,o){e.provider(function(i,s){return om.__awaiter(e,void 0,void 0,function(){var a,c;return om.__generator(this,function(d){switch(d.label){case 0:return s?(n(s),[3,3]):[3,1];case 1:return i||(a="Access token is undefined or empty.						Please provide a valid token.						For more help - https://github.com/microsoftgraph/msgraph-sdk-javascript/blob/dev/docs/CustomAuthenticationProvider.md",i=new c0.GraphClientError(a)),[4,c0.GraphClientError.setGraphClientError(i)];case 2:c=d.sent(),o(c),d.label=3;case 3:return[2]}})})})})]})})},t}();im.CustomAuthenticationProvider=D9});var z_=g(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.GraphError=void 0;var k9=(_e(),M(ye)),M9=function(t){k9.__extends(e,t);function e(r,n,o){r===void 0&&(r=-1);var i=t.call(this,n||o&&o.message)||this;return Object.setPrototypeOf(i,e.prototype),i.statusCode=r,i.code=null,i.requestId=null,i.date=new Date,i.body=null,i.stack=o?o.stack:i.stack,i}return e}(Error);sm.GraphError=M9});var l0=g(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.GraphErrorHandler=void 0;var d0=(_e(),M(ye)),V_=z_(),L9=function(){function t(){}return t.constructError=function(e,r,n){var o=new V_.GraphError(r,"",e);return e.name!==void 0&&(o.code=e.name),o.body=e.toString(),o.date=new Date,o.headers=n?.headers,o},t.constructErrorFromResponse=function(e,r,n){var o=e.error,i=new V_.GraphError(r,o.message);return i.code=o.code,o.innerError!==void 0&&(i.requestId=o.innerError["request-id"],i.date=new Date(o.innerError.date)),i.body=JSON.stringify(o),i.headers=n?.headers,i},t.getError=function(e,r,n,o){return e===void 0&&(e=null),r===void 0&&(r=-1),d0.__awaiter(this,void 0,void 0,function(){var i;return d0.__generator(this,function(s){if(e&&e.error?i=t.constructErrorFromResponse(e,r,o):e instanceof Error?i=t.constructError(e,r,o):(i=new V_.GraphError(r),i.body=e),typeof n=="function")n(i,null);else return[2,i];return[2]})})},t}();am.GraphErrorHandler=L9});var K_=g(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.GraphRequest=void 0;var Pe=(_e(),M(ye)),U9=On(),F9=l0(),Sd=Sp(),B9=U_(),q9=So(),zi=yd(),H9=Ed(),j9=function(){function t(e,r,n){var o=this;this.parsePath=function(i){if(i.indexOf("https://")!==-1){i=i.replace("https://","");var s=i.indexOf("/");s!==-1&&(o.urlComponents.host="https://"+i.substring(0,s),i=i.substring(s+1,i.length));var a=i.indexOf("/");a!==-1&&(o.urlComponents.version=i.substring(0,a),i=i.substring(a+1,i.length))}i.charAt(0)==="/"&&(i=i.substr(1));var c=i.indexOf("?");if(c===-1)o.urlComponents.path=i;else{o.urlComponents.path=i.substr(0,c);for(var d=i.substring(c+1,i.length).split("&"),u=0,m=d;u<m.length;u++){var f=m[u];o.parseQueryParameter(f)}}},this.httpClient=e,this.config=r,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{},otherURLQueryOptions:[]},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(n)}return t.prototype.addCsvQueryParameter=function(e,r,n){this.urlComponents.oDataQueryParams[e]=this.urlComponents.oDataQueryParams[e]?this.urlComponents.oDataQueryParams[e]+",":"";var o=[];n.length>1&&typeof r=="string"?o=Array.prototype.slice.call(n):typeof r=="string"?o.push(r):o=o.concat(r),this.urlComponents.oDataQueryParams[e]+=o.join(",")},t.prototype.buildFullUrl=function(){var e=(0,Sd.urlJoin)([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path])+this.createQueryString();return this.config.debugLogging&&console.log(e),e},t.prototype.createQueryString=function(){var e=this.urlComponents,r=[];if(Object.keys(e.oDataQueryParams).length!==0)for(var n in e.oDataQueryParams)Object.prototype.hasOwnProperty.call(e.oDataQueryParams,n)&&r.push(n+"="+e.oDataQueryParams[n]);if(Object.keys(e.otherURLQueryParams).length!==0)for(var n in e.otherURLQueryParams)Object.prototype.hasOwnProperty.call(e.otherURLQueryParams,n)&&r.push(n+"="+e.otherURLQueryParams[n]);if(e.otherURLQueryOptions.length!==0)for(var o=0,i=e.otherURLQueryOptions;o<i.length;o++){var s=i[o];r.push(s)}return r.length>0?"?"+r.join("&"):""},t.prototype.parseQueryParameter=function(e){if(typeof e=="string")if(e.charAt(0)==="?"&&(e=e.substring(1)),e.indexOf("&")!==-1)for(var r=e.split("&"),n=0,o=r;n<o.length;n++){var i=o[n];this.parseQueryParamenterString(i)}else this.parseQueryParamenterString(e);else if(e.constructor===Object)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&this.setURLComponentsQueryParamater(s,e[s]);return this},t.prototype.parseQueryParamenterString=function(e){if(this.isValidQueryKeyValuePair(e)){var r=e.indexOf("="),n=e.substring(0,r),o=e.substring(r+1);this.setURLComponentsQueryParamater(n,o)}else this.urlComponents.otherURLQueryOptions.push(e)},t.prototype.setURLComponentsQueryParamater=function(e,r){if(Sd.oDataQueryNames.indexOf(e)!==-1){var n=this.urlComponents.oDataQueryParams[e],o=n&&(e==="$expand"||e==="$select"||e==="$orderby");this.urlComponents.oDataQueryParams[e]=o?n+","+r:r}else this.urlComponents.otherURLQueryParams[e]=r},t.prototype.isValidQueryKeyValuePair=function(e){var r=e.indexOf("=");if(r===-1)return!1;var n=e.indexOf("(");return!(n!==-1&&e.indexOf("(")<r)},t.prototype.updateRequestOptions=function(e){var r=Pe.__assign({},e.headers);if(this.config.fetchOptions!==void 0){var n=Pe.__assign({},this.config.fetchOptions);Object.assign(e,n),typeof this.config.fetchOptions.headers!==void 0&&(e.headers=Pe.__assign({},this.config.fetchOptions.headers))}Object.assign(e,this._options),e.headers!==void 0&&Object.assign(r,e.headers),Object.assign(r,this._headers),e.headers=r},t.prototype.send=function(e,r,n){var o;return Pe.__awaiter(this,void 0,void 0,function(){var i,s,a,c,d,u,m,f;return Pe.__generator(this,function(h){switch(h.label){case 0:s=new q9.MiddlewareControl(this._middlewareOptions),this.updateRequestOptions(r),a=(o=this.config)===null||o===void 0?void 0:o.customHosts,h.label=1;case 1:return h.trys.push([1,4,,6]),[4,this.httpClient.sendRequest({request:e,options:r,middlewareControl:s,customHosts:a})];case 2:return c=h.sent(),i=c.response,[4,B9.GraphResponseHandler.getResponse(i,this._responseType,n)];case 3:return d=h.sent(),[2,d];case 4:if(u=h.sent(),u instanceof U9.GraphClientError)throw u;return m=void 0,i&&(m=i.status),[4,F9.GraphErrorHandler.getError(u,m,n,i)];case 5:throw f=h.sent(),f;case 6:return[2]}})})},t.prototype.setHeaderContentType=function(){if(!this._headers){this.header("Content-Type","application/json");return}for(var e=Object.keys(this._headers),r=0,n=e;r<n.length;r++){var o=n[r];if(o.toLowerCase()==="content-type")return}this.header("Content-Type","application/json")},t.prototype.header=function(e,r){return this._headers[e]=r,this},t.prototype.headers=function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this._headers[r]=e[r]);return this},t.prototype.option=function(e,r){return this._options[e]=r,this},t.prototype.options=function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this._options[r]=e[r]);return this},t.prototype.middlewareOptions=function(e){return this._middlewareOptions=e,this},t.prototype.version=function(e){return this.urlComponents.version=e,this},t.prototype.responseType=function(e){return this._responseType=e,this},t.prototype.select=function(e){return this.addCsvQueryParameter("$select",e,arguments),this},t.prototype.expand=function(e){return this.addCsvQueryParameter("$expand",e,arguments),this},t.prototype.orderby=function(e){return this.addCsvQueryParameter("$orderby",e,arguments),this},t.prototype.filter=function(e){return this.urlComponents.oDataQueryParams.$filter=e,this},t.prototype.search=function(e){return this.urlComponents.oDataQueryParams.$search=e,this},t.prototype.top=function(e){return this.urlComponents.oDataQueryParams.$top=e,this},t.prototype.skip=function(e){return this.urlComponents.oDataQueryParams.$skip=e,this},t.prototype.skipToken=function(e){return this.urlComponents.oDataQueryParams.$skipToken=e,this},t.prototype.count=function(e){return e===void 0&&(e=!0),this.urlComponents.oDataQueryParams.$count=e.toString(),this},t.prototype.query=function(e){return this.parseQueryParameter(e)},t.prototype.get=function(e){return Pe.__awaiter(this,void 0,void 0,function(){var r,n,o;return Pe.__generator(this,function(i){switch(i.label){case 0:return r=this.buildFullUrl(),n={method:zi.RequestMethod.GET},[4,this.send(r,n,e)];case 1:return o=i.sent(),[2,o]}})})},t.prototype.post=function(e,r){return Pe.__awaiter(this,void 0,void 0,function(){var n,o,i;return Pe.__generator(this,function(s){switch(s.label){case 0:return n=this.buildFullUrl(),o={method:zi.RequestMethod.POST,body:(0,Sd.serializeContent)(e)},i=e&&e.constructor&&e.constructor.name,i==="FormData"?o.headers={}:(this.setHeaderContentType(),o.headers=this._headers),[4,this.send(n,o,r)];case 1:return[2,s.sent()]}})})},t.prototype.create=function(e,r){return Pe.__awaiter(this,void 0,void 0,function(){return Pe.__generator(this,function(n){switch(n.label){case 0:return[4,this.post(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.put=function(e,r){return Pe.__awaiter(this,void 0,void 0,function(){var n,o;return Pe.__generator(this,function(i){switch(i.label){case 0:return n=this.buildFullUrl(),this.setHeaderContentType(),o={method:zi.RequestMethod.PUT,body:(0,Sd.serializeContent)(e)},[4,this.send(n,o,r)];case 1:return[2,i.sent()]}})})},t.prototype.patch=function(e,r){return Pe.__awaiter(this,void 0,void 0,function(){var n,o;return Pe.__generator(this,function(i){switch(i.label){case 0:return n=this.buildFullUrl(),this.setHeaderContentType(),o={method:zi.RequestMethod.PATCH,body:(0,Sd.serializeContent)(e)},[4,this.send(n,o,r)];case 1:return[2,i.sent()]}})})},t.prototype.update=function(e,r){return Pe.__awaiter(this,void 0,void 0,function(){return Pe.__generator(this,function(n){switch(n.label){case 0:return[4,this.patch(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.delete=function(e){return Pe.__awaiter(this,void 0,void 0,function(){var r,n;return Pe.__generator(this,function(o){switch(o.label){case 0:return r=this.buildFullUrl(),n={method:zi.RequestMethod.DELETE},[4,this.send(r,n,e)];case 1:return[2,o.sent()]}})})},t.prototype.del=function(e){return Pe.__awaiter(this,void 0,void 0,function(){return Pe.__generator(this,function(r){switch(r.label){case 0:return[4,this.delete(e)];case 1:return[2,r.sent()]}})})},t.prototype.getStream=function(e){return Pe.__awaiter(this,void 0,void 0,function(){var r,n;return Pe.__generator(this,function(o){switch(o.label){case 0:return r=this.buildFullUrl(),n={method:zi.RequestMethod.GET},this.responseType(H9.ResponseType.STREAM),[4,this.send(r,n,e)];case 1:return[2,o.sent()]}})})},t.prototype.putStream=function(e,r){return Pe.__awaiter(this,void 0,void 0,function(){var n,o;return Pe.__generator(this,function(i){switch(i.label){case 0:return n=this.buildFullUrl(),o={method:zi.RequestMethod.PUT,headers:{"Content-Type":"application/octet-stream"},body:e},[4,this.send(n,o,r)];case 1:return[2,i.sent()]}})})},t}();cm.GraphRequest=j9});var W_=g(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.HTTPClient=void 0;var u0=(_e(),M(ye)),G9=function(){function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(!e||!e.length){var n=new Error;throw n.name="InvalidMiddlewareChain",n.message="Please provide a default middleware chain or custom middleware chain",n}this.setMiddleware.apply(this,e)}return t.prototype.setMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];e.length>1?this.parseMiddleWareArray(e):this.middleware=e[0]},t.prototype.parseMiddleWareArray=function(e){e.forEach(function(r,n){n<e.length-1&&r.setNext(e[n+1])}),this.middleware=e[0]},t.prototype.sendRequest=function(e){return u0.__awaiter(this,void 0,void 0,function(){var r;return u0.__generator(this,function(n){switch(n.label){case 0:if(typeof e.request=="string"&&e.options===void 0)throw r=new Error,r.name="InvalidRequestOptions",r.message="Unable to execute the middleware, Please provide valid options for a request",r;return[4,this.middleware.execute(e)];case 1:return n.sent(),[2,e]}})})},t}();dm.HTTPClient=G9});var m0=g(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.HTTPClientFactory=void 0;var $9=(_e(),M(ye)),p0=W_(),z9=Ip(),V9=wp(),K9=vd(),W9=_d(),Q9=kp(),Y9=xp(),J9=Fp(),X9=function(){return typeof process=="object"&&typeof require=="function"},Z9=function(){function t(){}return t.createWithAuthenticationProvider=function(e){var r=new z9.AuthenticationHandler(e),n=new Y9.RetryHandler(new W9.RetryHandlerOptions),o=new J9.TelemetryHandler,i=new V9.HTTPMessageHandler;if(r.setNext(n),X9()){var s=new Q9.RedirectHandler(new K9.RedirectHandlerOptions);n.setNext(s),s.setNext(o)}else n.setNext(o);return o.setNext(i),t.createWithMiddleware(r)},t.createWithMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new(p0.HTTPClient.bind.apply(p0.HTTPClient,$9.__spreadArray([void 0],e,!1)))},t}();lm.HTTPClientFactory=Z9});var h0=g(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.validatePolyFilling=void 0;var e7=function(){if(typeof Promise>"u"&&typeof fetch>"u"){var t=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw t.name="PolyFillNotAvailable",t}else if(typeof Promise>"u"){var t=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}else if(typeof fetch>"u"){var t=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}return!0};um.validatePolyFilling=e7});var y0=g(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.Client=void 0;var t7=(_e(),M(ye)),f0=P_(),r7=$_(),n7=K_(),g0=W_(),o7=m0(),i7=h0(),s7=function(){function t(e){this.config={baseUrl:f0.GRAPH_BASE_URL,debugLogging:!1,defaultVersion:f0.GRAPH_API_VERSION},(0,i7.validatePolyFilling)();for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.config[r]=e[r]);var n;if(e.authProvider!==void 0&&e.middleware!==void 0){var o=new Error;throw o.name="AmbiguityInInitialization",o.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",o}else if(e.authProvider!==void 0)n=o7.HTTPClientFactory.createWithAuthenticationProvider(e.authProvider);else if(e.middleware!==void 0)n=new(g0.HTTPClient.bind.apply(g0.HTTPClient,t7.__spreadArray([void 0],[].concat(e.middleware),!1)));else{var o=new Error;throw o.name="InvalidMiddlewareChain",o.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",o}this.httpClient=n}return t.init=function(e){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=n==="authProvider"?new r7.CustomAuthenticationProvider(e[n]):e[n]);return t.initWithMiddleware(r)},t.initWithMiddleware=function(e){return new t(e)},t.prototype.api=function(e){return new n7.GraphRequest(this.httpClient,this.config,e)},t}();pm.Client=s7});var v0=g(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.ResponseType=U.GraphRequest=U.GraphClientError=U.GraphError=U.CustomAuthenticationProvider=U.Client=U.PageIterator=U.Range=U.UploadResult=U.FileUpload=U.StreamUpload=U.getValidRangeSize=U.OneDriveLargeFileUploadTask=U.LargeFileUploadTask=U.ChaosHandler=U.ChaosStrategy=U.ChaosHandlerOptions=U.TelemetryHandlerOptions=U.FeatureUsageFlag=U.RedirectHandlerOptions=U.RetryHandlerOptions=U.AuthenticationHandlerOptions=U.MiddlewareFactory=U.TelemetryHandler=U.RedirectHandler=U.RetryHandler=U.HTTPMessageHandler=U.AuthenticationHandler=U.BatchResponseContent=U.BatchRequestContent=void 0;var a7=Dw();Object.defineProperty(U,"BatchRequestContent",{enumerable:!0,get:function(){return a7.BatchRequestContent}});var c7=kw();Object.defineProperty(U,"BatchResponseContent",{enumerable:!0,get:function(){return c7.BatchResponseContent}});var d7=Ip();Object.defineProperty(U,"AuthenticationHandler",{enumerable:!0,get:function(){return d7.AuthenticationHandler}});var l7=wp();Object.defineProperty(U,"HTTPMessageHandler",{enumerable:!0,get:function(){return l7.HTTPMessageHandler}});var u7=xp();Object.defineProperty(U,"RetryHandler",{enumerable:!0,get:function(){return u7.RetryHandler}});var p7=kp();Object.defineProperty(U,"RedirectHandler",{enumerable:!0,get:function(){return p7.RedirectHandler}});var m7=Fp();Object.defineProperty(U,"TelemetryHandler",{enumerable:!0,get:function(){return m7.TelemetryHandler}});var h7=Qw();Object.defineProperty(U,"MiddlewareFactory",{enumerable:!0,get:function(){return h7.MiddlewareFactory}});var f7=O_();Object.defineProperty(U,"AuthenticationHandlerOptions",{enumerable:!0,get:function(){return f7.AuthenticationHandlerOptions}});var g7=_d();Object.defineProperty(U,"RetryHandlerOptions",{enumerable:!0,get:function(){return g7.RetryHandlerOptions}});var y7=vd();Object.defineProperty(U,"RedirectHandlerOptions",{enumerable:!0,get:function(){return y7.RedirectHandlerOptions}});var _0=Ws();Object.defineProperty(U,"FeatureUsageFlag",{enumerable:!0,get:function(){return _0.FeatureUsageFlag}});Object.defineProperty(U,"TelemetryHandlerOptions",{enumerable:!0,get:function(){return _0.TelemetryHandlerOptions}});var _7=k_();Object.defineProperty(U,"ChaosHandlerOptions",{enumerable:!0,get:function(){return _7.ChaosHandlerOptions}});var v7=Hp();Object.defineProperty(U,"ChaosStrategy",{enumerable:!0,get:function(){return v7.ChaosStrategy}});var E7=e0();Object.defineProperty(U,"ChaosHandler",{enumerable:!0,get:function(){return E7.ChaosHandler}});var C7=H_();Object.defineProperty(U,"LargeFileUploadTask",{enumerable:!0,get:function(){return C7.LargeFileUploadTask}});var S7=o0();Object.defineProperty(U,"OneDriveLargeFileUploadTask",{enumerable:!0,get:function(){return S7.OneDriveLargeFileUploadTask}});var T7=G_();Object.defineProperty(U,"getValidRangeSize",{enumerable:!0,get:function(){return T7.getValidRangeSize}});var A7=s0();Object.defineProperty(U,"StreamUpload",{enumerable:!0,get:function(){return A7.StreamUpload}});var b7=j_();Object.defineProperty(U,"FileUpload",{enumerable:!0,get:function(){return b7.FileUpload}});var I7=B_();Object.defineProperty(U,"UploadResult",{enumerable:!0,get:function(){return I7.UploadResult}});var R7=F_();Object.defineProperty(U,"Range",{enumerable:!0,get:function(){return R7.Range}});var w7=a0();Object.defineProperty(U,"PageIterator",{enumerable:!0,get:function(){return w7.PageIterator}});var P7=y0();Object.defineProperty(U,"Client",{enumerable:!0,get:function(){return P7.Client}});var O7=$_();Object.defineProperty(U,"CustomAuthenticationProvider",{enumerable:!0,get:function(){return O7.CustomAuthenticationProvider}});var x7=z_();Object.defineProperty(U,"GraphError",{enumerable:!0,get:function(){return x7.GraphError}});var N7=On();Object.defineProperty(U,"GraphClientError",{enumerable:!0,get:function(){return N7.GraphClientError}});var D7=K_();Object.defineProperty(U,"GraphRequest",{enumerable:!0,get:function(){return D7.GraphRequest}});var k7=Ed();Object.defineProperty(U,"ResponseType",{enumerable:!0,get:function(){return k7.ResponseType}})});var C0=g((kqe,E0)=>{E0.exports=class{constructor({emailUser:e,access_token:r,refresh_token:n,expiry_date:o,token_refresh:i,token_cache:s}){this.PK="TOKEN",this.SK=`MAIL#${e}`,this.emailUser=e,this.access_token=r,this.refresh_token=n||void 0,this.expiry_date=new Date(o).getTime(),this.token_refresh=i||!1,this.created_at=this.updated_at=Date.now().toString(),this.token_cache=s||void 0}}});var U0=g((Mqe,L0)=>{"use strict";var hm=Object.defineProperty,M7=Object.getOwnPropertyDescriptor,L7=Object.getOwnPropertyNames,U7=Object.prototype.hasOwnProperty,Ye=(t,e)=>hm(t,"name",{value:e,configurable:!0}),F7=(t,e)=>{for(var r in e)hm(t,r,{get:e[r],enumerable:!0})},B7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of L7(e))!U7.call(t,o)&&o!==r&&hm(t,o,{get:()=>e[o],enumerable:!(n=M7(e,o))||n.enumerable});return t},q7=t=>B7(hm({},"__esModule",{value:!0}),t),R0={};F7(R0,{NumberValueImpl:()=>fm,convertToAttr:()=>Ad,convertToNative:()=>Td,marshall:()=>M0,unmarshall:()=>V7});L0.exports=q7(R0);var w0=class P0{constructor(e){typeof e=="object"&&"N"in e?this.value=String(e.N):this.value=String(e);let r=typeof e.valueOf()=="number"?e.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(e){return new P0(e)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let e=this.toString();return BigInt(e)}toString(){return String(this.value)}valueOf(){return this.toString()}};Ye(w0,"NumberValue");var fm=w0,Ad=Ye((t,e)=>{var r,n,o,i,s,a;if(t===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(t===null&&typeof t=="object")return mm();if(Array.isArray(t))return H7(t,e);if(((r=t?.constructor)==null?void 0:r.name)==="Set")return j7(t,e);if(((n=t?.constructor)==null?void 0:n.name)==="Map")return G7(t,e);if(((o=t?.constructor)==null?void 0:o.name)==="Object"||!t.constructor&&typeof t=="object")return S0(t,e);if(k0(t))return t.length===0&&e?.convertEmptyValues?mm():O0(t);if(typeof t=="boolean"||((i=t?.constructor)==null?void 0:i.name)==="Boolean")return{BOOL:t.valueOf()};if(typeof t=="number"||((s=t?.constructor)==null?void 0:s.name)==="Number")return D0(t);if(t instanceof fm)return t.toAttributeValue();if(typeof t=="bigint")return N0(t);if(typeof t=="string"||((a=t?.constructor)==null?void 0:a.name)==="String")return t.length===0&&e?.convertEmptyValues?mm():x0(t);if(e?.convertClassInstanceToMap&&typeof t=="object")return S0(t,e);throw new Error(`Unsupported type passed: ${t}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},"convertToAttr"),H7=Ye((t,e)=>({L:t.filter(r=>typeof r!="function"&&(!e?.removeUndefinedValues||e?.removeUndefinedValues&&r!==void 0)).map(r=>Ad(r,e))}),"convertToListAttr"),j7=Ye((t,e)=>{let r=e?.removeUndefinedValues?new Set([...t].filter(o=>o!==void 0)):t;if(!e?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(e?.convertEmptyValues)return mm();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof fm)return{NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return{NS:Array.from(r).map(D0).map(o=>o.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(N0).map(o=>o.N)};if(typeof n=="string")return{SS:Array.from(r).map(x0).map(o=>o.S)};if(k0(n))return{BS:Array.from(r).map(O0).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},"convertToSetAttr"),G7=Ye((t,e)=>({M:(r=>{let n={};for(let[o,i]of r)typeof i!="function"&&(i!==void 0||!e?.removeUndefinedValues)&&(n[o]=Ad(i,e));return n})(t)}),"convertToMapAttrFromIterable"),S0=Ye((t,e)=>({M:(r=>{let n={};for(let o in r){let i=r[o];typeof i!="function"&&(i!==void 0||!e?.removeUndefinedValues)&&(n[o]=Ad(i,e))}return n})(t)}),"convertToMapAttrFromEnumerableProps"),mm=Ye(()=>({NULL:!0}),"convertToNullAttr"),O0=Ye(t=>({B:t}),"convertToBinaryAttr"),x0=Ye(t=>({S:t.toString()}),"convertToStringAttr"),N0=Ye(t=>({N:t.toString()}),"convertToBigIntAttr"),T0=Ye(t=>{throw new Error(`${t} ${typeof BigInt=="function"?"Use BigInt.":"Pass string value instead."} `)},"validateBigIntAndThrow"),D0=Ye(t=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(e=>e.toString()).includes(t.toString()))throw new Error(`Special numeric value ${t.toString()} is not allowed`);return t>Number.MAX_SAFE_INTEGER?T0(`Number ${t.toString()} is greater than Number.MAX_SAFE_INTEGER.`):t<Number.MIN_SAFE_INTEGER&&T0(`Number ${t.toString()} is lesser than Number.MIN_SAFE_INTEGER.`),{N:t.toString()}},"convertToNumberAttr"),k0=Ye(t=>{let e=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return t?.constructor?e.includes(t.constructor.name):!1},"isBinary"),Td=Ye((t,e)=>{for(let[r,n]of Object.entries(t))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return A0(n,e);case"B":return I0(n);case"S":return b0(n);case"L":return $7(n,e);case"M":return z7(n,e);case"NS":return new Set(n.map(o=>A0(o,e)));case"BS":return new Set(n.map(I0));case"SS":return new Set(n.map(b0));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(t)}`)},"convertToNative"),A0=Ye((t,e)=>{if(e?.wrapNumbers)return fm.from(t);let r=Number(t),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(t)}catch{throw new Error(`${t} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${t} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},"convertNumber"),b0=Ye(t=>t,"convertString"),I0=Ye(t=>t,"convertBinary"),$7=Ye((t,e)=>t.map(r=>Td(r,e)),"convertList"),z7=Ye((t,e)=>Object.entries(t).reduce((r,[n,o])=>(r[n]=Td(o,e),r),{}),"convertMap");function M0(t,e){let r=Ad(t,e),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return e?.convertTopLevelContainer?r:o;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}Ye(M0,"marshall");var V7=Ye((t,e)=>e?.convertWithoutMapWrapper?Td(t,e):Td({M:t},e),"unmarshall")});var B0=g((Lqe,F0)=>{var K7=(t,e)=>{let r=[];for(let n=0;n<t.length;n+=e)r.push(t.slice(n,e+n));return r};F0.exports={chunkArray:K7}});var H0=g((Fqe,q0)=>{q0.exports=class{constructor({id:e,threadId:r,labelIds:n,subject:o,from:i,to:s,date:a,body:c}){this.PK="MESSAGE",this.SK=`MESSAGE#GMAIL#${e}`,this.id=e,this.threadId=r||void 0,this.labelIds=n||void 0,this.subject=o||void 0,this.from=i,this.to=s||void 0,this.date=a,this.body=c||void 0}}});var Zr=g((Bqe,Y0)=>{var gm=Object.defineProperty,W7=Object.getOwnPropertyDescriptor,Q7=Object.getOwnPropertyNames,Y7=Object.prototype.hasOwnProperty,ym=(t,e)=>gm(t,"name",{value:e,configurable:!0}),J7=(t,e)=>{for(var r in e)gm(t,r,{get:e[r],enumerable:!0})},X7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Q7(e))!Y7.call(t,o)&&o!==r&&gm(t,o,{get:()=>e[o],enumerable:!(n=W7(e,o))||n.enumerable});return t},Z7=t=>X7(gm({},"__esModule",{value:!0}),t),j0={};J7(j0,{AlgorithmId:()=>V0,EndpointURLScheme:()=>z0,FieldPosition:()=>K0,HttpApiKeyAuthLocation:()=>$0,HttpAuthLocation:()=>G0,IniSectionType:()=>W0,RequestHandlerProtocol:()=>Q0,SMITHY_CONTEXT_KEY:()=>oZ,getDefaultClientConfiguration:()=>rZ,resolveDefaultRuntimeConfig:()=>nZ});Y0.exports=Z7(j0);var G0=(t=>(t.HEADER="header",t.QUERY="query",t))(G0||{}),$0=(t=>(t.HEADER="header",t.QUERY="query",t))($0||{}),z0=(t=>(t.HTTP="http",t.HTTPS="https",t))(z0||{}),V0=(t=>(t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256",t))(V0||{}),eZ=ym(t=>{let e=[];return t.sha256!==void 0&&e.push({algorithmId:()=>"sha256",checksumConstructor:()=>t.sha256}),t.md5!=null&&e.push({algorithmId:()=>"md5",checksumConstructor:()=>t.md5}),{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),tZ=ym(t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},"resolveChecksumRuntimeConfig"),rZ=ym(t=>({...eZ(t)}),"getDefaultClientConfiguration"),nZ=ym(t=>({...tZ(t)}),"resolveDefaultRuntimeConfig"),K0=(t=>(t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER",t))(K0||{}),oZ="__smithy_context",W0=(t=>(t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services",t))(W0||{}),Q0=(t=>(t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0",t))(Q0||{})});var Ne=g((Gqe,iP)=>{var _m=Object.defineProperty,iZ=Object.getOwnPropertyDescriptor,sZ=Object.getOwnPropertyNames,aZ=Object.prototype.hasOwnProperty,To=(t,e)=>_m(t,"name",{value:e,configurable:!0}),cZ=(t,e)=>{for(var r in e)_m(t,r,{get:e[r],enumerable:!0})},dZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of sZ(e))!aZ.call(t,o)&&o!==r&&_m(t,o,{get:()=>e[o],enumerable:!(n=iZ(e,o))||n.enumerable});return t},lZ=t=>dZ(_m({},"__esModule",{value:!0}),t),J0={};cZ(J0,{Field:()=>mZ,Fields:()=>hZ,HttpRequest:()=>fZ,HttpResponse:()=>gZ,IHttpRequest:()=>X0.HttpRequest,getHttpHandlerExtensionConfiguration:()=>uZ,isValidHostname:()=>oP,resolveHttpHandlerRuntimeConfig:()=>pZ});iP.exports=lZ(J0);var uZ=To(t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,n){e.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),pZ=To(t=>({httpHandler:t.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),X0=Zr(),Z0=class{constructor({name:e,kind:r=X0.FieldPosition.HEADER,values:n=[]}){this.name=e,this.kind=r,this.values=n}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(r=>r!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}};To(Z0,"Field");var mZ=Z0,eP=class{constructor({fields:e=[],encoding:r="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=r}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(r=>r.kind===e)}};To(eP,"Fields");var hZ=eP,tP=class Q_{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new Q_({...e,headers:{...e.headers}});return r.query&&(r.query=rP(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Q_.clone(this)}};To(tP,"HttpRequest");var fZ=tP;function rP(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}To(rP,"cloneQuery");var nP=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};To(nP,"HttpResponse");var gZ=nP;function oP(t){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(t)}To(oP,"isValidHostname")});var aP=g(($qe,sP)=>{function Nn(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}Nn.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(Nn.prototype[Symbol.iterator]=function(){return this});Nn.of=function(){var t=arguments,e=t.length,r=0;return new Nn(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};Nn.empty=function(){var t=new Nn(null);return t.done=!0,t};Nn.is=function(t){return t instanceof Nn?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};sP.exports=Nn});var Y_=g((zqe,uP)=>{var cP=typeof ArrayBuffer<"u",dP=typeof Symbol<"u";function lP(t,e){var r,n,o,i,s;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||cP&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(o=0,i=t.length;o<i;o++)e(t[o],o);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(dP&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,o=0;s=r.next(),s.done!==!0;)e(s.value,o),o++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)}lP.forEachWithNullKeys=function(t,e){var r,n,o,i,s;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||cP&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(o=0,i=t.length;o<i;o++)e(t[o],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(dP&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,o=0;s=r.next(),s.done!==!0;)e(s.value,null),o++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)};uP.exports=lP});var J_=g(en=>{var yZ=Math.pow(2,8)-1,_Z=Math.pow(2,16)-1,vZ=Math.pow(2,32)-1,EZ=Math.pow(2,7)-1,CZ=Math.pow(2,15)-1,SZ=Math.pow(2,31)-1;en.getPointerArray=function(t){var e=t-1;return e<=yZ?Uint8Array:e<=_Z?Uint16Array:e<=vZ?Uint32Array:Float64Array};en.getSignedPointerArray=function(t){var e=t-1;return e<=EZ?Int8Array:e<=CZ?Int16Array:e<=SZ?Int32Array:Float64Array};en.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var TZ={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};en.getMinimalRepresentation=function(t,e){var r=null,n=0,o,i,s,a,c;for(a=0,c=t.length;a<c;a++)s=e?e(t[a]):t[a],i=en.getNumberType(s),o=TZ[i.name],o>n&&(n=o,r=i);return r};en.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};en.concat=function(){var t=0,e,r,n;for(e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=new arguments[0].constructor(t);for(e=0,r=0;e<n;e++)o.set(arguments[e],r),r+=arguments[e].length;return o};en.indices=function(t){for(var e=en.getPointerArray(t),r=new e(t),n=0;n<t;n++)r[n]=n;return r}});var hP=g(bd=>{var pP=Y_(),mP=J_();function AZ(t){return Array.isArray(t)||mP.isTypedArray(t)}function X_(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function bZ(t){var e=X_(t),r=typeof e=="number"?new Array(e):[],n=0;return pP(t,function(o){r[n++]=o}),r}function IZ(t){var e=X_(t),r=typeof e=="number"?mP.getPointerArray(e):Array,n=typeof e=="number"?new Array(e):[],o=typeof e=="number"?new r(e):[],i=0;return pP(t,function(s){n[i]=s,o[i]=i++}),[n,o]}bd.isArrayLike=AZ;bd.guessLength=X_;bd.toArray=bZ;bd.toArrayWithIndices=IZ});var gP=g((Wqe,fP)=>{var Z_=aP(),RZ=Y_(),wZ=J_(),PZ=hP();function ot(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=wZ.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}ot.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};ot.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],n=this.forward[t];return this.tail===t?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[e]=t,this.head=t,this.forward[t]=e,this};ot.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};ot.prototype.setpop=function(t,e){var r=null,n=null,o=this.items[t];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[t]=o,this.K[o]=t,this.V[o]=e,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};ot.prototype.has=function(t){return t in this.items};ot.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};ot.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};ot.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,n=this.size,o=this.head,i=this.K,s=this.V,a=this.forward;r<n;)t.call(e,s[o],i[o],this),o=a[o],r++};ot.prototype.keys=function(){var t=0,e=this.size,r=this.head,n=this.K,o=this.forward;return new Z_(function(){if(t>=e)return{done:!0};var i=n[r];return t++,t<e&&(r=o[r]),{done:!1,value:i}})};ot.prototype.values=function(){var t=0,e=this.size,r=this.head,n=this.V,o=this.forward;return new Z_(function(){if(t>=e)return{done:!0};var i=n[r];return t++,t<e&&(r=o[r]),{done:!1,value:i}})};ot.prototype.entries=function(){var t=0,e=this.size,r=this.head,n=this.K,o=this.V,i=this.forward;return new Z_(function(){if(t>=e)return{done:!0};var s=n[r],a=o[r];return t++,t<e&&(r=i[r]),{done:!1,value:[s,a]}})};typeof Symbol<"u"&&(ot.prototype[Symbol.iterator]=ot.prototype.entries);ot.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:ot,enumerable:!1}),t};typeof Symbol<"u"&&(ot.prototype[Symbol.for("nodejs.util.inspect.custom")]=ot.prototype.inspect);ot.from=function(t,e,r,n){if(arguments.length<2){if(n=PZ.guessLength(t),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=e,e=null,r=null);var o=new ot(e,r,n);return RZ(t,function(i,s){o.set(s,i)}),o};fP.exports=ot});var CP=g((Yqe,EP)=>{"use strict";var OZ=Object.create,Id=Object.defineProperty,xZ=Object.getOwnPropertyDescriptor,NZ=Object.getOwnPropertyNames,DZ=Object.getPrototypeOf,kZ=Object.prototype.hasOwnProperty,MZ=(t,e)=>Id(t,"name",{value:e,configurable:!0}),LZ=(t,e)=>{for(var r in e)Id(t,r,{get:e[r],enumerable:!0})},yP=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of NZ(e))!kZ.call(t,o)&&o!==r&&Id(t,o,{get:()=>e[o],enumerable:!(n=xZ(e,o))||n.enumerable});return t},UZ=(t,e,r)=>(r=t!=null?OZ(DZ(t)):{},yP(e||!t||!t.__esModule?Id(r,"default",{value:t,enumerable:!0}):r,t)),FZ=t=>yP(Id({},"__esModule",{value:!0}),t),_P={};LZ(_P,{EndpointCache:()=>qZ});EP.exports=FZ(_P);var BZ=UZ(gP()),vP=class{constructor(e){this.cache=new BZ.default(e)}getEndpoint(e){let r=this.get(e);if(!r||r.length===0)return;let n=r.map(o=>o.Address);return n[Math.floor(Math.random()*n.length)]}get(e){if(!this.has(e))return;let r=this.cache.get(e);if(!r)return;let n=Date.now(),o=r.filter(i=>n<i.Expires);if(o.length===0){this.delete(e);return}return o}set(e,r){let n=Date.now();this.cache.set(e,r.map(({Address:o,CachePeriodInMinutes:i})=>({Address:o,Expires:n+i*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let r=this.cache.peek(e);return r?r.length>0:!1}clear(){this.cache.clear()}};MZ(vP,"EndpointCache");var qZ=vP});var rv=g((Jqe,IP)=>{"use strict";var vm=Object.defineProperty,HZ=Object.getOwnPropertyDescriptor,jZ=Object.getOwnPropertyNames,GZ=Object.prototype.hasOwnProperty,Ao=(t,e)=>vm(t,"name",{value:e,configurable:!0}),$Z=(t,e)=>{for(var r in e)vm(t,r,{get:e[r],enumerable:!0})},zZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of jZ(e))!GZ.call(t,o)&&o!==r&&vm(t,o,{get:()=>e[o],enumerable:!(n=HZ(e,o))||n.enumerable});return t},VZ=t=>zZ(vm({},"__esModule",{value:!0}),t),bP={};$Z(bP,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>KZ,endpointDiscoveryMiddlewareOptions:()=>Em,getEndpointDiscoveryOptionalPlugin:()=>XZ,getEndpointDiscoveryPlugin:()=>YZ,getEndpointDiscoveryRequiredPlugin:()=>JZ,resolveEndpointDiscoveryConfig:()=>eee});IP.exports=VZ(bP);var SP=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],ev="endpoint_discovery_enabled",TP=Ao(t=>["false","0"].indexOf(t)>=0,"isFalsy"),KZ={environmentVariableSelector:t=>{for(let e=0;e<SP.length;e++){let r=SP[e];if(r in t){let n=t[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!TP(n)}}},configFileSelector:t=>{if(ev in t){let e=t[ev];if(e===void 0)throw Error(`Shared config entry ${ev} can't be undefined, got "${e}"`);return!TP(e)}},default:void 0},WZ=Ne(),QZ=Ao(async(t,e,r)=>{let{accessKeyId:n}=await e.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:t,identifiers:Object.entries(o).sort().reduce((i,[s,a])=>({...i,[s]:a}),{})}})},"getCacheKey"),Dn={},AP=Ao(async(t,e)=>new Promise((r,n)=>{let{endpointCache:o}=t,{cacheKey:i,commandName:s,identifiers:a}=e,c=o.get(i);if(c&&c.length===1&&c[0].Address==="")e.isDiscoveredEndpointRequired?(Dn[i]||(Dn[i]=[]),Dn[i].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let d=[{Address:"",CachePeriodInMinutes:1}];o.set(i,d);let u=new e.endpointDiscoveryCommandCtor({Operation:s.slice(0,-7),Identifiers:a});u.resolveMiddleware(e.clientStack,t,e.options)(u).then(f=>{o.set(i,f.output.Endpoints),Dn[i]&&(Dn[i].forEach(({resolve:h})=>{h()}),delete Dn[i]),r()}).catch(f=>{o.delete(i);let h=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:f});Dn[i]&&(Dn[i].forEach(({reject:y})=>{y(h)}),delete Dn[i]),e.isDiscoveredEndpointRequired?n(h):(o.set(i,d),r())})}}),"updateDiscoveredEndpointInCache"),tv=Ao((t,e)=>(r,n)=>async o=>{if(t.isCustomEndpoint){if(t.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:i}=t,{isDiscoveredEndpointRequired:s,identifiers:a}=e,c=n.clientName,d=n.commandName,u=await t.endpointDiscoveryEnabled(),m=await QZ(d,t,{identifiers:a});if(s){if(u===!1)throw new Error(`Endpoint Discovery is disabled but ${d} on ${c} requires it. Please check your configurations.`);await AP(t,{...e,commandName:d,cacheKey:m,endpointDiscoveryCommandCtor:i})}else u&&AP(t,{...e,commandName:d,cacheKey:m,endpointDiscoveryCommandCtor:i});let{request:f}=o;if(m&&WZ.HttpRequest.isInstance(f)){let h=t.endpointCache.getEndpoint(m);h&&(f.hostname=h)}return r(o)},"endpointDiscoveryMiddleware"),Em={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},YZ=Ao((t,e)=>({applyToStack:r=>{r.add(tv(t,e),Em)}}),"getEndpointDiscoveryPlugin"),JZ=Ao((t,e)=>({applyToStack:r=>{r.add(tv(t,{...e,isDiscoveredEndpointRequired:!0}),Em)}}),"getEndpointDiscoveryRequiredPlugin"),XZ=Ao((t,e)=>({applyToStack:r=>{r.add(tv(t,{...e,isDiscoveredEndpointRequired:!1}),Em)}}),"getEndpointDiscoveryOptionalPlugin"),ZZ=CP(),eee=Ao((t,{endpointDiscoveryCommandCtor:e})=>({...t,endpointDiscoveryCommandCtor:e,endpointCache:new ZZ.EndpointCache(t.endpointCacheSize??1e3),endpointDiscoveryEnabled:t.endpointDiscoveryEnabled!==void 0?()=>Promise.resolve(t.endpointDiscoveryEnabled):t.endpointDiscoveryEnabledProvider,isClientEndpointDiscoveryEnabled:t.endpointDiscoveryEnabled!==void 0}),"resolveEndpointDiscoveryConfig")});var ea=g((Xqe,xP)=>{"use strict";var Cm=Object.defineProperty,tee=Object.getOwnPropertyDescriptor,ree=Object.getOwnPropertyNames,nee=Object.prototype.hasOwnProperty,nv=(t,e)=>Cm(t,"name",{value:e,configurable:!0}),oee=(t,e)=>{for(var r in e)Cm(t,r,{get:e[r],enumerable:!0})},iee=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ree(e))!nee.call(t,o)&&o!==r&&Cm(t,o,{get:()=>e[o],enumerable:!(n=tee(e,o))||n.enumerable});return t},see=t=>iee(Cm({},"__esModule",{value:!0}),t),RP={};oee(RP,{getHostHeaderPlugin:()=>cee,hostHeaderMiddleware:()=>PP,hostHeaderMiddlewareOptions:()=>OP,resolveHostHeaderConfig:()=>wP});xP.exports=see(RP);var aee=Ne();function wP(t){return t}nv(wP,"resolveHostHeaderConfig");var PP=nv(t=>e=>async r=>{if(!aee.HttpRequest.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:o=""}=t.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return e(r)},"hostHeaderMiddleware"),OP={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},cee=nv(t=>({applyToStack:e=>{e.add(PP(t),OP)}}),"getHostHeaderPlugin")});var ta=g((Zqe,LP)=>{"use strict";var Sm=Object.defineProperty,dee=Object.getOwnPropertyDescriptor,lee=Object.getOwnPropertyNames,uee=Object.prototype.hasOwnProperty,NP=(t,e)=>Sm(t,"name",{value:e,configurable:!0}),pee=(t,e)=>{for(var r in e)Sm(t,r,{get:e[r],enumerable:!0})},mee=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of lee(e))!uee.call(t,o)&&o!==r&&Sm(t,o,{get:()=>e[o],enumerable:!(n=dee(e,o))||n.enumerable});return t},hee=t=>mee(Sm({},"__esModule",{value:!0}),t),DP={};pee(DP,{getLoggerPlugin:()=>fee,loggerMiddleware:()=>kP,loggerMiddlewareOptions:()=>MP});LP.exports=hee(DP);var kP=NP(()=>(t,e)=>async r=>{var n,o;try{let i=await t(r),{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:m}=d,f=u??e.inputFilterSensitiveLog,h=m??e.outputFilterSensitiveLog,{$metadata:y,...E}=i.output;return(n=c?.info)==null||n.call(c,{clientName:s,commandName:a,input:f(r.input),output:h(E),metadata:y}),i}catch(i){let{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:u}=d,m=u??e.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:s,commandName:a,input:m(r.input),error:i,metadata:i.$metadata}),i}},"loggerMiddleware"),MP={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},fee=NP(t=>({applyToStack:e=>{e.add(kP(),MP)}}),"getLoggerPlugin")});var ra=g((e1e,HP)=>{"use strict";var Tm=Object.defineProperty,gee=Object.getOwnPropertyDescriptor,yee=Object.getOwnPropertyNames,_ee=Object.prototype.hasOwnProperty,ov=(t,e)=>Tm(t,"name",{value:e,configurable:!0}),vee=(t,e)=>{for(var r in e)Tm(t,r,{get:e[r],enumerable:!0})},Eee=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of yee(e))!_ee.call(t,o)&&o!==r&&Tm(t,o,{get:()=>e[o],enumerable:!(n=gee(e,o))||n.enumerable});return t},Cee=t=>Eee(Tm({},"__esModule",{value:!0}),t),FP={};vee(FP,{addRecursionDetectionMiddlewareOptions:()=>qP,getRecursionDetectionPlugin:()=>bee,recursionDetectionMiddleware:()=>BP});HP.exports=Cee(FP);var See=Ne(),UP="X-Amzn-Trace-Id",Tee="AWS_LAMBDA_FUNCTION_NAME",Aee="_X_AMZN_TRACE_ID",BP=ov(t=>e=>async r=>{let{request:n}=r;if(!See.HttpRequest.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(UP))return e(r);let o=process.env[Tee],i=process.env[Aee],s=ov(a=>typeof a=="string"&&a.length>0,"nonEmptyString");return s(o)&&s(i)&&(n.headers[UP]=i),e({...r,request:n})},"recursionDetectionMiddleware"),qP={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},bee=ov(t=>({applyToStack:e=>{e.add(BP(t),qP)}}),"getRecursionDetectionPlugin")});var Vi=g((r1e,JP)=>{var Am=Object.defineProperty,Iee=Object.getOwnPropertyDescriptor,Ree=Object.getOwnPropertyNames,wee=Object.prototype.hasOwnProperty,ve=(t,e)=>Am(t,"name",{value:e,configurable:!0}),Pee=(t,e)=>{for(var r in e)Am(t,r,{get:e[r],enumerable:!0})},Oee=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ree(e))!wee.call(t,o)&&o!==r&&Am(t,o,{get:()=>e[o],enumerable:!(n=Iee(e,o))||n.enumerable});return t},xee=t=>Oee(Am({},"__esModule",{value:!0}),t),jP={};Pee(jP,{EndpointError:()=>Kt,customEndpointFunctions:()=>sv,isIpAddress:()=>GP,isValidHostLabel:()=>cv,resolveEndpoint:()=>Yee});JP.exports=xee(jP);var Nee=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),GP=ve(t=>Nee.test(t)||t.startsWith("[")&&t.endsWith("]"),"isIpAddress"),Dee=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),cv=ve((t,e=!1)=>{if(!e)return Dee.test(t);let r=t.split(".");for(let n of r)if(!cv(n))return!1;return!0},"isValidHostLabel"),sv={},Rd="endpoints";function kn(t){return typeof t!="object"||t==null?t:"ref"in t?`$${kn(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(kn).join(", ")})`:JSON.stringify(t,null,2)}ve(kn,"toDebugString");var $P=class extends Error{constructor(e){super(e),this.name="EndpointError"}};ve($P,"EndpointError");var Kt=$P,kee=ve((t,e)=>t===e,"booleanEquals"),Mee=ve(t=>{let e=t.split("."),r=[];for(let n of e){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Kt(`Path: '${t}' does not end with ']'`);let i=n.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new Kt(`Invalid array index: '${i}' in path: '${t}'`);o!==0&&r.push(n.slice(0,o)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),zP=ve((t,e)=>Mee(e).reduce((r,n)=>{if(typeof r!="object")throw new Kt(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),"getAttr"),Lee=ve(t=>t!=null,"isSet"),Uee=ve(t=>!t,"not"),av=Zr(),iv={[av.EndpointURLScheme.HTTP]:80,[av.EndpointURLScheme.HTTPS]:443},Fee=ve(t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:f,port:h,protocol:y="",path:E="",query:b={}}=t,w=new URL(`${y}//${f}${h?`:${h}`:""}${E}`);return w.search=Object.entries(b).map(([x,K])=>`${x}=${K}`).join("&"),w}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:o,pathname:i,protocol:s,search:a}=e;if(a)return null;let c=s.slice(0,-1);if(!Object.values(av.EndpointURLScheme).includes(c))return null;let d=GP(o),u=r.includes(`${n}:${iv[c]}`)||typeof t=="string"&&t.includes(`${n}:${iv[c]}`),m=`${n}${u?`:${iv[c]}`:""}`;return{scheme:c,authority:m,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:d}},"parseURL"),Bee=ve((t,e)=>t===e,"stringEquals"),qee=ve((t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),"substring"),Hee=ve(t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),jee={booleanEquals:kee,getAttr:zP,isSet:Lee,isValidHostLabel:cv,not:Uee,parseURL:Fee,stringEquals:Bee,substring:qee,uriEncode:Hee},VP=ve((t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},o=0;for(;o<t.length;){let i=t.indexOf("{",o);if(i===-1){r.push(t.slice(o));break}r.push(t.slice(o,i));let s=t.indexOf("}",i);if(s===-1){r.push(t.slice(i));break}t[i+1]==="{"&&t[s+1]==="}"&&(r.push(t.slice(i+1,s)),o=s+2);let a=t.substring(i+1,s);if(a.includes("#")){let[c,d]=a.split("#");r.push(zP(n[c],d))}else r.push(n[a]);o=s+1}return r.join("")},"evaluateTemplate"),Gee=ve(({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],"getReferenceValue"),bm=ve((t,e,r)=>{if(typeof t=="string")return VP(t,r);if(t.fn)return KP(t,r);if(t.ref)return Gee(t,r);throw new Kt(`'${e}': ${String(t)} is not a string, function or reference.`)},"evaluateExpression"),KP=ve(({fn:t,argv:e},r)=>{let n=e.map(i=>["boolean","number"].includes(typeof i)?i:bm(i,"arg",r)),o=t.split(".");return o[0]in sv&&o[1]!=null?sv[o[0]][o[1]](...n):jee[t](...n)},"callFunction"),$ee=ve(({assign:t,...e},r)=>{var n,o;if(t&&t in r.referenceRecord)throw new Kt(`'${t}' is already defined in Reference Record.`);let i=KP(e,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,`${Rd} evaluateCondition: ${kn(e)} = ${kn(i)}`),{result:i===""?!0:!!i,...t!=null&&{toAssign:{name:t,value:i}}}},"evaluateCondition"),dv=ve((t=[],e)=>{var r,n;let o={};for(let i of t){let{result:s,toAssign:a}=$ee(i,{...e,referenceRecord:{...e.referenceRecord,...o}});if(!s)return{result:s};a&&(o[a.name]=a.value,(n=(r=e.logger)==null?void 0:r.debug)==null||n.call(r,`${Rd} assign: ${a.name} := ${kn(a.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),zee=ve((t,e)=>Object.entries(t).reduce((r,[n,o])=>({...r,[n]:o.map(i=>{let s=bm(i,"Header value entry",e);if(typeof s!="string")throw new Kt(`Header '${n}' value '${s}' is not a string`);return s})}),{}),"getEndpointHeaders"),WP=ve((t,e)=>{if(Array.isArray(t))return t.map(r=>WP(r,e));switch(typeof t){case"string":return VP(t,e);case"object":if(t===null)throw new Kt(`Unexpected endpoint property: ${t}`);return QP(t,e);case"boolean":return t;default:throw new Kt(`Unexpected endpoint property type: ${typeof t}`)}},"getEndpointProperty"),QP=ve((t,e)=>Object.entries(t).reduce((r,[n,o])=>({...r,[n]:WP(o,e)}),{}),"getEndpointProperties"),Vee=ve((t,e)=>{let r=bm(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Kt(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),Kee=ve((t,e)=>{var r,n;let{conditions:o,endpoint:i}=t,{result:s,referenceRecord:a}=dv(o,e);if(!s)return;let c={...e,referenceRecord:{...e.referenceRecord,...a}},{url:d,properties:u,headers:m}=i;return(n=(r=e.logger)==null?void 0:r.debug)==null||n.call(r,`${Rd} Resolving endpoint from template: ${kn(i)}`),{...m!=null&&{headers:zee(m,c)},...u!=null&&{properties:QP(u,c)},url:Vee(d,c)}},"evaluateEndpointRule"),Wee=ve((t,e)=>{let{conditions:r,error:n}=t,{result:o,referenceRecord:i}=dv(r,e);if(o)throw new Kt(bm(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},"evaluateErrorRule"),Qee=ve((t,e)=>{let{conditions:r,rules:n}=t,{result:o,referenceRecord:i}=dv(r,e);if(o)return YP(n,{...e,referenceRecord:{...e.referenceRecord,...i}})},"evaluateTreeRule"),YP=ve((t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=Kee(r,e);if(n)return n}else if(r.type==="error")Wee(r,e);else if(r.type==="tree"){let n=Qee(r,e);if(n)return n}else throw new Kt(`Unknown endpoint rule: ${r}`);throw new Kt("Rules evaluation failed")},"evaluateRules"),Yee=ve((t,e)=>{var r,n,o,i,s;let{endpointParams:a,logger:c}=e,{parameters:d,rules:u}=t;(n=(r=e.logger)==null?void 0:r.debug)==null||n.call(r,`${Rd} Initial EndpointParams: ${kn(a)}`);let m=Object.entries(d).filter(([,y])=>y.default!=null).map(([y,E])=>[y,E.default]);if(m.length>0)for(let[y,E]of m)a[y]=a[y]??E;let f=Object.entries(d).filter(([,y])=>y.required).map(([y])=>y);for(let y of f)if(a[y]==null)throw new Kt(`Missing required parameter: '${y}'`);let h=YP(u,{endpointParams:a,logger:c,referenceRecord:{}});if((o=e.endpointParams)!=null&&o.Endpoint)try{let y=new URL(e.endpointParams.Endpoint),{protocol:E,port:b}=y;h.url.protocol=E,h.url.port=b}catch{}return(s=(i=e.logger)==null?void 0:i.debug)==null||s.call(i,`${Rd} Resolved endpoint: ${kn(h)}`),h},"resolveEndpoint")});var Ki=g((n1e,aO)=>{"use strict";var Im=Object.defineProperty,Jee=Object.getOwnPropertyDescriptor,Xee=Object.getOwnPropertyNames,Zee=Object.prototype.hasOwnProperty,na=(t,e)=>Im(t,"name",{value:e,configurable:!0}),ete=(t,e)=>{for(var r in e)Im(t,r,{get:e[r],enumerable:!0})},tte=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Xee(e))!Zee.call(t,o)&&o!==r&&Im(t,o,{get:()=>e[o],enumerable:!(n=Jee(e,o))||n.enumerable});return t},rte=t=>tte(Im({},"__esModule",{value:!0}),t),ZP={};ete(ZP,{ConditionObject:()=>Te.ConditionObject,DeprecatedObject:()=>Te.DeprecatedObject,EndpointError:()=>Te.EndpointError,EndpointObject:()=>Te.EndpointObject,EndpointObjectHeaders:()=>Te.EndpointObjectHeaders,EndpointObjectProperties:()=>Te.EndpointObjectProperties,EndpointParams:()=>Te.EndpointParams,EndpointResolverOptions:()=>Te.EndpointResolverOptions,EndpointRuleObject:()=>Te.EndpointRuleObject,ErrorRuleObject:()=>Te.ErrorRuleObject,EvaluateOptions:()=>Te.EvaluateOptions,Expression:()=>Te.Expression,FunctionArgv:()=>Te.FunctionArgv,FunctionObject:()=>Te.FunctionObject,FunctionReturn:()=>Te.FunctionReturn,ParameterObject:()=>Te.ParameterObject,ReferenceObject:()=>Te.ReferenceObject,ReferenceRecord:()=>Te.ReferenceRecord,RuleSetObject:()=>Te.RuleSetObject,RuleSetRules:()=>Te.RuleSetRules,TreeRuleObject:()=>Te.TreeRuleObject,awsEndpointFunctions:()=>sO,getUserAgentPrefix:()=>ste,isIpAddress:()=>Te.isIpAddress,partition:()=>oO,resolveEndpoint:()=>Te.resolveEndpoint,setPartitionInfo:()=>iO,useDefaultPartitionInfo:()=>ite});aO.exports=rte(ZP);var Te=Vi(),eO=na((t,e=!1)=>{if(e){for(let r of t.split("."))if(!eO(r))return!1;return!0}return!(!(0,Te.isValidHostLabel)(t)||t.length<3||t.length>63||t!==t.toLowerCase()||(0,Te.isIpAddress)(t))},"isVirtualHostableS3Bucket"),XP=":",nte="/",ote=na(t=>{let e=t.split(XP);if(e.length<6)return null;let[r,n,o,i,s,...a]=e;if(r!=="arn"||n===""||o===""||a.join(XP)==="")return null;let c=a.map(d=>d.split(nte)).flat();return{partition:n,service:o,region:i,accountId:s,resourceId:c}},"parseArn"),tO={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},rO=tO,nO="",oO=na(t=>{let{partitions:e}=rO;for(let n of e){let{regions:o,outputs:i}=n;for(let[s,a]of Object.entries(o))if(s===t)return{...i,...a}}for(let n of e){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(t))return{...i}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),iO=na((t,e="")=>{rO=t,nO=e},"setPartitionInfo"),ite=na(()=>{iO(tO,"")},"useDefaultPartitionInfo"),ste=na(()=>nO,"getUserAgentPrefix"),sO={isVirtualHostableS3Bucket:eO,parseArn:ote,partition:oO};Te.customEndpointFunctions.aws=sO});var oa=g((o1e,fO)=>{"use strict";var Rm=Object.defineProperty,ate=Object.getOwnPropertyDescriptor,cte=Object.getOwnPropertyNames,dte=Object.prototype.hasOwnProperty,wm=(t,e)=>Rm(t,"name",{value:e,configurable:!0}),lte=(t,e)=>{for(var r in e)Rm(t,r,{get:e[r],enumerable:!0})},ute=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of cte(e))!dte.call(t,o)&&o!==r&&Rm(t,o,{get:()=>e[o],enumerable:!(n=ate(e,o))||n.enumerable});return t},pte=t=>ute(Rm({},"__esModule",{value:!0}),t),uO={};lte(uO,{getUserAgentMiddlewareOptions:()=>hO,getUserAgentPlugin:()=>yte,resolveUserAgentConfig:()=>pO,userAgentMiddleware:()=>mO});fO.exports=pte(uO);function pO(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}wm(pO,"resolveUserAgentConfig");var mte=Ki(),hte=Ne(),cO="user-agent",lv="x-amz-user-agent",dO=" ",uv="/",fte=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,gte=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,lO="-",mO=wm(t=>(e,r)=>async n=>{var o,i;let{request:s}=n;if(!hte.HttpRequest.isInstance(s))return e(n);let{headers:a}=s,c=((o=r?.userAgent)==null?void 0:o.map(pv))||[],d=(await t.defaultUserAgentProvider()).map(pv),u=((i=t?.customUserAgent)==null?void 0:i.map(pv))||[],m=(0,mte.getUserAgentPrefix)(),f=(m?[m]:[]).concat([...d,...c,...u]).join(dO),h=[...d.filter(y=>y.startsWith("aws-sdk-")),...u].join(dO);return t.runtime!=="browser"?(h&&(a[lv]=a[lv]?`${a[cO]} ${h}`:h),a[cO]=f):a[lv]=f,e({...n,request:s})},"userAgentMiddleware"),pv=wm(t=>{var e;let r=t[0].split(uv).map(a=>a.replace(fte,lO)).join(uv),n=(e=t[1])==null?void 0:e.replace(gte,lO),o=r.indexOf(uv),i=r.substring(0,o),s=r.substring(o+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(a=>a&&a.length>0).reduce((a,c,d)=>{switch(d){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),hO={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},yte=wm(t=>({applyToStack:e=>{e.add(mO(t),hO)}}),"getUserAgentPlugin")});var EO=g((i1e,vO)=>{var Pm=Object.defineProperty,_te=Object.getOwnPropertyDescriptor,vte=Object.getOwnPropertyNames,Ete=Object.prototype.hasOwnProperty,gO=(t,e)=>Pm(t,"name",{value:e,configurable:!0}),Cte=(t,e)=>{for(var r in e)Pm(t,r,{get:e[r],enumerable:!0})},Ste=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of vte(e))!Ete.call(t,o)&&o!==r&&Pm(t,o,{get:()=>e[o],enumerable:!(n=_te(e,o))||n.enumerable});return t},Tte=t=>Ste(Pm({},"__esModule",{value:!0}),t),yO={};Cte(yO,{SelectorType:()=>_O,booleanSelector:()=>Ate,numberSelector:()=>bte});vO.exports=Tte(yO);var Ate=gO((t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}},"booleanSelector"),bte=gO((t,e,r)=>{if(!(e in t))return;let n=parseInt(t[e],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${e}'. Expected number, got '${t[e]}'.`);return n},"numberSelector"),_O=(t=>(t.ENV="env",t.CONFIG="shared config entry",t))(_O||{})});var hr=g((s1e,AO)=>{var Om=Object.defineProperty,Ite=Object.getOwnPropertyDescriptor,Rte=Object.getOwnPropertyNames,wte=Object.prototype.hasOwnProperty,SO=(t,e)=>Om(t,"name",{value:e,configurable:!0}),Pte=(t,e)=>{for(var r in e)Om(t,r,{get:e[r],enumerable:!0})},Ote=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Rte(e))!wte.call(t,o)&&o!==r&&Om(t,o,{get:()=>e[o],enumerable:!(n=Ite(e,o))||n.enumerable});return t},xte=t=>Ote(Om({},"__esModule",{value:!0}),t),TO={};Pte(TO,{getSmithyContext:()=>Nte,normalizeProvider:()=>Dte});AO.exports=xte(TO);var CO=Zr(),Nte=SO(t=>t[CO.SMITHY_CONTEXT_KEY]||(t[CO.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),Dte=SO(t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e},"normalizeProvider")});var fr=g((a1e,MO)=>{var Nm=Object.defineProperty,kte=Object.getOwnPropertyDescriptor,Mte=Object.getOwnPropertyNames,Lte=Object.prototype.hasOwnProperty,Mr=(t,e)=>Nm(t,"name",{value:e,configurable:!0}),Ute=(t,e)=>{for(var r in e)Nm(t,r,{get:e[r],enumerable:!0})},Fte=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Mte(e))!Lte.call(t,o)&&o!==r&&Nm(t,o,{get:()=>e[o],enumerable:!(n=kte(e,o))||n.enumerable});return t},Bte=t=>Fte(Nm({},"__esModule",{value:!0}),t),RO={};Ute(RO,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>PO,CONFIG_USE_FIPS_ENDPOINT:()=>xO,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>qte,DEFAULT_USE_FIPS_ENDPOINT:()=>jte,ENV_USE_DUALSTACK_ENDPOINT:()=>wO,ENV_USE_FIPS_ENDPOINT:()=>OO,NODE_REGION_CONFIG_FILE_OPTIONS:()=>Wte,NODE_REGION_CONFIG_OPTIONS:()=>Kte,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>Hte,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>Gte,REGION_ENV_NAME:()=>NO,REGION_INI_NAME:()=>DO,getRegionInfo:()=>Zte,resolveCustomEndpointsConfig:()=>$te,resolveEndpointsConfig:()=>Vte,resolveRegionConfig:()=>Qte});MO.exports=Bte(RO);var bo=EO(),wO="AWS_USE_DUALSTACK_ENDPOINT",PO="use_dualstack_endpoint",qte=!1,Hte={environmentVariableSelector:t=>(0,bo.booleanSelector)(t,wO,bo.SelectorType.ENV),configFileSelector:t=>(0,bo.booleanSelector)(t,PO,bo.SelectorType.CONFIG),default:!1},OO="AWS_USE_FIPS_ENDPOINT",xO="use_fips_endpoint",jte=!1,Gte={environmentVariableSelector:t=>(0,bo.booleanSelector)(t,OO,bo.SelectorType.ENV),configFileSelector:t=>(0,bo.booleanSelector)(t,xO,bo.SelectorType.CONFIG),default:!1},xm=hr(),$te=Mr(t=>{let{endpoint:e,urlParser:r}=t;return{...t,tls:t.tls??!0,endpoint:(0,xm.normalizeProvider)(typeof e=="string"?r(e):e),isCustomEndpoint:!0,useDualstackEndpoint:(0,xm.normalizeProvider)(t.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),zte=Mr(async t=>{let{tls:e=!0}=t,r=await t.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await t.useDualstackEndpoint(),i=await t.useFipsEndpoint(),{hostname:s}=await t.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})??{};if(!s)throw new Error("Cannot resolve hostname from client config");return t.urlParser(`${e?"https:":"http:"}//${s}`)},"getEndpointFromRegion"),Vte=Mr(t=>{let e=(0,xm.normalizeProvider)(t.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=t;return{...t,tls:t.tls??!0,endpoint:r?(0,xm.normalizeProvider)(typeof r=="string"?o(r):r):()=>zte({...t,useDualstackEndpoint:e,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:e}},"resolveEndpointsConfig"),NO="AWS_REGION",DO="region",Kte={environmentVariableSelector:t=>t[NO],configFileSelector:t=>t[DO],default:()=>{throw new Error("Region is missing")}},Wte={preferredFile:"credentials"},kO=Mr(t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),"isFipsRegion"),bO=Mr(t=>kO(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,"getRealRegion"),Qte=Mr(t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return bO(e);let n=await e();return bO(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return kO(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),IO=Mr((t=[],{useFipsEndpoint:e,useDualstackEndpoint:r})=>{var n;return(n=t.find(({tags:o})=>e===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),Yte=Mr((t,{regionHostname:e,partitionHostname:r})=>e||(r?r.replace("{region}",t):void 0),"getResolvedHostname"),Jte=Mr((t,{partitionHash:e})=>Object.keys(e||{}).find(r=>e[r].regions.includes(t))??"aws","getResolvedPartition"),Xte=Mr((t,{signingRegion:e,regionRegex:r,useFipsEndpoint:n})=>{if(e)return e;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=t.match(o);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),Zte=Mr((t,{useFipsEndpoint:e=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:i})=>{var s,a,c,d,u;let m=Jte(t,{partitionHash:i}),f=t in o?t:((s=i[m])==null?void 0:s.endpoint)??t,h={useFipsEndpoint:e,useDualstackEndpoint:r},y=IO((a=o[f])==null?void 0:a.variants,h),E=IO((c=i[m])==null?void 0:c.variants,h),b=Yte(f,{regionHostname:y,partitionHostname:E});if(b===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:f,useFipsEndpoint:e,useDualstackEndpoint:r}}`);let w=Xte(b,{signingRegion:(d=o[f])==null?void 0:d.signingRegion,regionRegex:i[m].regionRegex,useFipsEndpoint:e});return{partition:m,signingService:n,hostname:b,...w&&{signingRegion:w},...((u=o[f])==null?void 0:u.signingService)&&{signingService:o[f].signingService}}},"getRegionInfo")});function ere(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var c1e,LO,wd,Dm=v(()=>{c1e=ae(Zr()),LO=ae(hr());wd=(t,e)=>(r,n)=>async o=>{let i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,o.input)),s=ere(t.httpAuthSchemes),a=(0,LO.getSmithyContext)(n),c=[];for(let d of i){let u=s.get(d.schemeId);if(!u){c.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let m=u.identityProvider(await e.identityProviderConfigProvider(t));if(!m){c.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:f={},signingProperties:h={}}=d.propertiesExtractor?.(t,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},f),d.signingProperties=Object.assign(d.signingProperties||{},h),a.selectedHttpAuthScheme={httpAuthOption:d,identity:await m(d.identityProperties),signer:u.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return r(o)}});var Mt=g((u1e,$O)=>{var km=Object.defineProperty,tre=Object.getOwnPropertyDescriptor,rre=Object.getOwnPropertyNames,nre=Object.prototype.hasOwnProperty,Wi=(t,e)=>km(t,"name",{value:e,configurable:!0}),ore=(t,e)=>{for(var r in e)km(t,r,{get:e[r],enumerable:!0})},ire=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of rre(e))!nre.call(t,o)&&o!==r&&km(t,o,{get:()=>e[o],enumerable:!(n=tre(e,o))||n.enumerable});return t},sre=t=>ire(km({},"__esModule",{value:!0}),t),UO={};ore(UO,{CredentialsProviderError:()=>are,ProviderError:()=>Mm,TokenProviderError:()=>cre,chain:()=>dre,fromStatic:()=>lre,memoize:()=>ure});$O.exports=sre(UO);var FO=class BO extends Error{constructor(e,r=!0){var n;let o,i=!0;typeof r=="boolean"?(o=void 0,i=r):r!=null&&typeof r=="object"&&(o=r.logger,i=r.tryNextLink??!0),super(e),this.name="ProviderError",this.tryNextLink=i,Object.setPrototypeOf(this,BO.prototype),(n=o?.debug)==null||n.call(o,`@smithy/property-provider ${i?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}};Wi(FO,"ProviderError");var Mm=FO,qO=class HO extends Mm{constructor(e,r=!0){super(e,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,HO.prototype)}};Wi(qO,"CredentialsProviderError");var are=qO,jO=class GO extends Mm{constructor(e,r=!0){super(e,r),this.name="TokenProviderError",Object.setPrototypeOf(this,GO.prototype)}};Wi(jO,"TokenProviderError");var cre=jO,dre=Wi((...t)=>async()=>{if(t.length===0)throw new Mm("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e},"chain"),lre=Wi(t=>()=>Promise.resolve(t),"fromStatic"),ure=Wi((t,e,r)=>{let n,o,i,s=!1,a=Wi(async()=>{o||(o=t());try{n=await o,i=!0,s=!1}finally{o=void 0}return n},"coalesceProvider");return e===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(e(n)&&await a(),n))},"memoize")});var ia=g(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.getHomeDir=void 0;var pre=require("os"),mre=require("path"),mv={},hre=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",fre=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${mre.sep}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let o=hre();return mv[o]||(mv[o]=(0,pre.homedir)()),mv[o]};Lm.getHomeDir=fre});var hv=g(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.getSSOTokenFilepath=void 0;var gre=require("crypto"),yre=require("path"),_re=ia(),vre=t=>{let r=(0,gre.createHash)("sha1").update(t).digest("hex");return(0,yre.join)((0,_re.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Um.getSSOTokenFilepath=vre});var zO=g(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.getSSOTokenFromFile=void 0;var Ere=require("fs"),Cre=hv(),{readFile:Sre}=Ere.promises,Tre=async t=>{let e=(0,Cre.getSSOTokenFilepath)(t),r=await Sre(e,"utf8");return JSON.parse(r)};Fm.getSSOTokenFromFile=Tre});var gv=g(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.slurpFile=void 0;var Are=require("fs"),{readFile:bre}=Are.promises,fv={},Ire=(t,e)=>((!fv[t]||e?.ignoreCache)&&(fv[t]=bre(t,"utf8")),fv[t]);Bm.slurpFile=Ire});var Io=g((g1e,Od)=>{var jm=Object.defineProperty,Rre=Object.getOwnPropertyDescriptor,wre=Object.getOwnPropertyNames,Pre=Object.prototype.hasOwnProperty,gr=(t,e)=>jm(t,"name",{value:e,configurable:!0}),Ore=(t,e)=>{for(var r in e)jm(t,r,{get:e[r],enumerable:!0})},yv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of wre(e))!Pre.call(t,o)&&o!==r&&jm(t,o,{get:()=>e[o],enumerable:!(n=Rre(e,o))||n.enumerable});return t},vv=(t,e,r)=>(yv(t,e,"default"),r&&yv(r,e,"default")),xre=t=>yv(jm({},"__esModule",{value:!0}),t),Pd={};Ore(Pd,{CONFIG_PREFIX_SEPARATOR:()=>Qi,DEFAULT_PROFILE:()=>QO,ENV_PROFILE:()=>WO,getProfileName:()=>Nre,loadSharedConfigFiles:()=>JO,loadSsoSessionData:()=>zre,parseKnownFiles:()=>Kre});Od.exports=xre(Pd);vv(Pd,ia(),Od.exports);var WO="AWS_PROFILE",QO="default",Nre=gr(t=>t.profile||process.env[WO]||QO,"getProfileName");vv(Pd,hv(),Od.exports);vv(Pd,zO(),Od.exports);var qm=Zr(),Dre=gr(t=>Object.entries(t).filter(([e])=>{let r=e.indexOf(Qi);return r===-1?!1:Object.values(qm.IniSectionType).includes(e.substring(0,r))}).reduce((e,[r,n])=>{let o=r.indexOf(Qi),i=r.substring(0,o)===qm.IniSectionType.PROFILE?r.substring(o+1):r;return e[i]=n,e},{...t.default&&{default:t.default}}),"getConfigData"),Hm=require("path"),kre=ia(),Mre="AWS_CONFIG_FILE",YO=gr(()=>process.env[Mre]||(0,Hm.join)((0,kre.getHomeDir)(),".aws","config"),"getConfigFilepath"),Lre=ia(),Ure="AWS_SHARED_CREDENTIALS_FILE",Fre=gr(()=>process.env[Ure]||(0,Hm.join)((0,Lre.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Bre=ia(),qre=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Hre=["__proto__","profile __proto__"],_v=gr(t=>{let e={},r,n;for(let o of t.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=qre.exec(a);if(c){let[,d,,u]=c;Object.values(qm.IniSectionType).includes(d)&&(r=[d,u].join(Qi))}else r=a;if(Hre.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,d]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),e[r]=e[r]||{};let u=n?[n,c].join(Qi):c;e[r][u]=d}}}}return e},"parseIni"),VO=gv(),KO=gr(()=>({}),"swallowError"),Qi=".",JO=gr(async(t={})=>{let{filepath:e=Fre(),configFilepath:r=YO()}=t,n=(0,Bre.getHomeDir)(),o="~/",i=e;e.startsWith(o)&&(i=(0,Hm.join)(n,e.slice(2)));let s=r;r.startsWith(o)&&(s=(0,Hm.join)(n,r.slice(2)));let a=await Promise.all([(0,VO.slurpFile)(s,{ignoreCache:t.ignoreCache}).then(_v).then(Dre).catch(KO),(0,VO.slurpFile)(i,{ignoreCache:t.ignoreCache}).then(_v).catch(KO)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),jre=gr(t=>Object.entries(t).filter(([e])=>e.startsWith(qm.IniSectionType.SSO_SESSION+Qi)).reduce((e,[r,n])=>({...e,[r.substring(r.indexOf(Qi)+1)]:n}),{}),"getSsoSessionData"),Gre=gv(),$re=gr(()=>({}),"swallowError"),zre=gr(async(t={})=>(0,Gre.slurpFile)(t.configFilepath??YO()).then(_v).then(jre).catch($re),"loadSsoSessionData"),Vre=gr((...t)=>{let e={};for(let r of t)for(let[n,o]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],o):e[n]=o;return e},"mergeConfigFiles"),Kre=gr(async t=>{let e=await JO(t);return Vre(e.configFile,e.credentialsFile)},"parseKnownFiles")});var tn=g((y1e,ex)=>{var Gm=Object.defineProperty,Wre=Object.getOwnPropertyDescriptor,Qre=Object.getOwnPropertyNames,Yre=Object.prototype.hasOwnProperty,sa=(t,e)=>Gm(t,"name",{value:e,configurable:!0}),Jre=(t,e)=>{for(var r in e)Gm(t,r,{get:e[r],enumerable:!0})},Xre=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Qre(e))!Yre.call(t,o)&&o!==r&&Gm(t,o,{get:()=>e[o],enumerable:!(n=Wre(e,o))||n.enumerable});return t},Zre=t=>Xre(Gm({},"__esModule",{value:!0}),t),ZO={};Jre(ZO,{loadConfig:()=>one});ex.exports=Zre(ZO);var xd=Mt();function Ev(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}sa(Ev,"getSelectorName");var ene=sa((t,e)=>async()=>{try{let r=t(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new xd.CredentialsProviderError(r.message||`Not found in ENV: ${Ev(t.toString())}`,{logger:e})}},"fromEnv"),XO=Io(),tne=sa((t,{preferredFile:e="config",...r}={})=>async()=>{let n=(0,XO.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,XO.loadSharedConfigFiles)(r),s=i[n]||{},a=o[n]||{},c=e==="config"?{...s,...a}:{...a,...s};try{let u=t(c,e==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new xd.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${Ev(t.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),rne=sa(t=>typeof t=="function","isFunction"),nne=sa(t=>rne(t)?async()=>await t():(0,xd.fromStatic)(t),"fromStatic"),one=sa(({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>(0,xd.memoize)((0,xd.chain)(ene(t),tne(e,n),nne(r))),"loadConfig")});var ox=g($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});$m.getEndpointUrlConfig=void 0;var tx=Io(),rx="AWS_ENDPOINT_URL",nx="endpoint_url",ine=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(i=>i.toUpperCase()),n=e[[rx,...r].join("_")];if(n)return n;let o=e[rx];if(o)return o},configFileSelector:(e,r)=>{if(r&&e.services){let o=r[["services",e.services].join(tx.CONFIG_PREFIX_SEPARATOR)];if(o){let i=t.split(" ").map(a=>a.toLowerCase()),s=o[[i.join("_"),nx].join(tx.CONFIG_PREFIX_SEPARATOR)];if(s)return s}}let n=e[nx];if(n)return n},default:void 0});$m.getEndpointUrlConfig=ine});var ix=g(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.getEndpointFromConfig=void 0;var sne=tn(),ane=ox(),cne=async t=>(0,sne.loadConfig)((0,ane.getEndpointUrlConfig)(t))();zm.getEndpointFromConfig=cne});var dx=g((E1e,cx)=>{var Vm=Object.defineProperty,dne=Object.getOwnPropertyDescriptor,lne=Object.getOwnPropertyNames,une=Object.prototype.hasOwnProperty,pne=(t,e)=>Vm(t,"name",{value:e,configurable:!0}),mne=(t,e)=>{for(var r in e)Vm(t,r,{get:e[r],enumerable:!0})},hne=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of lne(e))!une.call(t,o)&&o!==r&&Vm(t,o,{get:()=>e[o],enumerable:!(n=dne(e,o))||n.enumerable});return t},fne=t=>hne(Vm({},"__esModule",{value:!0}),t),sx={};mne(sx,{parseQueryString:()=>ax});cx.exports=fne(sx);function ax(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in e?Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]:e[n]=o}return e}pne(ax,"parseQueryString")});var Ro=g((C1e,px)=>{var Km=Object.defineProperty,gne=Object.getOwnPropertyDescriptor,yne=Object.getOwnPropertyNames,_ne=Object.prototype.hasOwnProperty,vne=(t,e)=>Km(t,"name",{value:e,configurable:!0}),Ene=(t,e)=>{for(var r in e)Km(t,r,{get:e[r],enumerable:!0})},Cne=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of yne(e))!_ne.call(t,o)&&o!==r&&Km(t,o,{get:()=>e[o],enumerable:!(n=gne(e,o))||n.enumerable});return t},Sne=t=>Cne(Km({},"__esModule",{value:!0}),t),lx={};Ene(lx,{parseUrl:()=>ux});px.exports=Sne(lx);var Tne=dx(),ux=vne(t=>{if(typeof t=="string")return ux(new URL(t));let{hostname:e,pathname:r,port:n,protocol:o,search:i}=t,s;return i&&(s=(0,Tne.parseQueryString)(i)),{hostname:e,port:n?parseInt(n):void 0,protocol:o,path:r,query:s}},"parseUrl")});var wo=g((S1e,vx)=>{var Wm=Object.defineProperty,Ane=Object.getOwnPropertyDescriptor,bne=Object.getOwnPropertyNames,Ine=Object.prototype.hasOwnProperty,Cv=(t,e)=>Wm(t,"name",{value:e,configurable:!0}),Rne=(t,e)=>{for(var r in e)Wm(t,r,{get:e[r],enumerable:!0})},wne=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of bne(e))!Ine.call(t,o)&&o!==r&&Wm(t,o,{get:()=>e[o],enumerable:!(n=Ane(e,o))||n.enumerable});return t},Pne=t=>wne(Wm({},"__esModule",{value:!0}),t),mx={};Rne(mx,{deserializerMiddleware:()=>hx,deserializerMiddlewareOption:()=>gx,getSerdePlugin:()=>_x,serializerMiddleware:()=>fx,serializerMiddlewareOption:()=>yx});vx.exports=Pne(mx);var hx=Cv((t,e)=>r=>async n=>{let{response:o}=await r(n);try{let i=await e(o,t);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let s="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+s,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},"deserializerMiddleware"),fx=Cv((t,e)=>(r,n)=>async o=>{var i;let s=(i=n.endpointV2)!=null&&i.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let a=await e(o.input,{...t,endpoint:s});return r({...o,request:a})},"serializerMiddleware"),gx={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},yx={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function _x(t,e,r){return{applyToStack:n=>{n.add(hx(t,r),gx),n.add(fx(t,e),yx)}}}Cv(_x,"getSerdePlugin")});var Po=g((T1e,Ix)=>{var Ym=Object.defineProperty,One=Object.getOwnPropertyDescriptor,xne=Object.getOwnPropertyNames,Nne=Object.prototype.hasOwnProperty,Lr=(t,e)=>Ym(t,"name",{value:e,configurable:!0}),Dne=(t,e)=>{for(var r in e)Ym(t,r,{get:e[r],enumerable:!0})},kne=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of xne(e))!Nne.call(t,o)&&o!==r&&Ym(t,o,{get:()=>e[o],enumerable:!(n=One(e,o))||n.enumerable});return t},Mne=t=>kne(Ym({},"__esModule",{value:!0}),t),Cx={};Dne(Cx,{endpointMiddleware:()=>Ax,endpointMiddlewareOptions:()=>bx,getEndpointFromInstructions:()=>Sx,getEndpointPlugin:()=>zne,resolveEndpointConfig:()=>Vne,resolveParams:()=>Tx,toEndpointV1:()=>Sv});Ix.exports=Mne(Cx);var Lne=Lr(async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Hne(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!qne(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},"resolveParamsForS3"),Une=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Fne=/(\d+\.){3}\d+/,Bne=/\.\./,qne=Lr(t=>Une.test(t)&&!Fne.test(t)&&!Bne.test(t),"isDnsCompatibleBucketName"),Hne=Lr(t=>{let[e,r,n,,,o]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,s=!!(i&&r&&n&&o);if(i&&!s)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return s},"isArnBucketName"),jne=Lr((t,e,r)=>{let n=Lr(async()=>{let o=r[t]??r[e];return typeof o=="function"?o():o},"configProvider");return t==="credentialScope"||e==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:s,port:a,path:c}=o;return`${i}//${s}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),Gne=ix(),Ex=Ro(),Sv=Lr(t=>typeof t=="object"?"url"in t?(0,Ex.parseUrl)(t.url):t:(0,Ex.parseUrl)(t),"toEndpointV1"),Sx=Lr(async(t,e,r,n)=>{if(!r.endpoint){let s=await(0,Gne.getEndpointFromConfig)(r.serviceId||"");s&&(r.endpoint=()=>Promise.resolve(Sv(s)))}let o=await Tx(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),Tx=Lr(async(t,e,r)=>{var n;let o={},i=((n=e?.getEndpointParameterInstructions)==null?void 0:n.call(e))||{};for(let[s,a]of Object.entries(i))switch(a.type){case"staticContextParams":o[s]=a.value;break;case"contextParams":o[s]=t[a.name];break;case"clientContextParams":case"builtInParams":o[s]=await jne(a.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await Lne(o),o},"resolveParams"),Qm=hr(),Ax=Lr(({config:t,instructions:e})=>(r,n)=>async o=>{var i,s,a;let c=await Sx(o.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=c,n.authSchemes=(i=c.properties)==null?void 0:i.authSchemes;let d=(s=n.authSchemes)==null?void 0:s[0];if(d){n.signing_region=d.signingRegion,n.signing_service=d.signingName;let u=(0,Qm.getSmithyContext)(n),m=(a=u?.selectedHttpAuthScheme)==null?void 0:a.httpAuthOption;m&&(m.signingProperties=Object.assign(m.signingProperties||{},{signing_region:d.signingRegion,signingRegion:d.signingRegion,signing_service:d.signingName,signingName:d.signingName,signingRegionSet:d.signingRegionSet},d.properties))}return r({...o})},"endpointMiddleware"),$ne=wo(),bx={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:$ne.serializerMiddlewareOption.name},zne=Lr((t,e)=>({applyToStack:r=>{r.addRelativeTo(Ax({config:t,instructions:e}),bx)}}),"getEndpointPlugin"),Vne=Lr(t=>{let e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>Sv(await(0,Qm.normalizeProvider)(r)()):void 0;return{...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Qm.normalizeProvider)(t.useDualstackEndpoint??!1),useFipsEndpoint:(0,Qm.normalizeProvider)(t.useFipsEndpoint??!1)}},"resolveEndpointConfig")});var Rx,wx,Kne,Px=v(()=>{Rx=ae(Po());Dm();wx={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Rx.endpointMiddlewareOptions.name},Kne=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(wd(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),wx)}})});var Ox,xx,Wne,Nx=v(()=>{Ox=ae(wo());Dm();xx={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Ox.serializerMiddlewareOption.name},Wne=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(wd(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),xx)}})});var Dx=v(()=>{Dm();Px();Nx()});var kx,N1e,Mx,Qne,Yne,Tv,Av=v(()=>{kx=ae(Ne()),N1e=ae(Zr()),Mx=ae(hr()),Qne=t=>e=>{throw e},Yne=(t,e)=>{},Tv=t=>(e,r)=>async n=>{if(!kx.HttpRequest.isInstance(n.request))return e(n);let i=(0,Mx.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=i,d=await e({...n,request:await c.sign(n.request,a,s)}).catch((c.errorHandler||Qne)(s));return(c.successHandler||Yne)(d.response,s),d}});function Nd(){return Jm>Xm.length-16&&(Lx.default.randomFillSync(Xm),Jm=0),Xm.slice(Jm,Jm+=16)}var Lx,Xm,Jm,bv=v(()=>{Lx=ae(require("crypto")),Xm=new Uint8Array(256),Jm=Xm.length});var Ux,Fx=v(()=>{Ux=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Jne(t){return typeof t=="string"&&Ux.test(t)}var Oo,Dd=v(()=>{Fx();Oo=Jne});function Yi(t,e=0){return Et[t[e+0]]+Et[t[e+1]]+Et[t[e+2]]+Et[t[e+3]]+"-"+Et[t[e+4]]+Et[t[e+5]]+"-"+Et[t[e+6]]+Et[t[e+7]]+"-"+Et[t[e+8]]+Et[t[e+9]]+"-"+Et[t[e+10]]+Et[t[e+11]]+Et[t[e+12]]+Et[t[e+13]]+Et[t[e+14]]+Et[t[e+15]]}function Xne(t,e=0){let r=Yi(t,e);if(!Oo(r))throw TypeError("Stringified UUID is invalid");return r}var Et,Bx,kd=v(()=>{Dd();Et=[];for(let t=0;t<256;++t)Et.push((t+256).toString(16).slice(1));Bx=Xne});function Zne(t,e,r){let n=e&&r||0,o=e||new Array(16);t=t||{};let i=t.node||qx,s=t.clockseq!==void 0?t.clockseq:Iv;if(i==null||s==null){let f=t.random||(t.rng||Nd)();i==null&&(i=qx=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Iv=(f[6]<<8|f[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:wv+1,d=a-Rv+(c-wv)/1e4;if(d<0&&t.clockseq===void 0&&(s=s+1&16383),(d<0||a>Rv)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Rv=a,wv=c,Iv=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;o[n++]=u>>>24&255,o[n++]=u>>>16&255,o[n++]=u>>>8&255,o[n++]=u&255;let m=a/4294967296*1e4&268435455;o[n++]=m>>>8&255,o[n++]=m&255,o[n++]=m>>>24&15|16,o[n++]=m>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let f=0;f<6;++f)o[n+f]=i[f];return e||Yi(o)}var qx,Iv,Rv,wv,Hx,jx=v(()=>{bv();kd();Rv=0,wv=0;Hx=Zne});function eoe(t){if(!Oo(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Zm,Pv=v(()=>{Dd();Zm=eoe});function toe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Md(t,e,r){function n(o,i,s,a){var c;if(typeof o=="string"&&(o=toe(o)),typeof i=="string"&&(i=Zm(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(i),d.set(o,i.length),d=r(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,s){a=a||0;for(let u=0;u<16;++u)s[a+u]=d[u];return s}return Yi(d)}try{n.name=t}catch{}return n.DNS=roe,n.URL=noe,n}var roe,noe,Ov=v(()=>{kd();Pv();roe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",noe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function ooe(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Gx.default.createHash("md5").update(t).digest()}var Gx,$x,zx=v(()=>{Gx=ae(require("crypto"));$x=ooe});var ioe,Vx,Kx=v(()=>{Ov();zx();ioe=Md("v3",48,$x),Vx=ioe});var Wx,xv,Qx=v(()=>{Wx=ae(require("crypto")),xv={randomUUID:Wx.default.randomUUID}});function soe(t,e,r){if(xv.randomUUID&&!e&&!t)return xv.randomUUID();t=t||{};let n=t.random||(t.rng||Nd)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return Yi(n)}var Yx,Jx=v(()=>{Qx();bv();kd();Yx=soe});function aoe(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Xx.default.createHash("sha1").update(t).digest()}var Xx,Zx,eN=v(()=>{Xx=ae(require("crypto"));Zx=aoe});var coe,tN,rN=v(()=>{Ov();eN();coe=Md("v5",80,Zx),tN=coe});var nN,oN=v(()=>{nN="00000000-0000-0000-0000-000000000000"});function doe(t){if(!Oo(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var iN,sN=v(()=>{Dd();iN=doe});var Nv={};gt(Nv,{NIL:()=>nN,parse:()=>Zm,stringify:()=>Bx,v1:()=>Hx,v3:()=>Vx,v4:()=>Yx,v5:()=>tN,validate:()=>Oo,version:()=>iN});var Dv=v(()=>{jx();Kx();Jx();rN();oN();sN();Dd();kd();Pv()});var kv=g((EHe,lN)=>{var eh=Object.defineProperty,loe=Object.getOwnPropertyDescriptor,uoe=Object.getOwnPropertyNames,poe=Object.prototype.hasOwnProperty,aa=(t,e)=>eh(t,"name",{value:e,configurable:!0}),moe=(t,e)=>{for(var r in e)eh(t,r,{get:e[r],enumerable:!0})},hoe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of uoe(e))!poe.call(t,o)&&o!==r&&eh(t,o,{get:()=>e[o],enumerable:!(n=loe(e,o))||n.enumerable});return t},foe=t=>hoe(eh({},"__esModule",{value:!0}),t),aN={};moe(aN,{isClockSkewCorrectedError:()=>cN,isClockSkewError:()=>Soe,isRetryableByTrait:()=>Coe,isServerError:()=>Aoe,isThrottlingError:()=>Toe,isTransientError:()=>dN});lN.exports=foe(aN);var goe=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],yoe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],_oe=["TimeoutError","RequestTimeout","RequestTimeoutException"],voe=[500,502,503,504],Eoe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Coe=aa(t=>t.$retryable!==void 0,"isRetryableByTrait"),Soe=aa(t=>goe.includes(t.name),"isClockSkewError"),cN=aa(t=>{var e;return(e=t.$metadata)==null?void 0:e.clockSkewCorrected},"isClockSkewCorrectedError"),Toe=aa(t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||yoe.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),dN=aa(t=>{var e;return cN(t)||_oe.includes(t.name)||Eoe.includes(t?.code||"")||voe.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},"isTransientError"),Aoe=aa(t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){let r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!dN(t)}return!1},"isServerError")});var Ji=g((bHe,TN)=>{var th=Object.defineProperty,boe=Object.getOwnPropertyDescriptor,Ioe=Object.getOwnPropertyNames,Roe=Object.prototype.hasOwnProperty,Ur=(t,e)=>th(t,"name",{value:e,configurable:!0}),woe=(t,e)=>{for(var r in e)th(t,r,{get:e[r],enumerable:!0})},Poe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ioe(e))!Roe.call(t,o)&&o!==r&&th(t,o,{get:()=>e[o],enumerable:!(n=boe(e,o))||n.enumerable});return t},Ooe=t=>Poe(th({},"__esModule",{value:!0}),t),pN={};woe(pN,{AdaptiveRetryStrategy:()=>Loe,ConfiguredRetryStrategy:()=>Uoe,DEFAULT_MAX_ATTEMPTS:()=>Mv,DEFAULT_RETRY_DELAY_BASE:()=>Ld,DEFAULT_RETRY_MODE:()=>xoe,DefaultRateLimiter:()=>fN,INITIAL_RETRY_TOKENS:()=>Lv,INVOCATION_ID_HEADER:()=>Doe,MAXIMUM_RETRY_DELAY:()=>Uv,NO_RETRY_INCREMENT:()=>vN,REQUEST_HEADER:()=>koe,RETRY_COST:()=>yN,RETRY_MODES:()=>mN,StandardRetryStrategy:()=>Fv,THROTTLING_RETRY_DELAY_BASE:()=>gN,TIMEOUT_RETRY_COST:()=>_N});TN.exports=Ooe(pN);var mN=(t=>(t.STANDARD="standard",t.ADAPTIVE="adaptive",t))(mN||{}),Mv=3,xoe="standard",Noe=kv(),hN=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),(0,Noe.isThrottlingError)(e)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}};Ur(hN,"DefaultRateLimiter");var fN=hN,Ld=100,Uv=20*1e3,gN=500,Lv=500,yN=5,_N=10,vN=1,Doe="amz-sdk-invocation-id",koe="amz-sdk-request",Moe=Ur(()=>{let t=Ld;return{computeNextBackoffDelay:Ur(n=>Math.floor(Math.min(Uv,Math.random()*2**n*t)),"computeNextBackoffDelay"),setDelayBase:Ur(n=>{t=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),uN=Ur(({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:Ur(()=>e,"getRetryCount"),getRetryDelay:Ur(()=>Math.min(Uv,t),"getRetryDelay"),getRetryCost:Ur(()=>r,"getRetryCost")}),"createDefaultRetryToken"),EN=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=Lv,this.retryBackoffStrategy=Moe(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return uN({retryDelay:Ld,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?gN:Ld);let i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(o);return this.capacity-=a,uN({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(Lv,this.capacity+(e.getRetryCost()??vN))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Mv}`),Mv}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?_N:yN}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};Ur(EN,"StandardRetryStrategy");var Fv=EN,CN=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new fN,this.standardRetryStrategy=new Fv(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};Ur(CN,"AdaptiveRetryStrategy");var Loe=CN,SN=class extends Fv{constructor(e,r=Ld){super(typeof e=="function"?e:async()=>e),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(e,r){let n=await super.refreshRetryTokenForRetry(e,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Ur(SN,"ConfiguredRetryStrategy");var Uoe=SN});var wN=g((IHe,RN)=>{var rh=Object.defineProperty,Foe=Object.getOwnPropertyDescriptor,Boe=Object.getOwnPropertyNames,qoe=Object.prototype.hasOwnProperty,yr=(t,e)=>rh(t,"name",{value:e,configurable:!0}),Hoe=(t,e)=>{for(var r in e)rh(t,r,{get:e[r],enumerable:!0})},joe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Boe(e))!qoe.call(t,o)&&o!==r&&rh(t,o,{get:()=>e[o],enumerable:!(n=Foe(e,o))||n.enumerable});return t},Goe=t=>joe(rh({},"__esModule",{value:!0}),t),IN={};Hoe(IN,{constructStack:()=>Bv});RN.exports=Goe(IN);var Xi=yr((t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},"getAllAliases"),xo=yr((t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Bv=yr(()=>{let t=[],e=[],r=!1,n=new Set,o=yr(m=>m.sort((f,h)=>AN[h.step]-AN[f.step]||bN[h.priority||"normal"]-bN[f.priority||"normal"]),"sort"),i=yr(m=>{let f=!1,h=yr(y=>{let E=Xi(y.name,y.aliases);if(E.includes(m)){f=!0;for(let b of E)n.delete(b);return!1}return!0},"filterCb");return t=t.filter(h),e=e.filter(h),f},"removeByName"),s=yr(m=>{let f=!1,h=yr(y=>{if(y.middleware===m){f=!0;for(let E of Xi(y.name,y.aliases))n.delete(E);return!1}return!0},"filterCb");return t=t.filter(h),e=e.filter(h),f},"removeByReference"),a=yr(m=>{var f;return t.forEach(h=>{m.add(h.middleware,{...h})}),e.forEach(h=>{m.addRelativeTo(h.middleware,{...h})}),(f=m.identifyOnResolve)==null||f.call(m,u.identifyOnResolve()),m},"cloneTo"),c=yr(m=>{let f=[];return m.before.forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...c(h))}),f.push(m),m.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...c(h))}),f},"expandRelativeMiddlewareList"),d=yr((m=!1)=>{let f=[],h=[],y={};return t.forEach(b=>{let w={...b,before:[],after:[]};for(let x of Xi(w.name,w.aliases))y[x]=w;f.push(w)}),e.forEach(b=>{let w={...b,before:[],after:[]};for(let x of Xi(w.name,w.aliases))y[x]=w;h.push(w)}),h.forEach(b=>{if(b.toMiddleware){let w=y[b.toMiddleware];if(w===void 0){if(m)return;throw new Error(`${b.toMiddleware} is not found when adding ${xo(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&w.after.push(b),b.relation==="before"&&w.before.push(b)}}),o(f).map(c).reduce((b,w)=>(b.push(...w),b),[])},"getMiddlewareList"),u={add:(m,f={})=>{let{name:h,override:y,aliases:E}=f,b={step:"initialize",priority:"normal",middleware:m,...f},w=Xi(h,E);if(w.length>0){if(w.some(x=>n.has(x))){if(!y)throw new Error(`Duplicate middleware name '${xo(h,E)}'`);for(let x of w){let K=t.findIndex(me=>{var ut;return me.name===x||((ut=me.aliases)==null?void 0:ut.some(dn=>dn===x))});if(K===-1)continue;let Q=t[K];if(Q.step!==b.step||b.priority!==Q.priority)throw new Error(`"${xo(Q.name,Q.aliases)}" middleware with ${Q.priority} priority in ${Q.step} step cannot be overridden by "${xo(h,E)}" middleware with ${b.priority} priority in ${b.step} step.`);t.splice(K,1)}}for(let x of w)n.add(x)}t.push(b)},addRelativeTo:(m,f)=>{let{name:h,override:y,aliases:E}=f,b={middleware:m,...f},w=Xi(h,E);if(w.length>0){if(w.some(x=>n.has(x))){if(!y)throw new Error(`Duplicate middleware name '${xo(h,E)}'`);for(let x of w){let K=e.findIndex(me=>{var ut;return me.name===x||((ut=me.aliases)==null?void 0:ut.some(dn=>dn===x))});if(K===-1)continue;let Q=e[K];if(Q.toMiddleware!==b.toMiddleware||Q.relation!==b.relation)throw new Error(`"${xo(Q.name,Q.aliases)}" middleware ${Q.relation} "${Q.toMiddleware}" middleware cannot be overridden by "${xo(h,E)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);e.splice(K,1)}}for(let x of w)n.add(x)}e.push(b)},clone:()=>a(Bv()),use:m=>{m.applyToStack(u)},remove:m=>typeof m=="string"?i(m):s(m),removeByTag:m=>{let f=!1,h=yr(y=>{let{tags:E,name:b,aliases:w}=y;if(E&&E.includes(m)){let x=Xi(b,w);for(let K of x)n.delete(K);return f=!0,!1}return!0},"filterCb");return t=t.filter(h),e=e.filter(h),f},concat:m=>{var f;let h=a(Bv());return h.use(m),h.identifyOnResolve(r||h.identifyOnResolve()||(((f=m.identifyOnResolve)==null?void 0:f.call(m))??!1)),h},applyToStack:a,identify:()=>d(!0).map(m=>{let f=m.step??m.relation+" "+m.toMiddleware;return xo(m.name,m.aliases)+" - "+f}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,f)=>{for(let h of d().map(y=>y.middleware).reverse())m=h(m,f);return r&&console.log(u.identify()),m}};return u},"constructStack"),AN={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},bN={high:3,normal:2,low:1}});var qv=g((RHe,ON)=>{var nh=Object.defineProperty,$oe=Object.getOwnPropertyDescriptor,zoe=Object.getOwnPropertyNames,Voe=Object.prototype.hasOwnProperty,Koe=(t,e)=>nh(t,"name",{value:e,configurable:!0}),Woe=(t,e)=>{for(var r in e)nh(t,r,{get:e[r],enumerable:!0})},Qoe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of zoe(e))!Voe.call(t,o)&&o!==r&&nh(t,o,{get:()=>e[o],enumerable:!(n=$oe(e,o))||n.enumerable});return t},Yoe=t=>Qoe(nh({},"__esModule",{value:!0}),t),PN={};Woe(PN,{isArrayBuffer:()=>Joe});ON.exports=Yoe(PN);var Joe=Koe(t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]","isArrayBuffer")});var ca=g((wHe,DN)=>{var oh=Object.defineProperty,Xoe=Object.getOwnPropertyDescriptor,Zoe=Object.getOwnPropertyNames,eie=Object.prototype.hasOwnProperty,xN=(t,e)=>oh(t,"name",{value:e,configurable:!0}),tie=(t,e)=>{for(var r in e)oh(t,r,{get:e[r],enumerable:!0})},rie=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Zoe(e))!eie.call(t,o)&&o!==r&&oh(t,o,{get:()=>e[o],enumerable:!(n=Xoe(e,o))||n.enumerable});return t},nie=t=>rie(oh({},"__esModule",{value:!0}),t),NN={};tie(NN,{fromArrayBuffer:()=>iie,fromString:()=>sie});DN.exports=nie(NN);var oie=qv(),Hv=require("buffer"),iie=xN((t,e=0,r=t.byteLength-e)=>{if(!(0,oie.isArrayBuffer)(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return Hv.Buffer.from(t,e,r)},"fromArrayBuffer"),sie=xN((t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?Hv.Buffer.from(t,e):Hv.Buffer.from(t)},"fromString")});var kN=g(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.fromBase64=void 0;var aie=ca(),cie=/^[A-Za-z0-9+/]*={0,2}$/,die=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!cie.exec(t))throw new TypeError("Invalid base64 string.");let e=(0,aie.fromString)(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};ih.fromBase64=die});var Ct=g((OHe,FN)=>{var sh=Object.defineProperty,lie=Object.getOwnPropertyDescriptor,uie=Object.getOwnPropertyNames,pie=Object.prototype.hasOwnProperty,jv=(t,e)=>sh(t,"name",{value:e,configurable:!0}),mie=(t,e)=>{for(var r in e)sh(t,r,{get:e[r],enumerable:!0})},hie=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of uie(e))!pie.call(t,o)&&o!==r&&sh(t,o,{get:()=>e[o],enumerable:!(n=lie(e,o))||n.enumerable});return t},fie=t=>hie(sh({},"__esModule",{value:!0}),t),MN={};mie(MN,{fromUtf8:()=>UN,toUint8Array:()=>gie,toUtf8:()=>yie});FN.exports=fie(MN);var LN=ca(),UN=jv(t=>{let e=(0,LN.fromString)(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),gie=jv(t=>typeof t=="string"?UN(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),"toUint8Array"),yie=jv(t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,LN.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("utf8")},"toUtf8")});var BN=g(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.toBase64=void 0;var _ie=ca(),vie=Ct(),Eie=t=>{let e;if(typeof t=="string"?e=(0,vie.fromUtf8)(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,_ie.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("base64")};ah.toBase64=Eie});var Mn=g((NHe,ch)=>{var qN=Object.defineProperty,Cie=Object.getOwnPropertyDescriptor,Sie=Object.getOwnPropertyNames,Tie=Object.prototype.hasOwnProperty,Gv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Sie(e))!Tie.call(t,o)&&o!==r&&qN(t,o,{get:()=>e[o],enumerable:!(n=Cie(e,o))||n.enumerable});return t},HN=(t,e,r)=>(Gv(t,e,"default"),r&&Gv(r,e,"default")),Aie=t=>Gv(qN({},"__esModule",{value:!0}),t),$v={};ch.exports=Aie($v);HN($v,kN(),ch.exports);HN($v,BN(),ch.exports)});var jN=g(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.getAwsChunkedEncodingStream=void 0;var bie=require("stream"),Iie=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:i,streamHasher:s}=e,a=r!==void 0&&o!==void 0&&i!==void 0&&s!==void 0,c=a?s(o,t):void 0,d=new bie.Readable({read:()=>{}});return t.on("data",u=>{let m=n(u)||0;d.push(`${m.toString(16)}\r
`),d.push(u),d.push(`\r
`)}),t.on("end",async()=>{if(d.push(`0\r
`),a){let u=r(await c);d.push(`${i}:${u}\r
`),d.push(`\r
`)}d.push(null)}),d};dh.getAwsChunkedEncodingStream=Iie});var Vv=g((kHe,zN)=>{var lh=Object.defineProperty,Rie=Object.getOwnPropertyDescriptor,wie=Object.getOwnPropertyNames,Pie=Object.prototype.hasOwnProperty,zv=(t,e)=>lh(t,"name",{value:e,configurable:!0}),Oie=(t,e)=>{for(var r in e)lh(t,r,{get:e[r],enumerable:!0})},xie=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of wie(e))!Pie.call(t,o)&&o!==r&&lh(t,o,{get:()=>e[o],enumerable:!(n=Rie(e,o))||n.enumerable});return t},Nie=t=>xie(lh({},"__esModule",{value:!0}),t),GN={};Oie(GN,{escapeUri:()=>$N,escapeUriPath:()=>kie});zN.exports=Nie(GN);var $N=zv(t=>encodeURIComponent(t).replace(/[!'()*]/g,Die),"escapeUri"),Die=zv(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),kie=zv(t=>t.split("/").map($N).join("/"),"escapeUriPath")});var Wv=g((MHe,WN)=>{var uh=Object.defineProperty,Mie=Object.getOwnPropertyDescriptor,Lie=Object.getOwnPropertyNames,Uie=Object.prototype.hasOwnProperty,Fie=(t,e)=>uh(t,"name",{value:e,configurable:!0}),Bie=(t,e)=>{for(var r in e)uh(t,r,{get:e[r],enumerable:!0})},qie=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Lie(e))!Uie.call(t,o)&&o!==r&&uh(t,o,{get:()=>e[o],enumerable:!(n=Mie(e,o))||n.enumerable});return t},Hie=t=>qie(uh({},"__esModule",{value:!0}),t),VN={};Bie(VN,{buildQueryString:()=>KN});WN.exports=Hie(VN);var Kv=Vv();function KN(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=(0,Kv.escapeUri)(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)e.push(`${r}=${(0,Kv.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Kv.escapeUri)(n)}`),e.push(o)}}return e.join("&")}Fie(KN,"buildQueryString")});var No=g((BHe,uD)=>{var jie=Object.create,Ud=Object.defineProperty,Gie=Object.getOwnPropertyDescriptor,$ie=Object.getOwnPropertyNames,zie=Object.getPrototypeOf,Vie=Object.prototype.hasOwnProperty,We=(t,e)=>Ud(t,"name",{value:e,configurable:!0}),Kie=(t,e)=>{for(var r in e)Ud(t,r,{get:e[r],enumerable:!0})},JN=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of $ie(e))!Vie.call(t,o)&&o!==r&&Ud(t,o,{get:()=>e[o],enumerable:!(n=Gie(e,o))||n.enumerable});return t},Wie=(t,e,r)=>(r=t!=null?jie(zie(t)):{},JN(e||!t||!t.__esModule?Ud(r,"default",{value:t,enumerable:!0}):r,t)),Qie=t=>JN(Ud({},"__esModule",{value:!0}),t),XN={};Kie(XN,{DEFAULT_REQUEST_TIMEOUT:()=>ese,NodeHttp2Handler:()=>ise,NodeHttpHandler:()=>tse,streamCollector:()=>ase});uD.exports=Qie(XN);var ZN=Ne(),eD=Wv(),Qv=require("http"),Yv=require("https"),Yie=["ECONNRESET","EPIPE","ETIMEDOUT"],tD=We(t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e},"getTransformedHeaders"),Jie=We((t,e,r=0)=>{if(!r)return;let n=setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);t.on("socket",o=>{o.connecting?o.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),Xie=We((t,{keepAlive:e,keepAliveMsecs:r})=>{e===!0&&t.on("socket",n=>{n.setKeepAlive(e,r||0)})},"setSocketKeepAlive"),Zie=We((t,e,r=0)=>{t.setTimeout(r,()=>{t.destroy(),e(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),rD=require("stream"),QN=1e3;async function Xv(t,e,r=QN){let n=e.headers??{},o=n.Expect||n.expect,i=-1,s=!1;o==="100-continue"&&await Promise.race([new Promise(a=>{i=Number(setTimeout(a,Math.max(QN,r)))}),new Promise(a=>{t.on("continue",()=>{clearTimeout(i),a()}),t.on("error",()=>{s=!0,clearTimeout(i),a()})})]),s||nD(t,e.body)}We(Xv,"writeRequestBody");function nD(t,e){if(e instanceof rD.Readable){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}We(nD,"writeBody");var ese=0,oD=class Jv{constructor(e){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(e))})}static create(e){return typeof e?.handle=="function"?e:new Jv(e)}static checkSocketUsage(e,r,n=console){var o,i,s;let{sockets:a,requests:c,maxSockets:d}=e;if(typeof d!="number"||d===1/0||Date.now()-15e3<r)return r;if(a&&c)for(let m in a){let f=((o=a[m])==null?void 0:o.length)??0,h=((i=c[m])==null?void 0:i.length)??0;if(f>=d&&h>=2*d)return(s=n?.warn)==null||s.call(n,`@smithy/node-http-handler:WARN - socket usage at capacity=${f} and ${h} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:i,httpsAgent:s}=e||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:i instanceof Qv.Agent||typeof i?.destroy=="function"?i:new Qv.Agent({keepAlive:a,maxSockets:c,...i}),httpsAgent:s instanceof Yv.Agent||typeof s?.destroy=="function"?s:new Yv.Agent({keepAlive:a,maxSockets:c,...s}),logger:console}}destroy(){var e,r,n,o;(r=(e=this.config)==null?void 0:e.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((o,i)=>{let s,a=We(async x=>{await s,clearTimeout(n),o(x)},"resolve"),c=We(async x=>{await s,clearTimeout(n),i(x)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let x=new Error("Request aborted");x.name="AbortError",c(x);return}let d=e.protocol==="https:",u=d?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=Jv.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let m=(0,eD.buildQueryString)(e.query||{}),f;if(e.username!=null||e.password!=null){let x=e.username??"",K=e.password??"";f=`${x}:${K}`}let h=e.path;m&&(h+=`?${m}`),e.fragment&&(h+=`#${e.fragment}`);let y={headers:e.headers,host:e.hostname,method:e.method,path:h,port:e.port,agent:u,auth:f},b=(d?Yv.request:Qv.request)(y,x=>{let K=new ZN.HttpResponse({statusCode:x.statusCode||-1,reason:x.statusMessage,headers:tD(x.headers),body:x});a({response:K})});if(b.on("error",x=>{Yie.includes(x.code)?c(Object.assign(x,{name:"TimeoutError"})):c(x)}),Jie(b,c,this.config.connectionTimeout),Zie(b,c,this.config.requestTimeout),r){let x=We(()=>{b.destroy();let K=new Error("Request aborted");K.name="AbortError",c(K)},"onAbort");if(typeof r.addEventListener=="function"){let K=r;K.addEventListener("abort",x,{once:!0}),b.once("close",()=>K.removeEventListener("abort",x))}else r.onabort=x}let w=y.agent;typeof w=="object"&&"keepAlive"in w&&Xie(b,{keepAlive:w.keepAlive,keepAliveMsecs:w.keepAliveMsecs}),s=Xv(b,e,this.config.requestTimeout).catch(x=>(clearTimeout(n),i(x)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}};We(oD,"NodeHttpHandler");var tse=oD,YN=require("http2"),rse=Wie(require("http2")),iD=class{constructor(e){this.sessions=[],this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(r=>r!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let r of this.sessions)r===e&&(r.destroyed||r.destroy())}};We(iD,"NodeHttp2ConnectionPool");var nse=iD,sD=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(e,r){let n=this.getUrlString(e),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let i=rse.default.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),i.unref();let s=We(()=>{i.destroy(),this.deleteSession(n,i)},"destroySessionCb");i.on("goaway",s),i.on("error",s),i.on("frameError",s),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,s);let a=this.sessionCache.get(n)||new nse;return a.offerLast(i),this.sessionCache.set(n,a),i}deleteSession(e,r){let n=this.sessionCache.get(e);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(e,n))}release(e,r){var n;let o=this.getUrlString(e);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[e,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}};We(sD,"NodeHttp2ConnectionManager");var ose=sD,aD=class cD{constructor(e){this.metadata={handlerProtocol:"h2"},this.connectionManager=new ose({}),this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(o=>{r(o||{})}).catch(n):r(e||{})})}static create(e){return typeof e?.handle=="function"?e:new cD(e)}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((i,s)=>{var a;let c=!1,d,u=We(async Ae=>{await d,i(Ae)},"resolve"),m=We(async Ae=>{await d,s(Ae)},"reject");if(r?.aborted){c=!0;let Ae=new Error("Request aborted");Ae.name="AbortError",m(Ae);return}let{hostname:f,method:h,port:y,protocol:E,query:b}=e,w="";if(e.username!=null||e.password!=null){let Ae=e.username??"",or=e.password??"";w=`${Ae}:${or}@`}let x=`${E}//${w}${f}${y?`:${y}`:""}`,K={destination:new URL(x)},Q=this.connectionManager.lease(K,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:o||!1}),me=We(Ae=>{o&&this.destroySession(Q),c=!0,m(Ae)},"rejectWithDestroy"),ut=(0,eD.buildQueryString)(b||{}),dn=e.path;ut&&(dn+=`?${ut}`),e.fragment&&(dn+=`#${e.fragment}`);let qt=Q.request({...e.headers,[YN.constants.HTTP2_HEADER_PATH]:dn,[YN.constants.HTTP2_HEADER_METHOD]:h});if(Q.ref(),qt.on("response",Ae=>{let or=new ZN.HttpResponse({statusCode:Ae[":status"]||-1,headers:tD(Ae),body:qt});c=!0,u({response:or}),o&&(Q.close(),this.connectionManager.deleteSession(x,Q))}),n&&qt.setTimeout(n,()=>{qt.close();let Ae=new Error(`Stream timed out because of no activity for ${n} ms`);Ae.name="TimeoutError",me(Ae)}),r){let Ae=We(()=>{qt.close();let or=new Error("Request aborted");or.name="AbortError",me(or)},"onAbort");if(typeof r.addEventListener=="function"){let or=r;or.addEventListener("abort",Ae,{once:!0}),qt.once("close",()=>or.removeEventListener("abort",Ae))}else r.onabort=Ae}qt.on("frameError",(Ae,or,Cl)=>{me(new Error(`Frame type id ${Ae} in stream id ${Cl} has failed with code ${or}.`))}),qt.on("error",me),qt.on("aborted",()=>{me(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${qt.rstCode}.`))}),qt.on("close",()=>{Q.unref(),o&&Q.destroy(),c||me(new Error("Unexpected error: http2 request did not get a response"))}),d=Xv(qt,e,n)})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}};We(aD,"NodeHttp2Handler");var ise=aD,dD=class extends rD.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,r,n){this.bufferedBytes.push(e),n()}};We(dD,"Collector");var sse=dD,ase=We(t=>cse(t)?lD(t):new Promise((e,r)=>{let n=new sse;t.pipe(n),t.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));e(o)})}),"streamCollector"),cse=We(t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,"isReadableStreamInstance");async function lD(t){let e=[],r=t.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),o+=c.length),n=a}let i=new Uint8Array(o),s=0;for(let a of e)i.set(a,s),s+=a.length;return i}We(lD,"collectReadableStream")});var CD=g((qHe,ED)=>{var mh=Object.defineProperty,dse=Object.getOwnPropertyDescriptor,lse=Object.getOwnPropertyNames,use=Object.prototype.hasOwnProperty,Ln=(t,e)=>mh(t,"name",{value:e,configurable:!0}),pse=(t,e)=>{for(var r in e)mh(t,r,{get:e[r],enumerable:!0})},mse=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of lse(e))!use.call(t,o)&&o!==r&&mh(t,o,{get:()=>e[o],enumerable:!(n=dse(e,o))||n.enumerable});return t},hse=t=>mse(mh({},"__esModule",{value:!0}),t),mD={};pse(mD,{FetchHttpHandler:()=>gse,keepAliveSupport:()=>ph,streamCollector:()=>_se});ED.exports=hse(mD);var pD=Ne(),fse=Wv();function hD(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{let n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}Ln(hD,"requestTimeout");var ph={supported:void 0},fD=class gD{static create(e){return typeof e?.handle=="function"?e:new gD(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),ph.supported===void 0&&(ph.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n=this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let s=e.path,a=(0,fse.buildQueryString)(e.query||{});a&&(s+=`?${a}`),e.fragment&&(s+=`#${e.fragment}`);let c="";if(e.username!=null||e.password!=null){let w=e.username??"",x=e.password??"";c=`${w}:${x}@`}let{port:d,method:u}=e,m=`${e.protocol}//${c}${e.hostname}${d?`:${d}`:""}${s}`,f=u==="GET"||u==="HEAD"?void 0:e.body,h={body:f,headers:new Headers(e.headers),method:u,credentials:i};f&&(h.duplex="half"),typeof AbortController<"u"&&(h.signal=r),ph.supported&&(h.keepalive=o);let y=Ln(()=>{},"removeSignalEventListener"),E=new Request(m,h),b=[fetch(E).then(w=>{let x=w.headers,K={};for(let me of x.entries())K[me[0]]=me[1];return w.body!=null?{response:new pD.HttpResponse({headers:K,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(me=>({response:new pD.HttpResponse({headers:K,reason:w.statusText,statusCode:w.status,body:me})}))}),hD(n)];return r&&b.push(new Promise((w,x)=>{let K=Ln(()=>{let Q=new Error("Request aborted");Q.name="AbortError",x(Q)},"onAbort");if(typeof r.addEventListener=="function"){let Q=r;Q.addEventListener("abort",K,{once:!0}),y=Ln(()=>Q.removeEventListener("abort",K),"removeSignalEventListener")}else r.onabort=K})),Promise.race(b).finally(y)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}};Ln(fD,"FetchHttpHandler");var gse=fD,yse=Mn(),_se=Ln(t=>typeof Blob=="function"&&t instanceof Blob?yD(t):_D(t),"streamCollector");async function yD(t){let e=await vD(t),r=(0,yse.fromBase64)(e);return new Uint8Array(r)}Ln(yD,"collectBlob");async function _D(t){let e=[],r=t.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),o+=c.length),n=a}let i=new Uint8Array(o),s=0;for(let a of e)i.set(a,s),s+=a.length;return i}Ln(_D,"collectStream");function vD(t){return new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",i=o.indexOf(","),s=i>-1?i+1:o.length;e(o.substring(s))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}Ln(vD,"readToBase64")});var fh=g((HHe,RD)=>{var hh=Object.defineProperty,vse=Object.getOwnPropertyDescriptor,Ese=Object.getOwnPropertyNames,Cse=Object.prototype.hasOwnProperty,SD=(t,e)=>hh(t,"name",{value:e,configurable:!0}),Sse=(t,e)=>{for(var r in e)hh(t,r,{get:e[r],enumerable:!0})},Tse=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ese(e))!Cse.call(t,o)&&o!==r&&hh(t,o,{get:()=>e[o],enumerable:!(n=vse(e,o))||n.enumerable});return t},Ase=t=>Tse(hh({},"__esModule",{value:!0}),t),TD={};Sse(TD,{fromHex:()=>bD,toHex:()=>ID});RD.exports=Ase(TD);var AD={},Zv={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),AD[t]=e,Zv[e]=t}function bD(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in Zv)e[r/2]=Zv[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}SD(bD,"fromHex");function ID(t){let e="";for(let r=0;r<t.byteLength;r++)e+=AD[t[r]];return e}SD(ID,"toHex")});var Fd=g(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.isReadableStream=void 0;var bse=t=>{var e;return typeof ReadableStream=="function"&&(((e=t?.constructor)===null||e===void 0?void 0:e.name)===ReadableStream.name||t instanceof ReadableStream)};gh.isReadableStream=bse});var xD=g(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.sdkStreamMixin=void 0;var Ise=CD(),Rse=Mn(),wse=fh(),Pse=Ct(),wD=Fd(),PD="The stream has already been transformed.",Ose=t=>{var e,r;if(!OD(t)&&!(0,wD.isReadableStream)(t)){let s=((r=(e=t?.__proto__)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let n=!1,o=async()=>{if(n)throw new Error(PD);return n=!0,await(0,Ise.streamCollector)(t)},i=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(t,{transformToByteArray:o,transformToString:async s=>{let a=await o();if(s==="base64")return(0,Rse.toBase64)(a);if(s==="hex")return(0,wse.toHex)(a);if(s===void 0||s==="utf8"||s==="utf-8")return(0,Pse.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(PD);if(n=!0,OD(t))return i(t);if((0,wD.isReadableStream)(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})};yh.sdkStreamMixin=Ose;var OD=t=>typeof Blob=="function"&&t instanceof Blob});var DD=g(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.sdkStreamMixin=void 0;var xse=No(),Nse=ca(),eE=require("stream"),Dse=require("util"),kse=xD(),ND="The stream has already been transformed.",Mse=t=>{var e,r;if(!(t instanceof eE.Readable))try{return(0,kse.sdkStreamMixin)(t)}catch{let s=((r=(e=t?.__proto__)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let n=!1,o=async()=>{if(n)throw new Error(ND);return n=!0,await(0,xse.streamCollector)(t)};return Object.assign(t,{transformToByteArray:o,transformToString:async i=>{let s=await o();return i===void 0||Buffer.isEncoding(i)?(0,Nse.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(i):new Dse.TextDecoder(i).decode(s)},transformToWebStream:()=>{if(n)throw new Error(ND);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof eE.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,eE.Readable.toWeb(t)}})};_h.sdkStreamMixin=Mse});var kD=g(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.splitStream=void 0;async function Lse(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}vh.splitStream=Lse});var LD=g(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.splitStream=void 0;var MD=require("stream"),Use=kD(),Fse=Fd();async function Bse(t){if((0,Fse.isReadableStream)(t))return(0,Use.splitStream)(t);let e=new MD.PassThrough,r=new MD.PassThrough;return t.pipe(e),t.pipe(r),[e,r]}Eh.splitStream=Bse});var UD=g(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.headStream=void 0;async function qse(t,e){var r;let n=0,o=[],i=t.getReader(),s=!1;for(;!s;){let{done:d,value:u}=await i.read();if(u&&(o.push(u),n+=(r=u?.byteLength)!==null&&r!==void 0?r:0),n>=e)break;s=d}i.releaseLock();let a=new Uint8Array(Math.min(e,n)),c=0;for(let d of o){if(d.byteLength>a.byteLength-c){a.set(d.subarray(0,a.byteLength-c),c);break}else a.set(d,c);c+=d.length}return a}Ch.headStream=qse});var FD=g(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.headStream=void 0;var Hse=require("stream"),jse=UD(),Gse=Fd(),$se=(t,e)=>(0,Gse.isReadableStream)(t)?(0,jse.headStream)(t,e):new Promise((r,n)=>{let o=new tE;o.limit=e,t.pipe(o),t.on("error",i=>{o.end(),n(i)}),o.on("error",n),o.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});Sh.headStream=$se;var tE=class extends Hse.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(e,r,n){var o;if(this.buffers.push(e),this.bytesBuffered+=(o=e.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-i),this.emit("finish")}n()}}});var iE=g((QHe,es)=>{var Th=Object.defineProperty,zse=Object.getOwnPropertyDescriptor,Vse=Object.getOwnPropertyNames,Kse=Object.prototype.hasOwnProperty,oE=(t,e)=>Th(t,"name",{value:e,configurable:!0}),Wse=(t,e)=>{for(var r in e)Th(t,r,{get:e[r],enumerable:!0})},rE=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Vse(e))!Kse.call(t,o)&&o!==r&&Th(t,o,{get:()=>e[o],enumerable:!(n=zse(e,o))||n.enumerable});return t},Bd=(t,e,r)=>(rE(t,e,"default"),r&&rE(r,e,"default")),Qse=t=>rE(Th({},"__esModule",{value:!0}),t),Zi={};Wse(Zi,{Uint8ArrayBlobAdapter:()=>nE});es.exports=Qse(Zi);var BD=Mn(),qD=Ct();function HD(t,e="utf-8"){return e==="base64"?(0,BD.toBase64)(t):(0,qD.toUtf8)(t)}oE(HD,"transformToString");function jD(t,e){return e==="base64"?nE.mutate((0,BD.fromBase64)(t)):nE.mutate((0,qD.fromUtf8)(t))}oE(jD,"transformFromString");var GD=class $D extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return jD(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,$D.prototype),e}transformToString(e="utf-8"){return HD(this,e)}};oE(GD,"Uint8ArrayBlobAdapter");var nE=GD;Bd(Zi,jN(),es.exports);Bd(Zi,DD(),es.exports);Bd(Zi,LD(),es.exports);Bd(Zi,FD(),es.exports);Bd(Zi,Fd(),es.exports)});var fe=g((eje,hk)=>{var wh=Object.defineProperty,Yse=Object.getOwnPropertyDescriptor,Jse=Object.getOwnPropertyNames,Xse=Object.prototype.hasOwnProperty,N=(t,e)=>wh(t,"name",{value:e,configurable:!0}),Zse=(t,e)=>{for(var r in e)wh(t,r,{get:e[r],enumerable:!0})},eae=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Jse(e))!Xse.call(t,o)&&o!==r&&wh(t,o,{get:()=>e[o],enumerable:!(n=Yse(e,o))||n.enumerable});return t},tae=t=>eae(wh({},"__esModule",{value:!0}),t),VD={};Zse(VD,{Client:()=>nae,Command:()=>JD,LazyJsonString:()=>Zae,NoOpLogger:()=>rae,SENSITIVE_STRING:()=>sae,ServiceException:()=>Hae,StringWrapper:()=>$d,_json:()=>pE,collectBody:()=>oae,convertMap:()=>ece,createAggregatedClient:()=>aae,dateToUtcString:()=>ok,decorateServiceException:()=>ak,emitWarningIfUnsupportedVersion:()=>zae,expectBoolean:()=>dae,expectByte:()=>uE,expectFloat32:()=>bh,expectInt:()=>uae,expectInt32:()=>dE,expectLong:()=>jd,expectNonNull:()=>mae,expectNumber:()=>Hd,expectObject:()=>ZD,expectShort:()=>lE,expectString:()=>hae,expectUnion:()=>fae,extendedEncodeURIComponent:()=>Rh,getArrayIfSingleItem:()=>Xae,getDefaultClientConfiguration:()=>Yae,getDefaultExtensionConfiguration:()=>dk,getValueFromTextNode:()=>lk,handleFloat:()=>_ae,limitedParseDouble:()=>fE,limitedParseFloat:()=>vae,limitedParseFloat32:()=>Eae,loadConfigsForDefaultMode:()=>$ae,logger:()=>Gd,map:()=>yE,parseBoolean:()=>cae,parseEpochTimestamp:()=>Nae,parseRfc3339DateTime:()=>bae,parseRfc3339DateTimeWithOffset:()=>Rae,parseRfc7231DateTime:()=>xae,resolveDefaultRuntimeConfig:()=>Jae,resolvedPath:()=>ice,serializeDateTime:()=>ace,serializeFloat:()=>sce,splitEvery:()=>mk,strictParseByte:()=>nk,strictParseDouble:()=>hE,strictParseFloat:()=>gae,strictParseFloat32:()=>ek,strictParseInt:()=>Cae,strictParseInt32:()=>Sae,strictParseLong:()=>rk,strictParseShort:()=>da,take:()=>tce,throwDefaultError:()=>ck,withBaseException:()=>jae});hk.exports=tae(VD);var KD=class{trace(){}debug(){}info(){}warn(){}error(){}};N(KD,"NoOpLogger");var rae=KD,WD=wN(),QD=class{constructor(e){this.middlewareStack=(0,WD.constructStack)(),this.config=e}send(e,r,n){let o=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,s=e.resolveMiddleware(this.middlewareStack,this.config,o);if(i)s(e).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return s(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};N(QD,"Client");var nae=QD,sE=iE(),oae=N(async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return sE.Uint8ArrayBlobAdapter.mutate(t);if(!t)return sE.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=e.streamCollector(t);return sE.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),cE=Zr(),YD=class{constructor(){this.middlewareStack=(0,WD.constructStack)()}static classBuilder(){return new iae}resolveMiddlewareWithContext(e,r,n,{middlewareFn:o,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:u,CommandCtor:m}){for(let b of o.bind(this)(m,e,r,n))this.middlewareStack.use(b);let f=e.concat(this.middlewareStack),{logger:h}=r,y={logger:h,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[cE.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...u},{requestHandler:E}=r;return f.resolve(b=>E.handle(b.request,n||{}),y)}};N(YD,"Command");var JD=YD,XD=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){var e;let r=this,n;return n=(e=class extends JD{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,i,s){return this.resolveMiddlewareWithContext(o,i,s,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},N(e,"CommandRef"),e)}};N(XD,"ClassBuilder");var iae=XD,sae="***SensitiveInformation***",aae=N((t,e)=>{for(let r of Object.keys(t)){let n=t[r],o=N(async function(s,a,c){let d=new n(s);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[i]=o}},"createAggregatedClient"),cae=N(t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},"parseBoolean"),dae=N(t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&Gd.warn(Ih(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){let e=t.toLowerCase();if((e==="false"||e==="true")&&Gd.warn(Ih(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}},"expectBoolean"),Hd=N(t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&Gd.warn(Ih(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},"expectNumber"),lae=Math.ceil(2**127*(2-2**-23)),bh=N(t=>{let e=Hd(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>lae)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},"expectFloat32"),jd=N(t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},"expectLong"),uae=jd,dE=N(t=>mE(t,32),"expectInt32"),lE=N(t=>mE(t,16),"expectShort"),uE=N(t=>mE(t,8),"expectByte"),mE=N((t,e)=>{let r=jd(t);if(r!==void 0&&pae(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},"expectSizedInt"),pae=N((t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},"castInt"),mae=N((t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},"expectNonNull"),ZD=N(t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},"expectObject"),hae=N(t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return Gd.warn(Ih(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},"expectString"),fae=N(t=>{if(t==null)return;let e=ZD(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e},"expectUnion"),hE=N(t=>Hd(typeof t=="string"?ua(t):t),"strictParseDouble"),gae=hE,ek=N(t=>bh(typeof t=="string"?ua(t):t),"strictParseFloat32"),yae=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ua=N(t=>{let e=t.match(yae);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},"parseNumber"),fE=N(t=>typeof t=="string"?tk(t):Hd(t),"limitedParseDouble"),_ae=fE,vae=fE,Eae=N(t=>typeof t=="string"?tk(t):bh(t),"limitedParseFloat32"),tk=N(t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},"parseFloatString"),rk=N(t=>jd(typeof t=="string"?ua(t):t),"strictParseLong"),Cae=rk,Sae=N(t=>dE(typeof t=="string"?ua(t):t),"strictParseInt32"),da=N(t=>lE(typeof t=="string"?ua(t):t),"strictParseShort"),nk=N(t=>uE(typeof t=="string"?ua(t):t),"strictParseByte"),Ih=N(t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),Gd={warn:console.warn},Tae=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],gE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ok(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),o=t.getUTCDate(),i=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,u=s<10?`0${s}`:`${s}`,m=a<10?`0${a}`:`${a}`;return`${Tae[n]}, ${c} ${gE[r]} ${e} ${d}:${u}:${m} GMT`}N(ok,"dateToUtcString");var Aae=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),bae=N(t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Aae.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,d]=e,u=da(la(n)),m=rn(o,"month",1,12),f=rn(i,"day",1,31);return qd(u,m,f,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),Iae=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Rae=N(t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Iae.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,d,u]=e,m=da(la(n)),f=rn(o,"month",1,12),h=rn(i,"day",1,31),y=qd(m,f,h,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:d});return u.toUpperCase()!="Z"&&y.setTime(y.getTime()-qae(u)),y},"parseRfc3339DateTimeWithOffset"),wae=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Pae=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Oae=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),xae=N(t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=wae.exec(t);if(e){let[r,n,o,i,s,a,c,d]=e;return qd(da(la(i)),aE(o),rn(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:d})}if(e=Pae.exec(t),e){let[r,n,o,i,s,a,c,d]=e;return Mae(qd(Dae(i),aE(o),rn(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(e=Oae.exec(t),e){let[r,n,o,i,s,a,c,d]=e;return qd(da(la(d)),aE(n),rn(o.trimLeft(),"day",1,31),{hours:i,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),Nae=N(t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=hE(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},"parseEpochTimestamp"),qd=N((t,e,r,n)=>{let o=e-1;return Uae(t,o,r),new Date(Date.UTC(t,o,r,rn(n.hours,"hour",0,23),rn(n.minutes,"minute",0,59),rn(n.seconds,"seconds",0,60),Bae(n.fractionalMilliseconds)))},"buildDate"),Dae=N(t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+da(la(t));return r<e?r+100:r},"parseTwoDigitYear"),kae=50*365*24*60*60*1e3,Mae=N(t=>t.getTime()-new Date().getTime()>kae?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,"adjustRfc850Year"),aE=N(t=>{let e=gE.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},"parseMonthByShortName"),Lae=[31,28,31,30,31,30,31,31,30,31,30,31],Uae=N((t,e,r)=>{let n=Lae[e];if(e===1&&Fae(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${gE[e]} in ${t}: ${r}`)},"validateDayOfMonth"),Fae=N(t=>t%4===0&&(t%100!==0||t%400===0),"isLeapYear"),rn=N((t,e,r,n)=>{let o=nk(la(t));if(o<r||o>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),Bae=N(t=>t==null?0:ek("0."+t)*1e3,"parseMilliseconds"),qae=N(t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),o=Number(t.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),la=N(t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)},"stripLeadingZeroes"),ik=class sk extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,sk.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}};N(ik,"ServiceException");var Hae=ik,ak=N((t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(t[n]==null||t[n]==="")&&(t[n]=o)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},"decorateServiceException"),ck=N(({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let o=Gae(t),i=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:e?.code||e?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw ak(s,e)},"throwDefaultError"),jae=N(t=>({output:e,parsedBody:r,errorCode:n})=>{ck({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},"withBaseException"),Gae=N(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),$ae=N(t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),zD=!1,zae=N(t=>{t&&!zD&&parseInt(t.substring(1,t.indexOf(".")))<16&&(zD=!0)},"emitWarningIfUnsupportedVersion"),Vae=N(t=>{let e=[];for(let r in cE.AlgorithmId){let n=cE.AlgorithmId[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),Kae=N(t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},"resolveChecksumRuntimeConfig"),Wae=N(t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}},"getRetryConfiguration"),Qae=N(t=>{let e={};return e.retryStrategy=t.retryStrategy(),e},"resolveRetryRuntimeConfig"),dk=N(t=>({...Vae(t),...Wae(t)}),"getDefaultExtensionConfiguration"),Yae=dk,Jae=N(t=>({...Kae(t),...Qae(t)}),"resolveDefaultRuntimeConfig");function Rh(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}N(Rh,"extendedEncodeURIComponent");var Xae=N(t=>Array.isArray(t)?t:[t],"getArrayIfSingleItem"),lk=N(t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=lk(t[r]));return t},"getValueFromTextNode"),$d=N(function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r},"StringWrapper");$d.prototype=Object.create(String.prototype,{constructor:{value:$d,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf($d,String);var uk=class Ah extends $d{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(e){return e instanceof Ah?e:e instanceof String||typeof e=="string"?new Ah(e):new Ah(JSON.stringify(e))}};N(uk,"LazyJsonString");var Zae=uk;function yE(t,e,r){let n,o,i;if(typeof e>"u"&&typeof r>"u")n={},i=t;else{if(n=t,typeof e=="function")return o=e,i=r,rce(n,o,i);i=e}for(let s of Object.keys(i)){if(!Array.isArray(i[s])){n[s]=i[s];continue}pk(n,null,i,s)}return n}N(yE,"map");var ece=N(t=>{let e={};for(let[r,n]of Object.entries(t||{}))e[r]=[,n];return e},"convertMap"),tce=N((t,e)=>{let r={};for(let n in e)pk(r,t,e,n);return r},"take"),rce=N((t,e,r)=>yE(t,Object.entries(r).reduce((n,[o,i])=>(Array.isArray(i)?n[o]=i:typeof i=="function"?n[o]=[e,i()]:n[o]=[e,i],n),{})),"mapWithFilter"),pk=N((t,e,r,n)=>{if(e!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[a=nce,c=oce,d=n]=s;(typeof a=="function"&&a(e[d])||typeof a!="function"&&a)&&(t[n]=c(e[d]));return}let[o,i]=r[n];if(typeof i=="function"){let s,a=o===void 0&&(s=i())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?t[n]=s:c&&(t[n]=i())}else{let s=o===void 0&&i!=null,a=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(s||a)&&(t[n]=i)}},"applyInstruction"),nce=N(t=>t!=null,"nonNullish"),oce=N(t=>t,"pass"),ice=N((t,e,r,n,o,i)=>{if(e!=null&&e[r]!==void 0){let s=n();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(o,i?s.split("/").map(a=>Rh(a)).join("/"):Rh(s))}else throw new Error("No value provided for input HTTP label: "+r+".");return t},"resolvedPath"),sce=N(t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}},"serializeFloat"),ace=N(t=>t.toISOString().replace(".000Z","Z"),"serializeDateTime"),pE=N(t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(pE);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=pE(t[r]));return e}return t},"_json");function mk(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let o=[],i="";for(let s=0;s<n.length;s++)i===""?i=n[s]:i+=e+n[s],(s+1)%r===0&&(o.push(i),i="");return i!==""&&o.push(i),o}N(mk,"splitEvery")});var fk=g(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.isStreamingPayload=void 0;var cce=require("stream"),dce=t=>t?.body instanceof cce.Readable||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream;Ph.isStreamingPayload=dce});var _r=g((ije,Nk)=>{var Oh=Object.defineProperty,lce=Object.getOwnPropertyDescriptor,uce=Object.getOwnPropertyNames,pce=Object.prototype.hasOwnProperty,it=(t,e)=>Oh(t,"name",{value:e,configurable:!0}),mce=(t,e)=>{for(var r in e)Oh(t,r,{get:e[r],enumerable:!0})},hce=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of uce(e))!pce.call(t,o)&&o!==r&&Oh(t,o,{get:()=>e[o],enumerable:!(n=lce(e,o))||n.enumerable});return t},fce=t=>hce(Oh({},"__esModule",{value:!0}),t),yk={};mce(yk,{AdaptiveRetryStrategy:()=>_ce,CONFIG_MAX_ATTEMPTS:()=>vE,CONFIG_RETRY_MODE:()=>Ik,ENV_MAX_ATTEMPTS:()=>_E,ENV_RETRY_MODE:()=>bk,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>vce,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>Cce,StandardRetryStrategy:()=>Tk,defaultDelayDecider:()=>vk,defaultRetryDecider:()=>Ek,getOmitRetryHeadersPlugin:()=>Sce,getRetryAfterHint:()=>xk,getRetryPlugin:()=>wce,omitRetryHeadersMiddleware:()=>Rk,omitRetryHeadersMiddlewareOptions:()=>wk,resolveRetryConfig:()=>Ece,retryMiddleware:()=>Pk,retryMiddlewareOptions:()=>Ok});Nk.exports=fce(yk);var pa=Ne(),_k=(Dv(),M(Nv)),He=Ji(),gce=it((t,e)=>{let r=t,n=e?.noRetryIncrement??He.NO_RETRY_INCREMENT,o=e?.retryCost??He.RETRY_COST,i=e?.timeoutRetryCost??He.TIMEOUT_RETRY_COST,s=t,a=it(m=>m.name==="TimeoutError"?i:o,"getCapacityAmount"),c=it(m=>a(m)<=s,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:it(m=>{if(!c(m))throw new Error("No retry token available");let f=a(m);return s-=f,f},"retrieveRetryTokens"),releaseRetryTokens:it(m=>{s+=m??n,s=Math.min(s,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),vk=it((t,e)=>Math.floor(Math.min(He.MAXIMUM_RETRY_DELAY,Math.random()*2**e*t)),"defaultDelayDecider"),Do=kv(),Ek=it(t=>t?(0,Do.isRetryableByTrait)(t)||(0,Do.isClockSkewError)(t)||(0,Do.isThrottlingError)(t)||(0,Do.isTransientError)(t):!1,"defaultRetryDecider"),Ck=it(t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),"asSdkError"),Sk=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode=He.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??Ek,this.delayDecider=r?.delayDecider??vk,this.retryQuota=r?.retryQuota??gce(He.INITIAL_RETRY_TOKENS)}shouldRetry(e,r,n){return r<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=He.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,r,n){let o,i=0,s=0,a=await this.getMaxAttempts(),{request:c}=r;for(pa.HttpRequest.isInstance(c)&&(c.headers[He.INVOCATION_ID_HEADER]=(0,_k.v4)());;)try{pa.HttpRequest.isInstance(c)&&(c.headers[He.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:u}=await e(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),u.$metadata.attempts=i+1,u.$metadata.totalRetryDelay=s,{response:d,output:u}}catch(d){let u=Ck(d);if(i++,this.shouldRetry(u,i,a)){o=this.retryQuota.retrieveRetryTokens(u);let m=this.delayDecider((0,Do.isThrottlingError)(u)?He.THROTTLING_RETRY_DELAY_BASE:He.DEFAULT_RETRY_DELAY_BASE,i),f=yce(u.$response),h=Math.max(f||0,m);s+=h,await new Promise(y=>setTimeout(y,h));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=i,u.$metadata.totalRetryDelay=s,u}}};it(Sk,"StandardRetryStrategy");var Tk=Sk,yce=it(t=>{if(!pa.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),Ak=class extends Tk{constructor(e,r){let{rateLimiter:n,...o}=r??{};super(e,o),this.rateLimiter=n??new He.DefaultRateLimiter,this.mode=He.RETRY_MODES.ADAPTIVE}async retry(e,r){return super.retry(e,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};it(Ak,"AdaptiveRetryStrategy");var _ce=Ak,gk=hr(),_E="AWS_MAX_ATTEMPTS",vE="max_attempts",vce={environmentVariableSelector:t=>{let e=t[_E];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${_E} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[vE];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${vE} mast be a number, got "${e}"`);return r},default:He.DEFAULT_MAX_ATTEMPTS},Ece=it(t=>{let{retryStrategy:e}=t,r=(0,gk.normalizeProvider)(t.maxAttempts??He.DEFAULT_MAX_ATTEMPTS);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await(0,gk.normalizeProvider)(t.retryMode)()===He.RETRY_MODES.ADAPTIVE?new He.AdaptiveRetryStrategy(r):new He.StandardRetryStrategy(r))}},"resolveRetryConfig"),bk="AWS_RETRY_MODE",Ik="retry_mode",Cce={environmentVariableSelector:t=>t[bk],configFileSelector:t=>t[Ik],default:He.DEFAULT_RETRY_MODE},Rk=it(()=>t=>async e=>{let{request:r}=e;return pa.HttpRequest.isInstance(r)&&(delete r.headers[He.INVOCATION_ID_HEADER],delete r.headers[He.REQUEST_HEADER]),t(e)},"omitRetryHeadersMiddleware"),wk={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Sce=it(t=>({applyToStack:e=>{e.addRelativeTo(Rk(),wk)}}),"getOmitRetryHeadersPlugin"),Tce=fe(),Ace=fk(),Pk=it(t=>(e,r)=>async n=>{var o;let i=await t.retryStrategy(),s=await t.maxAttempts();if(bce(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),c=new Error,d=0,u=0,{request:m}=n,f=pa.HttpRequest.isInstance(m);for(f&&(m.headers[He.INVOCATION_ID_HEADER]=(0,_k.v4)());;)try{f&&(m.headers[He.REQUEST_HEADER]=`attempt=${d+1}; max=${s}`);let{response:h,output:y}=await e(n);return i.recordSuccess(a),y.$metadata.attempts=d+1,y.$metadata.totalRetryDelay=u,{response:h,output:y}}catch(h){let y=Ice(h);if(c=Ck(h),f&&(0,Ace.isStreamingPayload)(m))throw(o=r.logger instanceof Tce.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await i.refreshRetryTokenForRetry(a,y)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=d+1,c.$metadata.totalRetryDelay=u,c}d=a.getRetryCount();let E=a.getRetryDelay();u+=E,await new Promise(b=>setTimeout(b,E))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)},"retryMiddleware"),bce=it(t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u","isRetryStrategyV2"),Ice=it(t=>{let e={error:t,errorType:Rce(t)},r=xk(t.$response);return r&&(e.retryAfterHint=r),e},"getRetryErrorInfo"),Rce=it(t=>(0,Do.isThrottlingError)(t)?"THROTTLING":(0,Do.isTransientError)(t)?"TRANSIENT":(0,Do.isServerError)(t)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Ok={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},wce=it(t=>({applyToStack:e=>{e.add(Pk(t),Ok)}}),"getRetryPlugin"),xk=it(t=>{if(!pa.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Dk,kk,Pce,Mk=v(()=>{Dk=ae(_r());Av();kk={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:Dk.retryMiddlewareOptions.name},Pce=t=>({applyToStack:e=>{e.addRelativeTo(Tv(t),kk)}})});var Lk=v(()=>{Av();Mk()});var EE,Uk=v(()=>{EE=class{constructor(e){this.authSchemes=new Map;for(let[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var Fk,CE,SE,Bk=v(()=>{Fk=ae(Ne()),CE=ae(Zr()),SE=class{async sign(e,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=Fk.HttpRequest.clone(e);if(n.in===CE.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===CE.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var qk,TE,Hk=v(()=>{qk=ae(Ne()),TE=class{async sign(e,r,n){let o=qk.HttpRequest.clone(e);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var AE,jk=v(()=>{AE=class{async sign(e,r,n){return e}}});var Gk=v(()=>{Bk();Hk();jk()});var $k,Oce,bE,xh,IE,zk=v(()=>{$k=t=>e=>xh(e)&&e.expiration.getTime()-Date.now()<t,Oce=3e5,bE=$k(3e5),xh=t=>t.expiration!==void 0,IE=(t,e,r)=>{if(t===void 0)return;let n=typeof t!="function"?async()=>Promise.resolve(t):t,o,i,s,a=!1,c=async d=>{i||(i=n(d));try{o=await i,s=!0,a=!1}finally{i=void 0}return o};return e===void 0?async d=>((!s||d?.forceRefresh)&&(o=await c(d)),o):async d=>((!s||d?.forceRefresh)&&(o=await c(d)),a?o:r(o)?(e(o)&&await c(d),o):(a=!0,o))}});var Vk=v(()=>{Uk();Gk();zk()});var RE,xce,Kk=v(()=>{RE=ae(Zr()),xce=t=>t[RE.SMITHY_CONTEXT_KEY]||(t[RE.SMITHY_CONTEXT_KEY]={})});var ko,Wk=v(()=>{ko=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function Nce(t,e){return new Nh(t,e)}var Qk,Yk,Nh,Jk=v(()=>{Qk=ae(Ne()),Yk=ae(fe());Nh=class{constructor(e,r){this.input=e,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:e,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let i of this.resolvePathStack)i(this.path);return new Qk.HttpRequest({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,o){return this.resolvePathStack.push(i=>{this.path=(0,Yk.resolvedPath)(i,this.input,e,r,n,o)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}});function Xk(t,e,r,n,o){return async function*(s,a,...c){let d=s.startingToken||void 0,u=!0,m;for(;u;){if(a[r]=d,o&&(a[o]=a[o]??s.pageSize),s.client instanceof t)m=await Dce(e,s.client,a,...c);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield m;let f=d;d=kce(m,n),u=!!(d&&(!s.stopOnSameToken||d!==f))}return void 0}}var Dce,kce,Zk=v(()=>{Dce=async(t,e,r,...n)=>await e.send(new t(r),...n);kce=(t,e)=>{let r=t,n=e.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var bt={};gt(bt,{DefaultIdentityProviderConfig:()=>EE,EXPIRATION_MS:()=>Oce,HttpApiKeyAuthSigner:()=>SE,HttpBearerAuthSigner:()=>TE,NoAuthSigner:()=>AE,RequestBuilder:()=>Nh,createIsIdentityExpiredFunction:()=>$k,createPaginator:()=>Xk,doesIdentityRequireRefresh:()=>xh,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Kne,getHttpAuthSchemePlugin:()=>Wne,getHttpSigningPlugin:()=>Pce,getSmithyContext:()=>xce,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>wx,httpAuthSchemeMiddleware:()=>wd,httpAuthSchemeMiddlewareOptions:()=>xx,httpSigningMiddleware:()=>Tv,httpSigningMiddlewareOptions:()=>kk,isIdentityExpired:()=>bE,memoizeIdentityProvider:()=>IE,normalizeProvider:()=>ko,requestBuilder:()=>Nce});var mt=v(()=>{Dx();Lk();Vk();Kk();Wk();Jk();Zk()});var ma=g((Mje,oM)=>{var Dh=Object.defineProperty,Mce=Object.getOwnPropertyDescriptor,Lce=Object.getOwnPropertyNames,Uce=Object.prototype.hasOwnProperty,tM=(t,e)=>Dh(t,"name",{value:e,configurable:!0}),Fce=(t,e)=>{for(var r in e)Dh(t,r,{get:e[r],enumerable:!0})},Bce=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Lce(e))!Uce.call(t,o)&&o!==r&&Dh(t,o,{get:()=>e[o],enumerable:!(n=Mce(e,o))||n.enumerable});return t},qce=t=>Bce(Dh({},"__esModule",{value:!0}),t),rM={};Fce(rM,{contentLengthMiddleware:()=>wE,contentLengthMiddlewareOptions:()=>nM,getContentLengthPlugin:()=>jce});oM.exports=qce(rM);var Hce=Ne(),eM="content-length";function wE(t){return e=>async r=>{let n=r.request;if(Hce.HttpRequest.isInstance(n)){let{body:o,headers:i}=n;if(o&&Object.keys(i).map(s=>s.toLowerCase()).indexOf(eM)===-1)try{let s=t(o);n.headers={...n.headers,[eM]:String(s)}}catch{}}return e({...r,request:n})}}tM(wE,"contentLengthMiddleware");var nM={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},jce=tM(t=>({applyToStack:e=>{e.add(wE(t.bodyLengthChecker),nM)}}),"getContentLengthPlugin")});var iM,Gce,sM=v(()=>{iM=!1,Gce=t=>{t&&!iM&&parseInt(t.substring(1,t.indexOf(".")))<18&&(iM=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});var aM=v(()=>{sM()});var cM,PE,dM=v(()=>{cM=ae(Ne()),PE=t=>cM.HttpResponse.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var ha,OE=v(()=>{ha=t=>new Date(Date.now()+t)});var lM,uM=v(()=>{OE();lM=(t,e)=>Math.abs(ha(e).getTime()-t)>=3e5});var xE,pM=v(()=>{uM();xE=(t,e)=>{let r=Date.parse(t);return lM(r,e)?r-Date.now():e}});var NE=v(()=>{dM();OE();pM()});var mM,zd,Vd,ts,hM,DE=v(()=>{mM=ae(Ne());NE();zd=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Vd=async t=>{let e=zd("context",t.context),r=zd("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],i=await zd("signer",r.signer)(n),s=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:r,signer:i,signingRegion:s,signingRegionSet:a,signingName:c}},ts=class{async sign(e,r,n){if(!mM.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Vd(n),{config:i,signer:s}=o,{signingRegion:a,signingName:c}=o,d=n.context;if(d?.authSchemes?.length??!1){let[m,f]=d.authSchemes;m?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await s.sign(e,{signingDate:ha(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{let n=r.ServerTime??PE(r.$response);if(n){let o=zd("config",e.config),i=o.systemClockOffset;o.systemClockOffset=xE(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let n=PE(e);if(n){let o=zd("config",r.config);o.systemClockOffset=xE(n,o.systemClockOffset)}}},hM=ts});var fM,kh,gM=v(()=>{fM=ae(Ne());NE();DE();kh=class extends ts{async sign(e,r,n){if(!fM.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:i,signingRegion:s,signingRegionSet:a,signingName:c}=await Vd(n),u=(await o.sigv4aSigningRegionSet?.()??a??[s]).join(",");return await i.sign(e,{signingDate:ha(o.systemClockOffset),signingRegion:u,signingService:c})}}});var kE,$ce,zce,yM=v(()=>{mt();kE=ae(Mt()),$ce=t=>(t.sigv4aSigningRegionSet=ko(t.sigv4aSigningRegionSet),t),zce={environmentVariableSelector(t){if(t.AWS_SIGV4A_SIGNING_REGION_SET)return t.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new kE.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(t){if(t.sigv4a_signing_region_set)return(t.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new kE.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var FM=g((oGe,UM)=>{var Bh=Object.defineProperty,Vce=Object.getOwnPropertyDescriptor,Kce=Object.getOwnPropertyNames,Wce=Object.prototype.hasOwnProperty,ht=(t,e)=>Bh(t,"name",{value:e,configurable:!0}),Qce=(t,e)=>{for(var r in e)Bh(t,r,{get:e[r],enumerable:!0})},Yce=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Kce(e))!Wce.call(t,o)&&o!==r&&Bh(t,o,{get:()=>e[o],enumerable:!(n=Vce(e,o))||n.enumerable});return t},Jce=t=>Yce(Bh({},"__esModule",{value:!0}),t),SM={};Qce(SM,{SignatureV4:()=>Tde,clearCredentialCache:()=>hde,createScope:()=>Uh,getCanonicalHeaders:()=>FE,getCanonicalQuery:()=>OM,getPayloadHash:()=>Fh,getSigningKey:()=>PM,moveHeadersToQuery:()=>MM,prepareRequest:()=>qE});UM.exports=Jce(SM);var _M=hr(),ME=Ct(),Xce="X-Amz-Algorithm",Zce="X-Amz-Credential",TM="X-Amz-Date",ede="X-Amz-SignedHeaders",tde="X-Amz-Expires",AM="X-Amz-Signature",bM="X-Amz-Security-Token",IM="authorization",RM=TM.toLowerCase(),rde="date",nde=[IM,RM,rde],ode=AM.toLowerCase(),UE="x-amz-content-sha256",ide=bM.toLowerCase(),sde={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ade=/^proxy-/,cde=/^sec-/,LE="AWS4-HMAC-SHA256",dde="AWS4-HMAC-SHA256-PAYLOAD",lde="UNSIGNED-PAYLOAD",ude=50,wM="aws4_request",pde=60*60*24*7,Mo=fh(),mde=Ct(),fa={},Lh=[],Uh=ht((t,e,r)=>`${t}/${e}/${r}/${wM}`,"createScope"),PM=ht(async(t,e,r,n,o)=>{let i=await vM(t,e.secretAccessKey,e.accessKeyId),s=`${r}:${n}:${o}:${(0,Mo.toHex)(i)}:${e.sessionToken}`;if(s in fa)return fa[s];for(Lh.push(s);Lh.length>ude;)delete fa[Lh.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,n,o,wM])a=await vM(t,a,c);return fa[s]=a},"getSigningKey"),hde=ht(()=>{Lh.length=0,Object.keys(fa).forEach(t=>{delete fa[t]})},"clearCredentialCache"),vM=ht((t,e,r)=>{let n=new t(e);return n.update((0,mde.toUint8Array)(r)),n.digest()},"hmac"),FE=ht(({headers:t},e,r)=>{let n={};for(let o of Object.keys(t).sort()){if(t[o]==null)continue;let i=o.toLowerCase();(i in sde||e?.has(i)||ade.test(i)||cde.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Kd=Vv(),OM=ht(({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t).sort()){if(n.toLowerCase()===ode)continue;e.push(n);let o=t[n];typeof o=="string"?r[n]=`${(0,Kd.escapeUri)(n)}=${(0,Kd.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,s)=>i.concat([`${(0,Kd.escapeUri)(n)}=${(0,Kd.escapeUri)(s)}`]),[]).sort().join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),fde=qv(),gde=Ct(),Fh=ht(async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===UE)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||(0,fde.isArrayBuffer)(e)){let n=new r;return n.update((0,gde.toUint8Array)(e)),(0,Mo.toHex)(await n.digest())}return lde},"getPayloadHash"),EM=Ct(),xM=class{format(e){let r=[];for(let i of Object.keys(e)){let s=(0,EM.fromUtf8)(i);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[i]))}let n=new Uint8Array(r.reduce((i,s)=>i+s.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(e.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(i.buffer);return s.set(e.value,3),s;case"string":let a=(0,EM.fromUtf8)(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(vde.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!_de.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let m=new Uint8Array(17);return m[0]=9,m.set((0,Mo.fromHex)(e.value.replace(/\-/g,"")),1),m}}};ht(xM,"HeaderFormatter");var yde=xM,_de=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,NM=class DM{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(e));n>-1&&o>0;n--,o/=256)r[n]=o;return e<0&&BE(r),new DM(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&BE(e),parseInt((0,Mo.toHex)(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};ht(NM,"Int64");var vde=NM;function BE(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}ht(BE,"negate");var Ede=ht((t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},"hasHeader"),kM=Ne(),MM=ht((t,e={})=>{var r;let{headers:n,query:o={}}=kM.HttpRequest.clone(t);for(let i of Object.keys(n)){let s=i.toLowerCase();s.slice(0,6)==="x-amz-"&&!((r=e.unhoistableHeaders)!=null&&r.has(s))&&(o[i]=n[i],delete n[i])}return{...t,headers:n,query:o}},"moveHeadersToQuery"),qE=ht(t=>{t=kM.HttpRequest.clone(t);for(let e of Object.keys(t.headers))nde.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},"prepareRequest"),Cde=ht(t=>Sde(t).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),Sde=ht(t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t,"toDate"),LM=class{constructor({applyChecksum:e,credentials:r,region:n,service:o,sha256:i,uriEscapePath:s=!0}){this.headerFormatter=new yde,this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,_M.normalizeProvider)(n),this.credentialProvider=(0,_M.normalizeProvider)(r)}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:s,signableHeaders:a,signingRegion:c,signingService:d}=r,u=await this.credentialProvider();this.validateResolvedCredentials(u);let m=c??await this.regionProvider(),{longDate:f,shortDate:h}=Mh(n);if(o>pde)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=Uh(h,m,d??this.service),E=MM(qE(e),{unhoistableHeaders:s});u.sessionToken&&(E.query[bM]=u.sessionToken),E.query[Xce]=LE,E.query[Zce]=`${u.accessKeyId}/${y}`,E.query[TM]=f,E.query[tde]=o.toString(10);let b=FE(E,i,a);return E.query[ede]=CM(b),E.query[AM]=await this.getSignature(f,y,this.getSigningKey(u,m,h,d),this.createCanonicalRequest(E,b,await Fh(e,this.sha256))),E}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:s}){let a=i??await this.regionProvider(),{shortDate:c,longDate:d}=Mh(n),u=Uh(c,a,s??this.service),m=await Fh({headers:{},body:r},this.sha256),f=new this.sha256;f.update(e);let h=(0,Mo.toHex)(await f.digest()),y=[dde,d,u,o,h,m].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let s=n??await this.regionProvider(),{shortDate:a}=Mh(r),c=new this.sha256(await this.getSigningKey(i,s,a,o));return c.update((0,ME.toUint8Array)(e)),(0,Mo.toHex)(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),d=qE(e),{longDate:u,shortDate:m}=Mh(r),f=Uh(m,c,s??this.service);d.headers[RM]=u,a.sessionToken&&(d.headers[ide]=a.sessionToken);let h=await Fh(d,this.sha256);!Ede(UE,d.headers)&&this.applyChecksum&&(d.headers[UE]=h);let y=FE(d,o,n),E=await this.getSignature(u,f,this.getSigningKey(a,c,m,s),this.createCanonicalRequest(d,y,h));return d.headers[IM]=`${LE} Credential=${a.accessKeyId}/${f}, SignedHeaders=${CM(y)}, Signature=${E}`,d}createCanonicalRequest(e,r,n){let o=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${OM(e)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(e,r,n){let o=new this.sha256;o.update((0,ME.toUint8Array)(n));let i=await o.digest();return`${LE}
${e}
${r}
${(0,Mo.toHex)(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let i of e.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return(0,Kd.escapeUri)(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,o){let i=await this.createStringToSign(e,r,o),s=new this.sha256(await n);return s.update((0,ME.toUint8Array)(i)),(0,Mo.toHex)(await s.digest())}getSigningKey(e,r,n,o){return PM(this.sha256,e,n,r,o||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};ht(LM,"SignatureV4");var Tde=LM,Mh=ht(t=>{let e=Cde(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},"formatDate"),CM=ht(t=>Object.keys(t).sort().join(";"),"getCanonicalHeaderList")});var HE,BM,Ade,qM=v(()=>{mt();HE=ae(FM()),BM=t=>{let e;t.credentials&&(e=IE(t.credentials,bE,xh)),e||(t.credentialDefaultProvider?e=ko(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):e=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:o}=t,i;return t.signer?i=ko(t.signer):t.regionInfoProvider?i=()=>ko(t.region)().then(async s=>[await t.regionInfoProvider(s,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},s]).then(([s,a])=>{let{signingRegion:c,signingService:d}=s;t.signingRegion=t.signingRegion||c||a,t.signingName=t.signingName||d||t.serviceId;let u={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r},m=t.signerConstructor||HE.SignatureV4;return new m(u)}):i=async s=>{s=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await ko(t.region)(),properties:{}},s);let a=s.signingRegion,c=s.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||c||t.serviceId;let d={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:r},u=t.signerConstructor||HE.SignatureV4;return new u(d)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:i}},Ade=BM});var HM=v(()=>{DE();gM();yM();qM()});var jM=v(()=>{HM()});var bde,Ide,Rde,GM=v(()=>{bde=t=>{if(t==null)return t;if(typeof t=="number"||typeof t=="bigint"){let e=new Error(`Received number ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}if(typeof t=="boolean"){let e=new Error(`Received boolean ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}return t},Ide=t=>{if(t==null)return t;if(typeof t=="string"){let e=t.toLowerCase();if(t!==""&&e!=="false"&&e!=="true"){let r=new Error(`Received string "${t}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return t!==""&&e!=="false"}return t},Rde=t=>{if(t==null)return t;if(typeof t=="string"){let e=Number(t);if(e.toString()!==t){let r=new Error(`Received string "${t}" where a number was expected.`);return r.name="Warning",console.warn(r),t}return e}return t}});var $M,wde,zM=v(()=>{$M=ae(fe()),wde=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,(0,$M.expectUnion)(t)}});var VM,qh,jE=v(()=>{VM=ae(fe()),qh=(t,e)=>(0,VM.collectBody)(t,e).then(r=>e.utf8Encoder(r))});var KM,Pde,Ode,WM=v(()=>{jE();KM=(t,e)=>qh(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Pde=async(t,e)=>{let r=await KM(t,e);return r.message=r.message??r.Message,r},Ode=(t,e)=>{let r=(i,s)=>Object.keys(i).find(a=>a.toLowerCase()===s.toLowerCase()),n=i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},o=r(t.headers,"x-amzn-errortype");if(o!==void 0)return n(t.headers[o]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var Hh=g(Un=>{"use strict";var QM=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",xde=QM+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",YM="["+QM+"]["+xde+"]*",Nde=new RegExp("^"+YM+"$"),Dde=function(t,e){let r=[],n=e.exec(t);for(;n;){let o=[];o.startIndex=e.lastIndex-n[0].length;let i=n.length;for(let s=0;s<i;s++)o.push(n[s]);r.push(o),n=e.exec(t)}return r},kde=function(t){let e=Nde.exec(t);return!(e===null||typeof e>"u")};Un.isExist=function(t){return typeof t<"u"};Un.isEmptyObject=function(t){return Object.keys(t).length===0};Un.merge=function(t,e,r){if(e){let n=Object.keys(e),o=n.length;for(let i=0;i<o;i++)r==="strict"?t[n[i]]=[e[n[i]]]:t[n[i]]=e[n[i]]}};Un.getValue=function(t){return Un.isExist(t)?t:""};Un.isName=kde;Un.getAllMatches=Dde;Un.nameRegexp=YM});var $E=g(tL=>{"use strict";var GE=Hh(),Mde={allowBooleanAttributes:!1,unpairedTags:[]};tL.validate=function(t,e){e=Object.assign({},Mde,e);let r=[],n=!1,o=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=XM(t,i),i.err)return i}else if(t[i]==="<"){let s=i;if(i++,t[i]==="!"){i=ZM(t,i);continue}else{let a=!1;t[i]==="/"&&(a=!0,i++);let c="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)c+=t[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!Gde(c)){let m;return c.trim().length===0?m="Invalid space after '<'.":m="Tag '"+c+"' is an invalid name.",Je("InvalidTag",m,Lt(t,i))}let d=Fde(t,i);if(d===!1)return Je("InvalidAttr","Attributes for '"+c+"' have open quote.",Lt(t,i));let u=d.value;if(i=d.index,u[u.length-1]==="/"){let m=i-u.length;u=u.substring(0,u.length-1);let f=eL(u,e);if(f===!0)n=!0;else return Je(f.err.code,f.err.msg,Lt(t,m+f.err.line))}else if(a)if(d.tagClosed){if(u.trim().length>0)return Je("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Lt(t,s));if(r.length===0)return Je("InvalidTag","Closing tag '"+c+"' has not been opened.",Lt(t,s));{let m=r.pop();if(c!==m.tagName){let f=Lt(t,m.tagStartPos);return Je("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",Lt(t,s))}r.length==0&&(o=!0)}}else return Je("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Lt(t,i));else{let m=eL(u,e);if(m!==!0)return Je(m.err.code,m.err.msg,Lt(t,i-u.length+m.err.line));if(o===!0)return Je("InvalidXml","Multiple possible root nodes found.",Lt(t,i));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:s}),n=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=ZM(t,i);continue}else if(t[i+1]==="?"){if(i=XM(t,++i),i.err)return i}else break;else if(t[i]==="&"){let m=Hde(t,i);if(m==-1)return Je("InvalidChar","char '&' is not expected.",Lt(t,i));i=m}else if(o===!0&&!JM(t[i]))return Je("InvalidXml","Extra text at the end",Lt(t,i));t[i]==="<"&&i--}}else{if(JM(t[i]))continue;return Je("InvalidChar","char '"+t[i]+"' is not expected.",Lt(t,i))}if(n){if(r.length==1)return Je("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Lt(t,r[0].tagStartPos));if(r.length>0)return Je("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Je("InvalidXml","Start tag expected.",1);return!0};function JM(t){return t===" "||t==="	"||t===`
`||t==="\r"}function XM(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return Je("InvalidXml","XML declaration allowed only at the start of the document.",Lt(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function ZM(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var Lde='"',Ude="'";function Fde(t,e){let r="",n="",o=!1;for(;e<t.length;e++){if(t[e]===Lde||t[e]===Ude)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){o=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:o}}var Bde=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function eL(t,e){let r=GE.getAllMatches(t,Bde),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return Je("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Wd(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return Je("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Wd(r[o]));if(r[o][3]===void 0&&!e.allowBooleanAttributes)return Je("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Wd(r[o]));let i=r[o][2];if(!jde(i))return Je("InvalidAttr","Attribute '"+i+"' is an invalid name.",Wd(r[o]));if(!n.hasOwnProperty(i))n[i]=1;else return Je("InvalidAttr","Attribute '"+i+"' is repeated.",Wd(r[o]))}return!0}function qde(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function Hde(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,qde(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function Je(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function jde(t){return GE.isName(t)}function Gde(t){return GE.isName(t)}function Lt(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Wd(t){return t.startIndex+t[1].length}});var nL=g(zE=>{var rL={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}},$de=function(t){return Object.assign({},rL,t)};zE.buildOptions=$de;zE.defaultOptions=rL});var iL=g((SGe,oL)=>{"use strict";var VE=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};oL.exports=VE});var aL=g((TGe,sL)=>{var zde=Hh();function Vde(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,o=!1,i=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(o&&Qde(t,e))e+=7,[entityName,val,e]=Kde(t,e+1),val.indexOf("&")===-1&&(r[Zde(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&Yde(t,e))e+=8;else if(o&&Jde(t,e))e+=8;else if(o&&Xde(t,e))e+=9;else if(Wde)i=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,n--):n--,n===0)break}else t[e]==="["?o=!0:s+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function Kde(t,e){let r="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)r+=t[e];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=t[e++],o="";for(;e<t.length&&t[e]!==n;e++)o+=t[e];return[r,o,e]}function Wde(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function Qde(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function Yde(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function Jde(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function Xde(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function Zde(t){if(zde.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}sL.exports=Vde});var dL=g((AGe,cL)=>{var ele=/^[-+]?0x[a-fA-F0-9]+$/,tle=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var rle={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function nle(t,e={}){if(e=Object.assign({},rle,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&ele.test(r))return Number.parseInt(r,16);{let n=tle.exec(r);if(n){let o=n[1],i=n[2],s=ole(n[3]),a=n[4]||n[6];if(!e.leadingZeros&&i.length>0&&o&&r[2]!==".")return t;if(!e.leadingZeros&&i.length>0&&!o&&r[1]!==".")return t;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?e.eNotation?c:t:r.indexOf(".")!==-1?d==="0"&&s===""||d===s||o&&d==="-"+s?c:t:i?s===d||o+s===d?c:t:r===d||r===o+d?c:t}}else return t}}function ole(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}cL.exports=nle});var pL=g((bGe,uL)=>{"use strict";var lL=Hh(),Qd=iL(),ile=aL(),sle=dL(),KE=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=ale,this.parseXml=ple,this.parseTextData=cle,this.resolveNameSpace=dle,this.buildAttributesMap=ule,this.isItStopNode=gle,this.replaceEntitiesValue=hle,this.readStopNodeData=_le,this.saveTextToParentTag=fle,this.addChild=mle}};function ale(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function cle(t,e,r,n,o,i,s){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,o,i);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?QE(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?QE(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function dle(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var lle=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function ule(t,e,r){if(!this.options.ignoreAttributes&&typeof t=="string"){let n=lL.getAllMatches(t,lle),o=n.length,i={};for(let s=0;s<o;s++){let a=this.resolveNameSpace(n[s][1]),c=n[s][4],d=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(a,c,e);u==null?i[d]=c:typeof u!=typeof c||u!==c?i[d]=u:i[d]=QE(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[d]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=i,s}return i}}var ple=function(t){t=t.replace(/\r\n?/g,`
`);let e=new Qd("!xml"),r=e,n="",o="";for(let i=0;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="/"){let a=rs(t,">",i,"Closing Tag is not closed."),c=t.substring(i+2,a).trim();if(this.options.removeNSPrefix){let m=c.indexOf(":");m!==-1&&(c=c.substr(m+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let d=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(u=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=o.lastIndexOf("."),o=o.substring(0,u),r=this.tagsNodeStack.pop(),n="",i=a}else if(t[i+1]==="?"){let a=WE(t,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Qd(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o)}i=a.closeIndex+1}else if(t.substr(i+1,3)==="!--"){let a=rs(t,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(t.substr(i+1,2)==="!D"){let a=ile(t,i);this.docTypeEntities=a.entities,i=a.i}else if(t.substr(i+1,2)==="!["){let a=rs(t,"]]>",i,"CDATA is not closed.")-2,c=t.substring(i+9,a);n=this.saveTextToParentTag(n,r,o);let d=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);d==null&&(d=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,d),i=a+2}else{let a=WE(t,i,this.options.removeNSPrefix),c=a.tagName,d=a.rawTagName,u=a.tagExp,m=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let h=r;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==e.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let y="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let b=this.readStopNodeData(t,d,f+1);if(!b)throw new Error(`Unexpected end of ${d}`);i=b.i,y=b.tagContent}let E=new Qd(c);c!==u&&m&&(E[":@"]=this.buildAttributesMap(u,o,c)),y&&(y=this.parseTextData(y,c,o,!0,m,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),E.add(this.options.textNodeName,y),this.addChild(r,E,o)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let y=new Qd(c);c!==u&&m&&(y[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,y,o),o=o.substr(0,o.lastIndexOf("."))}else{let y=new Qd(c);this.tagsNodeStack.push(r),c!==u&&m&&(y[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,y,o),r=y}n="",i=f}}else n+=t[i];return e.child};function mle(t,e,r){let n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e))}var hle=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function fle(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function gle(t,e,r){let n="*."+r;for(let o in t){let i=t[o];if(n===i||e===i)return!0}return!1}function yle(t,e,r=">"){let n,o="";for(let i=e;i<t.length;i++){let s=t[i];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(t[i+1]===r[1])return{data:o,index:i}}else return{data:o,index:i};else s==="	"&&(s=" ");o+=s}}function rs(t,e,r,n){let o=t.indexOf(e,r);if(o===-1)throw new Error(n);return o+e.length-1}function WE(t,e,r,n=">"){let o=yle(t,e+1,n);if(!o)return;let i=o.data,s=o.index,a=i.search(/\s/),c=i,d=!0;a!==-1&&(c=i.substring(0,a),i=i.substring(a+1).trimStart());let u=c;if(r){let m=c.indexOf(":");m!==-1&&(c=c.substr(m+1),d=c!==o.data.substr(m+1))}return{tagName:c,tagExp:i,closeIndex:s,attrExpPresent:d,rawTagName:u}}function _le(t,e,r){let n=r,o=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let i=rs(t,">",r,`${e} is not closed`);if(t.substring(r+2,i).trim()===e&&(o--,o===0))return{tagContent:t.substring(n,r),i};r=i}else if(t[r+1]==="?")r=rs(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=rs(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=rs(t,"]]>",r,"StopNode is not closed.")-2;else{let i=WE(t,r,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,r=i.closeIndex)}}function QE(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:sle(t,r)}else return lL.isExist(t)?t:""}uL.exports=KE});var fL=g(hL=>{"use strict";function vle(t,e){return mL(t,e)}function mL(t,e,r){let n,o={};for(let i=0;i<t.length;i++){let s=t[i],a=Ele(s),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let d=mL(s[a],e,c),u=Sle(d,e);s[":@"]?Cle(d,s[":@"],c,e):Object.keys(d).length===1&&d[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?d=d[e.textNodeName]:Object.keys(d).length===0&&(e.alwaysCreateTextNode?d[e.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):e.isArray(a,c,u)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[e.textNodeName]=n):n!==void 0&&(o[e.textNodeName]=n),o}function Ele(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function Cle(t,e,r,n){if(e){let o=Object.keys(e),i=o.length;for(let s=0;s<i;s++){let a=o[s];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Sle(t,e){let{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}hL.prettify=vle});var yL=g((RGe,gL)=>{var{buildOptions:Tle}=nL(),Ale=pL(),{prettify:ble}=fL(),Ile=$E(),YE=class{constructor(e){this.externalEntities={},this.options=Tle(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=Ile.validate(e,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new Ale(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(e);return this.options.preserveOrder||o===void 0?o:ble(o,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};gL.exports=YE});var SL=g((wGe,CL)=>{var Rle=`
`;function wle(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=Rle),vL(t,e,"",r)}function vL(t,e,r,n){let o="",i=!1;for(let s=0;s<t.length;s++){let a=t[s],c=Ple(a);if(c===void 0)continue;let d="";if(r.length===0?d=c:d=`${r}.${c}`,c===e.textNodeName){let y=a[c];Ole(d,e)||(y=e.tagValueProcessor(c,y),y=EL(y,e)),i&&(o+=n),o+=y,i=!1;continue}else if(c===e.cdataPropName){i&&(o+=n),o+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,i=!1;continue}else if(c===e.commentPropName){o+=n+`<!--${a[c][0][e.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let y=_L(a[":@"],e),E=c==="?xml"?"":n,b=a[c][0][e.textNodeName];b=b.length!==0?" "+b:"",o+=E+`<${c}${b}${y}?>`,i=!0;continue}let u=n;u!==""&&(u+=e.indentBy);let m=_L(a[":@"],e),f=n+`<${c}${m}`,h=vL(a[c],e,d,u);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?o+=f+">":o+=f+"/>":(!h||h.length===0)&&e.suppressEmptyNode?o+=f+"/>":h&&h.endsWith(">")?o+=f+`>${h}${n}</${c}>`:(o+=f+">",h&&n!==""&&(h.includes("/>")||h.includes("</"))?o+=n+e.indentBy+h+n:o+=h,o+=`</${c}>`),i=!0}return o}function Ple(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(t.hasOwnProperty(n)&&n!==":@")return n}}function _L(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){if(!t.hasOwnProperty(n))continue;let o=e.attributeValueProcessor(n,t[n]);o=EL(o,e),o===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${o}"`}return r}function Ole(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function EL(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let n=e.entities[r];t=t.replace(n.regex,n.val)}return t}CL.exports=wle});var AL=g((PGe,TL)=>{"use strict";var xle=SL(),Nle={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Lo(t){this.options=Object.assign({},Nle,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Mle),this.processTextOrObjNode=Dle,this.options.format?(this.indentate=kle,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Lo.prototype.build=function(t){return this.options.preserveOrder?xle(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Lo.prototype.j2x=function(t,e){let r="",n="";for(let o in t)if(Object.prototype.hasOwnProperty.call(t,o))if(typeof t[o]>"u")this.isAttribute(o)&&(n+="");else if(t[o]===null)this.isAttribute(o)?n+="":o[0]==="?"?n+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(t[o]instanceof Date)n+=this.buildTextValNode(t[o],o,"",e);else if(typeof t[o]!="object"){let i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+t[o]);else if(o===this.options.textNodeName){let s=this.options.tagValueProcessor(o,""+t[o]);n+=this.replaceEntitiesValue(s)}else n+=this.buildTextValNode(t[o],o,"",e)}else if(Array.isArray(t[o])){let i=t[o].length,s="",a="";for(let c=0;c<i;c++){let d=t[o][c];if(!(typeof d>"u"))if(d===null)o[0]==="?"?n+=this.indentate(e)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(typeof d=="object")if(this.options.oneListGroup){let u=this.j2x(d,e+1);s+=u.val,this.options.attributesGroupName&&d.hasOwnProperty(this.options.attributesGroupName)&&(a+=u.attrStr)}else s+=this.processTextOrObjNode(d,o,e);else if(this.options.oneListGroup){let u=this.options.tagValueProcessor(o,d);u=this.replaceEntitiesValue(u),s+=u}else s+=this.buildTextValNode(d,o,"",e)}this.options.oneListGroup&&(s=this.buildObjectNode(s,o,a,e)),n+=s}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let i=Object.keys(t[o]),s=i.length;for(let a=0;a<s;a++)r+=this.buildAttrPairStr(i[a],""+t[o][i[a]])}else n+=this.processTextOrObjNode(t[o],o,e);return{attrStr:r,val:n}};Lo.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function Dle(t,e,r){let n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}Lo.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let o="</"+e+this.tagEndChar,i="";return e[0]==="?"&&(i="?",o=""),(r||r==="")&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+i+">"+t+o:this.options.commentPropName!==!1&&e===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+i+this.tagEndChar+t+this.indentate(n)+o}};Lo.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};Lo.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(e,t);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+o+"</"+e+this.tagEndChar}};Lo.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function kle(t){return this.options.indentBy.repeat(t)}function Mle(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}TL.exports=Lo});var IL=g((OGe,bL)=>{"use strict";var Lle=$E(),Ule=yL(),Fle=AL();bL.exports={XMLParser:Ule,XMLValidator:Lle,XMLBuilder:Fle}});var RL,wL,PL,Ble,qle,OL=v(()=>{RL=ae(fe()),wL=ae(IL());jE();PL=(t,e)=>qh(t,e).then(r=>{if(r.length){let n=new wL.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",s=Object.keys(o)[0],a=o[s];return a[i]&&(a[s]=a[i],delete a[i]),(0,RL.getValueFromTextNode)(a)}return{}}),Ble=async(t,e)=>{let r=await PL(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},qle=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"}});var xL=v(()=>{GM();zM();WM();OL()});var Xe={};gt(Xe,{AWSSDKSigV4Signer:()=>hM,AwsSdkSigV4ASigner:()=>kh,AwsSdkSigV4Signer:()=>ts,NODE_SIGV4A_CONFIG_OPTIONS:()=>zce,_toBool:()=>Ide,_toNum:()=>Rde,_toStr:()=>bde,awsExpectUnion:()=>wde,emitWarningIfUnsupportedVersion:()=>Gce,loadRestJsonErrorCode:()=>Ode,loadRestXmlErrorCode:()=>qle,parseJsonBody:()=>KM,parseJsonErrorBody:()=>Pde,parseXmlBody:()=>PL,parseXmlErrorBody:()=>Ble,resolveAWSSDKSigV4Config:()=>Ade,resolveAwsSdkSigV4AConfig:()=>$ce,resolveAwsSdkSigV4Config:()=>BM,validateSigningProperties:()=>Vd});var Ze=v(()=>{aM();jM();xL()});var JE=g(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.resolveHttpAuthSchemeConfig=Uo.defaultDynamoDBHttpAuthSchemeProvider=Uo.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var Hle=(Ze(),M(Xe)),NL=hr(),jle=async(t,e,r)=>({operation:(0,NL.getSmithyContext)(e).operation,region:await(0,NL.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Uo.defaultDynamoDBHttpAuthSchemeParametersProvider=jle;function Gle(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var $le=t=>{let e=[];switch(t.operation){default:e.push(Gle(t))}return e};Uo.defaultDynamoDBHttpAuthSchemeProvider=$le;var zle=t=>({...(0,Hle.resolveAwsSdkSigV4Config)(t)});Uo.resolveHttpAuthSchemeConfig=zle});var DL=g((jGe,Vle)=>{Vle.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.645.0","@aws-sdk/client-sts":"3.645.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-endpoint-discovery":"3.620.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.2",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96","@types/uuid":"^9.0.4",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var XE=g((GGe,HL)=>{"use strict";var jh=Object.defineProperty,Kle=Object.getOwnPropertyDescriptor,Wle=Object.getOwnPropertyNames,Qle=Object.prototype.hasOwnProperty,Yle=(t,e)=>jh(t,"name",{value:e,configurable:!0}),Jle=(t,e)=>{for(var r in e)jh(t,r,{get:e[r],enumerable:!0})},Xle=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Wle(e))!Qle.call(t,o)&&o!==r&&jh(t,o,{get:()=>e[o],enumerable:!(n=Kle(e,o))||n.enumerable});return t},Zle=t=>Xle(jh({},"__esModule",{value:!0}),t),kL={};Jle(kL,{ENV_ACCOUNT_ID:()=>qL,ENV_CREDENTIAL_SCOPE:()=>BL,ENV_EXPIRATION:()=>FL,ENV_KEY:()=>ML,ENV_SECRET:()=>LL,ENV_SESSION:()=>UL,fromEnv:()=>tue});HL.exports=Zle(kL);var eue=Mt(),ML="AWS_ACCESS_KEY_ID",LL="AWS_SECRET_ACCESS_KEY",UL="AWS_SESSION_TOKEN",FL="AWS_CREDENTIAL_EXPIRATION",BL="AWS_CREDENTIAL_SCOPE",qL="AWS_ACCOUNT_ID",tue=Yle(t=>async()=>{var e;(e=t?.logger)==null||e.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[ML],n=process.env[LL],o=process.env[UL],i=process.env[FL],s=process.env[BL],a=process.env[qL];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...i&&{expiration:new Date(i)},...s&&{credentialScope:s},...a&&{accountId:a}};throw new eue.CredentialsProviderError("Unable to find environment variable credentials.",{logger:t?.logger})},"fromEnv")});var Yd=g(($Ge,rU)=>{var zh=Object.defineProperty,rue=Object.getOwnPropertyDescriptor,nue=Object.getOwnPropertyNames,oue=Object.prototype.hasOwnProperty,st=(t,e)=>zh(t,"name",{value:e,configurable:!0}),iue=(t,e)=>{for(var r in e)zh(t,r,{get:e[r],enumerable:!0})},sue=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of nue(e))!oue.call(t,o)&&o!==r&&zh(t,o,{get:()=>e[o],enumerable:!(n=rue(e,o))||n.enumerable});return t},aue=t=>sue(zh({},"__esModule",{value:!0}),t),zL={};iue(zL,{DEFAULT_MAX_RETRIES:()=>QL,DEFAULT_TIMEOUT:()=>WL,ENV_CMDS_AUTH_TOKEN:()=>tC,ENV_CMDS_FULL_URI:()=>Gh,ENV_CMDS_RELATIVE_URI:()=>$h,Endpoint:()=>XL,fromContainerMetadata:()=>uue,fromInstanceMetadata:()=>Nue,getInstanceMetadataEndpoint:()=>eU,httpRequest:()=>ga,providerConfigFromInit:()=>rC});rU.exports=aue(zL);var cue=require("url"),nn=Mt(),due=require("buffer"),lue=require("http");function ga(t){return new Promise((e,r)=>{var n;let o=(0,lue.request)({method:"GET",...t,hostname:(n=t.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",i=>{r(Object.assign(new nn.ProviderError("Unable to connect to instance metadata service"),i)),o.destroy()}),o.on("timeout",()=>{r(new nn.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",i=>{let{statusCode:s=400}=i;(s<200||300<=s)&&(r(Object.assign(new nn.ProviderError("Error response received from instance metadata service"),{statusCode:s})),o.destroy());let a=[];i.on("data",c=>{a.push(c)}),i.on("end",()=>{e(due.Buffer.concat(a)),o.destroy()})}),o.end()})}st(ga,"httpRequest");var VL=st(t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string","isImdsCredentials"),KL=st(t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}}),"fromImdsCredentials"),WL=1e3,QL=0,rC=st(({maxRetries:t=QL,timeout:e=WL})=>({maxRetries:t,timeout:e}),"providerConfigFromInit"),eC=st((t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r},"retry"),Gh="AWS_CONTAINER_CREDENTIALS_FULL_URI",$h="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",tC="AWS_CONTAINER_AUTHORIZATION_TOKEN",uue=st((t={})=>{let{timeout:e,maxRetries:r}=rC(t);return()=>eC(async()=>{let n=await gue({logger:t.logger}),o=JSON.parse(await pue(e,n));if(!VL(o))throw new nn.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return KL(o)},r)},"fromContainerMetadata"),pue=st(async(t,e)=>(process.env[tC]&&(e.headers={...e.headers,Authorization:process.env[tC]}),(await ga({...e,timeout:t})).toString()),"requestFromEcsImds"),mue="169.254.170.2",hue={localhost:!0,"127.0.0.1":!0},fue={"http:":!0,"https:":!0},gue=st(async({logger:t})=>{if(process.env[$h])return{hostname:mue,path:process.env[$h]};if(process.env[Gh]){let e=(0,cue.parse)(process.env[Gh]);if(!e.hostname||!(e.hostname in hue))throw new nn.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in fue))throw new nn.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new nn.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${$h} or ${Gh} environment variable is set`,{tryNextLink:!1,logger:t})},"getCmdsUri"),YL=class JL extends nn.CredentialsProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,JL.prototype)}};st(YL,"InstanceMetadataV1FallbackError");var yue=YL,nC=tn(),_ue=Ro(),XL=(t=>(t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]",t))(XL||{}),vue="AWS_EC2_METADATA_SERVICE_ENDPOINT",Eue="ec2_metadata_service_endpoint",Cue={environmentVariableSelector:t=>t[vue],configFileSelector:t=>t[Eue],default:void 0},ZL=(t=>(t.IPv4="IPv4",t.IPv6="IPv6",t))(ZL||{}),Sue="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Tue="ec2_metadata_service_endpoint_mode",Aue={environmentVariableSelector:t=>t[Sue],configFileSelector:t=>t[Tue],default:"IPv4"},eU=st(async()=>(0,_ue.parseUrl)(await bue()||await Iue()),"getInstanceMetadataEndpoint"),bue=st(async()=>(0,nC.loadConfig)(Cue)(),"getFromEndpointConfig"),Iue=st(async()=>{let t=await(0,nC.loadConfig)(Aue)();switch(t){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(ZL)}`)}},"getFromEndpointModeConfig"),Rue=5*60,wue=5*60,Pue="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",jL=st((t,e)=>{let r=Rue+Math.floor(Math.random()*wue),n=new Date(Date.now()+r*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Pue);let o=t.originalExpiration??t.expiration;return{...t,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),Oue=st((t,e={})=>{let r=e?.logger||console,n;return async()=>{let o;try{o=await t(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=jL(o,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),o=jL(n,r);else throw i}return n=o,o}},"staticStabilityProvider"),tU="/latest/meta-data/iam/security-credentials/",xue="/latest/api/token",ZE="AWS_EC2_METADATA_V1_DISABLED",GL="ec2_metadata_v1_disabled",$L="x-aws-ec2-metadata-token",Nue=st((t={})=>Oue(Due(t),{logger:t.logger}),"fromInstanceMetadata"),Due=st((t={})=>{let e=!1,{logger:r,profile:n}=t,{timeout:o,maxRetries:i}=rC(t),s=st(async(a,c)=>{var d;if(e||((d=c.headers)==null?void 0:d[$L])==null){let f=!1,h=!1,y=await(0,nC.loadConfig)({environmentVariableSelector:E=>{let b=E[ZE];if(h=!!b&&b!=="false",b===void 0)throw new nn.CredentialsProviderError(`${ZE} not set in env, checking config file next.`,{logger:t.logger});return h},configFileSelector:E=>{let b=E[GL];return f=!!b&&b!=="false",f},default:!1},{profile:n})();if(t.ec2MetadataV1Disabled||y){let E=[];throw t.ec2MetadataV1Disabled&&E.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&E.push(`config file profile (${GL})`),h&&E.push(`process environment variable (${ZE})`),new yue(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${E.join(", ")}].`)}}let m=(await eC(async()=>{let f;try{f=await Mue(c)}catch(h){throw h.statusCode===401&&(e=!1),h}return f},a)).trim();return eC(async()=>{let f;try{f=await Lue(m,c,t)}catch(h){throw h.statusCode===401&&(e=!1),h}return f},a)},"getCredentials");return async()=>{let a=await eU();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(i,{...a,timeout:o});{let c;try{c=(await kue({...a,timeout:o})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(i,{...a,timeout:o})}return s(i,{...a,headers:{[$L]:c},timeout:o})}}},"getInstanceMetadataProvider"),kue=st(async t=>ga({...t,path:xue,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Mue=st(async t=>(await ga({...t,path:tU})).toString(),"getProfile"),Lue=st(async(t,e,r)=>{let n=JSON.parse((await ga({...e,path:tU+t})).toString());if(!VL(n))throw new nn.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return KL(n)},"getCredentialsFromProfile")});var nU=g(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.checkUrl=void 0;var Uue=Mt(),Fue="169.254.170.2",Bue="169.254.170.23",que="[fd00:ec2::23]",Hue=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===Fue||t.hostname===Bue||t.hostname===que)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),n=o=>{let i=parseInt(o,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Uue.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}};Vh.checkUrl=Hue});var oU=g(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.getCredentials=ya.createGetRequest=void 0;var oC=Mt(),jue=Ne(),Gue=fe(),$ue=iE();function zue(t){return new jue.HttpRequest({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,n])=>(e[r]=n,e),{}),fragment:t.hash})}ya.createGetRequest=zue;async function Vue(t,e){let n=await(0,$ue.sdkStreamMixin)(t.body).transformToString();if(t.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new oC.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,Gue.parseRfc3339DateTime)(o.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new oC.CredentialsProviderError(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:o.Code,Message:o.Message})}throw new oC.CredentialsProviderError(`Server responded with status: ${t.statusCode}`,{logger:e})}ya.getCredentials=Vue});var iU=g(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.retryWrapper=void 0;var Kue=(t,e,r)=>async()=>{for(let n=0;n<e;++n)try{return await t()}catch{await new Promise(i=>setTimeout(i,r))}return await t()};Kh.retryWrapper=Kue});var cU=g(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.fromHttp=void 0;var Wue=(_e(),M(ye)),Que=No(),sU=Mt(),Yue=Wue.__importDefault(require("fs/promises")),Jue=nU(),aU=oU(),Xue=iU(),Zue="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",epe="http://169.254.170.2",tpe="AWS_CONTAINER_CREDENTIALS_FULL_URI",rpe="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",npe="AWS_CONTAINER_AUTHORIZATION_TOKEN",ope=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.awsContainerCredentialsRelativeUri??process.env[Zue],n=t.awsContainerCredentialsFullUri??process.env[tpe],o=t.awsContainerAuthorizationToken??process.env[npe],i=t.awsContainerAuthorizationTokenFile??process.env[rpe],s=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console.warn:t.logger.warn;if(r&&n&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),s("awsContainerCredentialsFullUri will take precedence.")),o&&i&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),s("awsContainerAuthorizationToken will take precedence.")),n)e=n;else if(r)e=`${epe}${r}`;else throw new sU.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);(0,Jue.checkUrl)(a,t.logger);let c=new Que.NodeHttpHandler({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return(0,Xue.retryWrapper)(async()=>{let d=(0,aU.createGetRequest)(a);o?d.headers.Authorization=o:i&&(d.headers.Authorization=(await Yue.default.readFile(i)).toString());try{let u=await c.handle(d);return(0,aU.getCredentials)(u.response)}catch(u){throw new sU.CredentialsProviderError(String(u),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)};Wh.fromHttp=ope});var iC=g(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.fromHttp=void 0;var ipe=cU();Object.defineProperty(Qh,"fromHttp",{enumerable:!0,get:function(){return ipe.fromHttp}})});var sC=g(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.resolveHttpAuthSchemeConfig=Fo.defaultSSOHttpAuthSchemeProvider=Fo.defaultSSOHttpAuthSchemeParametersProvider=void 0;var spe=(Ze(),M(Xe)),dU=hr(),ape=async(t,e,r)=>({operation:(0,dU.getSmithyContext)(e).operation,region:await(0,dU.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Fo.defaultSSOHttpAuthSchemeParametersProvider=ape;function cpe(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Yh(t){return{schemeId:"smithy.api#noAuth"}}var dpe=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(Yh(t));break}case"ListAccountRoles":{e.push(Yh(t));break}case"ListAccounts":{e.push(Yh(t));break}case"Logout":{e.push(Yh(t));break}default:e.push(cpe(t))}return e};Fo.defaultSSOHttpAuthSchemeProvider=dpe;var lpe=t=>({...(0,spe.resolveAwsSdkSigV4Config)(t)});Fo.resolveHttpAuthSchemeConfig=lpe});var lU=g((JGe,upe)=>{upe.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.635.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var _a=g((XGe,yU)=>{"use strict";var Jh=Object.defineProperty,ppe=Object.getOwnPropertyDescriptor,mpe=Object.getOwnPropertyNames,hpe=Object.prototype.hasOwnProperty,pU=(t,e)=>Jh(t,"name",{value:e,configurable:!0}),fpe=(t,e)=>{for(var r in e)Jh(t,r,{get:e[r],enumerable:!0})},gpe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of mpe(e))!hpe.call(t,o)&&o!==r&&Jh(t,o,{get:()=>e[o],enumerable:!(n=ppe(e,o))||n.enumerable});return t},ype=t=>gpe(Jh({},"__esModule",{value:!0}),t),mU={};fpe(mU,{UA_APP_ID_ENV_NAME:()=>fU,UA_APP_ID_INI_NAME:()=>gU,crtAvailability:()=>hU,defaultUserAgent:()=>Epe});yU.exports=ype(mU);var _pe=tn(),uU=require("os"),aC=require("process"),hU={isCrtAvailable:!1},vpe=pU(()=>hU.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),fU="AWS_SDK_UA_APP_ID",gU="sdk-ua-app-id",Epe=pU(({serviceId:t,clientVersion:e})=>{let r=[["aws-sdk-js",e],["ua","2.0"],[`os/${(0,uU.platform)()}`,(0,uU.release)()],["lang/js"],["md/nodejs",`${aC.versions.node}`]],n=vpe();n&&r.push(n),t&&r.push([`api/${t}`,e]),aC.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${aC.env.AWS_EXECUTION_ENV}`]);let o=(0,_pe.loadConfig)({environmentVariableSelector:s=>s[fU],configFileSelector:s=>s[gU],default:void 0})(),i;return async()=>{if(!i){let s=await o;i=s?[...r,[`app/${s}`]]:[...r]}return i}},"defaultUserAgent")});var va=g((e$e,SU)=>{var Xh=Object.defineProperty,Cpe=Object.getOwnPropertyDescriptor,Spe=Object.getOwnPropertyNames,Tpe=Object.prototype.hasOwnProperty,vU=(t,e)=>Xh(t,"name",{value:e,configurable:!0}),Ape=(t,e)=>{for(var r in e)Xh(t,r,{get:e[r],enumerable:!0})},bpe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Spe(e))!Tpe.call(t,o)&&o!==r&&Xh(t,o,{get:()=>e[o],enumerable:!(n=Cpe(e,o))||n.enumerable});return t},Ipe=t=>bpe(Xh({},"__esModule",{value:!0}),t),EU={};Ape(EU,{Hash:()=>Ppe});SU.exports=Ipe(EU);var cC=ca(),Rpe=Ct(),wpe=require("buffer"),_U=require("crypto"),CU=class{constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update((0,Rpe.toUint8Array)(dC(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,_U.createHmac)(this.algorithmIdentifier,dC(this.secret)):(0,_U.createHash)(this.algorithmIdentifier)}};vU(CU,"Hash");var Ppe=CU;function dC(t,e){return wpe.Buffer.isBuffer(t)?t:typeof t=="string"?(0,cC.fromString)(t,e):ArrayBuffer.isView(t)?(0,cC.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength):(0,cC.fromArrayBuffer)(t)}vU(dC,"castSourceData")});var Ea=g((t$e,bU)=>{var Zh=Object.defineProperty,Ope=Object.getOwnPropertyDescriptor,xpe=Object.getOwnPropertyNames,Npe=Object.prototype.hasOwnProperty,Dpe=(t,e)=>Zh(t,"name",{value:e,configurable:!0}),kpe=(t,e)=>{for(var r in e)Zh(t,r,{get:e[r],enumerable:!0})},Mpe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of xpe(e))!Npe.call(t,o)&&o!==r&&Zh(t,o,{get:()=>e[o],enumerable:!(n=Ope(e,o))||n.enumerable});return t},Lpe=t=>Mpe(Zh({},"__esModule",{value:!0}),t),AU={};kpe(AU,{calculateBodyLength:()=>Upe});bU.exports=Lpe(AU);var TU=require("fs"),Upe=Dpe(t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(typeof t.path=="string"||Buffer.isBuffer(t.path))return(0,TU.lstatSync)(t.path).size;if(typeof t.fd=="number")return(0,TU.fstatSync)(t.fd).size;throw new Error(`Body Length computation failed for ${t}`)},"calculateBodyLength")});var qU=g(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.ruleSet=void 0;var LU="required",Er="fn",Cr="argv",Ta="ref",IU=!0,RU="isSet",Jd="booleanEquals",Ca="error",Sa="endpoint",Fn="tree",lC="PartitionResult",uC="getAttr",wU={[LU]:!1,type:"String"},PU={[LU]:!0,default:!1,type:"Boolean"},OU={[Ta]:"Endpoint"},UU={[Er]:Jd,[Cr]:[{[Ta]:"UseFIPS"},!0]},FU={[Er]:Jd,[Cr]:[{[Ta]:"UseDualStack"},!0]},vr={},xU={[Er]:uC,[Cr]:[{[Ta]:lC},"supportsFIPS"]},BU={[Ta]:lC},NU={[Er]:Jd,[Cr]:[!0,{[Er]:uC,[Cr]:[BU,"supportsDualStack"]}]},DU=[UU],kU=[FU],MU=[{[Ta]:"Region"}],Fpe={version:"1.0",parameters:{Region:wU,UseDualStack:PU,UseFIPS:PU,Endpoint:wU},rules:[{conditions:[{[Er]:RU,[Cr]:[OU]}],rules:[{conditions:DU,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ca},{conditions:kU,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ca},{endpoint:{url:OU,properties:vr,headers:vr},type:Sa}],type:Fn},{conditions:[{[Er]:RU,[Cr]:MU}],rules:[{conditions:[{[Er]:"aws.partition",[Cr]:MU,assign:lC}],rules:[{conditions:[UU,FU],rules:[{conditions:[{[Er]:Jd,[Cr]:[IU,xU]},NU],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vr,headers:vr},type:Sa}],type:Fn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ca}],type:Fn},{conditions:DU,rules:[{conditions:[{[Er]:Jd,[Cr]:[xU,IU]}],rules:[{conditions:[{[Er]:"stringEquals",[Cr]:[{[Er]:uC,[Cr]:[BU,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:vr,headers:vr},type:Sa},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:vr,headers:vr},type:Sa}],type:Fn},{error:"FIPS is enabled but this partition does not support FIPS",type:Ca}],type:Fn},{conditions:kU,rules:[{conditions:[NU],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vr,headers:vr},type:Sa}],type:Fn},{error:"DualStack is enabled but this partition does not support DualStack",type:Ca}],type:Fn},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:vr,headers:vr},type:Sa}],type:Fn}],type:Fn},{error:"Invalid Configuration: Missing Region",type:Ca}]};ef.ruleSet=Fpe});var jU=g(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.defaultEndpointResolver=void 0;var Bpe=Ki(),HU=Vi(),qpe=qU(),Hpe=(t,e={})=>(0,HU.resolveEndpoint)(qpe.ruleSet,{endpointParams:t,logger:e.logger});tf.defaultEndpointResolver=Hpe;HU.customEndpointFunctions.aws=Bpe.awsEndpointFunctions});var zU=g(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.getRuntimeConfig=void 0;var jpe=(Ze(),M(Xe)),Gpe=(mt(),M(bt)),$pe=fe(),zpe=Ro(),GU=Mn(),$U=Ct(),Vpe=sC(),Kpe=jU(),Wpe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??GU.fromBase64,base64Encoder:t?.base64Encoder??GU.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Kpe.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Vpe.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new jpe.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Gpe.NoAuthSigner}],logger:t?.logger??new $pe.NoOpLogger,serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??zpe.parseUrl,utf8Decoder:t?.utf8Decoder??$U.fromUtf8,utf8Encoder:t?.utf8Encoder??$U.toUtf8});rf.getRuntimeConfig=Wpe});var Aa=g((i$e,JU)=>{var Qpe=Object.create,Xd=Object.defineProperty,Ype=Object.getOwnPropertyDescriptor,Jpe=Object.getOwnPropertyNames,Xpe=Object.getPrototypeOf,Zpe=Object.prototype.hasOwnProperty,pC=(t,e)=>Xd(t,"name",{value:e,configurable:!0}),eme=(t,e)=>{for(var r in e)Xd(t,r,{get:e[r],enumerable:!0})},QU=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Jpe(e))!Zpe.call(t,o)&&o!==r&&Xd(t,o,{get:()=>e[o],enumerable:!(n=Ype(e,o))||n.enumerable});return t},tme=(t,e,r)=>(r=t!=null?Qpe(Xpe(t)):{},QU(e||!t||!t.__esModule?Xd(r,"default",{value:t,enumerable:!0}):r,t)),rme=t=>QU(Xd({},"__esModule",{value:!0}),t),YU={};eme(YU,{resolveDefaultsModeConfig:()=>pme});JU.exports=rme(YU);var nme=fr(),VU=tn(),ome=Mt(),ime="AWS_EXECUTION_ENV",KU="AWS_REGION",WU="AWS_DEFAULT_REGION",sme="AWS_EC2_METADATA_DISABLED",ame=["in-region","cross-region","mobile","standard","legacy"],cme="/latest/meta-data/placement/region",dme="AWS_DEFAULTS_MODE",lme="defaults_mode",ume={environmentVariableSelector:t=>t[dme],configFileSelector:t=>t[lme],default:"legacy"},pme=pC(({region:t=(0,VU.loadConfig)(nme.NODE_REGION_CONFIG_OPTIONS),defaultsMode:e=(0,VU.loadConfig)(ume)}={})=>(0,ome.memoize)(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return mme(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${ame.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),mme=pC(async t=>{if(t){let e=typeof t=="function"?await t():t,r=await hme();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),hme=pC(async()=>{if(process.env[ime]&&(process.env[KU]||process.env[WU]))return process.env[KU]??process.env[WU];if(!process.env[sme])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>tme(Yd())),r=await t();return(await e({...r,path:cme})).toString()}catch{}},"inferPhysicalRegion")});var eF=g(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.getRuntimeConfig=void 0;var fme=(_e(),M(ye)),gme=fme.__importDefault(lU()),yme=(Ze(),M(Xe)),_me=_a(),nf=fr(),vme=va(),XU=_r(),Zd=tn(),ZU=No(),Eme=Ea(),Cme=Ji(),Sme=zU(),Tme=fe(),Ame=Aa(),bme=fe(),Ime=t=>{(0,bme.emitWarningIfUnsupportedVersion)(process.version);let e=(0,Ame.resolveDefaultsModeConfig)(t),r=()=>e().then(Tme.loadConfigsForDefaultMode),n=(0,Sme.getRuntimeConfig)(t);return(0,yme.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??Eme.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,_me.defaultUserAgent)({serviceId:n.serviceId,clientVersion:gme.default.version}),maxAttempts:t?.maxAttempts??(0,Zd.loadConfig)(XU.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,Zd.loadConfig)(nf.NODE_REGION_CONFIG_OPTIONS,nf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:ZU.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,Zd.loadConfig)({...XU.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Cme.DEFAULT_RETRY_MODE}),sha256:t?.sha256??vme.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??ZU.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Zd.loadConfig)(nf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,Zd.loadConfig)(nf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};of.getRuntimeConfig=Ime});var Ia=g((a$e,sF)=>{"use strict";var sf=Object.defineProperty,Rme=Object.getOwnPropertyDescriptor,wme=Object.getOwnPropertyNames,Pme=Object.prototype.hasOwnProperty,ba=(t,e)=>sf(t,"name",{value:e,configurable:!0}),Ome=(t,e)=>{for(var r in e)sf(t,r,{get:e[r],enumerable:!0})},xme=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of wme(e))!Pme.call(t,o)&&o!==r&&sf(t,o,{get:()=>e[o],enumerable:!(n=Rme(e,o))||n.enumerable});return t},Nme=t=>xme(sf({},"__esModule",{value:!0}),t),rF={};Ome(rF,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Lme,NODE_REGION_CONFIG_OPTIONS:()=>Mme,REGION_ENV_NAME:()=>nF,REGION_INI_NAME:()=>oF,getAwsRegionExtensionConfiguration:()=>Dme,resolveAwsRegionExtensionConfiguration:()=>kme,resolveRegionConfig:()=>Ume});sF.exports=Nme(rF);var Dme=ba(t=>{let e=ba(async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=t.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){e=r},region(){return e}}},"getAwsRegionExtensionConfiguration"),kme=ba(t=>({region:t.region()}),"resolveAwsRegionExtensionConfiguration"),nF="AWS_REGION",oF="region",Mme={environmentVariableSelector:t=>t[nF],configFileSelector:t=>t[oF],default:()=>{throw new Error("Region is missing")}},Lme={preferredFile:"credentials"},iF=ba(t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),"isFipsRegion"),tF=ba(t=>iF(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,"getRealRegion"),Ume=ba(t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return tF(e);let n=await e();return tF(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return iF(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var YF=g((h$e,QF)=>{"use strict";var cf=Object.defineProperty,Fme=Object.getOwnPropertyDescriptor,Bme=Object.getOwnPropertyNames,qme=Object.prototype.hasOwnProperty,oe=(t,e)=>cf(t,"name",{value:e,configurable:!0}),Hme=(t,e)=>{for(var r in e)cf(t,r,{get:e[r],enumerable:!0})},jme=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Bme(e))!qme.call(t,o)&&o!==r&&cf(t,o,{get:()=>e[o],enumerable:!(n=Fme(e,o))||n.enumerable});return t},Gme=t=>jme(cf({},"__esModule",{value:!0}),t),mF={};Hme(mF,{GetRoleCredentialsCommand:()=>jF,GetRoleCredentialsRequestFilterSensitiveLog:()=>PF,GetRoleCredentialsResponseFilterSensitiveLog:()=>xF,InvalidRequestException:()=>vF,ListAccountRolesCommand:()=>mC,ListAccountRolesRequestFilterSensitiveLog:()=>NF,ListAccountsCommand:()=>hC,ListAccountsRequestFilterSensitiveLog:()=>DF,LogoutCommand:()=>VF,LogoutRequestFilterSensitiveLog:()=>kF,ResourceNotFoundException:()=>SF,RoleCredentialsFilterSensitiveLog:()=>OF,SSO:()=>WF,SSOClient:()=>lf,SSOServiceException:()=>Ra,TooManyRequestsException:()=>bF,UnauthorizedException:()=>wF,__Client:()=>F.Client,paginateListAccountRoles:()=>fhe,paginateListAccounts:()=>ghe});QF.exports=Gme(mF);var aF=ea(),$me=ta(),zme=ra(),cF=oa(),Vme=fr(),Bn=(mt(),M(bt)),Kme=ma(),tl=Po(),dF=_r(),lF=sC(),Wme=oe(t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),df={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Qme=eF(),uF=Ia(),pF=Ne(),F=fe(),Yme=oe(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Jme=oe(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),af=oe(t=>t,"asPartial"),Xme=oe((t,e)=>{let r={...af((0,uF.getAwsRegionExtensionConfiguration)(t)),...af((0,F.getDefaultExtensionConfiguration)(t)),...af((0,pF.getHttpHandlerExtensionConfiguration)(t)),...af(Yme(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,uF.resolveAwsRegionExtensionConfiguration)(r),...(0,F.resolveDefaultRuntimeConfig)(r),...(0,pF.resolveHttpHandlerRuntimeConfig)(r),...Jme(r)}},"resolveRuntimeExtensions"),hF=class extends F.Client{constructor(...[e]){let r=(0,Qme.getRuntimeConfig)(e||{}),n=Wme(r),o=(0,cF.resolveUserAgentConfig)(n),i=(0,dF.resolveRetryConfig)(o),s=(0,Vme.resolveRegionConfig)(i),a=(0,aF.resolveHostHeaderConfig)(s),c=(0,tl.resolveEndpointConfig)(a),d=(0,lF.resolveHttpAuthSchemeConfig)(c),u=Xme(d,e?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,cF.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,dF.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Kme.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,aF.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,$me.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,zme.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Bn.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:lF.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new Bn.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use((0,Bn.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};oe(hF,"SSOClient");var lf=hF,uf=wo(),fF=class gF extends F.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,gF.prototype)}};oe(fF,"SSOServiceException");var Ra=fF,yF=class _F extends Ra{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,_F.prototype)}};oe(yF,"InvalidRequestException");var vF=yF,EF=class CF extends Ra{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,CF.prototype)}};oe(EF,"ResourceNotFoundException");var SF=EF,TF=class AF extends Ra{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,AF.prototype)}};oe(TF,"TooManyRequestsException");var bF=TF,IF=class RF extends Ra{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,RF.prototype)}};oe(IF,"UnauthorizedException");var wF=IF,PF=oe(t=>({...t,...t.accessToken&&{accessToken:F.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),OF=oe(t=>({...t,...t.secretAccessKey&&{secretAccessKey:F.SENSITIVE_STRING},...t.sessionToken&&{sessionToken:F.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),xF=oe(t=>({...t,...t.roleCredentials&&{roleCredentials:OF(t.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),NF=oe(t=>({...t,...t.accessToken&&{accessToken:F.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),DF=oe(t=>({...t,...t.accessToken&&{accessToken:F.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),kF=oe(t=>({...t,...t.accessToken&&{accessToken:F.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),el=(Ze(),M(Xe)),Zme=oe(async(t,e)=>{let r=(0,Bn.requestBuilder)(t,e),n=(0,F.map)({},mf,{[ff]:t[hf]});r.bp("/federation/credentials");let o=(0,F.map)({[mhe]:[,(0,F.expectNonNull)(t[phe],"roleName")],[LF]:[,(0,F.expectNonNull)(t[MF],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),ehe=oe(async(t,e)=>{let r=(0,Bn.requestBuilder)(t,e),n=(0,F.map)({},mf,{[ff]:t[hf]});r.bp("/assignment/roles");let o=(0,F.map)({[qF]:[,t[BF]],[FF]:[()=>t.maxResults!==void 0,()=>t[UF].toString()],[LF]:[,(0,F.expectNonNull)(t[MF],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),the=oe(async(t,e)=>{let r=(0,Bn.requestBuilder)(t,e),n=(0,F.map)({},mf,{[ff]:t[hf]});r.bp("/assignment/accounts");let o=(0,F.map)({[qF]:[,t[BF]],[FF]:[()=>t.maxResults!==void 0,()=>t[UF].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),rhe=oe(async(t,e)=>{let r=(0,Bn.requestBuilder)(t,e),n=(0,F.map)({},mf,{[ff]:t[hf]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),nhe=oe(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return pf(t,e);let r=(0,F.map)({$metadata:Bo(t)}),n=(0,F.expectNonNull)((0,F.expectObject)(await(0,el.parseJsonBody)(t.body,e)),"body"),o=(0,F.take)(n,{roleCredentials:F._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),ohe=oe(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return pf(t,e);let r=(0,F.map)({$metadata:Bo(t)}),n=(0,F.expectNonNull)((0,F.expectObject)(await(0,el.parseJsonBody)(t.body,e)),"body"),o=(0,F.take)(n,{nextToken:F.expectString,roleList:F._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),ihe=oe(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return pf(t,e);let r=(0,F.map)({$metadata:Bo(t)}),n=(0,F.expectNonNull)((0,F.expectObject)(await(0,el.parseJsonBody)(t.body,e)),"body"),o=(0,F.take)(n,{accountList:F._json,nextToken:F.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),she=oe(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return pf(t,e);let r=(0,F.map)({$metadata:Bo(t)});return await(0,F.collectBody)(t.body,e),r},"de_LogoutCommand"),pf=oe(async(t,e)=>{let r={...t,body:await(0,el.parseJsonErrorBody)(t.body,e)},n=(0,el.loadRestJsonErrorCode)(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await che(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await dhe(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await lhe(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await uhe(r,e);default:let o=r.body;return ahe({output:t,parsedBody:o,errorCode:n})}},"de_CommandError"),ahe=(0,F.withBaseException)(Ra),che=oe(async(t,e)=>{let r=(0,F.map)({}),n=t.body,o=(0,F.take)(n,{message:F.expectString});Object.assign(r,o);let i=new vF({$metadata:Bo(t),...r});return(0,F.decorateServiceException)(i,t.body)},"de_InvalidRequestExceptionRes"),dhe=oe(async(t,e)=>{let r=(0,F.map)({}),n=t.body,o=(0,F.take)(n,{message:F.expectString});Object.assign(r,o);let i=new SF({$metadata:Bo(t),...r});return(0,F.decorateServiceException)(i,t.body)},"de_ResourceNotFoundExceptionRes"),lhe=oe(async(t,e)=>{let r=(0,F.map)({}),n=t.body,o=(0,F.take)(n,{message:F.expectString});Object.assign(r,o);let i=new bF({$metadata:Bo(t),...r});return(0,F.decorateServiceException)(i,t.body)},"de_TooManyRequestsExceptionRes"),uhe=oe(async(t,e)=>{let r=(0,F.map)({}),n=t.body,o=(0,F.take)(n,{message:F.expectString});Object.assign(r,o);let i=new wF({$metadata:Bo(t),...r});return(0,F.decorateServiceException)(i,t.body)},"de_UnauthorizedExceptionRes"),Bo=oe(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),mf=oe(t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),"isSerializableHeaderValue"),MF="accountId",hf="accessToken",LF="account_id",UF="maxResults",FF="max_result",BF="nextToken",qF="next_token",phe="roleName",mhe="role_name",ff="x-amz-sso_bearer_token",HF=class extends F.Command.classBuilder().ep({...df}).m(function(e,r,n,o){return[(0,uf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,tl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(PF,xF).ser(Zme).de(nhe).build(){};oe(HF,"GetRoleCredentialsCommand");var jF=HF,GF=class extends F.Command.classBuilder().ep({...df}).m(function(e,r,n,o){return[(0,uf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,tl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(NF,void 0).ser(ehe).de(ohe).build(){};oe(GF,"ListAccountRolesCommand");var mC=GF,$F=class extends F.Command.classBuilder().ep({...df}).m(function(e,r,n,o){return[(0,uf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,tl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(DF,void 0).ser(the).de(ihe).build(){};oe($F,"ListAccountsCommand");var hC=$F,zF=class extends F.Command.classBuilder().ep({...df}).m(function(e,r,n,o){return[(0,uf.getSerdePlugin)(n,this.serialize,this.deserialize),(0,tl.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(kF,void 0).ser(rhe).de(she).build(){};oe(zF,"LogoutCommand");var VF=zF,hhe={GetRoleCredentialsCommand:jF,ListAccountRolesCommand:mC,ListAccountsCommand:hC,LogoutCommand:VF},KF=class extends lf{};oe(KF,"SSO");var WF=KF;(0,F.createAggregatedClient)(hhe,WF);var fhe=(0,Bn.createPaginator)(lf,mC,"nextToken","nextToken","maxResults"),ghe=(0,Bn.createPaginator)(lf,hC,"nextToken","nextToken","maxResults")});var gC=g(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.resolveHttpAuthSchemeConfig=qo.defaultSSOOIDCHttpAuthSchemeProvider=qo.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var yhe=(Ze(),M(Xe)),JF=hr(),_he=async(t,e,r)=>({operation:(0,JF.getSmithyContext)(e).operation,region:await(0,JF.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});qo.defaultSSOOIDCHttpAuthSchemeParametersProvider=_he;function vhe(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function fC(t){return{schemeId:"smithy.api#noAuth"}}var Ehe=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(fC(t));break}case"RegisterClient":{e.push(fC(t));break}case"StartDeviceAuthorization":{e.push(fC(t));break}default:e.push(vhe(t))}return e};qo.defaultSSOOIDCHttpAuthSchemeProvider=Ehe;var Che=t=>({...(0,yhe.resolveAwsSdkSigV4Config)(t)});qo.resolveHttpAuthSchemeConfig=Che});var XF=g((g$e,She)=>{She.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",peerDependencies:{"@aws-sdk/client-sts":"^3.645.0"},browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var mB=g(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.ruleSet=void 0;var dB="required",Tr="fn",Ar="argv",Oa="ref",ZF=!0,eB="isSet",rl="booleanEquals",wa="error",Pa="endpoint",qn="tree",yC="PartitionResult",_C="getAttr",tB={[dB]:!1,type:"String"},rB={[dB]:!0,default:!1,type:"Boolean"},nB={[Oa]:"Endpoint"},lB={[Tr]:rl,[Ar]:[{[Oa]:"UseFIPS"},!0]},uB={[Tr]:rl,[Ar]:[{[Oa]:"UseDualStack"},!0]},Sr={},oB={[Tr]:_C,[Ar]:[{[Oa]:yC},"supportsFIPS"]},pB={[Oa]:yC},iB={[Tr]:rl,[Ar]:[!0,{[Tr]:_C,[Ar]:[pB,"supportsDualStack"]}]},sB=[lB],aB=[uB],cB=[{[Oa]:"Region"}],The={version:"1.0",parameters:{Region:tB,UseDualStack:rB,UseFIPS:rB,Endpoint:tB},rules:[{conditions:[{[Tr]:eB,[Ar]:[nB]}],rules:[{conditions:sB,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:wa},{conditions:aB,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:wa},{endpoint:{url:nB,properties:Sr,headers:Sr},type:Pa}],type:qn},{conditions:[{[Tr]:eB,[Ar]:cB}],rules:[{conditions:[{[Tr]:"aws.partition",[Ar]:cB,assign:yC}],rules:[{conditions:[lB,uB],rules:[{conditions:[{[Tr]:rl,[Ar]:[ZF,oB]},iB],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sr,headers:Sr},type:Pa}],type:qn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:wa}],type:qn},{conditions:sB,rules:[{conditions:[{[Tr]:rl,[Ar]:[oB,ZF]}],rules:[{conditions:[{[Tr]:"stringEquals",[Ar]:[{[Tr]:_C,[Ar]:[pB,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Sr,headers:Sr},type:Pa},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Sr,headers:Sr},type:Pa}],type:qn},{error:"FIPS is enabled but this partition does not support FIPS",type:wa}],type:qn},{conditions:aB,rules:[{conditions:[iB],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sr,headers:Sr},type:Pa}],type:qn},{error:"DualStack is enabled but this partition does not support DualStack",type:wa}],type:qn},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Sr,headers:Sr},type:Pa}],type:qn}],type:qn},{error:"Invalid Configuration: Missing Region",type:wa}]};gf.ruleSet=The});var fB=g(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.defaultEndpointResolver=void 0;var Ahe=Ki(),hB=Vi(),bhe=mB(),Ihe=(t,e={})=>(0,hB.resolveEndpoint)(bhe.ruleSet,{endpointParams:t,logger:e.logger});yf.defaultEndpointResolver=Ihe;hB.customEndpointFunctions.aws=Ahe.awsEndpointFunctions});var _B=g(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.getRuntimeConfig=void 0;var Rhe=(Ze(),M(Xe)),whe=(mt(),M(bt)),Phe=fe(),Ohe=Ro(),gB=Mn(),yB=Ct(),xhe=gC(),Nhe=fB(),Dhe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??gB.fromBase64,base64Encoder:t?.base64Encoder??gB.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Nhe.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??xhe.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Rhe.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new whe.NoAuthSigner}],logger:t?.logger??new Phe.NoOpLogger,serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??Ohe.parseUrl,utf8Decoder:t?.utf8Decoder??yB.fromUtf8,utf8Encoder:t?.utf8Encoder??yB.toUtf8});_f.getRuntimeConfig=Dhe});var CB=g(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.getRuntimeConfig=void 0;var khe=(_e(),M(ye)),Mhe=khe.__importDefault(XF()),Lhe=(Ze(),M(Xe)),Uhe=ol(),Fhe=_a(),vf=fr(),Bhe=va(),vB=_r(),nl=tn(),EB=No(),qhe=Ea(),Hhe=Ji(),jhe=_B(),Ghe=fe(),$he=Aa(),zhe=fe(),Vhe=t=>{(0,zhe.emitWarningIfUnsupportedVersion)(process.version);let e=(0,$he.resolveDefaultsModeConfig)(t),r=()=>e().then(Ghe.loadConfigsForDefaultMode),n=(0,jhe.getRuntimeConfig)(t);return(0,Lhe.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??qhe.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??Uhe.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,Fhe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Mhe.default.version}),maxAttempts:t?.maxAttempts??(0,nl.loadConfig)(vB.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,nl.loadConfig)(vf.NODE_REGION_CONFIG_OPTIONS,vf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:EB.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,nl.loadConfig)({...vB.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Hhe.DEFAULT_RETRY_MODE}),sha256:t?.sha256??Bhe.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??EB.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,nl.loadConfig)(vf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,nl.loadConfig)(vf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Ef.getRuntimeConfig=Vhe});var vC=g((R$e,Uq)=>{"use strict";var Sf=Object.defineProperty,Khe=Object.getOwnPropertyDescriptor,Whe=Object.getOwnPropertyNames,Qhe=Object.prototype.hasOwnProperty,V=(t,e)=>Sf(t,"name",{value:e,configurable:!0}),Yhe=(t,e)=>{for(var r in e)Sf(t,r,{get:e[r],enumerable:!0})},Jhe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Whe(e))!Qhe.call(t,o)&&o!==r&&Sf(t,o,{get:()=>e[o],enumerable:!(n=Khe(e,o))||n.enumerable});return t},Xhe=t=>Jhe(Sf({},"__esModule",{value:!0}),t),wB={};Yhe(wB,{AccessDeniedException:()=>MB,AuthorizationPendingException:()=>FB,CreateTokenCommand:()=>wq,CreateTokenRequestFilterSensitiveLog:()=>Cq,CreateTokenResponseFilterSensitiveLog:()=>Sq,CreateTokenWithIAMCommand:()=>Oq,CreateTokenWithIAMRequestFilterSensitiveLog:()=>Tq,CreateTokenWithIAMResponseFilterSensitiveLog:()=>Aq,ExpiredTokenException:()=>HB,InternalServerException:()=>$B,InvalidClientException:()=>KB,InvalidClientMetadataException:()=>yq,InvalidGrantException:()=>YB,InvalidRedirectUriException:()=>Eq,InvalidRequestException:()=>ZB,InvalidRequestRegionException:()=>hq,InvalidScopeException:()=>rq,RegisterClientCommand:()=>Nq,RegisterClientResponseFilterSensitiveLog:()=>bq,SSOOIDC:()=>Lq,SSOOIDCClient:()=>OB,SSOOIDCServiceException:()=>It,SlowDownException:()=>iq,StartDeviceAuthorizationCommand:()=>kq,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>Iq,UnauthorizedClientException:()=>cq,UnsupportedGrantTypeException:()=>uq,__Client:()=>S.Client});Uq.exports=Xhe(wB);var SB=ea(),Zhe=ta(),efe=ra(),TB=oa(),tfe=fr(),ns=(mt(),M(bt)),rfe=ma(),il=Po(),AB=_r(),bB=gC(),nfe=V(t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),Tf={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},ofe=CB(),IB=Ia(),RB=Ne(),S=fe(),ife=V(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),sfe=V(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),Cf=V(t=>t,"asPartial"),afe=V((t,e)=>{let r={...Cf((0,IB.getAwsRegionExtensionConfiguration)(t)),...Cf((0,S.getDefaultExtensionConfiguration)(t)),...Cf((0,RB.getHttpHandlerExtensionConfiguration)(t)),...Cf(ife(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,IB.resolveAwsRegionExtensionConfiguration)(r),...(0,S.resolveDefaultRuntimeConfig)(r),...(0,RB.resolveHttpHandlerRuntimeConfig)(r),...sfe(r)}},"resolveRuntimeExtensions"),PB=class extends S.Client{constructor(...[e]){let r=(0,ofe.getRuntimeConfig)(e||{}),n=nfe(r),o=(0,TB.resolveUserAgentConfig)(n),i=(0,AB.resolveRetryConfig)(o),s=(0,tfe.resolveRegionConfig)(i),a=(0,SB.resolveHostHeaderConfig)(s),c=(0,il.resolveEndpointConfig)(a),d=(0,bB.resolveHttpAuthSchemeConfig)(c),u=afe(d,e?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,TB.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,AB.getRetryPlugin)(this.config)),this.middlewareStack.use((0,rfe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,SB.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Zhe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,efe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,ns.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:bB.defaultSSOOIDCHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new ns.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use((0,ns.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};V(PB,"SSOOIDCClient");var OB=PB,Af=wo(),xB=class NB extends S.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,NB.prototype)}};V(xB,"SSOOIDCServiceException");var It=xB,DB=class kB extends It{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,kB.prototype),this.error=e.error,this.error_description=e.error_description}};V(DB,"AccessDeniedException");var MB=DB,LB=class UB extends It{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,UB.prototype),this.error=e.error,this.error_description=e.error_description}};V(LB,"AuthorizationPendingException");var FB=LB,BB=class qB extends It{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,qB.prototype),this.error=e.error,this.error_description=e.error_description}};V(BB,"ExpiredTokenException");var HB=BB,jB=class GB extends It{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,GB.prototype),this.error=e.error,this.error_description=e.error_description}};V(jB,"InternalServerException");var $B=jB,zB=class VB extends It{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,VB.prototype),this.error=e.error,this.error_description=e.error_description}};V(zB,"InvalidClientException");var KB=zB,WB=class QB extends It{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,QB.prototype),this.error=e.error,this.error_description=e.error_description}};V(WB,"InvalidGrantException");var YB=WB,JB=class XB extends It{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,XB.prototype),this.error=e.error,this.error_description=e.error_description}};V(JB,"InvalidRequestException");var ZB=JB,eq=class tq extends It{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,tq.prototype),this.error=e.error,this.error_description=e.error_description}};V(eq,"InvalidScopeException");var rq=eq,nq=class oq extends It{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,oq.prototype),this.error=e.error,this.error_description=e.error_description}};V(nq,"SlowDownException");var iq=nq,sq=class aq extends It{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,aq.prototype),this.error=e.error,this.error_description=e.error_description}};V(sq,"UnauthorizedClientException");var cq=sq,dq=class lq extends It{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,lq.prototype),this.error=e.error,this.error_description=e.error_description}};V(dq,"UnsupportedGrantTypeException");var uq=dq,pq=class mq extends It{constructor(e){super({name:"InvalidRequestRegionException",$fault:"client",...e}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,mq.prototype),this.error=e.error,this.error_description=e.error_description,this.endpoint=e.endpoint,this.region=e.region}};V(pq,"InvalidRequestRegionException");var hq=pq,fq=class gq extends It{constructor(e){super({name:"InvalidClientMetadataException",$fault:"client",...e}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,gq.prototype),this.error=e.error,this.error_description=e.error_description}};V(fq,"InvalidClientMetadataException");var yq=fq,_q=class vq extends It{constructor(e){super({name:"InvalidRedirectUriException",$fault:"client",...e}),this.name="InvalidRedirectUriException",this.$fault="client",Object.setPrototypeOf(this,vq.prototype),this.error=e.error,this.error_description=e.error_description}};V(_q,"InvalidRedirectUriException");var Eq=_q,Cq=V(t=>({...t,...t.clientSecret&&{clientSecret:S.SENSITIVE_STRING},...t.refreshToken&&{refreshToken:S.SENSITIVE_STRING},...t.codeVerifier&&{codeVerifier:S.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),Sq=V(t=>({...t,...t.accessToken&&{accessToken:S.SENSITIVE_STRING},...t.refreshToken&&{refreshToken:S.SENSITIVE_STRING},...t.idToken&&{idToken:S.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),Tq=V(t=>({...t,...t.refreshToken&&{refreshToken:S.SENSITIVE_STRING},...t.assertion&&{assertion:S.SENSITIVE_STRING},...t.subjectToken&&{subjectToken:S.SENSITIVE_STRING},...t.codeVerifier&&{codeVerifier:S.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),Aq=V(t=>({...t,...t.accessToken&&{accessToken:S.SENSITIVE_STRING},...t.refreshToken&&{refreshToken:S.SENSITIVE_STRING},...t.idToken&&{idToken:S.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),bq=V(t=>({...t,...t.clientSecret&&{clientSecret:S.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),Iq=V(t=>({...t,...t.clientSecret&&{clientSecret:S.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),xa=(Ze(),M(Xe)),cfe=V(async(t,e)=>{let r=(0,ns.requestBuilder)(t,e),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,S.take)(t,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,S._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_CreateTokenCommand"),dfe=V(async(t,e)=>{let r=(0,ns.requestBuilder)(t,e),n={"content-type":"application/json"};r.bp("/token");let o=(0,S.map)({[xfe]:[,"t"]}),i;return i=JSON.stringify((0,S.take)(t,{assertion:[],clientId:[],code:[],codeVerifier:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:s=>(0,S._json)(s),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(o).b(i),r.build()},"se_CreateTokenWithIAMCommand"),lfe=V(async(t,e)=>{let r=(0,ns.requestBuilder)(t,e),n={"content-type":"application/json"};r.bp("/client/register");let o;return o=JSON.stringify((0,S.take)(t,{clientName:[],clientType:[],entitledApplicationArn:[],grantTypes:i=>(0,S._json)(i),issuerUrl:[],redirectUris:i=>(0,S._json)(i),scopes:i=>(0,S._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_RegisterClientCommand"),ufe=V(async(t,e)=>{let r=(0,ns.requestBuilder)(t,e),n={"content-type":"application/json"};r.bp("/device_authorization");let o;return o=JSON.stringify((0,S.take)(t,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartDeviceAuthorizationCommand"),pfe=V(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return bf(t,e);let r=(0,S.map)({$metadata:ft(t)}),n=(0,S.expectNonNull)((0,S.expectObject)(await(0,xa.parseJsonBody)(t.body,e)),"body"),o=(0,S.take)(n,{accessToken:S.expectString,expiresIn:S.expectInt32,idToken:S.expectString,refreshToken:S.expectString,tokenType:S.expectString});return Object.assign(r,o),r},"de_CreateTokenCommand"),mfe=V(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return bf(t,e);let r=(0,S.map)({$metadata:ft(t)}),n=(0,S.expectNonNull)((0,S.expectObject)(await(0,xa.parseJsonBody)(t.body,e)),"body"),o=(0,S.take)(n,{accessToken:S.expectString,expiresIn:S.expectInt32,idToken:S.expectString,issuedTokenType:S.expectString,refreshToken:S.expectString,scope:S._json,tokenType:S.expectString});return Object.assign(r,o),r},"de_CreateTokenWithIAMCommand"),hfe=V(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return bf(t,e);let r=(0,S.map)({$metadata:ft(t)}),n=(0,S.expectNonNull)((0,S.expectObject)(await(0,xa.parseJsonBody)(t.body,e)),"body"),o=(0,S.take)(n,{authorizationEndpoint:S.expectString,clientId:S.expectString,clientIdIssuedAt:S.expectLong,clientSecret:S.expectString,clientSecretExpiresAt:S.expectLong,tokenEndpoint:S.expectString});return Object.assign(r,o),r},"de_RegisterClientCommand"),ffe=V(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return bf(t,e);let r=(0,S.map)({$metadata:ft(t)}),n=(0,S.expectNonNull)((0,S.expectObject)(await(0,xa.parseJsonBody)(t.body,e)),"body"),o=(0,S.take)(n,{deviceCode:S.expectString,expiresIn:S.expectInt32,interval:S.expectInt32,userCode:S.expectString,verificationUri:S.expectString,verificationUriComplete:S.expectString});return Object.assign(r,o),r},"de_StartDeviceAuthorizationCommand"),bf=V(async(t,e)=>{let r={...t,body:await(0,xa.parseJsonErrorBody)(t.body,e)},n=(0,xa.loadRestJsonErrorCode)(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await yfe(r,e);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await _fe(r,e);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await vfe(r,e);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Efe(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Cfe(r,e);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Tfe(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await bfe(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Rfe(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await wfe(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Pfe(r,e);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Ofe(r,e);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await Ife(r,e);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await Sfe(r,e);case"InvalidRedirectUriException":case"com.amazonaws.ssooidc#InvalidRedirectUriException":throw await Afe(r,e);default:let o=r.body;return gfe({output:t,parsedBody:o,errorCode:n})}},"de_CommandError"),gfe=(0,S.withBaseException)(It),yfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new MB({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_AccessDeniedExceptionRes"),_fe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new FB({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_AuthorizationPendingExceptionRes"),vfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new HB({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_ExpiredTokenExceptionRes"),Efe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new $B({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InternalServerExceptionRes"),Cfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new KB({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidClientExceptionRes"),Sfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new yq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidClientMetadataExceptionRes"),Tfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new YB({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidGrantExceptionRes"),Afe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new Eq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidRedirectUriExceptionRes"),bfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new ZB({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidRequestExceptionRes"),Ife=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{endpoint:S.expectString,error:S.expectString,error_description:S.expectString,region:S.expectString});Object.assign(r,o);let i=new hq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidRequestRegionExceptionRes"),Rfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new rq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_InvalidScopeExceptionRes"),wfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new iq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_SlowDownExceptionRes"),Pfe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new cq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_UnauthorizedClientExceptionRes"),Ofe=V(async(t,e)=>{let r=(0,S.map)({}),n=t.body,o=(0,S.take)(n,{error:S.expectString,error_description:S.expectString});Object.assign(r,o);let i=new uq({$metadata:ft(t),...r});return(0,S.decorateServiceException)(i,t.body)},"de_UnsupportedGrantTypeExceptionRes"),ft=V(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),xfe="aws_iam",Rq=class extends S.Command.classBuilder().ep({...Tf}).m(function(e,r,n,o){return[(0,Af.getSerdePlugin)(n,this.serialize,this.deserialize),(0,il.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Cq,Sq).ser(cfe).de(pfe).build(){};V(Rq,"CreateTokenCommand");var wq=Rq,Pq=class extends S.Command.classBuilder().ep({...Tf}).m(function(e,r,n,o){return[(0,Af.getSerdePlugin)(n,this.serialize,this.deserialize),(0,il.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(Tq,Aq).ser(dfe).de(mfe).build(){};V(Pq,"CreateTokenWithIAMCommand");var Oq=Pq,xq=class extends S.Command.classBuilder().ep({...Tf}).m(function(e,r,n,o){return[(0,Af.getSerdePlugin)(n,this.serialize,this.deserialize),(0,il.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,bq).ser(lfe).de(hfe).build(){};V(xq,"RegisterClientCommand");var Nq=xq,Dq=class extends S.Command.classBuilder().ep({...Tf}).m(function(e,r,n,o){return[(0,Af.getSerdePlugin)(n,this.serialize,this.deserialize),(0,il.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(Iq,void 0).ser(ufe).de(ffe).build(){};V(Dq,"StartDeviceAuthorizationCommand");var kq=Dq,Nfe={CreateTokenCommand:wq,CreateTokenWithIAMCommand:Oq,RegisterClientCommand:Nq,StartDeviceAuthorizationCommand:kq},Mq=class extends OB{};V(Mq,"SSOOIDC");var Lq=Mq;(0,S.createAggregatedClient)(Nfe,Lq)});var zq=g((w$e,$q)=>{"use strict";var Dfe=Object.create,al=Object.defineProperty,kfe=Object.getOwnPropertyDescriptor,Mfe=Object.getOwnPropertyNames,Lfe=Object.getPrototypeOf,Ufe=Object.prototype.hasOwnProperty,Ho=(t,e)=>al(t,"name",{value:e,configurable:!0}),Ffe=(t,e)=>{for(var r in e)al(t,r,{get:e[r],enumerable:!0})},qq=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Mfe(e))!Ufe.call(t,o)&&o!==r&&al(t,o,{get:()=>e[o],enumerable:!(n=kfe(e,o))||n.enumerable});return t},Hq=(t,e,r)=>(r=t!=null?Dfe(Lfe(t)):{},qq(e||!t||!t.__esModule?al(r,"default",{value:t,enumerable:!0}):r,t)),Bfe=t=>qq(al({},"__esModule",{value:!0}),t),jq={};Ffe(jq,{fromSso:()=>Gq,fromStatic:()=>Vfe,nodeProvider:()=>Kfe});$q.exports=Bfe(jq);var qfe=5*60*1e3,CC="To refresh this SSO session run 'aws sso login' with the corresponding profile.",EC={},Hfe=Ho(async t=>{let{SSOOIDCClient:e}=await Promise.resolve().then(()=>Hq(vC()));if(EC[t])return EC[t];let r=new e({region:t});return EC[t]=r,r},"getSsoOidcClient"),jfe=Ho(async(t,e)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>Hq(vC()));return(await Hfe(e)).send(new r({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Fr=Mt(),Fq=Ho(t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Fr.TokenProviderError(`Token is expired. ${CC}`,!1)},"validateTokenExpiry"),os=Ho((t,e,r=!1)=>{if(typeof e>"u")throw new Fr.TokenProviderError(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${CC}`,!1)},"validateTokenKey"),sl=Io(),Gfe=require("fs"),{writeFile:$fe}=Gfe.promises,zfe=Ho((t,e)=>{let r=(0,sl.getSSOTokenFilepath)(t),n=JSON.stringify(e,null,2);return $fe(r,n)},"writeSSOTokenToFile"),Bq=new Date(0),Gq=Ho((t={})=>async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/token-providers - fromSso");let r=await(0,sl.parseKnownFiles)(t),n=(0,sl.getProfileName)(t),o=r[n];if(o){if(!o.sso_session)throw new Fr.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Fr.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=o.sso_session,a=(await(0,sl.loadSsoSessionData)(t))[i];if(!a)throw new Fr.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!a[y])throw new Fr.TokenProviderError(`Sso session '${i}' is missing required property '${y}'.`,!1);let c=a.sso_start_url,d=a.sso_region,u;try{u=await(0,sl.getSSOTokenFromFile)(i)}catch{throw new Fr.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${CC}`,!1)}os("accessToken",u.accessToken),os("expiresAt",u.expiresAt);let{accessToken:m,expiresAt:f}=u,h={token:m,expiration:new Date(f)};if(h.expiration.getTime()-Date.now()>qfe)return h;if(Date.now()-Bq.getTime()<30*1e3)return Fq(h),h;os("clientId",u.clientId,!0),os("clientSecret",u.clientSecret,!0),os("refreshToken",u.refreshToken,!0);try{Bq.setTime(Date.now());let y=await jfe(u,d);os("accessToken",y.accessToken),os("expiresIn",y.expiresIn);let E=new Date(Date.now()+y.expiresIn*1e3);try{await zfe(i,{...u,accessToken:y.accessToken,expiresAt:E.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:E}}catch{return Fq(h),h}},"fromSso"),Vfe=Ho(({token:t,logger:e})=>async()=>{if(e?.debug("@aws-sdk/token-providers - fromStatic"),!t||!t.token)throw new Fr.TokenProviderError("Please pass a valid token to fromStatic",!1);return t},"fromStatic"),Kfe=Ho((t={})=>(0,Fr.memoize)((0,Fr.chain)(Gq(t),async()=>{throw new Fr.TokenProviderError("Could not load token from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0),"nodeProvider")});var TC=g((P$e,Zq)=>{"use strict";var Rf=Object.defineProperty,Wfe=Object.getOwnPropertyDescriptor,Kq=Object.getOwnPropertyNames,Qfe=Object.prototype.hasOwnProperty,wf=(t,e)=>Rf(t,"name",{value:e,configurable:!0}),Yfe=(t,e)=>function(){return t&&(e=(0,t[Kq(t)[0]])(t=0)),e},Wq=(t,e)=>{for(var r in e)Rf(t,r,{get:e[r],enumerable:!0})},Jfe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Kq(e))!Qfe.call(t,o)&&o!==r&&Rf(t,o,{get:()=>e[o],enumerable:!(n=Wfe(e,o))||n.enumerable});return t},Xfe=t=>Jfe(Rf({},"__esModule",{value:!0}),t),Qq={};Wq(Qq,{GetRoleCredentialsCommand:()=>SC.GetRoleCredentialsCommand,SSOClient:()=>SC.SSOClient});var SC,Zfe=Yfe({"src/loadSso.ts"(){"use strict";SC=YF()}}),Yq={};Wq(Yq,{fromSSO:()=>tge,isSsoProfile:()=>Jq,validateSsoProfile:()=>Xq});Zq.exports=Xfe(Yq);var Jq=wf(t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string"),"isSsoProfile"),ege=zq(),Br=Mt(),If=Io(),cl=!1,Vq=wf(async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:i,clientConfig:s,profile:a,logger:c})=>{let d,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let ut=await(0,ege.fromSso)({profile:a})();d={accessToken:ut.token,expiresAt:new Date(ut.expiration).toISOString()}}catch(ut){throw new Br.CredentialsProviderError(ut.message,{tryNextLink:cl,logger:c})}else try{d=await(0,If.getSSOTokenFromFile)(t)}catch{throw new Br.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:cl,logger:c})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new Br.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:cl,logger:c});let{accessToken:m}=d,{SSOClient:f,GetRoleCredentialsCommand:h}=await Promise.resolve().then(()=>(Zfe(),Qq)),y=i||new f(Object.assign({},s??{},{region:s?.region??n})),E;try{E=await y.send(new h({accountId:r,roleName:o,accessToken:m}))}catch(ut){throw new Br.CredentialsProviderError(ut,{tryNextLink:cl,logger:c})}let{roleCredentials:{accessKeyId:b,secretAccessKey:w,sessionToken:x,expiration:K,credentialScope:Q,accountId:me}={}}=E;if(!b||!w||!x||!K)throw new Br.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:cl,logger:c});return{accessKeyId:b,secretAccessKey:w,sessionToken:x,expiration:new Date(K),...Q&&{credentialScope:Q},...me&&{accountId:me}}},"resolveSSOCredentials"),Xq=wf((t,e)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:i}=t;if(!r||!n||!o||!i)throw new Br.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t},"validateSsoProfile"),tge=wf((t={})=>async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=t,{ssoClient:a}=t,c=(0,If.getProfileName)(t);if(!r&&!n&&!o&&!i&&!s){let u=(await(0,If.parseKnownFiles)(t))[c];if(!u)throw new Br.CredentialsProviderError(`Profile ${c} was not found.`,{logger:t.logger});if(!Jq(u))throw new Br.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:t.logger});if(u?.sso_session){let w=(await(0,If.loadSsoSessionData)(t))[u.sso_session],x=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(o&&o!==w.sso_region)throw new Br.CredentialsProviderError("Conflicting SSO region"+x,{tryNextLink:!1,logger:t.logger});if(r&&r!==w.sso_start_url)throw new Br.CredentialsProviderError("Conflicting SSO start_url"+x,{tryNextLink:!1,logger:t.logger});u.sso_region=w.sso_region,u.sso_start_url=w.sso_start_url}let{sso_start_url:m,sso_account_id:f,sso_region:h,sso_role_name:y,sso_session:E}=Xq(u,t.logger);return Vq({ssoStartUrl:m,ssoSession:E,ssoAccountId:f,ssoRegion:h,ssoRoleName:y,ssoClient:a,clientConfig:t.clientConfig,profile:c})}else{if(!r||!n||!o||!i)throw new Br.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return Vq({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoClient:a,clientConfig:t.clientConfig,profile:c})}},"fromSSO")});var AC=g(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.resolveHttpAuthSchemeConfig=qr.resolveStsAuthConfig=qr.defaultSTSHttpAuthSchemeProvider=qr.defaultSTSHttpAuthSchemeParametersProvider=void 0;var rge=(Ze(),M(Xe)),e1=hr(),nge=dl(),oge=async(t,e,r)=>({operation:(0,e1.getSmithyContext)(e).operation,region:await(0,e1.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});qr.defaultSTSHttpAuthSchemeParametersProvider=oge;function ige(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function t1(t){return{schemeId:"smithy.api#noAuth"}}var sge=t=>{let e=[];switch(t.operation){case"AssumeRoleWithSAML":{e.push(t1(t));break}case"AssumeRoleWithWebIdentity":{e.push(t1(t));break}default:e.push(ige(t))}return e};qr.defaultSTSHttpAuthSchemeProvider=sge;var age=t=>({...t,stsClientCtor:nge.STSClient});qr.resolveStsAuthConfig=age;var cge=t=>{let e=(0,qr.resolveStsAuthConfig)(t);return{...(0,rge.resolveAwsSdkSigV4Config)(e)}};qr.resolveHttpAuthSchemeConfig=cge});var Hr=g(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.commonParams=Na.resolveClientEndpointParameters=void 0;var dge=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"});Na.resolveClientEndpointParameters=dge;Na.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var r1=g((N$e,lge)=>{lge.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.645.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var A1=g(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.ruleSet=void 0;var h1="required",ee="type",ue="fn",pe="argv",Go="ref",n1=!1,bC=!0,jo="booleanEquals",St="stringEquals",f1="sigv4",g1="sts",y1="us-east-1",De="endpoint",o1="https://sts.{Region}.{PartitionResult#dnsSuffix}",on="tree",Da="error",RC="getAttr",i1={[h1]:!1,[ee]:"String"},IC={[h1]:!0,default:!1,[ee]:"Boolean"},_1={[Go]:"Endpoint"},s1={[ue]:"isSet",[pe]:[{[Go]:"Region"}]},Tt={[Go]:"Region"},a1={[ue]:"aws.partition",[pe]:[Tt],assign:"PartitionResult"},v1={[Go]:"UseFIPS"},E1={[Go]:"UseDualStack"},Rt={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:f1,signingName:g1,signingRegion:y1}]},headers:{}},er={},c1={conditions:[{[ue]:St,[pe]:[Tt,"aws-global"]}],[De]:Rt,[ee]:De},C1={[ue]:jo,[pe]:[v1,!0]},S1={[ue]:jo,[pe]:[E1,!0]},d1={[ue]:RC,[pe]:[{[Go]:"PartitionResult"},"supportsFIPS"]},T1={[Go]:"PartitionResult"},l1={[ue]:jo,[pe]:[!0,{[ue]:RC,[pe]:[T1,"supportsDualStack"]}]},u1=[{[ue]:"isSet",[pe]:[_1]}],p1=[C1],m1=[S1],uge={version:"1.0",parameters:{Region:i1,UseDualStack:IC,UseFIPS:IC,Endpoint:i1,UseGlobalEndpoint:IC},rules:[{conditions:[{[ue]:jo,[pe]:[{[Go]:"UseGlobalEndpoint"},bC]},{[ue]:"not",[pe]:u1},s1,a1,{[ue]:jo,[pe]:[v1,n1]},{[ue]:jo,[pe]:[E1,n1]}],rules:[{conditions:[{[ue]:St,[pe]:[Tt,"ap-northeast-1"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"ap-south-1"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"ap-southeast-1"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"ap-southeast-2"]}],endpoint:Rt,[ee]:De},c1,{conditions:[{[ue]:St,[pe]:[Tt,"ca-central-1"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"eu-central-1"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"eu-north-1"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"eu-west-1"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"eu-west-2"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"eu-west-3"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"sa-east-1"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,y1]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"us-east-2"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"us-west-1"]}],endpoint:Rt,[ee]:De},{conditions:[{[ue]:St,[pe]:[Tt,"us-west-2"]}],endpoint:Rt,[ee]:De},{endpoint:{url:o1,properties:{authSchemes:[{name:f1,signingName:g1,signingRegion:"{Region}"}]},headers:er},[ee]:De}],[ee]:on},{conditions:u1,rules:[{conditions:p1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ee]:Da},{conditions:m1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ee]:Da},{endpoint:{url:_1,properties:er,headers:er},[ee]:De}],[ee]:on},{conditions:[s1],rules:[{conditions:[a1],rules:[{conditions:[C1,S1],rules:[{conditions:[{[ue]:jo,[pe]:[bC,d1]},l1],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:er,headers:er},[ee]:De}],[ee]:on},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ee]:Da}],[ee]:on},{conditions:p1,rules:[{conditions:[{[ue]:jo,[pe]:[d1,bC]}],rules:[{conditions:[{[ue]:St,[pe]:[{[ue]:RC,[pe]:[T1,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:er,headers:er},[ee]:De},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:er,headers:er},[ee]:De}],[ee]:on},{error:"FIPS is enabled but this partition does not support FIPS",[ee]:Da}],[ee]:on},{conditions:m1,rules:[{conditions:[l1],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:er,headers:er},[ee]:De}],[ee]:on},{error:"DualStack is enabled but this partition does not support DualStack",[ee]:Da}],[ee]:on},c1,{endpoint:{url:o1,properties:er,headers:er},[ee]:De}],[ee]:on}],[ee]:on},{error:"Invalid Configuration: Missing Region",[ee]:Da}]};Pf.ruleSet=uge});var I1=g(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.defaultEndpointResolver=void 0;var pge=Ki(),b1=Vi(),mge=A1(),hge=(t,e={})=>(0,b1.resolveEndpoint)(mge.ruleSet,{endpointParams:t,logger:e.logger});Of.defaultEndpointResolver=hge;b1.customEndpointFunctions.aws=pge.awsEndpointFunctions});var P1=g(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.getRuntimeConfig=void 0;var fge=(Ze(),M(Xe)),gge=(mt(),M(bt)),yge=fe(),_ge=Ro(),R1=Mn(),w1=Ct(),vge=AC(),Ege=I1(),Cge=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??R1.fromBase64,base64Encoder:t?.base64Encoder??R1.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Ege.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??vge.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new fge.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new gge.NoAuthSigner}],logger:t?.logger??new yge.NoOpLogger,serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??_ge.parseUrl,utf8Decoder:t?.utf8Decoder??w1.fromUtf8,utf8Encoder:t?.utf8Encoder??w1.toUtf8});xf.getRuntimeConfig=Cge});var k1=g(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.getRuntimeConfig=void 0;var Sge=(_e(),M(ye)),Tge=Sge.__importDefault(r1()),O1=(Ze(),M(Xe)),x1=ol(),Age=_a(),Nf=fr(),bge=(mt(),M(bt)),Ige=va(),N1=_r(),ll=tn(),D1=No(),Rge=Ea(),wge=Ji(),Pge=P1(),Oge=fe(),xge=Aa(),Nge=fe(),Dge=t=>{(0,Nge.emitWarningIfUnsupportedVersion)(process.version);let e=(0,xge.resolveDefaultsModeConfig)(t),r=()=>e().then(Oge.loadConfigsForDefaultMode),n=(0,Pge.getRuntimeConfig)(t);return(0,O1.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??Rge.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??x1.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,Age.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Tge.default.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,x1.defaultProvider)(i?.__config||{})()),signer:new O1.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new bge.NoAuthSigner}],maxAttempts:t?.maxAttempts??(0,ll.loadConfig)(N1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,ll.loadConfig)(Nf.NODE_REGION_CONFIG_OPTIONS,Nf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:D1.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,ll.loadConfig)({...N1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||wge.DEFAULT_RETRY_MODE}),sha256:t?.sha256??Ige.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??D1.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,ll.loadConfig)(Nf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,ll.loadConfig)(Nf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Df.getRuntimeConfig=Dge});var M1=g(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.resolveHttpAuthRuntimeConfig=ka.getHttpAuthExtensionConfiguration=void 0;var kge=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};ka.getHttpAuthExtensionConfiguration=kge;var Mge=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()});ka.resolveHttpAuthRuntimeConfig=Mge});var q1=g(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.resolveRuntimeExtensions=void 0;var L1=Ia(),U1=Ne(),F1=fe(),B1=M1(),kf=t=>t,Lge=(t,e)=>{let r={...kf((0,L1.getAwsRegionExtensionConfiguration)(t)),...kf((0,F1.getDefaultExtensionConfiguration)(t)),...kf((0,U1.getHttpHandlerExtensionConfiguration)(t)),...kf((0,B1.getHttpAuthExtensionConfiguration)(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,L1.resolveAwsRegionExtensionConfiguration)(r),...(0,F1.resolveDefaultRuntimeConfig)(r),...(0,U1.resolveHttpHandlerRuntimeConfig)(r),...(0,B1.resolveHttpAuthRuntimeConfig)(r)}};Mf.resolveRuntimeExtensions=Lge});var dl=g(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.STSClient=Ma.__Client=void 0;var H1=ea(),Uge=ta(),Fge=ra(),j1=oa(),Bge=fr(),wC=(mt(),M(bt)),qge=ma(),Hge=Po(),G1=_r(),z1=fe();Object.defineProperty(Ma,"__Client",{enumerable:!0,get:function(){return z1.Client}});var $1=AC(),jge=Hr(),Gge=k1(),$ge=q1(),PC=class extends z1.Client{constructor(...[e]){let r=(0,Gge.getRuntimeConfig)(e||{}),n=(0,jge.resolveClientEndpointParameters)(r),o=(0,j1.resolveUserAgentConfig)(n),i=(0,G1.resolveRetryConfig)(o),s=(0,Bge.resolveRegionConfig)(i),a=(0,H1.resolveHostHeaderConfig)(s),c=(0,Hge.resolveEndpointConfig)(a),d=(0,$1.resolveHttpAuthSchemeConfig)(c),u=(0,$ge.resolveRuntimeExtensions)(d,e?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,j1.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,G1.getRetryPlugin)(this.config)),this.middlewareStack.use((0,qge.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,H1.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Uge.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Fge.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,wC.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:$1.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new wC.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use((0,wC.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};Ma.STSClient=PC});var lS=g((Q$e,dS)=>{"use strict";var Lf=Object.defineProperty,zge=Object.getOwnPropertyDescriptor,Vge=Object.getOwnPropertyNames,Kge=Object.prototype.hasOwnProperty,R=(t,e)=>Lf(t,"name",{value:e,configurable:!0}),Wge=(t,e)=>{for(var r in e)Lf(t,r,{get:e[r],enumerable:!0})},oS=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Vge(e))!Kge.call(t,o)&&o!==r&&Lf(t,o,{get:()=>e[o],enumerable:!(n=zge(e,o))||n.enumerable});return t},Qge=(t,e,r)=>(oS(t,e,"default"),r&&oS(r,e,"default")),Yge=t=>oS(Lf({},"__esModule",{value:!0}),t),iS={};Wge(iS,{AssumeRoleCommand:()=>aS,AssumeRoleResponseFilterSensitiveLog:()=>vH,AssumeRoleWithSAMLCommand:()=>PH,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>EH,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>CH,AssumeRoleWithWebIdentityCommand:()=>cS,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>SH,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>TH,ClientInputEndpointParameters:()=>__e.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>Ga,DecodeAuthorizationMessageCommand:()=>NH,ExpiredTokenException:()=>J1,GetAccessKeyInfoCommand:()=>kH,GetCallerIdentityCommand:()=>LH,GetFederationTokenCommand:()=>FH,GetFederationTokenResponseFilterSensitiveLog:()=>AH,GetSessionTokenCommand:()=>qH,GetSessionTokenResponseFilterSensitiveLog:()=>bH,IDPCommunicationErrorException:()=>fH,IDPRejectedClaimException:()=>dH,InvalidAuthorizationMessageException:()=>_H,InvalidIdentityTokenException:()=>pH,MalformedPolicyDocumentException:()=>eH,PackedPolicyTooLargeException:()=>nH,RegionDisabledException:()=>sH,STS:()=>jH,STSServiceException:()=>sn,decorateDefaultCredentialProvider:()=>C_e,getDefaultRoleAssumer:()=>WH,getDefaultRoleAssumerWithWebIdentity:()=>QH});dS.exports=Yge(iS);Qge(iS,dl(),dS.exports);var $o=Po(),zo=wo(),Jge=Hr(),B=fe(),K1=class W1 extends B.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,W1.prototype)}};R(K1,"STSServiceException");var sn=K1,Q1=class Y1 extends sn{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Y1.prototype)}};R(Q1,"ExpiredTokenException");var J1=Q1,X1=class Z1 extends sn{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Z1.prototype)}};R(X1,"MalformedPolicyDocumentException");var eH=X1,tH=class rH extends sn{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,rH.prototype)}};R(tH,"PackedPolicyTooLargeException");var nH=tH,oH=class iH extends sn{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,iH.prototype)}};R(oH,"RegionDisabledException");var sH=oH,aH=class cH extends sn{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,cH.prototype)}};R(aH,"IDPRejectedClaimException");var dH=aH,lH=class uH extends sn{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,uH.prototype)}};R(lH,"InvalidIdentityTokenException");var pH=lH,mH=class hH extends sn{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,hH.prototype)}};R(mH,"IDPCommunicationErrorException");var fH=mH,gH=class yH extends sn{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,yH.prototype)}};R(gH,"InvalidAuthorizationMessageException");var _H=gH,Ga=R(t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:B.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),vH=R(t=>({...t,...t.Credentials&&{Credentials:Ga(t.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),EH=R(t=>({...t,...t.SAMLAssertion&&{SAMLAssertion:B.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),CH=R(t=>({...t,...t.Credentials&&{Credentials:Ga(t.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),SH=R(t=>({...t,...t.WebIdentityToken&&{WebIdentityToken:B.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),TH=R(t=>({...t,...t.Credentials&&{Credentials:Ga(t.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),AH=R(t=>({...t,...t.Credentials&&{Credentials:Ga(t.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),bH=R(t=>({...t,...t.Credentials&&{Credentials:Ga(t.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),$n=(Ze(),M(Xe)),Xge=Ne(),Zge=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Tye(t,e),[Yo]:e_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_AssumeRoleCommand"),eye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Aye(t,e),[Yo]:t_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),tye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...bye(t,e),[Yo]:r_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),rye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Iye(t,e),[Yo]:n_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),nye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Rye(t,e),[Yo]:o_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),oye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...wye(t,e),[Yo]:i_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),iye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Pye(t,e),[Yo]:s_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_GetFederationTokenCommand"),sye=R(async(t,e)=>{let r=Wo,n;return n=Xo({...Oye(t,e),[Yo]:a_e,[Jo]:Qo}),Ko(e,r,"/",void 0,n)},"se_GetSessionTokenCommand"),aye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Lye(r.AssumeRoleResult,e),{$metadata:wt(t),...n}},"de_AssumeRoleCommand"),cye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Uye(r.AssumeRoleWithSAMLResult,e),{$metadata:wt(t),...n}},"de_AssumeRoleWithSAMLCommand"),dye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Fye(r.AssumeRoleWithWebIdentityResult,e),{$metadata:wt(t),...n}},"de_AssumeRoleWithWebIdentityCommand"),lye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Bye(r.DecodeAuthorizationMessageResult,e),{$metadata:wt(t),...n}},"de_DecodeAuthorizationMessageCommand"),uye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=jye(r.GetAccessKeyInfoResult,e),{$metadata:wt(t),...n}},"de_GetAccessKeyInfoCommand"),pye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=Gye(r.GetCallerIdentityResult,e),{$metadata:wt(t),...n}},"de_GetCallerIdentityCommand"),mye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=$ye(r.GetFederationTokenResult,e),{$metadata:wt(t),...n}},"de_GetFederationTokenCommand"),hye=R(async(t,e)=>{if(t.statusCode>=300)return Vo(t,e);let r=await(0,$n.parseXmlBody)(t.body,e),n={};return n=zye(r.GetSessionTokenResult,e),{$metadata:wt(t),...n}},"de_GetSessionTokenCommand"),Vo=R(async(t,e)=>{let r={...t,body:await(0,$n.parseXmlErrorBody)(t.body,e)},n=c_e(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await fye(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Eye(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Cye(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Sye(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await yye(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await vye(r,e);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await gye(r,e);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await _ye(r,e);default:let o=r.body;return Zye({output:t,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),fye=R(async(t,e)=>{let r=t.body,n=qye(r.Error,e),o=new J1({$metadata:wt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),gye=R(async(t,e)=>{let r=t.body,n=Vye(r.Error,e),o=new fH({$metadata:wt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),yye=R(async(t,e)=>{let r=t.body,n=Kye(r.Error,e),o=new dH({$metadata:wt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),_ye=R(async(t,e)=>{let r=t.body,n=Wye(r.Error,e),o=new _H({$metadata:wt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),vye=R(async(t,e)=>{let r=t.body,n=Qye(r.Error,e),o=new pH({$metadata:wt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),Eye=R(async(t,e)=>{let r=t.body,n=Yye(r.Error,e),o=new eH({$metadata:wt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),Cye=R(async(t,e)=>{let r=t.body,n=Jye(r.Error,e),o=new nH({$metadata:wt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),Sye=R(async(t,e)=>{let r=t.body,n=Xye(r.Error,e),o=new sH({$metadata:wt(t),...n});return(0,B.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),Tye=R((t,e)=>{var r,n,o,i;let s={};if(t[Gn]!=null&&(s[Gn]=t[Gn]),t[Ba]!=null&&(s[Ba]=t[Ba]),t[Ir]!=null){let a=Uf(t[Ir],e);((r=t[Ir])==null?void 0:r.length)===0&&(s.PolicyArns=[]),Object.entries(a).forEach(([c,d])=>{let u=`PolicyArns.${c}`;s[u]=d})}if(t[br]!=null&&(s[br]=t[br]),t[Ft]!=null&&(s[Ft]=t[Ft]),t[Ha]!=null){let a=IH(t[Ha],e);((n=t[Ha])==null?void 0:n.length)===0&&(s.Tags=[]),Object.entries(a).forEach(([c,d])=>{let u=`Tags.${c}`;s[u]=d})}if(t[ZC]!=null){let a=Mye(t[ZC],e);((o=t[ZC])==null?void 0:o.length)===0&&(s.TransitiveTagKeys=[]),Object.entries(a).forEach(([c,d])=>{let u=`TransitiveTagKeys.${c}`;s[u]=d})}if(t[kC]!=null&&(s[kC]=t[kC]),t[qa]!=null&&(s[qa]=t[qa]),t[ja]!=null&&(s[ja]=t[ja]),t[wr]!=null&&(s[wr]=t[wr]),t[$C]!=null){let a=Dye(t[$C],e);((i=t[$C])==null?void 0:i.length)===0&&(s.ProvidedContexts=[]),Object.entries(a).forEach(([c,d])=>{let u=`ProvidedContexts.${c}`;s[u]=d})}return s},"se_AssumeRoleRequest"),Aye=R((t,e)=>{var r;let n={};if(t[Gn]!=null&&(n[Gn]=t[Gn]),t[jC]!=null&&(n[jC]=t[jC]),t[QC]!=null&&(n[QC]=t[QC]),t[Ir]!=null){let o=Uf(t[Ir],e);((r=t[Ir])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return t[br]!=null&&(n[br]=t[br]),t[Ft]!=null&&(n[Ft]=t[Ft]),n},"se_AssumeRoleWithSAMLRequest"),bye=R((t,e)=>{var r;let n={};if(t[Gn]!=null&&(n[Gn]=t[Gn]),t[Ba]!=null&&(n[Ba]=t[Ba]),t[rS]!=null&&(n[rS]=t[rS]),t[zC]!=null&&(n[zC]=t[zC]),t[Ir]!=null){let o=Uf(t[Ir],e);((r=t[Ir])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return t[br]!=null&&(n[br]=t[br]),t[Ft]!=null&&(n[Ft]=t[Ft]),n},"se_AssumeRoleWithWebIdentityRequest"),Iye=R((t,e)=>{let r={};return t[MC]!=null&&(r[MC]=t[MC]),r},"se_DecodeAuthorizationMessageRequest"),Rye=R((t,e)=>{let r={};return t[La]!=null&&(r[La]=t[La]),r},"se_GetAccessKeyInfoRequest"),wye=R((t,e)=>({}),"se_GetCallerIdentityRequest"),Pye=R((t,e)=>{var r,n;let o={};if(t[qC]!=null&&(o[qC]=t[qC]),t[br]!=null&&(o[br]=t[br]),t[Ir]!=null){let i=Uf(t[Ir],e);((r=t[Ir])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(i).forEach(([s,a])=>{let c=`PolicyArns.${s}`;o[c]=a})}if(t[Ft]!=null&&(o[Ft]=t[Ft]),t[Ha]!=null){let i=IH(t[Ha],e);((n=t[Ha])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(i).forEach(([s,a])=>{let c=`Tags.${s}`;o[c]=a})}return o},"se_GetFederationTokenRequest"),Oye=R((t,e)=>{let r={};return t[Ft]!=null&&(r[Ft]=t[Ft]),t[qa]!=null&&(r[qa]=t[qa]),t[ja]!=null&&(r[ja]=t[ja]),r},"se_GetSessionTokenRequest"),Uf=R((t,e)=>{let r={},n=1;for(let o of t){if(o===null)continue;let i=xye(o,e);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_policyDescriptorListType"),xye=R((t,e)=>{let r={};return t[nS]!=null&&(r[nS]=t[nS]),r},"se_PolicyDescriptorType"),Nye=R((t,e)=>{let r={};return t[GC]!=null&&(r[GC]=t[GC]),t[xC]!=null&&(r[xC]=t[xC]),r},"se_ProvidedContext"),Dye=R((t,e)=>{let r={},n=1;for(let o of t){if(o===null)continue;let i=Nye(o,e);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_ProvidedContextsListType"),kye=R((t,e)=>{let r={};return t[BC]!=null&&(r[BC]=t[BC]),t[tS]!=null&&(r[tS]=t[tS]),r},"se_Tag"),Mye=R((t,e)=>{let r={},n=1;for(let o of t)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),IH=R((t,e)=>{let r={},n=1;for(let o of t){if(o===null)continue;let i=kye(o,e);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_tagListType"),sS=R((t,e)=>{let r={};return t[OC]!=null&&(r[OC]=(0,B.expectString)(t[OC])),t[jn]!=null&&(r[jn]=(0,B.expectString)(t[jn])),r},"de_AssumedRoleUser"),Lye=R((t,e)=>{let r={};return t[Ut]!=null&&(r[Ut]=ul(t[Ut],e)),t[Hn]!=null&&(r[Hn]=sS(t[Hn],e)),t[Rr]!=null&&(r[Rr]=(0,B.strictParseInt32)(t[Rr])),t[wr]!=null&&(r[wr]=(0,B.expectString)(t[wr])),r},"de_AssumeRoleResponse"),Uye=R((t,e)=>{let r={};return t[Ut]!=null&&(r[Ut]=ul(t[Ut],e)),t[Hn]!=null&&(r[Hn]=sS(t[Hn],e)),t[Rr]!=null&&(r[Rr]=(0,B.strictParseInt32)(t[Rr])),t[KC]!=null&&(r[KC]=(0,B.expectString)(t[KC])),t[JC]!=null&&(r[JC]=(0,B.expectString)(t[JC])),t[FC]!=null&&(r[FC]=(0,B.expectString)(t[FC])),t[Fa]!=null&&(r[Fa]=(0,B.expectString)(t[Fa])),t[HC]!=null&&(r[HC]=(0,B.expectString)(t[HC])),t[wr]!=null&&(r[wr]=(0,B.expectString)(t[wr])),r},"de_AssumeRoleWithSAMLResponse"),Fye=R((t,e)=>{let r={};return t[Ut]!=null&&(r[Ut]=ul(t[Ut],e)),t[YC]!=null&&(r[YC]=(0,B.expectString)(t[YC])),t[Hn]!=null&&(r[Hn]=sS(t[Hn],e)),t[Rr]!=null&&(r[Rr]=(0,B.strictParseInt32)(t[Rr])),t[VC]!=null&&(r[VC]=(0,B.expectString)(t[VC])),t[Fa]!=null&&(r[Fa]=(0,B.expectString)(t[Fa])),t[wr]!=null&&(r[wr]=(0,B.expectString)(t[wr])),r},"de_AssumeRoleWithWebIdentityResponse"),ul=R((t,e)=>{let r={};return t[La]!=null&&(r[La]=(0,B.expectString)(t[La])),t[WC]!=null&&(r[WC]=(0,B.expectString)(t[WC])),t[XC]!=null&&(r[XC]=(0,B.expectString)(t[XC])),t[DC]!=null&&(r[DC]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(t[DC]))),r},"de_Credentials"),Bye=R((t,e)=>{let r={};return t[NC]!=null&&(r[NC]=(0,B.expectString)(t[NC])),r},"de_DecodeAuthorizationMessageResponse"),qye=R((t,e)=>{let r={};return t[ke]!=null&&(r[ke]=(0,B.expectString)(t[ke])),r},"de_ExpiredTokenException"),Hye=R((t,e)=>{let r={};return t[UC]!=null&&(r[UC]=(0,B.expectString)(t[UC])),t[jn]!=null&&(r[jn]=(0,B.expectString)(t[jn])),r},"de_FederatedUser"),jye=R((t,e)=>{let r={};return t[Ua]!=null&&(r[Ua]=(0,B.expectString)(t[Ua])),r},"de_GetAccessKeyInfoResponse"),Gye=R((t,e)=>{let r={};return t[eS]!=null&&(r[eS]=(0,B.expectString)(t[eS])),t[Ua]!=null&&(r[Ua]=(0,B.expectString)(t[Ua])),t[jn]!=null&&(r[jn]=(0,B.expectString)(t[jn])),r},"de_GetCallerIdentityResponse"),$ye=R((t,e)=>{let r={};return t[Ut]!=null&&(r[Ut]=ul(t[Ut],e)),t[LC]!=null&&(r[LC]=Hye(t[LC],e)),t[Rr]!=null&&(r[Rr]=(0,B.strictParseInt32)(t[Rr])),r},"de_GetFederationTokenResponse"),zye=R((t,e)=>{let r={};return t[Ut]!=null&&(r[Ut]=ul(t[Ut],e)),r},"de_GetSessionTokenResponse"),Vye=R((t,e)=>{let r={};return t[ke]!=null&&(r[ke]=(0,B.expectString)(t[ke])),r},"de_IDPCommunicationErrorException"),Kye=R((t,e)=>{let r={};return t[ke]!=null&&(r[ke]=(0,B.expectString)(t[ke])),r},"de_IDPRejectedClaimException"),Wye=R((t,e)=>{let r={};return t[ke]!=null&&(r[ke]=(0,B.expectString)(t[ke])),r},"de_InvalidAuthorizationMessageException"),Qye=R((t,e)=>{let r={};return t[ke]!=null&&(r[ke]=(0,B.expectString)(t[ke])),r},"de_InvalidIdentityTokenException"),Yye=R((t,e)=>{let r={};return t[ke]!=null&&(r[ke]=(0,B.expectString)(t[ke])),r},"de_MalformedPolicyDocumentException"),Jye=R((t,e)=>{let r={};return t[ke]!=null&&(r[ke]=(0,B.expectString)(t[ke])),r},"de_PackedPolicyTooLargeException"),Xye=R((t,e)=>{let r={};return t[ke]!=null&&(r[ke]=(0,B.expectString)(t[ke])),r},"de_RegionDisabledException"),wt=R(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),Zye=(0,B.withBaseException)(sn),Ko=R(async(t,e,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await t.endpoint(),d={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new Xge.HttpRequest(d)},"buildHttpRpcRequest"),Wo={"content-type":"application/x-www-form-urlencoded"},Qo="2011-06-15",Yo="Action",La="AccessKeyId",e_e="AssumeRole",OC="AssumedRoleId",Hn="AssumedRoleUser",t_e="AssumeRoleWithSAML",r_e="AssumeRoleWithWebIdentity",Ua="Account",jn="Arn",Fa="Audience",Ut="Credentials",xC="ContextAssertion",n_e="DecodeAuthorizationMessage",NC="DecodedMessage",Ft="DurationSeconds",DC="Expiration",kC="ExternalId",MC="EncodedMessage",LC="FederatedUser",UC="FederatedUserId",o_e="GetAccessKeyInfo",i_e="GetCallerIdentity",s_e="GetFederationToken",a_e="GetSessionToken",FC="Issuer",BC="Key",qC="Name",HC="NameQualifier",br="Policy",Ir="PolicyArns",jC="PrincipalArn",GC="ProviderArn",$C="ProvidedContexts",zC="ProviderId",Rr="PackedPolicySize",VC="Provider",Gn="RoleArn",Ba="RoleSessionName",KC="Subject",WC="SecretAccessKey",QC="SAMLAssertion",YC="SubjectFromWebIdentityToken",wr="SourceIdentity",qa="SerialNumber",JC="SubjectType",XC="SessionToken",Ha="Tags",ja="TokenCode",ZC="TransitiveTagKeys",eS="UserId",Jo="Version",tS="Value",rS="WebIdentityToken",nS="arn",ke="message",Xo=R(t=>Object.entries(t).map(([e,r])=>(0,B.extendedEncodeURIComponent)(e)+"="+(0,B.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),c_e=R((t,e)=>{var r;if(((r=e.Error)==null?void 0:r.Code)!==void 0)return e.Error.Code;if(t.statusCode==404)return"NotFound"},"loadQueryErrorCode"),RH=class extends B.Command.classBuilder().ep({...Jge.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,vH).ser(Zge).de(aye).build(){};R(RH,"AssumeRoleCommand");var aS=RH,d_e=Hr(),wH=class extends B.Command.classBuilder().ep({...d_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(EH,CH).ser(eye).de(cye).build(){};R(wH,"AssumeRoleWithSAMLCommand");var PH=wH,l_e=Hr(),OH=class extends B.Command.classBuilder().ep({...l_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(SH,TH).ser(tye).de(dye).build(){};R(OH,"AssumeRoleWithWebIdentityCommand");var cS=OH,u_e=Hr(),xH=class extends B.Command.classBuilder().ep({...u_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(rye).de(lye).build(){};R(xH,"DecodeAuthorizationMessageCommand");var NH=xH,p_e=Hr(),DH=class extends B.Command.classBuilder().ep({...p_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(nye).de(uye).build(){};R(DH,"GetAccessKeyInfoCommand");var kH=DH,m_e=Hr(),MH=class extends B.Command.classBuilder().ep({...m_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(oye).de(pye).build(){};R(MH,"GetCallerIdentityCommand");var LH=MH,h_e=Hr(),UH=class extends B.Command.classBuilder().ep({...h_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,AH).ser(iye).de(mye).build(){};R(UH,"GetFederationTokenCommand");var FH=UH,f_e=Hr(),BH=class extends B.Command.classBuilder().ep({...f_e.commonParams}).m(function(e,r,n,o){return[(0,zo.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$o.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,bH).ser(sye).de(hye).build(){};R(BH,"GetSessionTokenCommand");var qH=BH,g_e=dl(),y_e={AssumeRoleCommand:aS,AssumeRoleWithSAMLCommand:PH,AssumeRoleWithWebIdentityCommand:cS,DecodeAuthorizationMessageCommand:NH,GetAccessKeyInfoCommand:kH,GetCallerIdentityCommand:LH,GetFederationTokenCommand:FH,GetSessionTokenCommand:qH},HH=class extends g_e.STSClient{};R(HH,"STS");var jH=HH;(0,B.createAggregatedClient)(y_e,jH);var __e=Hr(),V1="us-east-1",GH=R(t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},"getAccountIdFromAssumedRoleUser"),$H=R(async(t,e,r)=>{var n;let o=typeof t=="function"?await t():t,i=typeof e=="function"?await e():e;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${i} (parent client)`,`${V1} (STS default)`),o??i??V1},"resolveRegion"),v_e=R((t,e)=>{let r,n;return async(o,i)=>{var s,a,c;if(n=o,!r){let{logger:f=(s=t?.parentClientConfig)==null?void 0:s.logger,region:h,requestHandler:y=(a=t?.parentClientConfig)==null?void 0:a.requestHandler,credentialProviderLogger:E}=t,b=await $H(h,(c=t?.parentClientConfig)==null?void 0:c.region,E),w=!zH(y);r=new e({credentialDefaultProvider:()=>async()=>n,region:b,requestHandler:w?y:void 0,logger:f})}let{Credentials:d,AssumedRoleUser:u}=await r.send(new aS(i));if(!d||!d.AccessKeyId||!d.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let m=GH(u);return{accessKeyId:d.AccessKeyId,secretAccessKey:d.SecretAccessKey,sessionToken:d.SessionToken,expiration:d.Expiration,...d.CredentialScope&&{credentialScope:d.CredentialScope},...m&&{accountId:m}}}},"getDefaultRoleAssumer"),E_e=R((t,e)=>{let r;return async n=>{var o,i,s;if(!r){let{logger:u=(o=t?.parentClientConfig)==null?void 0:o.logger,region:m,requestHandler:f=(i=t?.parentClientConfig)==null?void 0:i.requestHandler,credentialProviderLogger:h}=t,y=await $H(m,(s=t?.parentClientConfig)==null?void 0:s.region,h),E=!zH(f);r=new e({region:y,requestHandler:E?f:void 0,logger:u})}let{Credentials:a,AssumedRoleUser:c}=await r.send(new cS(n));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let d=GH(c);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,...a.CredentialScope&&{credentialScope:a.CredentialScope},...d&&{accountId:d}}}},"getDefaultRoleAssumerWithWebIdentity"),zH=R(t=>{var e;return((e=t?.metadata)==null?void 0:e.handlerProtocol)==="h2"},"isH2"),VH=dl(),KH=R((t,e)=>{var r;return e?(r=class extends t{constructor(n){super(n);for(let o of e)this.middlewareStack.use(o)}},R(r,"CustomizableSTSClient"),r):t},"getCustomizableStsClientCtor"),WH=R((t={},e)=>v_e(t,KH(VH.STSClient,e)),"getDefaultRoleAssumer"),QH=R((t={},e)=>E_e(t,KH(VH.STSClient,e)),"getDefaultRoleAssumerWithWebIdentity"),C_e=R(t=>e=>t({roleAssumer:WH(e),roleAssumerWithWebIdentity:QH(e),...e}),"decorateDefaultCredentialProvider")});var mS=g((J$e,XH)=>{"use strict";var Ff=Object.defineProperty,S_e=Object.getOwnPropertyDescriptor,T_e=Object.getOwnPropertyNames,A_e=Object.prototype.hasOwnProperty,pS=(t,e)=>Ff(t,"name",{value:e,configurable:!0}),b_e=(t,e)=>{for(var r in e)Ff(t,r,{get:e[r],enumerable:!0})},I_e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of T_e(e))!A_e.call(t,o)&&o!==r&&Ff(t,o,{get:()=>e[o],enumerable:!(n=S_e(e,o))||n.enumerable});return t},R_e=t=>I_e(Ff({},"__esModule",{value:!0}),t),JH={};b_e(JH,{fromProcess:()=>N_e});XH.exports=R_e(JH);var YH=Io(),uS=Mt(),w_e=require("child_process"),P_e=require("util"),O_e=pS((t,e,r)=>{var n;if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let i=new Date;if(new Date(e.Expiration)<i)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let o=e.AccountId;return!o&&((n=r?.[t])!=null&&n.aws_account_id)&&(o=r[t].aws_account_id),{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...o&&{accountId:o}}},"getValidatedProcessCredentials"),x_e=pS(async(t,e,r)=>{let n=e[t];if(e[t]){let o=n.credential_process;if(o!==void 0){let i=(0,P_e.promisify)(w_e.exec);try{let{stdout:s}=await i(o),a;try{a=JSON.parse(s.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return O_e(t,a,e)}catch(s){throw new uS.CredentialsProviderError(s.message,{logger:r})}}else throw new uS.CredentialsProviderError(`Profile ${t} did not contain credential_process.`,{logger:r})}else throw new uS.CredentialsProviderError(`Profile ${t} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),N_e=pS((t={})=>async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,YH.parseKnownFiles)(t);return x_e((0,YH.getProfileName)(t),r,t.logger)},"fromProcess")});var hS=g(an=>{"use strict";var D_e=an&&an.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),k_e=an&&an.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),M_e=an&&an.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&D_e(e,t,r);return k_e(e,t),e};Object.defineProperty(an,"__esModule",{value:!0});an.fromWebToken=void 0;var L_e=t=>async()=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:e,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:i,policy:s,durationSeconds:a}=t,{roleAssumerWithWebIdentity:c}=t;if(!c){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>M_e(lS()));c=d({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:t.parentClientConfig},t.clientPlugins)}return c({RoleArn:e,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:i,Policy:s,DurationSeconds:a})};an.fromWebToken=L_e});var ZH=g(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.fromTokenFile=void 0;var U_e=Mt(),F_e=require("fs"),B_e=hS(),q_e="AWS_WEB_IDENTITY_TOKEN_FILE",H_e="AWS_ROLE_ARN",j_e="AWS_ROLE_SESSION_NAME",G_e=(t={})=>async()=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let e=t?.webIdentityTokenFile??process.env[q_e],r=t?.roleArn??process.env[H_e],n=t?.roleSessionName??process.env[j_e];if(!e||!r)throw new U_e.CredentialsProviderError("Web identity configuration not specified",{logger:t.logger});return(0,B_e.fromWebToken)({...t,webIdentityToken:(0,F_e.readFileSync)(e,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};Bf.fromTokenFile=G_e});var yS=g((e2e,qf)=>{"use strict";var ej=Object.defineProperty,$_e=Object.getOwnPropertyDescriptor,z_e=Object.getOwnPropertyNames,V_e=Object.prototype.hasOwnProperty,fS=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of z_e(e))!V_e.call(t,o)&&o!==r&&ej(t,o,{get:()=>e[o],enumerable:!(n=$_e(e,o))||n.enumerable});return t},tj=(t,e,r)=>(fS(t,e,"default"),r&&fS(r,e,"default")),K_e=t=>fS(ej({},"__esModule",{value:!0}),t),gS={};qf.exports=K_e(gS);tj(gS,ZH(),qf.exports);tj(gS,hS(),qf.exports)});var cj=g((t2e,aj)=>{"use strict";var W_e=Object.create,ml=Object.defineProperty,Q_e=Object.getOwnPropertyDescriptor,Y_e=Object.getOwnPropertyNames,J_e=Object.getPrototypeOf,X_e=Object.prototype.hasOwnProperty,Bt=(t,e)=>ml(t,"name",{value:e,configurable:!0}),Z_e=(t,e)=>{for(var r in e)ml(t,r,{get:e[r],enumerable:!0})},oj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Y_e(e))!X_e.call(t,o)&&o!==r&&ml(t,o,{get:()=>e[o],enumerable:!(n=Q_e(e,o))||n.enumerable});return t},Zo=(t,e,r)=>(r=t!=null?W_e(J_e(t)):{},oj(e||!t||!t.__esModule?ml(r,"default",{value:t,enumerable:!0}):r,t)),eve=t=>oj(ml({},"__esModule",{value:!0}),t),ij={};Z_e(ij,{fromIni:()=>pve});aj.exports=eve(ij);var _S=Io(),pl=Mt(),tve=Bt((t,e,r)=>{let n={EcsContainer:async o=>{let{fromHttp:i}=await Promise.resolve().then(()=>Zo(iC())),{fromContainerMetadata:s}=await Promise.resolve().then(()=>Zo(Yd()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),(0,pl.chain)(i(o??{}),s(o))},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>Zo(Yd()));return i(o)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>Zo(XE()));return i(o)}};if(t in n)return n[t];throw new pl.CredentialsProviderError(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),rve=Bt((t,{profile:e="default",logger:r}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(nve(t,{profile:e,logger:r})||ove(t,{profile:e,logger:r})),"isAssumeRoleProfile"),nve=Bt((t,{profile:e,logger:r})=>{var n;let o=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return o&&((n=r?.debug)==null||n.call(r,`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`)),o},"isAssumeRoleWithSourceProfile"),ove=Bt((t,{profile:e,logger:r})=>{var n;let o=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return o&&((n=r?.debug)==null||n.call(r,`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`)),o},"isCredentialSourceProfile"),ive=Bt(async(t,e,r,n={})=>{var o,i;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=e[t];if(!r.roleAssumer){let{getDefaultRoleAssumer:f}=await Promise.resolve().then(()=>Zo(lS()));r.roleAssumer=f({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:a}=s;if(a&&a in n)throw new pl.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,_S.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});(i=r.logger)==null||i.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${t}]`}`);let c=a?sj(a,{...e,[a]:{...e[a],role_arn:s.role_arn??e[a].role_arn}},r,{...n,[a]:!0}):(await tve(s.credential_source,t,r.logger)(r))(),d={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:u}=s;if(u){if(!r.mfaCodeProvider)throw new pl.CredentialsProviderError(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});d.SerialNumber=u,d.TokenCode=await r.mfaCodeProvider(u)}let m=await c;return r.roleAssumer(m,d)},"resolveAssumeRoleCredentials"),sve=Bt(t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string","isProcessProfile"),ave=Bt(async(t,e)=>Promise.resolve().then(()=>Zo(mS())).then(({fromProcess:r})=>r({...t,profile:e})()),"resolveProcessCredentials"),cve=Bt(async(t,e={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>Zo(TC()));return r({profile:t,logger:e.logger})()},"resolveSsoCredentials"),dve=Bt(t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string"),"isSsoProfile"),rj=Bt(t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,"isStaticCredsProfile"),nj=Bt((t,e)=>{var r;return(r=e?.logger)==null||r.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials"),Promise.resolve({accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}})},"resolveStaticCredentials"),lve=Bt(t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,"isWebIdentityProfile"),uve=Bt(async(t,e)=>Promise.resolve().then(()=>Zo(yS())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})()),"resolveWebIdentityCredentials"),sj=Bt(async(t,e,r,n={})=>{let o=e[t];if(Object.keys(n).length>0&&rj(o))return nj(o,r);if(rve(o,{profile:t,logger:r.logger}))return ive(t,e,r,n);if(rj(o))return nj(o,r);if(lve(o))return uve(o,r);if(sve(o))return ave(r,t);if(dve(o))return await cve(t,r);throw new pl.CredentialsProviderError(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),pve=Bt((t={})=>async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await(0,_S.parseKnownFiles)(t);return sj((0,_S.getProfileName)(t),r,t)},"fromIni")});var ol=g((r2e,hj)=>{"use strict";var mve=Object.create,hl=Object.defineProperty,hve=Object.getOwnPropertyDescriptor,fve=Object.getOwnPropertyNames,gve=Object.getPrototypeOf,yve=Object.prototype.hasOwnProperty,Hf=(t,e)=>hl(t,"name",{value:e,configurable:!0}),_ve=(t,e)=>{for(var r in e)hl(t,r,{get:e[r],enumerable:!0})},lj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of fve(e))!yve.call(t,o)&&o!==r&&hl(t,o,{get:()=>e[o],enumerable:!(n=hve(e,o))||n.enumerable});return t},$a=(t,e,r)=>(r=t!=null?mve(gve(t)):{},lj(e||!t||!t.__esModule?hl(r,"default",{value:t,enumerable:!0}):r,t)),vve=t=>lj(hl({},"__esModule",{value:!0}),t),uj={};_ve(uj,{credentialsTreatedAsExpired:()=>mj,credentialsWillNeedRefresh:()=>pj,defaultProvider:()=>Tve});hj.exports=vve(uj);var vS=XE(),Eve=Io(),is=Mt(),Cve="AWS_EC2_METADATA_DISABLED",Sve=Hf(async t=>{var e,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:i,fromInstanceMetadata:s}=await Promise.resolve().then(()=>$a(Yd()));if(process.env[o]||process.env[n]){(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>$a(iC()));return(0,is.chain)(a(t),i(t))}return process.env[Cve]?async()=>{throw new is.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:((r=t.logger)==null||r.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(t))},"remoteProvider"),dj=!1,Tve=Hf((t={})=>(0,is.memoize)((0,is.chain)(async()=>{var e,r,n,o;if(t.profile??process.env[Eve.ENV_PROFILE])throw process.env[vS.ENV_KEY]&&process.env[vS.ENV_SECRET]&&(dj||(((e=t.logger)!=null&&e.warn&&((n=(r=t.logger)==null?void 0:r.constructor)==null?void 0:n.name)!=="NoOpLogger"?t.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),dj=!0)),new is.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return(o=t.logger)==null||o.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,vS.fromEnv)(t)()},async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=t;if(!r&&!n&&!o&&!i&&!s)throw new is.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:a}=await Promise.resolve().then(()=>$a(TC()));return a(t)()},async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>$a(cj()));return r(t)()},async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>$a(mS()));return r(t)()},async()=>{var e;(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>$a(yS()));return r(t)()},async()=>{var e;return(e=t.logger)==null||e.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Sve(t))()},async()=>{throw new is.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}),mj,pj),"defaultProvider"),pj=Hf(t=>t?.expiration!==void 0,"credentialsWillNeedRefresh"),mj=Hf(t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var xj=g(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.ruleSet=void 0;var Ij="required",rr="fn",nr="argv",Va="ref",fj=!0,gj="isSet",fl="booleanEquals",za="error",ss="endpoint",zn="tree",ES="PartitionResult",CS="getAttr",yj="stringEquals",_j={[Ij]:!1,type:"String"},vj={[Ij]:!0,default:!1,type:"Boolean"},Ej={[Va]:"Endpoint"},Rj={[rr]:fl,[nr]:[{[Va]:"UseFIPS"},!0]},wj={[rr]:fl,[nr]:[{[Va]:"UseDualStack"},!0]},tr={},Pj={[Va]:"Region"},Cj={[rr]:CS,[nr]:[{[Va]:ES},"supportsFIPS"]},Oj={[Va]:ES},Sj={[rr]:fl,[nr]:[!0,{[rr]:CS,[nr]:[Oj,"supportsDualStack"]}]},Tj=[Rj],Aj=[wj],bj=[Pj],Ave={version:"1.0",parameters:{Region:_j,UseDualStack:vj,UseFIPS:vj,Endpoint:_j},rules:[{conditions:[{[rr]:gj,[nr]:[Ej]}],rules:[{conditions:Tj,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:za},{conditions:Aj,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:za},{endpoint:{url:Ej,properties:tr,headers:tr},type:ss}],type:zn},{conditions:[{[rr]:gj,[nr]:bj}],rules:[{conditions:[{[rr]:"aws.partition",[nr]:bj,assign:ES}],rules:[{conditions:[Rj,wj],rules:[{conditions:[{[rr]:fl,[nr]:[fj,Cj]},Sj],rules:[{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tr,headers:tr},type:ss}],type:zn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:za}],type:zn},{conditions:Tj,rules:[{conditions:[{[rr]:fl,[nr]:[Cj,fj]}],rules:[{conditions:[{[rr]:yj,[nr]:[{[rr]:CS,[nr]:[Oj,"name"]},"aws-us-gov"]}],endpoint:{url:"https://dynamodb.{Region}.amazonaws.com",properties:tr,headers:tr},type:ss},{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",properties:tr,headers:tr},type:ss}],type:zn},{error:"FIPS is enabled but this partition does not support FIPS",type:za}],type:zn},{conditions:Aj,rules:[{conditions:[Sj],rules:[{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tr,headers:tr},type:ss}],type:zn},{error:"DualStack is enabled but this partition does not support DualStack",type:za}],type:zn},{conditions:[{[rr]:yj,[nr]:[Pj,"local"]}],endpoint:{url:"http://localhost:8000",properties:{authSchemes:[{name:"sigv4",signingName:"dynamodb",signingRegion:"us-east-1"}]},headers:tr},type:ss},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",properties:tr,headers:tr},type:ss}],type:zn}],type:zn},{error:"Invalid Configuration: Missing Region",type:za}]};jf.ruleSet=Ave});var Dj=g(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.defaultEndpointResolver=void 0;var bve=Ki(),Nj=Vi(),Ive=xj(),Rve=(t,e={})=>(0,Nj.resolveEndpoint)(Ive.ruleSet,{endpointParams:t,logger:e.logger});Gf.defaultEndpointResolver=Rve;Nj.customEndpointFunctions.aws=bve.awsEndpointFunctions});var Lj=g($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.getRuntimeConfig=void 0;var wve=(Ze(),M(Xe)),Pve=fe(),Ove=Ro(),kj=Mn(),Mj=Ct(),xve=JE(),Nve=Dj(),Dve=t=>({apiVersion:"2012-08-10",base64Decoder:t?.base64Decoder??kj.fromBase64,base64Encoder:t?.base64Encoder??kj.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Nve.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??xve.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new wve.AwsSdkSigV4Signer}],logger:t?.logger??new Pve.NoOpLogger,serviceId:t?.serviceId??"DynamoDB",urlParser:t?.urlParser??Ove.parseUrl,utf8Decoder:t?.utf8Decoder??Mj.fromUtf8,utf8Encoder:t?.utf8Encoder??Mj.toUtf8});$f.getRuntimeConfig=Dve});var Bj=g(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.getRuntimeConfig=void 0;var kve=(_e(),M(ye)),Mve=kve.__importDefault(DL()),Lve=(Ze(),M(Xe)),Uve=ol(),Fve=rv(),Bve=_a(),zf=fr(),qve=va(),Uj=_r(),Ka=tn(),Fj=No(),Hve=Ea(),jve=Ji(),Gve=Lj(),$ve=fe(),zve=Aa(),Vve=fe(),Kve=t=>{(0,Vve.emitWarningIfUnsupportedVersion)(process.version);let e=(0,zve.resolveDefaultsModeConfig)(t),r=()=>e().then($ve.loadConfigsForDefaultMode),n=(0,Gve.getRuntimeConfig)(t);return(0,Lve.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??Hve.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??Uve.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,Bve.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Mve.default.version}),endpointDiscoveryEnabledProvider:t?.endpointDiscoveryEnabledProvider??(0,Ka.loadConfig)(Fve.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS),maxAttempts:t?.maxAttempts??(0,Ka.loadConfig)(Uj.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,Ka.loadConfig)(zf.NODE_REGION_CONFIG_OPTIONS,zf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:Fj.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,Ka.loadConfig)({...Uj.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||jve.DEFAULT_RETRY_MODE}),sha256:t?.sha256??qve.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??Fj.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Ka.loadConfig)(zf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,Ka.loadConfig)(zf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Vf.getRuntimeConfig=Kve});var zj=g((a2e,$j)=>{var Kf=Object.defineProperty,Wve=Object.getOwnPropertyDescriptor,Qve=Object.getOwnPropertyNames,Yve=Object.prototype.hasOwnProperty,Vn=(t,e)=>Kf(t,"name",{value:e,configurable:!0}),Jve=(t,e)=>{for(var r in e)Kf(t,r,{get:e[r],enumerable:!0})},Xve=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Qve(e))!Yve.call(t,o)&&o!==r&&Kf(t,o,{get:()=>e[o],enumerable:!(n=Wve(e,o))||n.enumerable});return t},Zve=t=>Xve(Kf({},"__esModule",{value:!0}),t),Hj={};Jve(Hj,{WaiterState:()=>Gj,checkExceptions:()=>tEe,createWaiter:()=>sEe,waiterServiceDefaults:()=>jj});$j.exports=Zve(Hj);var eEe=Vn(t=>new Promise(e=>setTimeout(e,t*1e3)),"sleep"),jj={minDelay:2,maxDelay:120},Gj=(t=>(t.ABORTED="ABORTED",t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.RETRY="RETRY",t.TIMEOUT="TIMEOUT",t))(Gj||{}),tEe=Vn(t=>{if(t.state==="ABORTED"){let e=new Error(`${JSON.stringify({...t,reason:"Request was aborted"})}`);throw e.name="AbortError",e}else if(t.state==="TIMEOUT"){let e=new Error(`${JSON.stringify({...t,reason:"Waiter has timed out"})}`);throw e.name="TimeoutError",e}else if(t.state!=="SUCCESS")throw new Error(`${JSON.stringify(t)}`);return t},"checkExceptions"),rEe=Vn((t,e,r,n)=>{if(n>r)return e;let o=t*2**(n-1);return nEe(t,o)},"exponentialBackoffWithJitter"),nEe=Vn((t,e)=>t+Math.random()*(e-t),"randomInRange"),oEe=Vn(async({minDelay:t,maxDelay:e,maxWaitTime:r,abortController:n,client:o,abortSignal:i},s,a)=>{var c;let{state:d,reason:u}=await a(o,s);if(d!=="RETRY")return{state:d,reason:u};let m=1,f=Date.now()+r*1e3,h=Math.log(e/t)/Math.log(2)+1;for(;;){if((c=n?.signal)!=null&&c.aborted||i?.aborted)return{state:"ABORTED"};let y=rEe(t,e,h,m);if(Date.now()+y*1e3>f)return{state:"TIMEOUT"};await eEe(y);let{state:E,reason:b}=await a(o,s);if(E!=="RETRY")return{state:E,reason:b};m+=1}},"runPolling"),iEe=Vn(t=>{if(t.maxWaitTime<1)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(t.minDelay<1)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(t.maxDelay<1)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(t.maxWaitTime<=t.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${t.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`);if(t.maxDelay<t.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${t.maxDelay}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`)},"validateWaiterOptions"),qj=Vn(async t=>new Promise(e=>{let r=Vn(()=>e({state:"ABORTED"}),"onAbort");typeof t.addEventListener=="function"?t.addEventListener("abort",r):t.onabort=r}),"abortTimeout"),sEe=Vn(async(t,e,r)=>{let n={...jj,...t};iEe(n);let o=[oEe(n,e,r)];return t.abortController&&o.push(qj(t.abortController.signal)),t.abortSignal&&o.push(qj(t.abortSignal)),Promise.race(o)},"createWaiter")});var mV=g((mze,pV)=>{"use strict";var Yf=Object.defineProperty,aEe=Object.getOwnPropertyDescriptor,cEe=Object.getOwnPropertyNames,dEe=Object.prototype.hasOwnProperty,p=(t,e)=>Yf(t,"name",{value:e,configurable:!0}),lEe=(t,e)=>{for(var r in e)Yf(t,r,{get:e[r],enumerable:!0})},uEe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of cEe(e))!dEe.call(t,o)&&o!==r&&Yf(t,o,{get:()=>e[o],enumerable:!(n=aEe(e,o))||n.enumerable});return t},pEe=t=>uEe(Yf({},"__esModule",{value:!0}),t),Xj={};lEe(Xj,{ApproximateCreationDateTimePrecision:()=>vEe,AttributeAction:()=>EEe,AttributeValue:()=>Qf,BackupInUseException:()=>nG,BackupNotFoundException:()=>sG,BackupStatus:()=>SEe,BackupType:()=>TEe,BackupTypeFilter:()=>xEe,BatchExecuteStatementCommand:()=>p2,BatchGetItemCommand:()=>h2,BatchStatementErrorCodeEnum:()=>kEe,BatchWriteItemCommand:()=>g2,BillingMode:()=>AEe,ComparisonOperator:()=>LEe,ConditionalCheckFailedException:()=>j$,ConditionalOperator:()=>UEe,ContinuousBackupsStatus:()=>FEe,ContinuousBackupsUnavailableException:()=>RG,ContributorInsightsAction:()=>qEe,ContributorInsightsStatus:()=>HEe,CreateBackupCommand:()=>_2,CreateGlobalTableCommand:()=>E2,CreateTableCommand:()=>S2,DeleteBackupCommand:()=>A2,DeleteItemCommand:()=>I2,DeleteResourcePolicyCommand:()=>w2,DeleteTableCommand:()=>O2,DescribeBackupCommand:()=>N2,DescribeContinuousBackupsCommand:()=>k2,DescribeContributorInsightsCommand:()=>L2,DescribeEndpointsCommand:()=>PS,DescribeExportCommand:()=>F2,DescribeGlobalTableCommand:()=>q2,DescribeGlobalTableSettingsCommand:()=>j2,DescribeImportCommand:()=>$2,DescribeKinesisStreamingDestinationCommand:()=>V2,DescribeLimitsCommand:()=>W2,DescribeTableCommand:()=>eg,DescribeTableReplicaAutoScalingCommand:()=>J2,DescribeTimeToLiveCommand:()=>Z2,DestinationStatus:()=>rCe,DisableKinesisStreamingDestinationCommand:()=>tz,DuplicateItemException:()=>s$,DynamoDB:()=>dV,DynamoDBClient:()=>ni,DynamoDBServiceException:()=>ce,EnableKinesisStreamingDestinationCommand:()=>nz,ExecuteStatementCommand:()=>iz,ExecuteTransactionCommand:()=>az,ExportConflictException:()=>f$,ExportFormat:()=>WEe,ExportNotFoundException:()=>JG,ExportStatus:()=>QEe,ExportTableToPointInTimeCommand:()=>dz,ExportType:()=>YEe,ExportViewType:()=>JEe,GetItemCommand:()=>uz,GetResourcePolicyCommand:()=>mz,GlobalTableAlreadyExistsException:()=>BG,GlobalTableNotFoundException:()=>e$,GlobalTableStatus:()=>jEe,IdempotentParameterMismatchException:()=>d$,ImportConflictException:()=>A$,ImportNotFoundException:()=>n$,ImportStatus:()=>ZEe,ImportTableCommand:()=>fz,IndexNotFoundException:()=>B$,IndexStatus:()=>zEe,InputCompressionType:()=>eCe,InputFormat:()=>tCe,InternalServerError:()=>dG,InvalidEndpointException:()=>fG,InvalidExportTimeException:()=>_$,InvalidRestoreTimeException:()=>O$,ItemCollectionSizeLimitExceededException:()=>AG,KeyType:()=>bEe,LimitExceededException:()=>OG,ListBackupsCommand:()=>yz,ListContributorInsightsCommand:()=>OS,ListExportsCommand:()=>xS,ListGlobalTablesCommand:()=>Cz,ListImportsCommand:()=>NS,ListTablesCommand:()=>DS,ListTagsOfResourceCommand:()=>bz,PointInTimeRecoveryStatus:()=>BEe,PointInTimeRecoveryUnavailableException:()=>C$,PolicyNotFoundException:()=>WG,ProjectionType:()=>IEe,ProvisionedThroughputExceededException:()=>_G,PutItemCommand:()=>Rz,PutResourcePolicyCommand:()=>Pz,QueryCommand:()=>kS,ReplicaAlreadyExistsException:()=>D$,ReplicaNotFoundException:()=>L$,ReplicaStatus:()=>GEe,RequestLimitExceeded:()=>pG,ResourceInUseException:()=>jG,ResourceNotFoundException:()=>CG,RestoreTableFromBackupCommand:()=>Nz,RestoreTableToPointInTimeCommand:()=>kz,ReturnConsumedCapacity:()=>NEe,ReturnItemCollectionMetrics:()=>MEe,ReturnValue:()=>KEe,ReturnValuesOnConditionCheckFailure:()=>DEe,S3SseAlgorithm:()=>XEe,SSEStatus:()=>wEe,SSEType:()=>REe,ScalarAttributeType:()=>CEe,ScanCommand:()=>MS,Select:()=>nCe,StreamViewType:()=>PEe,TableAlreadyExistsException:()=>R$,TableClass:()=>$Ee,TableInUseException:()=>DG,TableNotFoundException:()=>LG,TableStatus:()=>VEe,TagResourceCommand:()=>Uz,TimeToLiveStatus:()=>OEe,TransactGetItemsCommand:()=>Bz,TransactWriteItemsCommand:()=>Hz,TransactionCanceledException:()=>z$,TransactionConflictException:()=>zG,TransactionInProgressException:()=>p$,UntagResourceCommand:()=>Gz,UpdateContinuousBackupsCommand:()=>zz,UpdateContributorInsightsCommand:()=>Kz,UpdateGlobalTableCommand:()=>Qz,UpdateGlobalTableSettingsCommand:()=>Jz,UpdateItemCommand:()=>Zz,UpdateKinesisStreamingDestinationCommand:()=>tV,UpdateTableCommand:()=>nV,UpdateTableReplicaAutoScalingCommand:()=>iV,UpdateTimeToLiveCommand:()=>aV,__Client:()=>l.Client,paginateListContributorInsights:()=>MIe,paginateListExports:()=>UIe,paginateListImports:()=>BIe,paginateListTables:()=>HIe,paginateQuery:()=>GIe,paginateScan:()=>zIe,waitForTableExists:()=>VIe,waitForTableNotExists:()=>WIe,waitUntilTableExists:()=>KIe,waitUntilTableNotExists:()=>QIe});pV.exports=pEe(Xj);var mEe=rv(),Vj=ea(),hEe=ta(),fEe=ra(),Kj=oa(),gEe=fr(),SS=(mt(),M(bt)),yEe=ma(),Wj=_r(),Qj=JE(),q=Po(),j=wo(),_Ee=p(t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),"resolveClientEndpointParameters"),G={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},L=(Ze(),M(Xe)),TS=Ne(),Jf=(Dv(),M(Nv)),l=fe(),Zj=class eG extends l.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,eG.prototype)}};p(Zj,"DynamoDBServiceException");var ce=Zj,vEe={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},EEe={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},CEe={B:"B",N:"N",S:"S"},SEe={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},TEe={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},AEe={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},bEe={HASH:"HASH",RANGE:"RANGE"},IEe={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},REe={AES256:"AES256",KMS:"KMS"},wEe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},PEe={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},OEe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},tG=class rG extends ce{constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),this.name="BackupInUseException",this.$fault="client",Object.setPrototypeOf(this,rG.prototype)}};p(tG,"BackupInUseException");var nG=tG,oG=class iG extends ce{constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),this.name="BackupNotFoundException",this.$fault="client",Object.setPrototypeOf(this,iG.prototype)}};p(oG,"BackupNotFoundException");var sG=oG,xEe={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},NEe={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},DEe={ALL_OLD:"ALL_OLD",NONE:"NONE"},kEe={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},aG=class cG extends ce{constructor(e){super({name:"InternalServerError",$fault:"server",...e}),this.name="InternalServerError",this.$fault="server",Object.setPrototypeOf(this,cG.prototype)}};p(aG,"InternalServerError");var dG=aG,lG=class uG extends ce{constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),this.name="RequestLimitExceeded",this.$fault="client",Object.setPrototypeOf(this,uG.prototype)}};p(lG,"RequestLimitExceeded");var pG=lG,mG=class hG extends ce{constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),this.name="InvalidEndpointException",this.$fault="client",Object.setPrototypeOf(this,hG.prototype),this.Message=e.Message}};p(mG,"InvalidEndpointException");var fG=mG,gG=class yG extends ce{constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),this.name="ProvisionedThroughputExceededException",this.$fault="client",Object.setPrototypeOf(this,yG.prototype)}};p(gG,"ProvisionedThroughputExceededException");var _G=gG,vG=class EG extends ce{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,EG.prototype)}};p(vG,"ResourceNotFoundException");var CG=vG,MEe={NONE:"NONE",SIZE:"SIZE"},SG=class TG extends ce{constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),this.name="ItemCollectionSizeLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,TG.prototype)}};p(SG,"ItemCollectionSizeLimitExceededException");var AG=SG,LEe={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},UEe={AND:"AND",OR:"OR"},FEe={DISABLED:"DISABLED",ENABLED:"ENABLED"},BEe={DISABLED:"DISABLED",ENABLED:"ENABLED"},bG=class IG extends ce{constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),this.name="ContinuousBackupsUnavailableException",this.$fault="client",Object.setPrototypeOf(this,IG.prototype)}};p(bG,"ContinuousBackupsUnavailableException");var RG=bG,qEe={DISABLE:"DISABLE",ENABLE:"ENABLE"},HEe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},wG=class PG extends ce{constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,PG.prototype)}};p(wG,"LimitExceededException");var OG=wG,xG=class NG extends ce{constructor(e){super({name:"TableInUseException",$fault:"client",...e}),this.name="TableInUseException",this.$fault="client",Object.setPrototypeOf(this,NG.prototype)}};p(xG,"TableInUseException");var DG=xG,kG=class MG extends ce{constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),this.name="TableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,MG.prototype)}};p(kG,"TableNotFoundException");var LG=kG,jEe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},GEe={ACTIVE:"ACTIVE",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",UPDATING:"UPDATING"},$Ee={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},UG=class FG extends ce{constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),this.name="GlobalTableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,FG.prototype)}};p(UG,"GlobalTableAlreadyExistsException");var BG=UG,zEe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},VEe={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",UPDATING:"UPDATING"},qG=class HG extends ce{constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),this.name="ResourceInUseException",this.$fault="client",Object.setPrototypeOf(this,HG.prototype)}};p(qG,"ResourceInUseException");var jG=qG,KEe={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},GG=class $G extends ce{constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),this.name="TransactionConflictException",this.$fault="client",Object.setPrototypeOf(this,$G.prototype)}};p(GG,"TransactionConflictException");var zG=GG,VG=class KG extends ce{constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),this.name="PolicyNotFoundException",this.$fault="client",Object.setPrototypeOf(this,KG.prototype)}};p(VG,"PolicyNotFoundException");var WG=VG,WEe={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},QEe={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},YEe={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},JEe={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},XEe={AES256:"AES256",KMS:"KMS"},QG=class YG extends ce{constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),this.name="ExportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,YG.prototype)}};p(QG,"ExportNotFoundException");var JG=QG,XG=class ZG extends ce{constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),this.name="GlobalTableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ZG.prototype)}};p(XG,"GlobalTableNotFoundException");var e$=XG,ZEe={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},eCe={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},tCe={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},t$=class r$ extends ce{constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),this.name="ImportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,r$.prototype)}};p(t$,"ImportNotFoundException");var n$=t$,rCe={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},o$=class i$ extends ce{constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),this.name="DuplicateItemException",this.$fault="client",Object.setPrototypeOf(this,i$.prototype)}};p(o$,"DuplicateItemException");var s$=o$,a$=class c$ extends ce{constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),this.name="IdempotentParameterMismatchException",this.$fault="client",Object.setPrototypeOf(this,c$.prototype),this.Message=e.Message}};p(a$,"IdempotentParameterMismatchException");var d$=a$,l$=class u$ extends ce{constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),this.name="TransactionInProgressException",this.$fault="client",Object.setPrototypeOf(this,u$.prototype),this.Message=e.Message}};p(l$,"TransactionInProgressException");var p$=l$,m$=class h$ extends ce{constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),this.name="ExportConflictException",this.$fault="client",Object.setPrototypeOf(this,h$.prototype)}};p(m$,"ExportConflictException");var f$=m$,g$=class y$ extends ce{constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),this.name="InvalidExportTimeException",this.$fault="client",Object.setPrototypeOf(this,y$.prototype)}};p(g$,"InvalidExportTimeException");var _$=g$,v$=class E$ extends ce{constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),this.name="PointInTimeRecoveryUnavailableException",this.$fault="client",Object.setPrototypeOf(this,E$.prototype)}};p(v$,"PointInTimeRecoveryUnavailableException");var C$=v$,S$=class T$ extends ce{constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),this.name="ImportConflictException",this.$fault="client",Object.setPrototypeOf(this,T$.prototype)}};p(S$,"ImportConflictException");var A$=S$,nCe={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},b$=class I$ extends ce{constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),this.name="TableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,I$.prototype)}};p(b$,"TableAlreadyExistsException");var R$=b$,w$=class P$ extends ce{constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),this.name="InvalidRestoreTimeException",this.$fault="client",Object.setPrototypeOf(this,P$.prototype)}};p(w$,"InvalidRestoreTimeException");var O$=w$,x$=class N$ extends ce{constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),this.name="ReplicaAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,N$.prototype)}};p(x$,"ReplicaAlreadyExistsException");var D$=x$,k$=class M$ extends ce{constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),this.name="ReplicaNotFoundException",this.$fault="client",Object.setPrototypeOf(this,M$.prototype)}};p(k$,"ReplicaNotFoundException");var L$=k$,U$=class F$ extends ce{constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),this.name="IndexNotFoundException",this.$fault="client",Object.setPrototypeOf(this,F$.prototype)}};p(U$,"IndexNotFoundException");var B$=U$,Qf;(t=>{t.visit=p((e,r)=>e.S!==void 0?r.S(e.S):e.N!==void 0?r.N(e.N):e.B!==void 0?r.B(e.B):e.SS!==void 0?r.SS(e.SS):e.NS!==void 0?r.NS(e.NS):e.BS!==void 0?r.BS(e.BS):e.M!==void 0?r.M(e.M):e.L!==void 0?r.L(e.L):e.NULL!==void 0?r.NULL(e.NULL):e.BOOL!==void 0?r.BOOL(e.BOOL):r._(e.$unknown[0],e.$unknown[1]),"visit")})(Qf||(Qf={}));var q$=class H$ extends ce{constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),this.name="ConditionalCheckFailedException",this.$fault="client",Object.setPrototypeOf(this,H$.prototype),this.Item=e.Item}};p(q$,"ConditionalCheckFailedException");var j$=q$,G$=class $$ extends ce{constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),this.name="TransactionCanceledException",this.$fault="client",Object.setPrototypeOf(this,$$.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}};p(G$,"TransactionCanceledException");var z$=G$,oCe=p(async(t,e)=>{let r=H("BatchExecuteStatement"),n;return n=JSON.stringify(KTe(t,e)),z(e,r,"/",void 0,n)},"se_BatchExecuteStatementCommand"),iCe=p(async(t,e)=>{let r=H("BatchGetItem"),n;return n=JSON.stringify(WTe(t,e)),z(e,r,"/",void 0,n)},"se_BatchGetItemCommand"),sCe=p(async(t,e)=>{let r=H("BatchWriteItem"),n;return n=JSON.stringify(JTe(t,e)),z(e,r,"/",void 0,n)},"se_BatchWriteItemCommand"),aCe=p(async(t,e)=>{let r=H("CreateBackup"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_CreateBackupCommand"),cCe=p(async(t,e)=>{let r=H("CreateGlobalTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_CreateGlobalTableCommand"),dCe=p(async(t,e)=>{let r=H("CreateTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_CreateTableCommand"),lCe=p(async(t,e)=>{let r=H("DeleteBackup"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DeleteBackupCommand"),uCe=p(async(t,e)=>{let r=H("DeleteItem"),n;return n=JSON.stringify(rAe(t,e)),z(e,r,"/",void 0,n)},"se_DeleteItemCommand"),pCe=p(async(t,e)=>{let r=H("DeleteResourcePolicy"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),mCe=p(async(t,e)=>{let r=H("DeleteTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DeleteTableCommand"),hCe=p(async(t,e)=>{let r=H("DescribeBackup"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeBackupCommand"),fCe=p(async(t,e)=>{let r=H("DescribeContinuousBackups"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeContinuousBackupsCommand"),gCe=p(async(t,e)=>{let r=H("DescribeContributorInsights"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeContributorInsightsCommand"),yCe=p(async(t,e)=>{let r=H("DescribeEndpoints"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeEndpointsCommand"),_Ce=p(async(t,e)=>{let r=H("DescribeExport"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeExportCommand"),vCe=p(async(t,e)=>{let r=H("DescribeGlobalTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeGlobalTableCommand"),ECe=p(async(t,e)=>{let r=H("DescribeGlobalTableSettings"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeGlobalTableSettingsCommand"),CCe=p(async(t,e)=>{let r=H("DescribeImport"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeImportCommand"),SCe=p(async(t,e)=>{let r=H("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeKinesisStreamingDestinationCommand"),TCe=p(async(t,e)=>{let r=H("DescribeLimits"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeLimitsCommand"),ACe=p(async(t,e)=>{let r=H("DescribeTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeTableCommand"),bCe=p(async(t,e)=>{let r=H("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeTableReplicaAutoScalingCommand"),ICe=p(async(t,e)=>{let r=H("DescribeTimeToLive"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DescribeTimeToLiveCommand"),RCe=p(async(t,e)=>{let r=H("DisableKinesisStreamingDestination"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_DisableKinesisStreamingDestinationCommand"),wCe=p(async(t,e)=>{let r=H("EnableKinesisStreamingDestination"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_EnableKinesisStreamingDestinationCommand"),PCe=p(async(t,e)=>{let r=H("ExecuteStatement"),n;return n=JSON.stringify(oAe(t,e)),z(e,r,"/",void 0,n)},"se_ExecuteStatementCommand"),OCe=p(async(t,e)=>{let r=H("ExecuteTransaction"),n;return n=JSON.stringify(iAe(t,e)),z(e,r,"/",void 0,n)},"se_ExecuteTransactionCommand"),xCe=p(async(t,e)=>{let r=H("ExportTableToPointInTime"),n;return n=JSON.stringify(aAe(t,e)),z(e,r,"/",void 0,n)},"se_ExportTableToPointInTimeCommand"),NCe=p(async(t,e)=>{let r=H("GetItem"),n;return n=JSON.stringify(dAe(t,e)),z(e,r,"/",void 0,n)},"se_GetItemCommand"),DCe=p(async(t,e)=>{let r=H("GetResourcePolicy"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),kCe=p(async(t,e)=>{let r=H("ImportTable"),n;return n=JSON.stringify(hAe(t,e)),z(e,r,"/",void 0,n)},"se_ImportTableCommand"),MCe=p(async(t,e)=>{let r=H("ListBackups"),n;return n=JSON.stringify(EAe(t,e)),z(e,r,"/",void 0,n)},"se_ListBackupsCommand"),LCe=p(async(t,e)=>{let r=H("ListContributorInsights"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListContributorInsightsCommand"),UCe=p(async(t,e)=>{let r=H("ListExports"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListExportsCommand"),FCe=p(async(t,e)=>{let r=H("ListGlobalTables"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListGlobalTablesCommand"),BCe=p(async(t,e)=>{let r=H("ListImports"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListImportsCommand"),qCe=p(async(t,e)=>{let r=H("ListTables"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListTablesCommand"),HCe=p(async(t,e)=>{let r=H("ListTagsOfResource"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_ListTagsOfResourceCommand"),jCe=p(async(t,e)=>{let r=H("PutItem"),n;return n=JSON.stringify(IAe(t,e)),z(e,r,"/",void 0,n)},"se_PutItemCommand"),GCe=p(async(t,e)=>{let r=H("PutResourcePolicy"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),$Ce=p(async(t,e)=>{let r=H("Query"),n;return n=JSON.stringify(wAe(t,e)),z(e,r,"/",void 0,n)},"se_QueryCommand"),zCe=p(async(t,e)=>{let r=H("RestoreTableFromBackup"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_RestoreTableFromBackupCommand"),VCe=p(async(t,e)=>{let r=H("RestoreTableToPointInTime"),n;return n=JSON.stringify(UAe(t,e)),z(e,r,"/",void 0,n)},"se_RestoreTableToPointInTimeCommand"),KCe=p(async(t,e)=>{let r=H("Scan"),n;return n=JSON.stringify(FAe(t,e)),z(e,r,"/",void 0,n)},"se_ScanCommand"),WCe=p(async(t,e)=>{let r=H("TagResource"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_TagResourceCommand"),QCe=p(async(t,e)=>{let r=H("TransactGetItems"),n;return n=JSON.stringify(HAe(t,e)),z(e,r,"/",void 0,n)},"se_TransactGetItemsCommand"),YCe=p(async(t,e)=>{let r=H("TransactWriteItems"),n;return n=JSON.stringify($Ae(t,e)),z(e,r,"/",void 0,n)},"se_TransactWriteItemsCommand"),JCe=p(async(t,e)=>{let r=H("UntagResource"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UntagResourceCommand"),XCe=p(async(t,e)=>{let r=H("UpdateContinuousBackups"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateContinuousBackupsCommand"),ZCe=p(async(t,e)=>{let r=H("UpdateContributorInsights"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateContributorInsightsCommand"),eSe=p(async(t,e)=>{let r=H("UpdateGlobalTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateGlobalTableCommand"),tSe=p(async(t,e)=>{let r=H("UpdateGlobalTableSettings"),n;return n=JSON.stringify(VAe(t,e)),z(e,r,"/",void 0,n)},"se_UpdateGlobalTableSettingsCommand"),rSe=p(async(t,e)=>{let r=H("UpdateItem"),n;return n=JSON.stringify(KAe(t,e)),z(e,r,"/",void 0,n)},"se_UpdateItemCommand"),nSe=p(async(t,e)=>{let r=H("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateKinesisStreamingDestinationCommand"),oSe=p(async(t,e)=>{let r=H("UpdateTable"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateTableCommand"),iSe=p(async(t,e)=>{let r=H("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(WAe(t,e)),z(e,r,"/",void 0,n)},"se_UpdateTableReplicaAutoScalingCommand"),sSe=p(async(t,e)=>{let r=H("UpdateTimeToLive"),n;return n=JSON.stringify((0,l._json)(t)),z(e,r,"/",void 0,n)},"se_UpdateTimeToLiveCommand"),aSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=nbe(r,e),{$metadata:P(t),...n}},"de_BatchExecuteStatementCommand"),cSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=obe(r,e),{$metadata:P(t),...n}},"de_BatchGetItemCommand"),dSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=dbe(r,e),{$metadata:P(t),...n}},"de_BatchWriteItemCommand"),lSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=fbe(r,e),{$metadata:P(t),...n}},"de_CreateBackupCommand"),uSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=gbe(r,e),{$metadata:P(t),...n}},"de_CreateGlobalTableCommand"),pSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=ybe(r,e),{$metadata:P(t),...n}},"de_CreateTableCommand"),mSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=_be(r,e),{$metadata:P(t),...n}},"de_DeleteBackupCommand"),hSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=vbe(r,e),{$metadata:P(t),...n}},"de_DeleteItemCommand"),fSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DeleteResourcePolicyCommand"),gSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Cbe(r,e),{$metadata:P(t),...n}},"de_DeleteTableCommand"),ySe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Sbe(r,e),{$metadata:P(t),...n}},"de_DescribeBackupCommand"),_Se=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Tbe(r,e),{$metadata:P(t),...n}},"de_DescribeContinuousBackupsCommand"),vSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Abe(r,e),{$metadata:P(t),...n}},"de_DescribeContributorInsightsCommand"),ESe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DescribeEndpointsCommand"),CSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=bbe(r,e),{$metadata:P(t),...n}},"de_DescribeExportCommand"),SSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Ibe(r,e),{$metadata:P(t),...n}},"de_DescribeGlobalTableCommand"),TSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Rbe(r,e),{$metadata:P(t),...n}},"de_DescribeGlobalTableSettingsCommand"),ASe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=wbe(r,e),{$metadata:P(t),...n}},"de_DescribeImportCommand"),bSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DescribeKinesisStreamingDestinationCommand"),ISe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DescribeLimitsCommand"),RSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Pbe(r,e),{$metadata:P(t),...n}},"de_DescribeTableCommand"),wSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Obe(r,e),{$metadata:P(t),...n}},"de_DescribeTableReplicaAutoScalingCommand"),PSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DescribeTimeToLiveCommand"),OSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_DisableKinesisStreamingDestinationCommand"),xSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_EnableKinesisStreamingDestinationCommand"),NSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=xbe(r,e),{$metadata:P(t),...n}},"de_ExecuteStatementCommand"),DSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Nbe(r,e),{$metadata:P(t),...n}},"de_ExecuteTransactionCommand"),kSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Dbe(r,e),{$metadata:P(t),...n}},"de_ExportTableToPointInTimeCommand"),MSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=kbe(r,e),{$metadata:P(t),...n}},"de_GetItemCommand"),LSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_GetResourcePolicyCommand"),USe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Bbe(r,e),{$metadata:P(t),...n}},"de_ImportTableCommand"),FSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Wbe(r,e),{$metadata:P(t),...n}},"de_ListBackupsCommand"),BSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_ListContributorInsightsCommand"),qSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_ListExportsCommand"),HSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_ListGlobalTablesCommand"),jSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=Qbe(r,e),{$metadata:P(t),...n}},"de_ListImportsCommand"),GSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_ListTablesCommand"),$Se=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_ListTagsOfResourceCommand"),zSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=eIe(r,e),{$metadata:P(t),...n}},"de_PutItemCommand"),VSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_PutResourcePolicyCommand"),KSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=rIe(r,e),{$metadata:P(t),...n}},"de_QueryCommand"),WSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=pIe(r,e),{$metadata:P(t),...n}},"de_RestoreTableFromBackupCommand"),QSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=mIe(r,e),{$metadata:P(t),...n}},"de_RestoreTableToPointInTimeCommand"),YSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=hIe(r,e),{$metadata:P(t),...n}},"de_ScanCommand"),JSe=p(async(t,e)=>t.statusCode>=300?$(t,e):(await(0,l.collectBody)(t.body,e),{$metadata:P(t)}),"de_TagResourceCommand"),XSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=yIe(r,e),{$metadata:P(t),...n}},"de_TransactGetItemsCommand"),ZSe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=vIe(r,e),{$metadata:P(t),...n}},"de_TransactWriteItemsCommand"),eTe=p(async(t,e)=>t.statusCode>=300?$(t,e):(await(0,l.collectBody)(t.body,e),{$metadata:P(t)}),"de_UntagResourceCommand"),tTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=EIe(r,e),{$metadata:P(t),...n}},"de_UpdateContinuousBackupsCommand"),rTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_UpdateContributorInsightsCommand"),nTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=CIe(r,e),{$metadata:P(t),...n}},"de_UpdateGlobalTableCommand"),oTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=SIe(r,e),{$metadata:P(t),...n}},"de_UpdateGlobalTableSettingsCommand"),iTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=TIe(r,e),{$metadata:P(t),...n}},"de_UpdateItemCommand"),sTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_UpdateKinesisStreamingDestinationCommand"),aTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=AIe(r,e),{$metadata:P(t),...n}},"de_UpdateTableCommand"),cTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=bIe(r,e),{$metadata:P(t),...n}},"de_UpdateTableReplicaAutoScalingCommand"),dTe=p(async(t,e)=>{if(t.statusCode>=300)return $(t,e);let r=await(0,L.parseJsonBody)(t.body,e),n={};return n=(0,l._json)(r),{$metadata:P(t),...n}},"de_UpdateTimeToLiveCommand"),$=p(async(t,e)=>{let r={...t,body:await(0,L.parseJsonErrorBody)(t.body,e)},n=(0,L.loadRestJsonErrorCode)(t,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await TTe(r,e);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await kTe(r,e);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await ATe(r,e);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await xTe(r,e);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await LTe(r,e);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await RTe(r,e);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await lTe(r,e);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await mTe(r,e);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await wTe(r,e);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await FTe(r,e);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await BTe(r,e);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await yTe(r,e);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await MTe(r,e);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await uTe(r,e);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await pTe(r,e);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await HTe(r,e);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await OTe(r,e);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await gTe(r,e);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await _Te(r,e);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await CTe(r,e);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await hTe(r,e);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await vTe(r,e);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await qTe(r,e);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await jTe(r,e);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await fTe(r,e);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await bTe(r,e);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await PTe(r,e);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await ETe(r,e);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await UTe(r,e);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await ITe(r,e);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await NTe(r,e);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await DTe(r,e);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await STe(r,e);default:let o=r.body;return wIe({output:t,parsedBody:o,errorCode:n})}},"de_CommandError"),lTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new nG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_BackupInUseExceptionRes"),uTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new sG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_BackupNotFoundExceptionRes"),pTe=p(async(t,e)=>{let r=t.body,n=hbe(r,e),o=new j$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ConditionalCheckFailedExceptionRes"),mTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new RG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ContinuousBackupsUnavailableExceptionRes"),hTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new s$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_DuplicateItemExceptionRes"),fTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new f$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ExportConflictExceptionRes"),gTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new JG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ExportNotFoundExceptionRes"),yTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new BG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_GlobalTableAlreadyExistsExceptionRes"),_Te=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new e$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_GlobalTableNotFoundExceptionRes"),vTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new d$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_IdempotentParameterMismatchExceptionRes"),ETe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new A$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ImportConflictExceptionRes"),CTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new n$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ImportNotFoundExceptionRes"),STe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new B$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_IndexNotFoundExceptionRes"),TTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new dG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_InternalServerErrorRes"),ATe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new fG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_InvalidEndpointExceptionRes"),bTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new _$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_InvalidExportTimeExceptionRes"),ITe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new O$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_InvalidRestoreTimeExceptionRes"),RTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new AG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ItemCollectionSizeLimitExceededExceptionRes"),wTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new OG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),PTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new C$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_PointInTimeRecoveryUnavailableExceptionRes"),OTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new WG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_PolicyNotFoundExceptionRes"),xTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new _G({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ProvisionedThroughputExceededExceptionRes"),NTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new D$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ReplicaAlreadyExistsExceptionRes"),DTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new L$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ReplicaNotFoundExceptionRes"),kTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new pG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_RequestLimitExceededRes"),MTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new jG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ResourceInUseExceptionRes"),LTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new CG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),UTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new R$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TableAlreadyExistsExceptionRes"),FTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new DG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TableInUseExceptionRes"),BTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new LG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TableNotFoundExceptionRes"),qTe=p(async(t,e)=>{let r=t.body,n=_Ie(r,e),o=new z$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TransactionCanceledExceptionRes"),HTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new zG({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TransactionConflictExceptionRes"),jTe=p(async(t,e)=>{let r=t.body,n=(0,l._json)(r),o=new p$({$metadata:P(t),...n});return(0,l.decorateServiceException)(o,r)},"de_TransactionInProgressExceptionRes"),GTe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=$Te(o,e)),r),{}),"se_AttributeUpdates"),Kn=p((t,e)=>Qf.visit(t,{B:r=>({B:e.base64Encoder(r)}),BOOL:r=>({BOOL:r}),BS:r=>({BS:ZTe(r,e)}),L:r=>({L:vAe(r,e)}),M:r=>({M:CAe(r,e)}),N:r=>({N:r}),NS:r=>({NS:(0,l._json)(r)}),NULL:r=>({NULL:r}),S:r=>({S:r}),SS:r=>({SS:(0,l._json)(r)}),_:(r,n)=>({name:n})}),"se_AttributeValue"),V$=p((t,e)=>t.filter(r=>r!=null).map(r=>Kn(r,e)),"se_AttributeValueList"),$Te=p((t,e)=>(0,l.take)(t,{Action:[],Value:r=>Kn(r,e)}),"se_AttributeValueUpdate"),zTe=p((t,e)=>(0,l.take)(t,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:r=>VTe(r,e)}),"se_AutoScalingPolicyUpdate"),ti=p((t,e)=>(0,l.take)(t,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:r=>zTe(r,e)}),"se_AutoScalingSettingsUpdate"),VTe=p((t,e)=>(0,l.take)(t,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:l.serializeFloat}),"se_AutoScalingTargetTrackingScalingPolicyConfigurationUpdate"),KTe=p((t,e)=>(0,l.take)(t,{ReturnConsumedCapacity:[],Statements:r=>AAe(r,e)}),"se_BatchExecuteStatementInput"),WTe=p((t,e)=>(0,l.take)(t,{RequestItems:r=>QTe(r,e),ReturnConsumedCapacity:[]}),"se_BatchGetItemInput"),QTe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=_Ae(o,e)),r),{}),"se_BatchGetRequestMap"),YTe=p((t,e)=>(0,l.take)(t,{ConsistentRead:[],Parameters:r=>bS(r,e),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_BatchStatementRequest"),JTe=p((t,e)=>(0,l.take)(t,{RequestItems:r=>XTe(r,e),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),"se_BatchWriteItemInput"),XTe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=YAe(o,e)),r),{}),"se_BatchWriteItemRequestMap"),ZTe=p((t,e)=>t.filter(r=>r!=null).map(r=>e.base64Encoder(r)),"se_BinarySetAttributeValue"),K$=p((t,e)=>(0,l.take)(t,{AttributeValueList:r=>V$(r,e),ComparisonOperator:[]}),"se_Condition"),eAe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Key:r=>Gr(r,e),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_ConditionCheck"),tAe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Key:r=>Gr(r,e),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Delete"),rAe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>AS(r,e),ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Key:r=>Gr(r,e),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_DeleteItemInput"),nAe=p((t,e)=>(0,l.take)(t,{Key:r=>Gr(r,e)}),"se_DeleteRequest"),oAe=p((t,e)=>(0,l.take)(t,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:r=>bS(r,e),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ExecuteStatementInput"),iAe=p((t,e)=>(0,l.take)(t,{ClientRequestToken:[!0,r=>r??(0,Jf.v4)()],ReturnConsumedCapacity:[],TransactStatements:r=>TAe(r,e)}),"se_ExecuteTransactionInput"),AS=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=sAe(o,e)),r),{}),"se_ExpectedAttributeMap"),sAe=p((t,e)=>(0,l.take)(t,{AttributeValueList:r=>V$(r,e),ComparisonOperator:[],Exists:[],Value:r=>Kn(r,e)}),"se_ExpectedAttributeValue"),aAe=p((t,e)=>(0,l.take)(t,{ClientToken:[!0,r=>r??(0,Jf.v4)()],ExportFormat:[],ExportTime:r=>r.getTime()/1e3,ExportType:[],IncrementalExportSpecification:r=>fAe(r,e),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),"se_ExportTableToPointInTimeInput"),Wn=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Kn(o,e)),r),{}),"se_ExpressionAttributeValueMap"),W$=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=K$(o,e)),r),{}),"se_FilterConditionMap"),cAe=p((t,e)=>(0,l.take)(t,{ExpressionAttributeNames:l._json,Key:r=>Gr(r,e),ProjectionExpression:[],TableName:[]}),"se_Get"),dAe=p((t,e)=>(0,l.take)(t,{AttributesToGet:l._json,ConsistentRead:[],ExpressionAttributeNames:l._json,Key:r=>Gr(r,e),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),"se_GetItemInput"),lAe=p((t,e)=>(0,l.take)(t,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:r=>ti(r,e)}),"se_GlobalSecondaryIndexAutoScalingUpdate"),uAe=p((t,e)=>t.filter(r=>r!=null).map(r=>lAe(r,e)),"se_GlobalSecondaryIndexAutoScalingUpdateList"),pAe=p((t,e)=>(0,l.take)(t,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>ti(r,e),ProvisionedWriteCapacityUnits:[]}),"se_GlobalTableGlobalSecondaryIndexSettingsUpdate"),mAe=p((t,e)=>t.filter(r=>r!=null).map(r=>pAe(r,e)),"se_GlobalTableGlobalSecondaryIndexSettingsUpdateList"),hAe=p((t,e)=>(0,l.take)(t,{ClientToken:[!0,r=>r??(0,Jf.v4)()],InputCompressionType:[],InputFormat:[],InputFormatOptions:l._json,S3BucketSource:l._json,TableCreationParameters:l._json}),"se_ImportTableInput"),fAe=p((t,e)=>(0,l.take)(t,{ExportFromTime:r=>r.getTime()/1e3,ExportToTime:r=>r.getTime()/1e3,ExportViewType:[]}),"se_IncrementalExportSpecification"),Gr=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Kn(o,e)),r),{}),"se_Key"),gAe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=K$(o,e)),r),{}),"se_KeyConditions"),yAe=p((t,e)=>t.filter(r=>r!=null).map(r=>Gr(r,e)),"se_KeyList"),_Ae=p((t,e)=>(0,l.take)(t,{AttributesToGet:l._json,ConsistentRead:[],ExpressionAttributeNames:l._json,Keys:r=>yAe(r,e),ProjectionExpression:[]}),"se_KeysAndAttributes"),vAe=p((t,e)=>t.filter(r=>r!=null).map(r=>Kn(r,e)),"se_ListAttributeValue"),EAe=p((t,e)=>(0,l.take)(t,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:r=>r.getTime()/1e3,TimeRangeUpperBound:r=>r.getTime()/1e3}),"se_ListBackupsInput"),CAe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Kn(o,e)),r),{}),"se_MapAttributeValue"),SAe=p((t,e)=>(0,l.take)(t,{Parameters:r=>bS(r,e),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ParameterizedStatement"),TAe=p((t,e)=>t.filter(r=>r!=null).map(r=>SAe(r,e)),"se_ParameterizedStatements"),AAe=p((t,e)=>t.filter(r=>r!=null).map(r=>YTe(r,e)),"se_PartiQLBatchRequest"),bS=p((t,e)=>t.filter(r=>r!=null).map(r=>Kn(r,e)),"se_PreparedStatementParameters"),bAe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Item:r=>IS(r,e),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Put"),IAe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>AS(r,e),ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Item:r=>IS(r,e),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_PutItemInput"),IS=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Kn(o,e)),r),{}),"se_PutItemInputAttributeMap"),RAe=p((t,e)=>(0,l.take)(t,{Item:r=>IS(r,e)}),"se_PutRequest"),wAe=p((t,e)=>(0,l.take)(t,{AttributesToGet:l._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>Gr(r,e),ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:r=>gAe(r,e),Limit:[],ProjectionExpression:[],QueryFilter:r=>W$(r,e),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),"se_QueryInput"),PAe=p((t,e)=>(0,l.take)(t,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:r=>NAe(r,e),ReplicaProvisionedReadCapacityAutoScalingUpdate:r=>ti(r,e)}),"se_ReplicaAutoScalingUpdate"),OAe=p((t,e)=>t.filter(r=>r!=null).map(r=>PAe(r,e)),"se_ReplicaAutoScalingUpdateList"),xAe=p((t,e)=>(0,l.take)(t,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:r=>ti(r,e)}),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdate"),NAe=p((t,e)=>t.filter(r=>r!=null).map(r=>xAe(r,e)),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdateList"),DAe=p((t,e)=>(0,l.take)(t,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:r=>ti(r,e),ProvisionedReadCapacityUnits:[]}),"se_ReplicaGlobalSecondaryIndexSettingsUpdate"),kAe=p((t,e)=>t.filter(r=>r!=null).map(r=>DAe(r,e)),"se_ReplicaGlobalSecondaryIndexSettingsUpdateList"),MAe=p((t,e)=>(0,l.take)(t,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:r=>kAe(r,e),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:r=>ti(r,e),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),"se_ReplicaSettingsUpdate"),LAe=p((t,e)=>t.filter(r=>r!=null).map(r=>MAe(r,e)),"se_ReplicaSettingsUpdateList"),UAe=p((t,e)=>(0,l.take)(t,{BillingModeOverride:[],GlobalSecondaryIndexOverride:l._json,LocalSecondaryIndexOverride:l._json,OnDemandThroughputOverride:l._json,ProvisionedThroughputOverride:l._json,RestoreDateTime:r=>r.getTime()/1e3,SSESpecificationOverride:l._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),"se_RestoreTableToPointInTimeInput"),FAe=p((t,e)=>(0,l.take)(t,{AttributesToGet:l._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>Gr(r,e),ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:r=>W$(r,e),Segment:[],Select:[],TableName:[],TotalSegments:[]}),"se_ScanInput"),BAe=p((t,e)=>(0,l.take)(t,{Get:r=>cAe(r,e)}),"se_TransactGetItem"),qAe=p((t,e)=>t.filter(r=>r!=null).map(r=>BAe(r,e)),"se_TransactGetItemList"),HAe=p((t,e)=>(0,l.take)(t,{ReturnConsumedCapacity:[],TransactItems:r=>qAe(r,e)}),"se_TransactGetItemsInput"),jAe=p((t,e)=>(0,l.take)(t,{ConditionCheck:r=>eAe(r,e),Delete:r=>tAe(r,e),Put:r=>bAe(r,e),Update:r=>zAe(r,e)}),"se_TransactWriteItem"),GAe=p((t,e)=>t.filter(r=>r!=null).map(r=>jAe(r,e)),"se_TransactWriteItemList"),$Ae=p((t,e)=>(0,l.take)(t,{ClientRequestToken:[!0,r=>r??(0,Jf.v4)()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:r=>GAe(r,e)}),"se_TransactWriteItemsInput"),zAe=p((t,e)=>(0,l.take)(t,{ConditionExpression:[],ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Key:r=>Gr(r,e),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_Update"),VAe=p((t,e)=>(0,l.take)(t,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:r=>mAe(r,e),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>ti(r,e),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:r=>LAe(r,e)}),"se_UpdateGlobalTableSettingsInput"),KAe=p((t,e)=>(0,l.take)(t,{AttributeUpdates:r=>GTe(r,e),ConditionExpression:[],ConditionalOperator:[],Expected:r=>AS(r,e),ExpressionAttributeNames:l._json,ExpressionAttributeValues:r=>Wn(r,e),Key:r=>Gr(r,e),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_UpdateItemInput"),WAe=p((t,e)=>(0,l.take)(t,{GlobalSecondaryIndexUpdates:r=>uAe(r,e),ProvisionedWriteCapacityAutoScalingUpdate:r=>ti(r,e),ReplicaUpdates:r=>OAe(r,e),TableName:[]}),"se_UpdateTableReplicaAutoScalingInput"),QAe=p((t,e)=>(0,l.take)(t,{DeleteRequest:r=>nAe(r,e),PutRequest:r=>RAe(r,e)}),"se_WriteRequest"),YAe=p((t,e)=>t.filter(r=>r!=null).map(r=>QAe(r,e)),"se_WriteRequests"),JAe=p((t,e)=>(0,l.take)(t,{ArchivalBackupArn:l.expectString,ArchivalDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ArchivalReason:l.expectString}),"de_ArchivalSummary"),cn=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Wa((0,L.awsExpectUnion)(o),e)),r),{}),"de_AttributeMap"),Wa=p((t,e)=>t.B!=null?{B:e.base64Decoder(t.B)}:(0,l.expectBoolean)(t.BOOL)!==void 0?{BOOL:(0,l.expectBoolean)(t.BOOL)}:t.BS!=null?{BS:ube(t.BS,e)}:t.L!=null?{L:Kbe(t.L,e)}:t.M!=null?{M:Ybe(t.M,e)}:(0,l.expectString)(t.N)!==void 0?{N:(0,l.expectString)(t.N)}:t.NS!=null?{NS:(0,l._json)(t.NS)}:(0,l.expectBoolean)(t.NULL)!==void 0?{NULL:(0,l.expectBoolean)(t.NULL)}:(0,l.expectString)(t.S)!==void 0?{S:(0,l.expectString)(t.S)}:t.SS!=null?{SS:(0,l._json)(t.SS)}:{$unknown:Object.entries(t)[0]},"de_AttributeValue"),XAe=p((t,e)=>(0,l.take)(t,{PolicyName:l.expectString,TargetTrackingScalingPolicyConfiguration:r=>ebe(r,e)}),"de_AutoScalingPolicyDescription"),ZAe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>XAe(n,e)),"de_AutoScalingPolicyDescriptionList"),ei=p((t,e)=>(0,l.take)(t,{AutoScalingDisabled:l.expectBoolean,AutoScalingRoleArn:l.expectString,MaximumUnits:l.expectLong,MinimumUnits:l.expectLong,ScalingPolicies:r=>ZAe(r,e)}),"de_AutoScalingSettingsDescription"),ebe=p((t,e)=>(0,l.take)(t,{DisableScaleIn:l.expectBoolean,ScaleInCooldown:l.expectInt32,ScaleOutCooldown:l.expectInt32,TargetValue:l.limitedParseDouble}),"de_AutoScalingTargetTrackingScalingPolicyConfigurationDescription"),Q$=p((t,e)=>(0,l.take)(t,{BackupDetails:r=>Y$(r,e),SourceTableDetails:r=>fIe(r,e),SourceTableFeatureDetails:r=>gIe(r,e)}),"de_BackupDescription"),Y$=p((t,e)=>(0,l.take)(t,{BackupArn:l.expectString,BackupCreationDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),BackupExpiryDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),BackupName:l.expectString,BackupSizeBytes:l.expectLong,BackupStatus:l.expectString,BackupType:l.expectString}),"de_BackupDetails"),tbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>rbe(n,e)),"de_BackupSummaries"),rbe=p((t,e)=>(0,l.take)(t,{BackupArn:l.expectString,BackupCreationDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),BackupExpiryDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),BackupName:l.expectString,BackupSizeBytes:l.expectLong,BackupStatus:l.expectString,BackupType:l.expectString,TableArn:l.expectString,TableId:l.expectString,TableName:l.expectString}),"de_BackupSummary"),nbe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Qa(r,e),Responses:r=>Jbe(r,e)}),"de_BatchExecuteStatementOutput"),obe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Qa(r,e),Responses:r=>sbe(r,e),UnprocessedKeys:r=>ibe(r,e)}),"de_BatchGetItemOutput"),ibe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Vbe(o,e)),r),{}),"de_BatchGetRequestMap"),sbe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Zf(o,e)),r),{}),"de_BatchGetResponseMap"),abe=p((t,e)=>(0,l.take)(t,{Code:l.expectString,Item:r=>cn(r,e),Message:l.expectString}),"de_BatchStatementError"),cbe=p((t,e)=>(0,l.take)(t,{Error:r=>abe(r,e),Item:r=>cn(r,e),TableName:l.expectString}),"de_BatchStatementResponse"),dbe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Qa(r,e),ItemCollectionMetrics:r=>r2(r,e),UnprocessedItems:r=>lbe(r,e)}),"de_BatchWriteItemOutput"),lbe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=RIe(o,e)),r),{}),"de_BatchWriteItemRequestMap"),J$=p((t,e)=>(0,l.take)(t,{BillingMode:l.expectString,LastUpdateToPayPerRequestDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r)))}),"de_BillingModeSummary"),ube=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>e.base64Decoder(n)),"de_BinarySetAttributeValue"),pbe=p((t,e)=>(0,l.take)(t,{Code:l.expectString,Item:r=>cn(r,e),Message:l.expectString}),"de_CancellationReason"),mbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>pbe(n,e)),"de_CancellationReasonList"),X$=p((t,e)=>(0,l.take)(t,{CapacityUnits:l.limitedParseDouble,ReadCapacityUnits:l.limitedParseDouble,WriteCapacityUnits:l.limitedParseDouble}),"de_Capacity"),hbe=p((t,e)=>(0,l.take)(t,{Item:r=>cn(r,e),message:l.expectString}),"de_ConditionalCheckFailedException"),ri=p((t,e)=>(0,l.take)(t,{CapacityUnits:l.limitedParseDouble,GlobalSecondaryIndexes:r=>Yj(r,e),LocalSecondaryIndexes:r=>Yj(r,e),ReadCapacityUnits:l.limitedParseDouble,Table:r=>X$(r,e),TableName:l.expectString,WriteCapacityUnits:l.limitedParseDouble}),"de_ConsumedCapacity"),Qa=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>ri(n,e)),"de_ConsumedCapacityMultiple"),Z$=p((t,e)=>(0,l.take)(t,{ContinuousBackupsStatus:l.expectString,PointInTimeRecoveryDescription:r=>Xbe(r,e)}),"de_ContinuousBackupsDescription"),fbe=p((t,e)=>(0,l.take)(t,{BackupDetails:r=>Y$(r,e)}),"de_CreateBackupOutput"),gbe=p((t,e)=>(0,l.take)(t,{GlobalTableDescription:r=>RS(r,e)}),"de_CreateGlobalTableOutput"),ybe=p((t,e)=>(0,l.take)(t,{TableDescription:r=>Ya(r,e)}),"de_CreateTableOutput"),_be=p((t,e)=>(0,l.take)(t,{BackupDescription:r=>Q$(r,e)}),"de_DeleteBackupOutput"),vbe=p((t,e)=>(0,l.take)(t,{Attributes:r=>cn(r,e),ConsumedCapacity:r=>ri(r,e),ItemCollectionMetrics:r=>Xf(r,e)}),"de_DeleteItemOutput"),Ebe=p((t,e)=>(0,l.take)(t,{Key:r=>gl(r,e)}),"de_DeleteRequest"),Cbe=p((t,e)=>(0,l.take)(t,{TableDescription:r=>Ya(r,e)}),"de_DeleteTableOutput"),Sbe=p((t,e)=>(0,l.take)(t,{BackupDescription:r=>Q$(r,e)}),"de_DescribeBackupOutput"),Tbe=p((t,e)=>(0,l.take)(t,{ContinuousBackupsDescription:r=>Z$(r,e)}),"de_DescribeContinuousBackupsOutput"),Abe=p((t,e)=>(0,l.take)(t,{ContributorInsightsRuleList:l._json,ContributorInsightsStatus:l.expectString,FailureException:l._json,IndexName:l.expectString,LastUpdateDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableName:l.expectString}),"de_DescribeContributorInsightsOutput"),bbe=p((t,e)=>(0,l.take)(t,{ExportDescription:r=>e2(r,e)}),"de_DescribeExportOutput"),Ibe=p((t,e)=>(0,l.take)(t,{GlobalTableDescription:r=>RS(r,e)}),"de_DescribeGlobalTableOutput"),Rbe=p((t,e)=>(0,l.take)(t,{GlobalTableName:l.expectString,ReplicaSettings:r=>s2(r,e)}),"de_DescribeGlobalTableSettingsOutput"),wbe=p((t,e)=>(0,l.take)(t,{ImportTableDescription:r=>t2(r,e)}),"de_DescribeImportOutput"),Pbe=p((t,e)=>(0,l.take)(t,{Table:r=>Ya(r,e)}),"de_DescribeTableOutput"),Obe=p((t,e)=>(0,l.take)(t,{TableAutoScalingDescription:r=>c2(r,e)}),"de_DescribeTableReplicaAutoScalingOutput"),xbe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>ri(r,e),Items:r=>Zf(r,e),LastEvaluatedKey:r=>gl(r,e),NextToken:l.expectString}),"de_ExecuteStatementOutput"),Nbe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Qa(r,e),Responses:r=>n2(r,e)}),"de_ExecuteTransactionOutput"),e2=p((t,e)=>(0,l.take)(t,{BilledSizeBytes:l.expectLong,ClientToken:l.expectString,EndTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ExportArn:l.expectString,ExportFormat:l.expectString,ExportManifest:l.expectString,ExportStatus:l.expectString,ExportTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ExportType:l.expectString,FailureCode:l.expectString,FailureMessage:l.expectString,IncrementalExportSpecification:r=>qbe(r,e),ItemCount:l.expectLong,S3Bucket:l.expectString,S3BucketOwner:l.expectString,S3Prefix:l.expectString,S3SseAlgorithm:l.expectString,S3SseKmsKeyId:l.expectString,StartTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableArn:l.expectString,TableId:l.expectString}),"de_ExportDescription"),Dbe=p((t,e)=>(0,l.take)(t,{ExportDescription:r=>e2(r,e)}),"de_ExportTableToPointInTimeOutput"),kbe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>ri(r,e),Item:r=>cn(r,e)}),"de_GetItemOutput"),Mbe=p((t,e)=>(0,l.take)(t,{Backfilling:l.expectBoolean,IndexArn:l.expectString,IndexName:l.expectString,IndexSizeBytes:l.expectLong,IndexStatus:l.expectString,ItemCount:l.expectLong,KeySchema:l._json,OnDemandThroughput:l._json,Projection:l._json,ProvisionedThroughput:r=>o2(r,e)}),"de_GlobalSecondaryIndexDescription"),Lbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Mbe(n,e)),"de_GlobalSecondaryIndexDescriptionList"),RS=p((t,e)=>(0,l.take)(t,{CreationDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),GlobalTableArn:l.expectString,GlobalTableName:l.expectString,GlobalTableStatus:l.expectString,ReplicationGroup:r=>i2(r,e)}),"de_GlobalTableDescription"),Ube=p((t,e)=>(0,l.take)(t,{CloudWatchLogGroupArn:l.expectString,EndTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ImportArn:l.expectString,ImportStatus:l.expectString,InputFormat:l.expectString,S3BucketSource:l._json,StartTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableArn:l.expectString}),"de_ImportSummary"),Fbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Ube(n,e)),"de_ImportSummaryList"),t2=p((t,e)=>(0,l.take)(t,{ClientToken:l.expectString,CloudWatchLogGroupArn:l.expectString,EndTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ErrorCount:l.expectLong,FailureCode:l.expectString,FailureMessage:l.expectString,ImportArn:l.expectString,ImportStatus:l.expectString,ImportedItemCount:l.expectLong,InputCompressionType:l.expectString,InputFormat:l.expectString,InputFormatOptions:l._json,ProcessedItemCount:l.expectLong,ProcessedSizeBytes:l.expectLong,S3BucketSource:l._json,StartTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableArn:l.expectString,TableCreationParameters:l._json,TableId:l.expectString}),"de_ImportTableDescription"),Bbe=p((t,e)=>(0,l.take)(t,{ImportTableDescription:r=>t2(r,e)}),"de_ImportTableOutput"),qbe=p((t,e)=>(0,l.take)(t,{ExportFromTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ExportToTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ExportViewType:l.expectString}),"de_IncrementalExportSpecification"),Hbe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Wa((0,L.awsExpectUnion)(o),e)),r),{}),"de_ItemCollectionKeyAttributeMap"),Xf=p((t,e)=>(0,l.take)(t,{ItemCollectionKey:r=>Hbe(r,e),SizeEstimateRangeGB:r=>Gbe(r,e)}),"de_ItemCollectionMetrics"),jbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Xf(n,e)),"de_ItemCollectionMetricsMultiple"),r2=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=jbe(o,e)),r),{}),"de_ItemCollectionMetricsPerTable"),Gbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>(0,l.limitedParseDouble)(n)),"de_ItemCollectionSizeEstimateRange"),Zf=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>cn(n,e)),"de_ItemList"),$be=p((t,e)=>(0,l.take)(t,{Item:r=>cn(r,e)}),"de_ItemResponse"),n2=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>$be(n,e)),"de_ItemResponseList"),gl=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Wa((0,L.awsExpectUnion)(o),e)),r),{}),"de_Key"),zbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>gl(n,e)),"de_KeyList"),Vbe=p((t,e)=>(0,l.take)(t,{AttributesToGet:l._json,ConsistentRead:l.expectBoolean,ExpressionAttributeNames:l._json,Keys:r=>zbe(r,e),ProjectionExpression:l.expectString}),"de_KeysAndAttributes"),Kbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Wa((0,L.awsExpectUnion)(n),e)),"de_ListAttributeValue"),Wbe=p((t,e)=>(0,l.take)(t,{BackupSummaries:r=>tbe(r,e),LastEvaluatedBackupArn:l.expectString}),"de_ListBackupsOutput"),Qbe=p((t,e)=>(0,l.take)(t,{ImportSummaryList:r=>Fbe(r,e),NextToken:l.expectString}),"de_ListImportsOutput"),Ybe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Wa((0,L.awsExpectUnion)(o),e)),r),{}),"de_MapAttributeValue"),Jbe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>cbe(n,e)),"de_PartiQLBatchResponse"),Xbe=p((t,e)=>(0,l.take)(t,{EarliestRestorableDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),LatestRestorableDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),PointInTimeRecoveryStatus:l.expectString}),"de_PointInTimeRecoveryDescription"),o2=p((t,e)=>(0,l.take)(t,{LastDecreaseDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),LastIncreaseDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),NumberOfDecreasesToday:l.expectLong,ReadCapacityUnits:l.expectLong,WriteCapacityUnits:l.expectLong}),"de_ProvisionedThroughputDescription"),Zbe=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=Wa((0,L.awsExpectUnion)(o),e)),r),{}),"de_PutItemInputAttributeMap"),eIe=p((t,e)=>(0,l.take)(t,{Attributes:r=>cn(r,e),ConsumedCapacity:r=>ri(r,e),ItemCollectionMetrics:r=>Xf(r,e)}),"de_PutItemOutput"),tIe=p((t,e)=>(0,l.take)(t,{Item:r=>Zbe(r,e)}),"de_PutRequest"),rIe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>ri(r,e),Count:l.expectInt32,Items:r=>Zf(r,e),LastEvaluatedKey:r=>gl(r,e),ScannedCount:l.expectInt32}),"de_QueryOutput"),nIe=p((t,e)=>(0,l.take)(t,{GlobalSecondaryIndexes:r=>aIe(r,e),RegionName:l.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:r=>ei(r,e),ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>ei(r,e),ReplicaStatus:l.expectString}),"de_ReplicaAutoScalingDescription"),oIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>nIe(n,e)),"de_ReplicaAutoScalingDescriptionList"),iIe=p((t,e)=>(0,l.take)(t,{GlobalSecondaryIndexes:l._json,KMSMasterKeyId:l.expectString,OnDemandThroughputOverride:l._json,ProvisionedThroughputOverride:l._json,RegionName:l.expectString,ReplicaInaccessibleDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),ReplicaStatus:l.expectString,ReplicaStatusDescription:l.expectString,ReplicaStatusPercentProgress:l.expectString,ReplicaTableClassSummary:r=>wS(r,e)}),"de_ReplicaDescription"),i2=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>iIe(n,e)),"de_ReplicaDescriptionList"),sIe=p((t,e)=>(0,l.take)(t,{IndexName:l.expectString,IndexStatus:l.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>ei(r,e),ProvisionedWriteCapacityAutoScalingSettings:r=>ei(r,e)}),"de_ReplicaGlobalSecondaryIndexAutoScalingDescription"),aIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>sIe(n,e)),"de_ReplicaGlobalSecondaryIndexAutoScalingDescriptionList"),cIe=p((t,e)=>(0,l.take)(t,{IndexName:l.expectString,IndexStatus:l.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>ei(r,e),ProvisionedReadCapacityUnits:l.expectLong,ProvisionedWriteCapacityAutoScalingSettings:r=>ei(r,e),ProvisionedWriteCapacityUnits:l.expectLong}),"de_ReplicaGlobalSecondaryIndexSettingsDescription"),dIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>cIe(n,e)),"de_ReplicaGlobalSecondaryIndexSettingsDescriptionList"),lIe=p((t,e)=>(0,l.take)(t,{RegionName:l.expectString,ReplicaBillingModeSummary:r=>J$(r,e),ReplicaGlobalSecondaryIndexSettings:r=>dIe(r,e),ReplicaProvisionedReadCapacityAutoScalingSettings:r=>ei(r,e),ReplicaProvisionedReadCapacityUnits:l.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>ei(r,e),ReplicaProvisionedWriteCapacityUnits:l.expectLong,ReplicaStatus:l.expectString,ReplicaTableClassSummary:r=>wS(r,e)}),"de_ReplicaSettingsDescription"),s2=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>lIe(n,e)),"de_ReplicaSettingsDescriptionList"),uIe=p((t,e)=>(0,l.take)(t,{RestoreDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),RestoreInProgress:l.expectBoolean,SourceBackupArn:l.expectString,SourceTableArn:l.expectString}),"de_RestoreSummary"),pIe=p((t,e)=>(0,l.take)(t,{TableDescription:r=>Ya(r,e)}),"de_RestoreTableFromBackupOutput"),mIe=p((t,e)=>(0,l.take)(t,{TableDescription:r=>Ya(r,e)}),"de_RestoreTableToPointInTimeOutput"),hIe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>ri(r,e),Count:l.expectInt32,Items:r=>Zf(r,e),LastEvaluatedKey:r=>gl(r,e),ScannedCount:l.expectInt32}),"de_ScanOutput"),Yj=p((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=X$(o,e)),r),{}),"de_SecondaryIndexesCapacityMap"),fIe=p((t,e)=>(0,l.take)(t,{BillingMode:l.expectString,ItemCount:l.expectLong,KeySchema:l._json,OnDemandThroughput:l._json,ProvisionedThroughput:l._json,TableArn:l.expectString,TableCreationDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableId:l.expectString,TableName:l.expectString,TableSizeBytes:l.expectLong}),"de_SourceTableDetails"),gIe=p((t,e)=>(0,l.take)(t,{GlobalSecondaryIndexes:l._json,LocalSecondaryIndexes:l._json,SSEDescription:r=>a2(r,e),StreamDescription:l._json,TimeToLiveDescription:l._json}),"de_SourceTableFeatureDetails"),a2=p((t,e)=>(0,l.take)(t,{InaccessibleEncryptionDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),KMSMasterKeyArn:l.expectString,SSEType:l.expectString,Status:l.expectString}),"de_SSEDescription"),c2=p((t,e)=>(0,l.take)(t,{Replicas:r=>oIe(r,e),TableName:l.expectString,TableStatus:l.expectString}),"de_TableAutoScalingDescription"),wS=p((t,e)=>(0,l.take)(t,{LastUpdateDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),TableClass:l.expectString}),"de_TableClassSummary"),Ya=p((t,e)=>(0,l.take)(t,{ArchivalSummary:r=>JAe(r,e),AttributeDefinitions:l._json,BillingModeSummary:r=>J$(r,e),CreationDateTime:r=>(0,l.expectNonNull)((0,l.parseEpochTimestamp)((0,l.expectNumber)(r))),DeletionProtectionEnabled:l.expectBoolean,GlobalSecondaryIndexes:r=>Lbe(r,e),GlobalTableVersion:l.expectString,ItemCount:l.expectLong,KeySchema:l._json,LatestStreamArn:l.expectString,LatestStreamLabel:l.expectString,LocalSecondaryIndexes:l._json,OnDemandThroughput:l._json,ProvisionedThroughput:r=>o2(r,e),Replicas:r=>i2(r,e),RestoreSummary:r=>uIe(r,e),SSEDescription:r=>a2(r,e),StreamSpecification:l._json,TableArn:l.expectString,TableClassSummary:r=>wS(r,e),TableId:l.expectString,TableName:l.expectString,TableSizeBytes:l.expectLong,TableStatus:l.expectString}),"de_TableDescription"),yIe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Qa(r,e),Responses:r=>n2(r,e)}),"de_TransactGetItemsOutput"),_Ie=p((t,e)=>(0,l.take)(t,{CancellationReasons:r=>mbe(r,e),Message:l.expectString}),"de_TransactionCanceledException"),vIe=p((t,e)=>(0,l.take)(t,{ConsumedCapacity:r=>Qa(r,e),ItemCollectionMetrics:r=>r2(r,e)}),"de_TransactWriteItemsOutput"),EIe=p((t,e)=>(0,l.take)(t,{ContinuousBackupsDescription:r=>Z$(r,e)}),"de_UpdateContinuousBackupsOutput"),CIe=p((t,e)=>(0,l.take)(t,{GlobalTableDescription:r=>RS(r,e)}),"de_UpdateGlobalTableOutput"),SIe=p((t,e)=>(0,l.take)(t,{GlobalTableName:l.expectString,ReplicaSettings:r=>s2(r,e)}),"de_UpdateGlobalTableSettingsOutput"),TIe=p((t,e)=>(0,l.take)(t,{Attributes:r=>cn(r,e),ConsumedCapacity:r=>ri(r,e),ItemCollectionMetrics:r=>Xf(r,e)}),"de_UpdateItemOutput"),AIe=p((t,e)=>(0,l.take)(t,{TableDescription:r=>Ya(r,e)}),"de_UpdateTableOutput"),bIe=p((t,e)=>(0,l.take)(t,{TableAutoScalingDescription:r=>c2(r,e)}),"de_UpdateTableReplicaAutoScalingOutput"),IIe=p((t,e)=>(0,l.take)(t,{DeleteRequest:r=>Ebe(r,e),PutRequest:r=>tIe(r,e)}),"de_WriteRequest"),RIe=p((t,e)=>(t||[]).filter(n=>n!=null).map(n=>IIe(n,e)),"de_WriteRequests"),P=p(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),wIe=(0,l.withBaseException)(ce),z=p(async(t,e,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await t.endpoint(),d={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new TS.HttpRequest(d)},"buildHttpRpcRequest");function H(t){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${t}`}}p(H,"sharedHeaders");var d2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(yCe).de(ESe).build(){};p(d2,"DescribeEndpointsCommand");var PS=d2,PIe=Bj(),Jj=Ia(),OIe=p(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),xIe=p(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),Wf=p(t=>t,"asPartial"),NIe=p((t,e)=>{let r={...Wf((0,Jj.getAwsRegionExtensionConfiguration)(t)),...Wf((0,l.getDefaultExtensionConfiguration)(t)),...Wf((0,TS.getHttpHandlerExtensionConfiguration)(t)),...Wf(OIe(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,Jj.resolveAwsRegionExtensionConfiguration)(r),...(0,l.resolveDefaultRuntimeConfig)(r),...(0,TS.resolveHttpHandlerRuntimeConfig)(r),...xIe(r)}},"resolveRuntimeExtensions"),l2=class extends l.Client{constructor(...[e]){let r=(0,PIe.getRuntimeConfig)(e||{}),n=_Ee(r),o=(0,Kj.resolveUserAgentConfig)(n),i=(0,Wj.resolveRetryConfig)(o),s=(0,gEe.resolveRegionConfig)(i),a=(0,Vj.resolveHostHeaderConfig)(s),c=(0,q.resolveEndpointConfig)(a),d=(0,Qj.resolveHttpAuthSchemeConfig)(c),u=(0,mEe.resolveEndpointDiscoveryConfig)(d,{endpointDiscoveryCommandCtor:PS}),m=NIe(u,e?.extensions||[]);super(m),this.config=m,this.middlewareStack.use((0,Kj.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Wj.getRetryPlugin)(this.config)),this.middlewareStack.use((0,yEe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Vj.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,hEe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,fEe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,SS.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Qj.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async f=>new SS.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use((0,SS.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};p(l2,"DynamoDBClient");var ni=l2,u2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(oCe).de(aSe).build(){};p(u2,"BatchExecuteStatementCommand");var p2=u2,m2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(iCe).de(cSe).build(){};p(m2,"BatchGetItemCommand");var h2=m2,f2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(sCe).de(dSe).build(){};p(f2,"BatchWriteItemCommand");var g2=f2,y2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(aCe).de(lSe).build(){};p(y2,"CreateBackupCommand");var _2=y2,v2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(cCe).de(uSe).build(){};p(v2,"CreateGlobalTableCommand");var E2=v2,C2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(dCe).de(pSe).build(){};p(C2,"CreateTableCommand");var S2=C2,T2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(lCe).de(mSe).build(){};p(T2,"DeleteBackupCommand");var A2=T2,b2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(uCe).de(hSe).build(){};p(b2,"DeleteItemCommand");var I2=b2,R2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(pCe).de(fSe).build(){};p(R2,"DeleteResourcePolicyCommand");var w2=R2,P2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(mCe).de(gSe).build(){};p(P2,"DeleteTableCommand");var O2=P2,x2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(hCe).de(ySe).build(){};p(x2,"DescribeBackupCommand");var N2=x2,D2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(fCe).de(_Se).build(){};p(D2,"DescribeContinuousBackupsCommand");var k2=D2,M2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(gCe).de(vSe).build(){};p(M2,"DescribeContributorInsightsCommand");var L2=M2,U2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(_Ce).de(CSe).build(){};p(U2,"DescribeExportCommand");var F2=U2,B2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(vCe).de(SSe).build(){};p(B2,"DescribeGlobalTableCommand");var q2=B2,H2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(ECe).de(TSe).build(){};p(H2,"DescribeGlobalTableSettingsCommand");var j2=H2,G2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(CCe).de(ASe).build(){};p(G2,"DescribeImportCommand");var $2=G2,z2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(SCe).de(bSe).build(){};p(z2,"DescribeKinesisStreamingDestinationCommand");var V2=z2,K2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(TCe).de(ISe).build(){};p(K2,"DescribeLimitsCommand");var W2=K2,Q2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(ACe).de(RSe).build(){};p(Q2,"DescribeTableCommand");var eg=Q2,Y2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(bCe).de(wSe).build(){};p(Y2,"DescribeTableReplicaAutoScalingCommand");var J2=Y2,X2=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(ICe).de(PSe).build(){};p(X2,"DescribeTimeToLiveCommand");var Z2=X2,ez=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(RCe).de(OSe).build(){};p(ez,"DisableKinesisStreamingDestinationCommand");var tz=ez,rz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(wCe).de(xSe).build(){};p(rz,"EnableKinesisStreamingDestinationCommand");var nz=rz,oz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(PCe).de(NSe).build(){};p(oz,"ExecuteStatementCommand");var iz=oz,sz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(OCe).de(DSe).build(){};p(sz,"ExecuteTransactionCommand");var az=sz,cz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(xCe).de(kSe).build(){};p(cz,"ExportTableToPointInTimeCommand");var dz=cz,lz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(NCe).de(MSe).build(){};p(lz,"GetItemCommand");var uz=lz,pz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(DCe).de(LSe).build(){};p(pz,"GetResourcePolicyCommand");var mz=pz,hz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(kCe).de(USe).build(){};p(hz,"ImportTableCommand");var fz=hz,gz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(MCe).de(FSe).build(){};p(gz,"ListBackupsCommand");var yz=gz,_z=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(LCe).de(BSe).build(){};p(_z,"ListContributorInsightsCommand");var OS=_z,vz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(UCe).de(qSe).build(){};p(vz,"ListExportsCommand");var xS=vz,Ez=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(FCe).de(HSe).build(){};p(Ez,"ListGlobalTablesCommand");var Cz=Ez,Sz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(BCe).de(jSe).build(){};p(Sz,"ListImportsCommand");var NS=Sz,Tz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(qCe).de(GSe).build(){};p(Tz,"ListTablesCommand");var DS=Tz,Az=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(HCe).de($Se).build(){};p(Az,"ListTagsOfResourceCommand");var bz=Az,Iz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(jCe).de(zSe).build(){};p(Iz,"PutItemCommand");var Rz=Iz,wz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(GCe).de(VSe).build(){};p(wz,"PutResourcePolicyCommand");var Pz=wz,Oz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser($Ce).de(KSe).build(){};p(Oz,"QueryCommand");var kS=Oz,xz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(zCe).de(WSe).build(){};p(xz,"RestoreTableFromBackupCommand");var Nz=xz,Dz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(VCe).de(QSe).build(){};p(Dz,"RestoreTableToPointInTimeCommand");var kz=Dz,Mz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(KCe).de(YSe).build(){};p(Mz,"ScanCommand");var MS=Mz,Lz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(WCe).de(JSe).build(){};p(Lz,"TagResourceCommand");var Uz=Lz,Fz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(QCe).de(XSe).build(){};p(Fz,"TransactGetItemsCommand");var Bz=Fz,qz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(YCe).de(ZSe).build(){};p(qz,"TransactWriteItemsCommand");var Hz=qz,jz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(JCe).de(eTe).build(){};p(jz,"UntagResourceCommand");var Gz=jz,$z=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(XCe).de(tTe).build(){};p($z,"UpdateContinuousBackupsCommand");var zz=$z,Vz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(ZCe).de(rTe).build(){};p(Vz,"UpdateContributorInsightsCommand");var Kz=Vz,Wz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(eSe).de(nTe).build(){};p(Wz,"UpdateGlobalTableCommand");var Qz=Wz,Yz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(tSe).de(oTe).build(){};p(Yz,"UpdateGlobalTableSettingsCommand");var Jz=Yz,Xz=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(rSe).de(iTe).build(){};p(Xz,"UpdateItemCommand");var Zz=Xz,eV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(nSe).de(sTe).build(){};p(eV,"UpdateKinesisStreamingDestinationCommand");var tV=eV,rV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(oSe).de(aTe).build(){};p(rV,"UpdateTableCommand");var nV=rV,oV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(iSe).de(cTe).build(){};p(oV,"UpdateTableReplicaAutoScalingCommand");var iV=oV,sV=class extends l.Command.classBuilder().ep({...G}).m(function(e,r,n,o){return[(0,j.getSerdePlugin)(n,this.serialize,this.deserialize),(0,q.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(sSe).de(dTe).build(){};p(sV,"UpdateTimeToLiveCommand");var aV=sV,DIe={BatchExecuteStatementCommand:p2,BatchGetItemCommand:h2,BatchWriteItemCommand:g2,CreateBackupCommand:_2,CreateGlobalTableCommand:E2,CreateTableCommand:S2,DeleteBackupCommand:A2,DeleteItemCommand:I2,DeleteResourcePolicyCommand:w2,DeleteTableCommand:O2,DescribeBackupCommand:N2,DescribeContinuousBackupsCommand:k2,DescribeContributorInsightsCommand:L2,DescribeEndpointsCommand:PS,DescribeExportCommand:F2,DescribeGlobalTableCommand:q2,DescribeGlobalTableSettingsCommand:j2,DescribeImportCommand:$2,DescribeKinesisStreamingDestinationCommand:V2,DescribeLimitsCommand:W2,DescribeTableCommand:eg,DescribeTableReplicaAutoScalingCommand:J2,DescribeTimeToLiveCommand:Z2,DisableKinesisStreamingDestinationCommand:tz,EnableKinesisStreamingDestinationCommand:nz,ExecuteStatementCommand:iz,ExecuteTransactionCommand:az,ExportTableToPointInTimeCommand:dz,GetItemCommand:uz,GetResourcePolicyCommand:mz,ImportTableCommand:fz,ListBackupsCommand:yz,ListContributorInsightsCommand:OS,ListExportsCommand:xS,ListGlobalTablesCommand:Cz,ListImportsCommand:NS,ListTablesCommand:DS,ListTagsOfResourceCommand:bz,PutItemCommand:Rz,PutResourcePolicyCommand:Pz,QueryCommand:kS,RestoreTableFromBackupCommand:Nz,RestoreTableToPointInTimeCommand:kz,ScanCommand:MS,TagResourceCommand:Uz,TransactGetItemsCommand:Bz,TransactWriteItemsCommand:Hz,UntagResourceCommand:Gz,UpdateContinuousBackupsCommand:zz,UpdateContributorInsightsCommand:Kz,UpdateGlobalTableCommand:Qz,UpdateGlobalTableSettingsCommand:Jz,UpdateItemCommand:Zz,UpdateKinesisStreamingDestinationCommand:tV,UpdateTableCommand:nV,UpdateTableReplicaAutoScalingCommand:iV,UpdateTimeToLiveCommand:aV},cV=class extends ni{};p(cV,"DynamoDB");var dV=cV;(0,l.createAggregatedClient)(DIe,dV);var kIe=(mt(),M(bt)),MIe=(0,kIe.createPaginator)(ni,OS,"NextToken","NextToken","MaxResults"),LIe=(mt(),M(bt)),UIe=(0,LIe.createPaginator)(ni,xS,"NextToken","NextToken","MaxResults"),FIe=(mt(),M(bt)),BIe=(0,FIe.createPaginator)(ni,NS,"NextToken","NextToken","PageSize"),qIe=(mt(),M(bt)),HIe=(0,qIe.createPaginator)(ni,DS,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),jIe=(mt(),M(bt)),GIe=(0,jIe.createPaginator)(ni,kS,"ExclusiveStartKey","LastEvaluatedKey","Limit"),$Ie=(mt(),M(bt)),zIe=(0,$Ie.createPaginator)(ni,MS,"ExclusiveStartKey","LastEvaluatedKey","Limit"),jr=zj(),lV=p(async(t,e)=>{let r;try{let n=await t.send(new eg(e));r=n;try{if(p(()=>n.Table.TableStatus,"returnComparator")()==="ACTIVE")return{state:jr.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:jr.WaiterState.RETRY,reason:r}}return{state:jr.WaiterState.RETRY,reason:r}},"checkState"),VIe=p(async(t,e)=>{let r={minDelay:20,maxDelay:120};return(0,jr.createWaiter)({...r,...t},e,lV)},"waitForTableExists"),KIe=p(async(t,e)=>{let r={minDelay:20,maxDelay:120},n=await(0,jr.createWaiter)({...r,...t},e,lV);return(0,jr.checkExceptions)(n)},"waitUntilTableExists"),uV=p(async(t,e)=>{let r;try{r=await t.send(new eg(e))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:jr.WaiterState.SUCCESS,reason:r}}return{state:jr.WaiterState.RETRY,reason:r}},"checkState"),WIe=p(async(t,e)=>{let r={minDelay:20,maxDelay:120};return(0,jr.createWaiter)({...r,...t},e,uV)},"waitForTableNotExists"),QIe=p(async(t,e)=>{let r={minDelay:20,maxDelay:120},n=await(0,jr.createWaiter)({...r,...t},e,uV);return(0,jr.checkExceptions)(n)},"waitUntilTableNotExists")});var gV=g((hze,fV)=>{var{marshall:tg,unmarshall:LS}=U0(),{chunkArray:YIe}=B0(),JIe=H0(),{DynamoDBClient:XIe,PutItemCommand:ZIe,GetItemCommand:eRe,UpdateItemCommand:tRe,BatchWriteItemCommand:rRe,QueryCommand:hV}=mV(),nRe=process.env.REGION,Ja=new XIe({region:nRe}),oRe=async(t,e)=>{let r={TableName:t,Item:tg(e,{convertClassInstanceToMap:!0,removeUndefinedValues:!0})};try{await Ja.send(new ZIe(r))}catch(n){throw new Error("ErrorPutnewItem",n)}},iRe=async(t,e,r)=>{let n={TableName:t,Key:tg({PK:e,SK:r})};try{let o=await Ja.send(new eRe(n));return o.Item?LS(o.Item):null}catch(o){throw console.log("ERROR",o),new Error("ErrorGetItem",o)}},sRe=async(t,e)=>{let r=YIe(t,25);for(let n of r){let o=n.map(s=>{let a=new JIe(s);return{PutRequest:{Item:tg(a,{convertClassInstanceToMap:!0,removeUndefinedValues:!0}),ConditionExpression:"attribute_not_exists(SK)"}}}),i={RequestItems:{[e]:o}};try{await Ja.send(new rRe(i))}catch{throw new Error("Error saving emails to DynamoDB")}}},aRe=async(t,e,r,n,o)=>{let i={TableName:t,Key:{PK:{S:e},SK:{S:r}},UpdateExpression:n,ExpressionAttributeValues:tg(o),ReturnValues:"ALL_NEW"};try{let s=await Ja.send(new tRe(i));return s.Attributes?s.Attributes:null}catch(s){throw new Error("ErrorupdateItem",s)}},cRe=async(t,e)=>{let r={TableName:t,KeyConditionExpression:"PK = :pk",ExpressionAttributeValues:{":pk":{S:e}}};try{let n=await Ja.send(new hV(r)),o=n.Items?n.Items.map(i=>LS(i)):null;return{Message:o,Count:o?.length||0}}catch(n){throw new Error("ErrorgetAllItems",n)}},dRe=async(t,e)=>{let r={TableName:t,KeyConditionExpression:"PK = :pk",ProjectionExpression:"subject, #fromAlias",ExpressionAttributeNames:{"#fromAlias":"from"},ExpressionAttributeValues:{":pk":{S:e}}},n=[],o=null;try{do{o&&(r.ExclusiveStartKey=o);let i=await Ja.send(new hV(r));if(i.Items){let s=i.Items.map(a=>LS(a));n=n.concat(s)}o=i.LastEvaluatedKey}while(o);return{items:n,count:n.length}}catch(i){throw new Error(`Error in queryAllItems: ${i.message}`)}};fV.exports={putNewItem:oRe,getItemPrimay:iRe,updateItem:aRe,saveEmailsBatch:sRe,queryAllItems:dRe,getAllItems:cRe}});var bV=g((fze,AV)=>{"use strict";var rg=Object.defineProperty,lRe=Object.getOwnPropertyDescriptor,uRe=Object.getOwnPropertyNames,pRe=Object.prototype.hasOwnProperty,Qn=(t,e)=>rg(t,"name",{value:e,configurable:!0}),mRe=(t,e)=>{for(var r in e)rg(t,r,{get:e[r],enumerable:!0})},hRe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of uRe(e))!pRe.call(t,o)&&o!==r&&rg(t,o,{get:()=>e[o],enumerable:!(n=lRe(e,o))||n.enumerable});return t},fRe=t=>hRe(rg({},"__esModule",{value:!0}),t),yV={};mRe(yV,{getQueueUrlPlugin:()=>_Re,getReceiveMessagePlugin:()=>ERe,getSendMessageBatchPlugin:()=>ARe,getSendMessagePlugin:()=>SRe,queueUrlMiddleware:()=>US,queueUrlMiddlewareOptions:()=>_V,receiveMessageMiddleware:()=>BS,receiveMessageMiddlewareOptions:()=>vV,resolveQueueUrlConfig:()=>yRe,sendMessageBatchMiddleware:()=>SV,sendMessageBatchMiddlewareOptions:()=>TV,sendMessageMiddleware:()=>EV,sendMessageMiddlewareOptions:()=>CV});AV.exports=fRe(yV);var gRe=fe(),yRe=Qn(t=>({...t,useQueueUrlAsEndpoint:t.useQueueUrlAsEndpoint??!0}),"resolveQueueUrlConfig");function US({useQueueUrlAsEndpoint:t,endpoint:e}){return(r,n)=>async o=>{var i;let{input:s}=o,a=n.endpointV2;if(!e&&s.QueueUrl&&a&&t){let c=n.logger instanceof gRe.NoOpLogger||!((i=n.logger)!=null&&i.warn)?console:n.logger;try{let d=new URL(s.QueueUrl),u=new URL(d.origin);a.url.origin!==u.origin&&(c.warn(`QueueUrl=${s.QueueUrl} differs from SQSClient resolved endpoint=${a.url.toString()}, using QueueUrl host as endpoint.
Set [endpoint=string] or [useQueueUrlAsEndpoint=false] on the SQSClient.`),a.url=u)}catch(d){c.warn(d)}}return r(o)}}Qn(US,"queueUrlMiddleware");var _V={name:"queueUrlMiddleware",relation:"after",toMiddleware:"endpointV2Middleware",override:!0},_Re=Qn(t=>({applyToStack:e=>{e.addRelativeTo(US(t),_V)}}),"getQueueUrlPlugin"),FS=fh(),vRe=Ct();function BS(t){return e=>async r=>{let n=await e({...r});if(t.md5===!1)return n;let o=n.output,i=[];if(o.Messages!==void 0)for(let s of o.Messages){let a=s.MD5OfBody,c=new t.md5;c.update((0,vRe.toUint8Array)(s.Body||"")),a!==(0,FS.toHex)(await c.digest())&&i.push(s.MessageId)}if(i.length>0)throw new Error("Invalid MD5 checksum on messages: "+i.join(", "));return n}}Qn(BS,"receiveMessageMiddleware");var vV={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"receiveMessageMiddleware",override:!0},ERe=Qn(t=>({applyToStack:e=>{e.add(BS(t),vV)}}),"getReceiveMessagePlugin"),CRe=Ct(),EV=Qn(t=>e=>async r=>{let n=await e({...r});if(t.md5===!1)return n;let o=n.output,i=new t.md5;if(i.update((0,CRe.toUint8Array)(r.input.MessageBody||"")),o.MD5OfMessageBody!==(0,FS.toHex)(await i.digest()))throw new Error("InvalidChecksumError");return n},"sendMessageMiddleware"),CV={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageMiddleware",override:!0},SRe=Qn(t=>({applyToStack:e=>{e.add(EV(t),CV)}}),"getSendMessagePlugin"),TRe=Ct(),SV=Qn(t=>e=>async r=>{let n=await e({...r});if(t.md5===!1)return n;let o=n.output,i=[],s={};if(o.Successful!==void 0)for(let a of o.Successful)a.Id!==void 0&&(s[a.Id]=a);for(let a of r.input.Entries)if(s[a.Id]){let c=s[a.Id].MD5OfMessageBody,d=new t.md5;d.update((0,TRe.toUint8Array)(a.MessageBody||"")),c!==(0,FS.toHex)(await d.digest())&&i.push(s[a.Id].MessageId)}if(i.length>0)throw new Error("Invalid MD5 checksum on messages: "+i.join(", "));return n},"sendMessageBatchMiddleware"),TV={step:"initialize",tags:["VALIDATE_BODY_MD5"],name:"sendMessageBatchMiddleware",override:!0},ARe=Qn(t=>({applyToStack:e=>{e.add(SV(t),TV)}}),"getSendMessageBatchPlugin")});var qS=g(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.resolveHttpAuthSchemeConfig=oi.defaultSQSHttpAuthSchemeProvider=oi.defaultSQSHttpAuthSchemeParametersProvider=void 0;var bRe=(Ze(),M(Xe)),IV=hr(),IRe=async(t,e,r)=>({operation:(0,IV.getSmithyContext)(e).operation,region:await(0,IV.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});oi.defaultSQSHttpAuthSchemeParametersProvider=IRe;function RRe(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sqs",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var wRe=t=>{let e=[];switch(t.operation){default:e.push(RRe(t))}return e};oi.defaultSQSHttpAuthSchemeProvider=wRe;var PRe=t=>({...(0,bRe.resolveAwsSdkSigV4Config)(t)});oi.resolveHttpAuthSchemeConfig=PRe});var RV=g((yze,ORe)=>{ORe.exports={name:"@aws-sdk/client-sqs",description:"AWS SDK for JavaScript Sqs Client for Node.js, Browser and React Native",version:"3.645.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sqs","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sqs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.645.0","@aws-sdk/client-sts":"3.645.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.645.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-sdk-sqs":"3.635.0","@aws-sdk/middleware-user-agent":"3.645.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.645.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/md5-js":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sqs",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sqs"}}});var jV=g(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.ruleSet=void 0;var FV="required",Or="fn",xr="argv",ec="ref",wV=!0,PV="isSet",yl="booleanEquals",Xa="error",Za="endpoint",Yn="tree",HS="PartitionResult",jS="getAttr",OV={[FV]:!1,type:"String"},xV={[FV]:!0,default:!1,type:"Boolean"},NV={[ec]:"Endpoint"},BV={[Or]:yl,[xr]:[{[ec]:"UseFIPS"},!0]},qV={[Or]:yl,[xr]:[{[ec]:"UseDualStack"},!0]},Pr={},DV={[Or]:jS,[xr]:[{[ec]:HS},"supportsFIPS"]},HV={[ec]:HS},kV={[Or]:yl,[xr]:[!0,{[Or]:jS,[xr]:[HV,"supportsDualStack"]}]},MV=[BV],LV=[qV],UV=[{[ec]:"Region"}],xRe={version:"1.0",parameters:{Region:OV,UseDualStack:xV,UseFIPS:xV,Endpoint:OV},rules:[{conditions:[{[Or]:PV,[xr]:[NV]}],rules:[{conditions:MV,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Xa},{conditions:LV,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Xa},{endpoint:{url:NV,properties:Pr,headers:Pr},type:Za}],type:Yn},{conditions:[{[Or]:PV,[xr]:UV}],rules:[{conditions:[{[Or]:"aws.partition",[xr]:UV,assign:HS}],rules:[{conditions:[BV,qV],rules:[{conditions:[{[Or]:yl,[xr]:[wV,DV]},kV],rules:[{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pr,headers:Pr},type:Za}],type:Yn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Xa}],type:Yn},{conditions:MV,rules:[{conditions:[{[Or]:yl,[xr]:[DV,wV]}],rules:[{conditions:[{[Or]:"stringEquals",[xr]:[{[Or]:jS,[xr]:[HV,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sqs.{Region}.amazonaws.com",properties:Pr,headers:Pr},type:Za},{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Pr,headers:Pr},type:Za}],type:Yn},{error:"FIPS is enabled but this partition does not support FIPS",type:Xa}],type:Yn},{conditions:LV,rules:[{conditions:[kV],rules:[{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pr,headers:Pr},type:Za}],type:Yn},{error:"DualStack is enabled but this partition does not support DualStack",type:Xa}],type:Yn},{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dnsSuffix}",properties:Pr,headers:Pr},type:Za}],type:Yn}],type:Yn},{error:"Invalid Configuration: Missing Region",type:Xa}]};ng.ruleSet=xRe});var $V=g(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.defaultEndpointResolver=void 0;var NRe=Ki(),GV=Vi(),DRe=jV(),kRe=(t,e={})=>(0,GV.resolveEndpoint)(DRe.ruleSet,{endpointParams:t,logger:e.logger});og.defaultEndpointResolver=kRe;GV.customEndpointFunctions.aws=NRe.awsEndpointFunctions});var KV=g(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.getRuntimeConfig=void 0;var MRe=(Ze(),M(Xe)),LRe=fe(),URe=Ro(),zV=Mn(),VV=Ct(),FRe=qS(),BRe=$V(),qRe=t=>({apiVersion:"2012-11-05",base64Decoder:t?.base64Decoder??zV.fromBase64,base64Encoder:t?.base64Encoder??zV.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??BRe.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??FRe.defaultSQSHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new MRe.AwsSdkSigV4Signer}],logger:t?.logger??new LRe.NoOpLogger,serviceId:t?.serviceId??"SQS",urlParser:t?.urlParser??URe.parseUrl,utf8Decoder:t?.utf8Decoder??VV.fromUtf8,utf8Encoder:t?.utf8Encoder??VV.toUtf8});ig.getRuntimeConfig=qRe});var JV=g(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.getRuntimeConfig=void 0;var HRe=(_e(),M(ye)),jRe=HRe.__importDefault(RV()),GRe=(Ze(),M(Xe)),$Re=ol(),zRe=_a(),sg=fr(),WV=va(),QV=_r(),_l=tn(),YV=No(),VRe=Ea(),KRe=Ji(),WRe=KV(),QRe=fe(),YRe=Aa(),JRe=fe(),XRe=t=>{(0,JRe.emitWarningIfUnsupportedVersion)(process.version);let e=(0,YRe.resolveDefaultsModeConfig)(t),r=()=>e().then(QRe.loadConfigsForDefaultMode),n=(0,WRe.getRuntimeConfig)(t);return(0,GRe.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??VRe.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??$Re.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,zRe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:jRe.default.version}),maxAttempts:t?.maxAttempts??(0,_l.loadConfig)(QV.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),md5:t?.md5??WV.Hash.bind(null,"md5"),region:t?.region??(0,_l.loadConfig)(sg.NODE_REGION_CONFIG_OPTIONS,sg.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:YV.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,_l.loadConfig)({...QV.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||KRe.DEFAULT_RETRY_MODE}),sha256:t?.sha256??WV.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??YV.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,_l.loadConfig)(sg.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,_l.loadConfig)(sg.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};ag.getRuntimeConfig=XRe});var UW=g((Kze,LW)=>{"use strict";var dg=Object.defineProperty,ZRe=Object.getOwnPropertyDescriptor,ewe=Object.getOwnPropertyNames,twe=Object.prototype.hasOwnProperty,_=(t,e)=>dg(t,"name",{value:e,configurable:!0}),rwe=(t,e)=>{for(var r in e)dg(t,r,{get:e[r],enumerable:!0})},nwe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ewe(e))!twe.call(t,o)&&o!==r&&dg(t,o,{get:()=>e[o],enumerable:!(n=ZRe(e,o))||n.enumerable});return t},owe=t=>nwe(dg({},"__esModule",{value:!0}),t),n3={};rwe(n3,{AddPermissionCommand:()=>zK,BatchEntryIdsNotDistinct:()=>L3,BatchRequestTooLong:()=>LK,CancelMessageMoveTaskCommand:()=>KK,ChangeMessageVisibilityBatchCommand:()=>QK,ChangeMessageVisibilityCommand:()=>JK,CreateQueueCommand:()=>ZK,DeleteMessageBatchCommand:()=>tW,DeleteMessageCommand:()=>nW,DeleteQueueCommand:()=>iW,EmptyBatchRequest:()=>B3,GetQueueAttributesCommand:()=>aW,GetQueueUrlCommand:()=>dW,InvalidAddress:()=>d3,InvalidAttributeName:()=>W3,InvalidAttributeValue:()=>J3,InvalidBatchEntryId:()=>j3,InvalidIdFormat:()=>sK,InvalidMessageContents:()=>DK,InvalidSecurity:()=>p3,KmsAccessDenied:()=>pK,KmsDisabled:()=>fK,KmsInvalidKeyUsage:()=>_K,KmsInvalidState:()=>CK,KmsNotFound:()=>AK,KmsOptInRequired:()=>RK,KmsThrottled:()=>OK,ListDeadLetterSourceQueuesCommand:()=>$S,ListMessageMoveTasksCommand:()=>pW,ListQueueTagsCommand:()=>fW,ListQueuesCommand:()=>zS,MessageNotInflight:()=>O3,MessageSystemAttributeName:()=>fwe,MessageSystemAttributeNameForSends:()=>gwe,OverLimit:()=>f3,PurgeQueueCommand:()=>yW,PurgeQueueInProgress:()=>dK,QueueAttributeName:()=>hwe,QueueDeletedRecently:()=>eK,QueueDoesNotExist:()=>_3,QueueNameExists:()=>nK,ReceiptHandleIsInvalid:()=>D3,ReceiveMessageCommand:()=>vW,RemovePermissionCommand:()=>CW,RequestThrottled:()=>C3,ResourceNotFoundException:()=>R3,SQS:()=>MW,SQSClient:()=>lg,SQSServiceException:()=>ge,SendMessageBatchCommand:()=>TW,SendMessageCommand:()=>bW,SetQueueAttributesCommand:()=>RW,StartMessageMoveTaskCommand:()=>PW,TagQueueCommand:()=>xW,TooManyEntriesInBatchRequest:()=>z3,UnsupportedOperation:()=>A3,UntagQueueCommand:()=>DW,__Client:()=>T.Client,paginateListDeadLetterSourceQueues:()=>wPe,paginateListQueues:()=>PPe});LW.exports=owe(n3);var XV=ea(),iwe=ta(),swe=ra(),El=bV(),ZV=oa(),awe=fr(),vl=(mt(),M(bt)),cwe=ma(),Me=Po(),e3=_r(),t3=qS(),dwe=_(t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sqs"}),"resolveClientEndpointParameters"),je={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},lwe=JV(),r3=Ia(),GS=Ne(),T=fe(),uwe=_(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(o){let i=e.findIndex(s=>s.schemeId===o.schemeId);i===-1?e.push(o):e.splice(i,1,o)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),pwe=_(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),cg=_(t=>t,"asPartial"),mwe=_((t,e)=>{let r={...cg((0,r3.getAwsRegionExtensionConfiguration)(t)),...cg((0,T.getDefaultExtensionConfiguration)(t)),...cg((0,GS.getHttpHandlerExtensionConfiguration)(t)),...cg(uwe(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,r3.resolveAwsRegionExtensionConfiguration)(r),...(0,T.resolveDefaultRuntimeConfig)(r),...(0,GS.resolveHttpHandlerRuntimeConfig)(r),...pwe(r)}},"resolveRuntimeExtensions"),o3=class extends T.Client{constructor(...[e]){let r=(0,lwe.getRuntimeConfig)(e||{}),n=dwe(r),o=(0,ZV.resolveUserAgentConfig)(n),i=(0,e3.resolveRetryConfig)(o),s=(0,awe.resolveRegionConfig)(i),a=(0,XV.resolveHostHeaderConfig)(s),c=(0,Me.resolveEndpointConfig)(a),d=(0,El.resolveQueueUrlConfig)(c),u=(0,t3.resolveHttpAuthSchemeConfig)(d),m=mwe(u,e?.extensions||[]);super(m),this.config=m,this.middlewareStack.use((0,ZV.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,e3.getRetryPlugin)(this.config)),this.middlewareStack.use((0,cwe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,XV.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,iwe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,swe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,El.getQueueUrlPlugin)(this.config)),this.middlewareStack.use((0,vl.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:t3.defaultSQSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async f=>new vl.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use((0,vl.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};_(o3,"SQSClient");var lg=o3,Ge=wo(),O=(Ze(),M(Xe)),i3=class s3 extends T.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,s3.prototype)}};_(i3,"SQSServiceException");var ge=i3,a3=class c3 extends ge{constructor(e){super({name:"InvalidAddress",$fault:"client",...e}),this.name="InvalidAddress",this.$fault="client",Object.setPrototypeOf(this,c3.prototype)}};_(a3,"InvalidAddress");var d3=a3,l3=class u3 extends ge{constructor(e){super({name:"InvalidSecurity",$fault:"client",...e}),this.name="InvalidSecurity",this.$fault="client",Object.setPrototypeOf(this,u3.prototype)}};_(l3,"InvalidSecurity");var p3=l3,m3=class h3 extends ge{constructor(e){super({name:"OverLimit",$fault:"client",...e}),this.name="OverLimit",this.$fault="client",Object.setPrototypeOf(this,h3.prototype)}};_(m3,"OverLimit");var f3=m3,g3=class y3 extends ge{constructor(e){super({name:"QueueDoesNotExist",$fault:"client",...e}),this.name="QueueDoesNotExist",this.$fault="client",Object.setPrototypeOf(this,y3.prototype)}};_(g3,"QueueDoesNotExist");var _3=g3,v3=class E3 extends ge{constructor(e){super({name:"RequestThrottled",$fault:"client",...e}),this.name="RequestThrottled",this.$fault="client",Object.setPrototypeOf(this,E3.prototype)}};_(v3,"RequestThrottled");var C3=v3,S3=class T3 extends ge{constructor(e){super({name:"UnsupportedOperation",$fault:"client",...e}),this.name="UnsupportedOperation",this.$fault="client",Object.setPrototypeOf(this,T3.prototype)}};_(S3,"UnsupportedOperation");var A3=S3,b3=class I3 extends ge{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,I3.prototype)}};_(b3,"ResourceNotFoundException");var R3=b3,w3=class P3 extends ge{constructor(e){super({name:"MessageNotInflight",$fault:"client",...e}),this.name="MessageNotInflight",this.$fault="client",Object.setPrototypeOf(this,P3.prototype)}};_(w3,"MessageNotInflight");var O3=w3,x3=class N3 extends ge{constructor(e){super({name:"ReceiptHandleIsInvalid",$fault:"client",...e}),this.name="ReceiptHandleIsInvalid",this.$fault="client",Object.setPrototypeOf(this,N3.prototype)}};_(x3,"ReceiptHandleIsInvalid");var D3=x3,k3=class M3 extends ge{constructor(e){super({name:"BatchEntryIdsNotDistinct",$fault:"client",...e}),this.name="BatchEntryIdsNotDistinct",this.$fault="client",Object.setPrototypeOf(this,M3.prototype)}};_(k3,"BatchEntryIdsNotDistinct");var L3=k3,U3=class F3 extends ge{constructor(e){super({name:"EmptyBatchRequest",$fault:"client",...e}),this.name="EmptyBatchRequest",this.$fault="client",Object.setPrototypeOf(this,F3.prototype)}};_(U3,"EmptyBatchRequest");var B3=U3,q3=class H3 extends ge{constructor(e){super({name:"InvalidBatchEntryId",$fault:"client",...e}),this.name="InvalidBatchEntryId",this.$fault="client",Object.setPrototypeOf(this,H3.prototype)}};_(q3,"InvalidBatchEntryId");var j3=q3,G3=class $3 extends ge{constructor(e){super({name:"TooManyEntriesInBatchRequest",$fault:"client",...e}),this.name="TooManyEntriesInBatchRequest",this.$fault="client",Object.setPrototypeOf(this,$3.prototype)}};_(G3,"TooManyEntriesInBatchRequest");var z3=G3,hwe={All:"All",ApproximateNumberOfMessages:"ApproximateNumberOfMessages",ApproximateNumberOfMessagesDelayed:"ApproximateNumberOfMessagesDelayed",ApproximateNumberOfMessagesNotVisible:"ApproximateNumberOfMessagesNotVisible",ContentBasedDeduplication:"ContentBasedDeduplication",CreatedTimestamp:"CreatedTimestamp",DeduplicationScope:"DeduplicationScope",DelaySeconds:"DelaySeconds",FifoQueue:"FifoQueue",FifoThroughputLimit:"FifoThroughputLimit",KmsDataKeyReusePeriodSeconds:"KmsDataKeyReusePeriodSeconds",KmsMasterKeyId:"KmsMasterKeyId",LastModifiedTimestamp:"LastModifiedTimestamp",MaximumMessageSize:"MaximumMessageSize",MessageRetentionPeriod:"MessageRetentionPeriod",Policy:"Policy",QueueArn:"QueueArn",ReceiveMessageWaitTimeSeconds:"ReceiveMessageWaitTimeSeconds",RedriveAllowPolicy:"RedriveAllowPolicy",RedrivePolicy:"RedrivePolicy",SqsManagedSseEnabled:"SqsManagedSseEnabled",VisibilityTimeout:"VisibilityTimeout"},V3=class K3 extends ge{constructor(e){super({name:"InvalidAttributeName",$fault:"client",...e}),this.name="InvalidAttributeName",this.$fault="client",Object.setPrototypeOf(this,K3.prototype)}};_(V3,"InvalidAttributeName");var W3=V3,Q3=class Y3 extends ge{constructor(e){super({name:"InvalidAttributeValue",$fault:"client",...e}),this.name="InvalidAttributeValue",this.$fault="client",Object.setPrototypeOf(this,Y3.prototype)}};_(Q3,"InvalidAttributeValue");var J3=Q3,X3=class Z3 extends ge{constructor(e){super({name:"QueueDeletedRecently",$fault:"client",...e}),this.name="QueueDeletedRecently",this.$fault="client",Object.setPrototypeOf(this,Z3.prototype)}};_(X3,"QueueDeletedRecently");var eK=X3,tK=class rK extends ge{constructor(e){super({name:"QueueNameExists",$fault:"client",...e}),this.name="QueueNameExists",this.$fault="client",Object.setPrototypeOf(this,rK.prototype)}};_(tK,"QueueNameExists");var nK=tK,oK=class iK extends ge{constructor(e){super({name:"InvalidIdFormat",$fault:"client",...e}),this.name="InvalidIdFormat",this.$fault="client",Object.setPrototypeOf(this,iK.prototype)}};_(oK,"InvalidIdFormat");var sK=oK,aK=class cK extends ge{constructor(e){super({name:"PurgeQueueInProgress",$fault:"client",...e}),this.name="PurgeQueueInProgress",this.$fault="client",Object.setPrototypeOf(this,cK.prototype)}};_(aK,"PurgeQueueInProgress");var dK=aK,lK=class uK extends ge{constructor(e){super({name:"KmsAccessDenied",$fault:"client",...e}),this.name="KmsAccessDenied",this.$fault="client",Object.setPrototypeOf(this,uK.prototype)}};_(lK,"KmsAccessDenied");var pK=lK,mK=class hK extends ge{constructor(e){super({name:"KmsDisabled",$fault:"client",...e}),this.name="KmsDisabled",this.$fault="client",Object.setPrototypeOf(this,hK.prototype)}};_(mK,"KmsDisabled");var fK=mK,gK=class yK extends ge{constructor(e){super({name:"KmsInvalidKeyUsage",$fault:"client",...e}),this.name="KmsInvalidKeyUsage",this.$fault="client",Object.setPrototypeOf(this,yK.prototype)}};_(gK,"KmsInvalidKeyUsage");var _K=gK,vK=class EK extends ge{constructor(e){super({name:"KmsInvalidState",$fault:"client",...e}),this.name="KmsInvalidState",this.$fault="client",Object.setPrototypeOf(this,EK.prototype)}};_(vK,"KmsInvalidState");var CK=vK,SK=class TK extends ge{constructor(e){super({name:"KmsNotFound",$fault:"client",...e}),this.name="KmsNotFound",this.$fault="client",Object.setPrototypeOf(this,TK.prototype)}};_(SK,"KmsNotFound");var AK=SK,bK=class IK extends ge{constructor(e){super({name:"KmsOptInRequired",$fault:"client",...e}),this.name="KmsOptInRequired",this.$fault="client",Object.setPrototypeOf(this,IK.prototype)}};_(bK,"KmsOptInRequired");var RK=bK,wK=class PK extends ge{constructor(e){super({name:"KmsThrottled",$fault:"client",...e}),this.name="KmsThrottled",this.$fault="client",Object.setPrototypeOf(this,PK.prototype)}};_(wK,"KmsThrottled");var OK=wK,fwe={AWSTraceHeader:"AWSTraceHeader",All:"All",ApproximateFirstReceiveTimestamp:"ApproximateFirstReceiveTimestamp",ApproximateReceiveCount:"ApproximateReceiveCount",DeadLetterQueueSourceArn:"DeadLetterQueueSourceArn",MessageDeduplicationId:"MessageDeduplicationId",MessageGroupId:"MessageGroupId",SenderId:"SenderId",SentTimestamp:"SentTimestamp",SequenceNumber:"SequenceNumber"},xK=class NK extends ge{constructor(e){super({name:"InvalidMessageContents",$fault:"client",...e}),this.name="InvalidMessageContents",this.$fault="client",Object.setPrototypeOf(this,NK.prototype)}};_(xK,"InvalidMessageContents");var DK=xK,gwe={AWSTraceHeader:"AWSTraceHeader"},kK=class MK extends ge{constructor(e){super({name:"BatchRequestTooLong",$fault:"client",...e}),this.name="BatchRequestTooLong",this.$fault="client",Object.setPrototypeOf(this,MK.prototype)}};_(kK,"BatchRequestTooLong");var LK=kK,ywe=_(async(t,e)=>{let r=Le("AddPermission"),n;return n=JSON.stringify(F0e(t,e)),ze(e,r,"/",void 0,n)},"se_AddPermissionCommand"),_we=_(async(t,e)=>{let r=Le("CancelMessageMoveTask"),n;return n=JSON.stringify(q0e(t,e)),ze(e,r,"/",void 0,n)},"se_CancelMessageMoveTaskCommand"),vwe=_(async(t,e)=>{let r=Le("ChangeMessageVisibility"),n;return n=JSON.stringify($0e(t,e)),ze(e,r,"/",void 0,n)},"se_ChangeMessageVisibilityCommand"),Ewe=_(async(t,e)=>{let r=Le("ChangeMessageVisibilityBatch"),n;return n=JSON.stringify(H0e(t,e)),ze(e,r,"/",void 0,n)},"se_ChangeMessageVisibilityBatchCommand"),Cwe=_(async(t,e)=>{let r=Le("CreateQueue"),n;return n=JSON.stringify(z0e(t,e)),ze(e,r,"/",void 0,n)},"se_CreateQueueCommand"),Swe=_(async(t,e)=>{let r=Le("DeleteMessage"),n;return n=JSON.stringify(Q0e(t,e)),ze(e,r,"/",void 0,n)},"se_DeleteMessageCommand"),Twe=_(async(t,e)=>{let r=Le("DeleteMessageBatch"),n;return n=JSON.stringify(V0e(t,e)),ze(e,r,"/",void 0,n)},"se_DeleteMessageBatchCommand"),Awe=_(async(t,e)=>{let r=Le("DeleteQueue"),n;return n=JSON.stringify(Y0e(t,e)),ze(e,r,"/",void 0,n)},"se_DeleteQueueCommand"),bwe=_(async(t,e)=>{let r=Le("GetQueueAttributes"),n;return n=JSON.stringify(J0e(t,e)),ze(e,r,"/",void 0,n)},"se_GetQueueAttributesCommand"),Iwe=_(async(t,e)=>{let r=Le("GetQueueUrl"),n;return n=JSON.stringify(X0e(t,e)),ze(e,r,"/",void 0,n)},"se_GetQueueUrlCommand"),Rwe=_(async(t,e)=>{let r=Le("ListDeadLetterSourceQueues"),n;return n=JSON.stringify(Z0e(t,e)),ze(e,r,"/",void 0,n)},"se_ListDeadLetterSourceQueuesCommand"),wwe=_(async(t,e)=>{let r=Le("ListMessageMoveTasks"),n;return n=JSON.stringify(ePe(t,e)),ze(e,r,"/",void 0,n)},"se_ListMessageMoveTasksCommand"),Pwe=_(async(t,e)=>{let r=Le("ListQueues"),n;return n=JSON.stringify(tPe(t,e)),ze(e,r,"/",void 0,n)},"se_ListQueuesCommand"),Owe=_(async(t,e)=>{let r=Le("ListQueueTags"),n;return n=JSON.stringify(rPe(t,e)),ze(e,r,"/",void 0,n)},"se_ListQueueTagsCommand"),xwe=_(async(t,e)=>{let r=Le("PurgeQueue"),n;return n=JSON.stringify(aPe(t,e)),ze(e,r,"/",void 0,n)},"se_PurgeQueueCommand"),Nwe=_(async(t,e)=>{let r=Le("ReceiveMessage"),n;return n=JSON.stringify(cPe(t,e)),ze(e,r,"/",void 0,n)},"se_ReceiveMessageCommand"),Dwe=_(async(t,e)=>{let r=Le("RemovePermission"),n;return n=JSON.stringify(dPe(t,e)),ze(e,r,"/",void 0,n)},"se_RemovePermissionCommand"),kwe=_(async(t,e)=>{let r=Le("SendMessage"),n;return n=JSON.stringify(mPe(t,e)),ze(e,r,"/",void 0,n)},"se_SendMessageCommand"),Mwe=_(async(t,e)=>{let r=Le("SendMessageBatch"),n;return n=JSON.stringify(lPe(t,e)),ze(e,r,"/",void 0,n)},"se_SendMessageBatchCommand"),Lwe=_(async(t,e)=>{let r=Le("SetQueueAttributes"),n;return n=JSON.stringify(hPe(t,e)),ze(e,r,"/",void 0,n)},"se_SetQueueAttributesCommand"),Uwe=_(async(t,e)=>{let r=Le("StartMessageMoveTask"),n;return n=JSON.stringify(fPe(t,e)),ze(e,r,"/",void 0,n)},"se_StartMessageMoveTaskCommand"),Fwe=_(async(t,e)=>{let r=Le("TagQueue"),n;return n=JSON.stringify(yPe(t,e)),ze(e,r,"/",void 0,n)},"se_TagQueueCommand"),Bwe=_(async(t,e)=>{let r=Le("UntagQueue"),n;return n=JSON.stringify(_Pe(t,e)),ze(e,r,"/",void 0,n)},"se_UntagQueueCommand"),qwe=_(async(t,e)=>t.statusCode>=300?$e(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:W(t)}),"de_AddPermissionCommand"),Hwe=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_CancelMessageMoveTaskCommand"),jwe=_(async(t,e)=>t.statusCode>=300?$e(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:W(t)}),"de_ChangeMessageVisibilityCommand"),Gwe=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_ChangeMessageVisibilityBatchCommand"),$we=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_CreateQueueCommand"),zwe=_(async(t,e)=>t.statusCode>=300?$e(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:W(t)}),"de_DeleteMessageCommand"),Vwe=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_DeleteMessageBatchCommand"),Kwe=_(async(t,e)=>t.statusCode>=300?$e(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:W(t)}),"de_DeleteQueueCommand"),Wwe=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_GetQueueAttributesCommand"),Qwe=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_GetQueueUrlCommand"),Ywe=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_ListDeadLetterSourceQueuesCommand"),Jwe=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_ListMessageMoveTasksCommand"),Xwe=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_ListQueuesCommand"),Zwe=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_ListQueueTagsCommand"),e0e=_(async(t,e)=>t.statusCode>=300?$e(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:W(t)}),"de_PurgeQueueCommand"),t0e=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=APe(r,e),{$metadata:W(t),...n}},"de_ReceiveMessageCommand"),r0e=_(async(t,e)=>t.statusCode>=300?$e(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:W(t)}),"de_RemovePermissionCommand"),n0e=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_SendMessageCommand"),o0e=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_SendMessageBatchCommand"),i0e=_(async(t,e)=>t.statusCode>=300?$e(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:W(t)}),"de_SetQueueAttributesCommand"),s0e=_(async(t,e)=>{if(t.statusCode>=300)return $e(t,e);let r=await(0,O.parseJsonBody)(t.body,e),n={};return n=(0,T._json)(r),{$metadata:W(t),...n}},"de_StartMessageMoveTaskCommand"),a0e=_(async(t,e)=>t.statusCode>=300?$e(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:W(t)}),"de_TagQueueCommand"),c0e=_(async(t,e)=>t.statusCode>=300?$e(t,e):(await(0,T.collectBody)(t.body,e),{$metadata:W(t)}),"de_UntagQueueCommand"),$e=_(async(t,e)=>{let r={...t,body:await(0,O.parseJsonErrorBody)(t.body,e)};IPe(r,t.headers);let n=(0,O.loadRestJsonErrorCode)(t,r.body);switch(n){case"InvalidAddress":case"com.amazonaws.sqs#InvalidAddress":throw await p0e(r,e);case"InvalidSecurity":case"com.amazonaws.sqs#InvalidSecurity":throw await _0e(r,e);case"OverLimit":case"com.amazonaws.sqs#OverLimit":throw await R0e(r,e);case"QueueDoesNotExist":case"com.amazonaws.sqs#QueueDoesNotExist":throw await O0e(r,e);case"RequestThrottled":case"com.amazonaws.sqs#RequestThrottled":throw await D0e(r,e);case"UnsupportedOperation":case"com.amazonaws.sqs#UnsupportedOperation":throw await L0e(r,e);case"ResourceNotFoundException":case"com.amazonaws.sqs#ResourceNotFoundException":throw await k0e(r,e);case"MessageNotInflight":case"com.amazonaws.sqs#MessageNotInflight":throw await I0e(r,e);case"ReceiptHandleIsInvalid":case"com.amazonaws.sqs#ReceiptHandleIsInvalid":throw await N0e(r,e);case"BatchEntryIdsNotDistinct":case"com.amazonaws.sqs#BatchEntryIdsNotDistinct":throw await d0e(r,e);case"EmptyBatchRequest":case"com.amazonaws.sqs#EmptyBatchRequest":throw await u0e(r,e);case"InvalidBatchEntryId":case"com.amazonaws.sqs#InvalidBatchEntryId":throw await f0e(r,e);case"TooManyEntriesInBatchRequest":case"com.amazonaws.sqs#TooManyEntriesInBatchRequest":throw await M0e(r,e);case"InvalidAttributeName":case"com.amazonaws.sqs#InvalidAttributeName":throw await m0e(r,e);case"InvalidAttributeValue":case"com.amazonaws.sqs#InvalidAttributeValue":throw await h0e(r,e);case"QueueDeletedRecently":case"com.amazonaws.sqs#QueueDeletedRecently":throw await P0e(r,e);case"QueueNameExists":case"com.amazonaws.sqs#QueueNameExists":throw await x0e(r,e);case"InvalidIdFormat":case"com.amazonaws.sqs#InvalidIdFormat":throw await g0e(r,e);case"PurgeQueueInProgress":case"com.amazonaws.sqs#PurgeQueueInProgress":throw await w0e(r,e);case"KmsAccessDenied":case"com.amazonaws.sqs#KmsAccessDenied":throw await v0e(r,e);case"KmsDisabled":case"com.amazonaws.sqs#KmsDisabled":throw await E0e(r,e);case"KmsInvalidKeyUsage":case"com.amazonaws.sqs#KmsInvalidKeyUsage":throw await C0e(r,e);case"KmsInvalidState":case"com.amazonaws.sqs#KmsInvalidState":throw await S0e(r,e);case"KmsNotFound":case"com.amazonaws.sqs#KmsNotFound":throw await T0e(r,e);case"KmsOptInRequired":case"com.amazonaws.sqs#KmsOptInRequired":throw await A0e(r,e);case"KmsThrottled":case"com.amazonaws.sqs#KmsThrottled":throw await b0e(r,e);case"InvalidMessageContents":case"com.amazonaws.sqs#InvalidMessageContents":throw await y0e(r,e);case"BatchRequestTooLong":case"com.amazonaws.sqs#BatchRequestTooLong":throw await l0e(r,e);default:let o=r.body;return bPe({output:t,parsedBody:o,errorCode:n})}},"de_CommandError"),d0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new L3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_BatchEntryIdsNotDistinctRes"),l0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new LK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_BatchRequestTooLongRes"),u0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new B3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_EmptyBatchRequestRes"),p0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new d3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidAddressRes"),m0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new W3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidAttributeNameRes"),h0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new J3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidAttributeValueRes"),f0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new j3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidBatchEntryIdRes"),g0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new sK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidIdFormatRes"),y0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new DK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidMessageContentsRes"),_0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new p3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_InvalidSecurityRes"),v0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new pK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsAccessDeniedRes"),E0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new fK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsDisabledRes"),C0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new _K({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsInvalidKeyUsageRes"),S0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new CK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsInvalidStateRes"),T0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new AK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsNotFoundRes"),A0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new RK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsOptInRequiredRes"),b0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new OK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_KmsThrottledRes"),I0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new O3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_MessageNotInflightRes"),R0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new f3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_OverLimitRes"),w0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new dK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_PurgeQueueInProgressRes"),P0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new eK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_QueueDeletedRecentlyRes"),O0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new _3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_QueueDoesNotExistRes"),x0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new nK({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_QueueNameExistsRes"),N0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new D3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_ReceiptHandleIsInvalidRes"),D0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new C3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_RequestThrottledRes"),k0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new R3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),M0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new z3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_TooManyEntriesInBatchRequestRes"),L0e=_(async(t,e)=>{let r=t.body,n=(0,T._json)(r),o=new A3({$metadata:W(t),...n});return(0,T.decorateServiceException)(o,r)},"de_UnsupportedOperationRes"),U0e=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_ActionNameList"),F0e=_((t,e)=>(0,T.take)(t,{AWSAccountIds:r=>B0e(r,e),Actions:r=>U0e(r,e),Label:O._toStr,QueueUrl:O._toStr}),"se_AddPermissionRequest"),UK=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_AttributeNameList"),B0e=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_AWSAccountIdList"),FK=_((t,e)=>t.filter(r=>r!=null).map(r=>e.base64Encoder(r)),"se_BinaryList"),q0e=_((t,e)=>(0,T.take)(t,{TaskHandle:O._toStr}),"se_CancelMessageMoveTaskRequest"),H0e=_((t,e)=>(0,T.take)(t,{Entries:r=>G0e(r,e),QueueUrl:O._toStr}),"se_ChangeMessageVisibilityBatchRequest"),j0e=_((t,e)=>(0,T.take)(t,{Id:O._toStr,ReceiptHandle:O._toStr,VisibilityTimeout:O._toNum}),"se_ChangeMessageVisibilityBatchRequestEntry"),G0e=_((t,e)=>t.filter(r=>r!=null).map(r=>j0e(r,e)),"se_ChangeMessageVisibilityBatchRequestEntryList"),$0e=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr,ReceiptHandle:O._toStr,VisibilityTimeout:O._toNum}),"se_ChangeMessageVisibilityRequest"),z0e=_((t,e)=>(0,T.take)(t,{Attributes:r=>HK(r,e),QueueName:O._toStr,tags:r=>GK(r,e)}),"se_CreateQueueRequest"),V0e=_((t,e)=>(0,T.take)(t,{Entries:r=>W0e(r,e),QueueUrl:O._toStr}),"se_DeleteMessageBatchRequest"),K0e=_((t,e)=>(0,T.take)(t,{Id:O._toStr,ReceiptHandle:O._toStr}),"se_DeleteMessageBatchRequestEntry"),W0e=_((t,e)=>t.filter(r=>r!=null).map(r=>K0e(r,e)),"se_DeleteMessageBatchRequestEntryList"),Q0e=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr,ReceiptHandle:O._toStr}),"se_DeleteMessageRequest"),Y0e=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr}),"se_DeleteQueueRequest"),J0e=_((t,e)=>(0,T.take)(t,{AttributeNames:r=>UK(r,e),QueueUrl:O._toStr}),"se_GetQueueAttributesRequest"),X0e=_((t,e)=>(0,T.take)(t,{QueueName:O._toStr,QueueOwnerAWSAccountId:O._toStr}),"se_GetQueueUrlRequest"),Z0e=_((t,e)=>(0,T.take)(t,{MaxResults:O._toNum,NextToken:O._toStr,QueueUrl:O._toStr}),"se_ListDeadLetterSourceQueuesRequest"),ePe=_((t,e)=>(0,T.take)(t,{MaxResults:O._toNum,SourceArn:O._toStr}),"se_ListMessageMoveTasksRequest"),tPe=_((t,e)=>(0,T.take)(t,{MaxResults:O._toNum,NextToken:O._toStr,QueueNamePrefix:O._toStr}),"se_ListQueuesRequest"),rPe=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr}),"se_ListQueueTagsRequest"),nPe=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_MessageAttributeNameList"),oPe=_((t,e)=>(0,T.take)(t,{BinaryListValues:r=>FK(r,e),BinaryValue:e.base64Encoder,DataType:O._toStr,StringListValues:r=>jK(r,e),StringValue:O._toStr}),"se_MessageAttributeValue"),BK=_((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=oPe(o,e)),r),{}),"se_MessageBodyAttributeMap"),qK=_((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=sPe(o,e)),r),{}),"se_MessageBodySystemAttributeMap"),iPe=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_MessageSystemAttributeList"),sPe=_((t,e)=>(0,T.take)(t,{BinaryListValues:r=>FK(r,e),BinaryValue:e.base64Encoder,DataType:O._toStr,StringListValues:r=>jK(r,e),StringValue:O._toStr}),"se_MessageSystemAttributeValue"),aPe=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr}),"se_PurgeQueueRequest"),HK=_((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=(0,O._toStr)(o)),r),{}),"se_QueueAttributeMap"),cPe=_((t,e)=>(0,T.take)(t,{AttributeNames:r=>UK(r,e),MaxNumberOfMessages:O._toNum,MessageAttributeNames:r=>nPe(r,e),MessageSystemAttributeNames:r=>iPe(r,e),QueueUrl:O._toStr,ReceiveRequestAttemptId:O._toStr,VisibilityTimeout:O._toNum,WaitTimeSeconds:O._toNum}),"se_ReceiveMessageRequest"),dPe=_((t,e)=>(0,T.take)(t,{Label:O._toStr,QueueUrl:O._toStr}),"se_RemovePermissionRequest"),lPe=_((t,e)=>(0,T.take)(t,{Entries:r=>pPe(r,e),QueueUrl:O._toStr}),"se_SendMessageBatchRequest"),uPe=_((t,e)=>(0,T.take)(t,{DelaySeconds:O._toNum,Id:O._toStr,MessageAttributes:r=>BK(r,e),MessageBody:O._toStr,MessageDeduplicationId:O._toStr,MessageGroupId:O._toStr,MessageSystemAttributes:r=>qK(r,e)}),"se_SendMessageBatchRequestEntry"),pPe=_((t,e)=>t.filter(r=>r!=null).map(r=>uPe(r,e)),"se_SendMessageBatchRequestEntryList"),mPe=_((t,e)=>(0,T.take)(t,{DelaySeconds:O._toNum,MessageAttributes:r=>BK(r,e),MessageBody:O._toStr,MessageDeduplicationId:O._toStr,MessageGroupId:O._toStr,MessageSystemAttributes:r=>qK(r,e),QueueUrl:O._toStr}),"se_SendMessageRequest"),hPe=_((t,e)=>(0,T.take)(t,{Attributes:r=>HK(r,e),QueueUrl:O._toStr}),"se_SetQueueAttributesRequest"),fPe=_((t,e)=>(0,T.take)(t,{DestinationArn:O._toStr,MaxNumberOfMessagesPerSecond:O._toNum,SourceArn:O._toStr}),"se_StartMessageMoveTaskRequest"),jK=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_StringList"),gPe=_((t,e)=>t.filter(r=>r!=null).map(r=>(0,O._toStr)(r)),"se_TagKeyList"),GK=_((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=(0,O._toStr)(o)),r),{}),"se_TagMap"),yPe=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr,Tags:r=>GK(r,e)}),"se_TagQueueRequest"),_Pe=_((t,e)=>(0,T.take)(t,{QueueUrl:O._toStr,TagKeys:r=>gPe(r,e)}),"se_UntagQueueRequest"),vPe=_((t,e)=>(t||[]).filter(n=>n!=null).map(n=>e.base64Decoder(n)),"de_BinaryList"),EPe=_((t,e)=>(0,T.take)(t,{Attributes:T._json,Body:T.expectString,MD5OfBody:T.expectString,MD5OfMessageAttributes:T.expectString,MessageAttributes:r=>SPe(r,e),MessageId:T.expectString,ReceiptHandle:T.expectString}),"de_Message"),CPe=_((t,e)=>(0,T.take)(t,{BinaryListValues:r=>vPe(r,e),BinaryValue:e.base64Decoder,DataType:T.expectString,StringListValues:T._json,StringValue:T.expectString}),"de_MessageAttributeValue"),SPe=_((t,e)=>Object.entries(t).reduce((r,[n,o])=>(o===null||(r[n]=CPe(o,e)),r),{}),"de_MessageBodyAttributeMap"),TPe=_((t,e)=>(t||[]).filter(n=>n!=null).map(n=>EPe(n,e)),"de_MessageList"),APe=_((t,e)=>(0,T.take)(t,{Messages:r=>TPe(r,e)}),"de_ReceiveMessageResult"),W=_(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),bPe=(0,T.withBaseException)(ge),ze=_(async(t,e,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await t.endpoint(),d={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new GS.HttpRequest(d)},"buildHttpRpcRequest");function Le(t){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`AmazonSQS.${t}`}}_(Le,"sharedHeaders");var IPe=_((t,e)=>{let r=e["x-amzn-query-error"];if(t.body!==void 0&&r!=null){let n=r.split(";");t.body.Code=n[0],t.body.Type=n[1]}},"populateBodyWithQueryCompatibility"),$K=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","AddPermission",{}).n("SQSClient","AddPermissionCommand").f(void 0,void 0).ser(ywe).de(qwe).build(){};_($K,"AddPermissionCommand");var zK=$K,VK=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","CancelMessageMoveTask",{}).n("SQSClient","CancelMessageMoveTaskCommand").f(void 0,void 0).ser(_we).de(Hwe).build(){};_(VK,"CancelMessageMoveTaskCommand");var KK=VK,WK=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibilityBatch",{}).n("SQSClient","ChangeMessageVisibilityBatchCommand").f(void 0,void 0).ser(Ewe).de(Gwe).build(){};_(WK,"ChangeMessageVisibilityBatchCommand");var QK=WK,YK=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ChangeMessageVisibility",{}).n("SQSClient","ChangeMessageVisibilityCommand").f(void 0,void 0).ser(vwe).de(jwe).build(){};_(YK,"ChangeMessageVisibilityCommand");var JK=YK,XK=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","CreateQueue",{}).n("SQSClient","CreateQueueCommand").f(void 0,void 0).ser(Cwe).de($we).build(){};_(XK,"CreateQueueCommand");var ZK=XK,eW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessageBatch",{}).n("SQSClient","DeleteMessageBatchCommand").f(void 0,void 0).ser(Twe).de(Vwe).build(){};_(eW,"DeleteMessageBatchCommand");var tW=eW,rW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteMessage",{}).n("SQSClient","DeleteMessageCommand").f(void 0,void 0).ser(Swe).de(zwe).build(){};_(rW,"DeleteMessageCommand");var nW=rW,oW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","DeleteQueue",{}).n("SQSClient","DeleteQueueCommand").f(void 0,void 0).ser(Awe).de(Kwe).build(){};_(oW,"DeleteQueueCommand");var iW=oW,sW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueAttributes",{}).n("SQSClient","GetQueueAttributesCommand").f(void 0,void 0).ser(bwe).de(Wwe).build(){};_(sW,"GetQueueAttributesCommand");var aW=sW,cW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","GetQueueUrl",{}).n("SQSClient","GetQueueUrlCommand").f(void 0,void 0).ser(Iwe).de(Qwe).build(){};_(cW,"GetQueueUrlCommand");var dW=cW,lW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListDeadLetterSourceQueues",{}).n("SQSClient","ListDeadLetterSourceQueuesCommand").f(void 0,void 0).ser(Rwe).de(Ywe).build(){};_(lW,"ListDeadLetterSourceQueuesCommand");var $S=lW,uW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListMessageMoveTasks",{}).n("SQSClient","ListMessageMoveTasksCommand").f(void 0,void 0).ser(wwe).de(Jwe).build(){};_(uW,"ListMessageMoveTasksCommand");var pW=uW,mW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueues",{}).n("SQSClient","ListQueuesCommand").f(void 0,void 0).ser(Pwe).de(Xwe).build(){};_(mW,"ListQueuesCommand");var zS=mW,hW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","ListQueueTags",{}).n("SQSClient","ListQueueTagsCommand").f(void 0,void 0).ser(Owe).de(Zwe).build(){};_(hW,"ListQueueTagsCommand");var fW=hW,gW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","PurgeQueue",{}).n("SQSClient","PurgeQueueCommand").f(void 0,void 0).ser(xwe).de(e0e).build(){};_(gW,"PurgeQueueCommand");var yW=gW,_W=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions()),(0,El.getReceiveMessagePlugin)(n)]}).s("AmazonSQS","ReceiveMessage",{}).n("SQSClient","ReceiveMessageCommand").f(void 0,void 0).ser(Nwe).de(t0e).build(){};_(_W,"ReceiveMessageCommand");var vW=_W,EW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","RemovePermission",{}).n("SQSClient","RemovePermissionCommand").f(void 0,void 0).ser(Dwe).de(r0e).build(){};_(EW,"RemovePermissionCommand");var CW=EW,SW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions()),(0,El.getSendMessageBatchPlugin)(n)]}).s("AmazonSQS","SendMessageBatch",{}).n("SQSClient","SendMessageBatchCommand").f(void 0,void 0).ser(Mwe).de(o0e).build(){};_(SW,"SendMessageBatchCommand");var TW=SW,AW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions()),(0,El.getSendMessagePlugin)(n)]}).s("AmazonSQS","SendMessage",{}).n("SQSClient","SendMessageCommand").f(void 0,void 0).ser(kwe).de(n0e).build(){};_(AW,"SendMessageCommand");var bW=AW,IW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","SetQueueAttributes",{}).n("SQSClient","SetQueueAttributesCommand").f(void 0,void 0).ser(Lwe).de(i0e).build(){};_(IW,"SetQueueAttributesCommand");var RW=IW,wW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","StartMessageMoveTask",{}).n("SQSClient","StartMessageMoveTaskCommand").f(void 0,void 0).ser(Uwe).de(s0e).build(){};_(wW,"StartMessageMoveTaskCommand");var PW=wW,OW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","TagQueue",{}).n("SQSClient","TagQueueCommand").f(void 0,void 0).ser(Fwe).de(a0e).build(){};_(OW,"TagQueueCommand");var xW=OW,NW=class extends T.Command.classBuilder().ep({...je}).m(function(e,r,n,o){return[(0,Ge.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Me.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AmazonSQS","UntagQueue",{}).n("SQSClient","UntagQueueCommand").f(void 0,void 0).ser(Bwe).de(c0e).build(){};_(NW,"UntagQueueCommand");var DW=NW,RPe={AddPermissionCommand:zK,CancelMessageMoveTaskCommand:KK,ChangeMessageVisibilityCommand:JK,ChangeMessageVisibilityBatchCommand:QK,CreateQueueCommand:ZK,DeleteMessageCommand:nW,DeleteMessageBatchCommand:tW,DeleteQueueCommand:iW,GetQueueAttributesCommand:aW,GetQueueUrlCommand:dW,ListDeadLetterSourceQueuesCommand:$S,ListMessageMoveTasksCommand:pW,ListQueuesCommand:zS,ListQueueTagsCommand:fW,PurgeQueueCommand:yW,ReceiveMessageCommand:vW,RemovePermissionCommand:CW,SendMessageCommand:bW,SendMessageBatchCommand:TW,SetQueueAttributesCommand:RW,StartMessageMoveTaskCommand:PW,TagQueueCommand:xW,UntagQueueCommand:DW},kW=class extends lg{};_(kW,"SQS");var MW=kW;(0,T.createAggregatedClient)(RPe,MW);var wPe=(0,vl.createPaginator)(lg,$S,"NextToken","NextToken","MaxResults"),PPe=(0,vl.createPaginator)(lg,zS,"NextToken","NextToken","MaxResults")});var qW=g((Wze,BW)=>{var{SQSClient:OPe,SendMessageCommand:xPe,GetQueueUrlCommand:NPe}=UW(),DPe=process.env.REGION,FW=new OPe({region:DPe}),kPe=async(t,e)=>{try{let n={QueueUrl:await MPe(t),MessageBody:JSON.stringify(e)};await FW.send(new xPe(n))}catch(r){throw new Error("Failed to send message to SQS",r)}},MPe=async t=>{let e={QueueName:t};try{let r=new NPe(e);return(await FW.send(r)).QueueUrl}catch(r){throw new Error("Failed to get queue URL",r)}};BW.exports={sendSqsService:kPe}});var zW=g((Qze,$W)=>{var{ConfidentialClientApplication:LPe}=(dw(),M(cw)),{Client:UPe}=v0(),HW=C0(),{putNewItem:jW,getItemPrimay:FPe}=gV(),{sendSqsService:BPe}=qW(),VS=process.env.EMAIL_TABLE_NAME,qPe=process.env.SQS_QUEUE_NAME,HPe=process.env.MICROSOFT_CLIENT_ID,jPe=process.env.MICROSOFT_SECRET_ID_VALUE,GW=process.env.MICROSOFT_REDIRECT_URL,KS=["User.Read","Mail.Read","openid","profile","offline_access"],as=new LPe({auth:{clientId:HPe,authority:"https://login.microsoftonline.com/common",clientSecret:jPe}}),GPe=async()=>{try{return await as.getAuthCodeUrl({scopes:KS,redirectUri:GW})}catch(t){throw new Error(`Error generating authentication URL: ${t.message}`)}},$Pe=async t=>{let e={code:t,scopes:KS,redirectUri:GW};try{let r=await as.acquireTokenByCode(e),n=as.getTokenCache().serialize(),o={emailUser:r.account.username,access_token:r.accessToken,refresh_token,expiry_date:r.expiresOn,token_cache:n},i=new HW(o);await jW(VS,i)}catch{throw new Error("Failed to exchange authorization code for tokens.")}},zPe=async t=>{try{let e=await VPe(t);if(e==null)throw new Error("Failed to get credential user.");let r=await WPe(e,t),n=await KPe(r),o=new Date,i=new Date(o.getTime()-24*60*60*1e3).toISOString(),a=(await n.api("/me/mailFolders/inbox/messages").select("id").filter(`receivedDateTime ge ${i}`).orderby("receivedDateTime DESC").get()).value.map(c=>c.id);return await BPe(qPe,a),a}catch(e){throw console.error("Eroor",e),new Error("Failed to list emails.",e)}},VPe=async t=>{try{return await FPe(VS,"TOKEN",`MAIL#${t}`)}catch(e){throw new Error(`Error retrieving client token: ${e.message}`)}},KPe=async t=>UPe.init({authProvider:e=>{e(null,t)}}),WPe=async(t,e)=>{let{access_token:r,expiry_date:n,token_cache:o}=t,i=new Date().getTime();if(o&&await as.getTokenCache().deserialize(o),i>=n){let a={account:(await as.getTokenCache().getAllAccounts()).find(c=>c.username===e),scopes:KS};try{let c=await as.acquireTokenSilent(a),d=as.getTokenCache().serialize(),u={emailUser:c.account.username,access_token:c.accessToken,expiry_date:c.expiresOn,token_cache:d,token_refresh:!0},m=new HW(u);return await jW(VS,m),r=c.accessToken,r}catch(c){throw new Error(`Failed to refresh token: ${c.message}`)}}else return r};$W.exports={authUrlEmailService:GPe,changeCodeByTokenService:$Pe,syncroniceEmailsService:zPe}});var VW=(XS(),M(JS)),{authUrlEmailService:QPe}=zW(),YPe=async t=>{try{let e=await QPe();return VW.ok({authUrl:e})}catch{return VW.serverError()}};module.exports={handler:YPe};
/*! Bundled license information:

@azure/msal-node/dist/cache/serializer/Serializer.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-common/dist/utils/Constants.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/AuthErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/AuthError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientAuthError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/AuthToken.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityType.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ClientConfigurationError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/StringUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/UrlUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/url/UrlString.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityMetadata.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/ProtocolMode.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityOptions.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/FunctionWrappers.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/RegionDiscovery.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/TimeUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/utils/CacheHelpers.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/Authority.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/authority/AuthorityFactory.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/ClientAssertionUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/constants/AADServerParamKeys.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/crypto/ICrypto.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/logger/Logger.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/packageMetadata.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/request/ScopeSet.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/ClientInfo.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/AccountInfo.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/TokenClaims.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/entities/AccountEntity.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/CacheErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/CacheError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/CacheManager.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/config/ClientConfiguration.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/ServerError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/network/ThrottlingUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/network/NetworkManager.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/account/CcsCredential.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/request/RequestValidator.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/request/RequestParameterBuilder.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/BaseClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/utils/ProtocolUtils.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/crypto/PopTokenGenerator.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/response/ResponseHandler.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/AuthorizationCodeClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/RefreshTokenClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/client/SilentFlowClient.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-common/dist/index.mjs:
  (*! @azure/msal-common v14.14.2 2024-08-28 *)

@azure/msal-node/dist/cache/serializer/Deserializer.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/internals.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/utils/Constants.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/utils/NetworkUtils.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/network/HttpClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/error/ManagedIdentityErrorCodes.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/error/ManagedIdentityError.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/config/ManagedIdentityId.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/retry/LinearRetryPolicy.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/network/HttpClientWithRetries.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/error/NodeAuthError.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/config/Configuration.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/GuidGenerator.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/utils/EncodingUtils.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/HashUtils.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/PkceGenerator.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/crypto/CryptoProvider.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/cache/NodeStorage.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/cache/TokenCache.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@azure/msal-node/dist/client/ClientAssertion.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/packageMetadata.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/UsernamePasswordClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ClientApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/network/LoopbackClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/DeviceCodeClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/PublicClientApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ClientCredentialClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/OnBehalfOfClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ConfidentialClientApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/BaseManagedIdentitySource.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/config/ManagedIdentityRequestParameters.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/AppService.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/AzureArc.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/CloudShell.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/Imds.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentitySources/ServiceFabric.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentityClient.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/client/ManagedIdentityApplication.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/cache/distributed/DistributedCachePlugin.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)

@azure/msal-node/dist/index.mjs:
  (*! @azure/msal-node v2.13.1 2024-08-29 *)
*/
